import{s as styled,_ as _extends,l as useThemeProps,m as _objectWithoutPropertiesLoose,n as ListContext,j as jsxRuntimeExports,o as clsx,q as composeClasses,r as getListItemIconUtilityClass,t as d,v as useDappContext,w as useQuery,x as queryKey,y as useDraftTx,u as useNavigate,T as TX_CONFIRM,g as useTranslation,z as Snackbar,A as Alert,D as Menu,E as Divider,G as MenuItem,J as IdentificationIcon,K as MuiButton,N as CircularProgress,f as Skeleton,O as arrayOfNumbers,P as DAPPS,c as cn,Q as SvgArrowBack,R as SvgClose,L as Layout,U as AriesMarketIcon,V as Tabs,W as Tab,X as TabPanel,Y as InputNumber,Z as SliderImpl,$ as shortAddress,a0 as SvgCopy,a1 as SvgCheck,a2 as SvgChevronDown,a3 as useParams,a4 as Routes,a5 as Route}from"./index.html.js";import{eo as reactExports,gT as Decimal,aT as lodashExports,i8 as pbkdf2,i9 as sha512,hI as sha3_256,ia as bytesToHex,ib as hexToBytes,gk as nacl2,gb as sha256,ic as hmac,id as aptosClient,ga as BN,fA as sha3Exports,bw as axios,gY as DEFAULT_GAS,gZ as DEFAULT_GAS_PRICE,gN as React99}from"./index2.js";import{a as buffer,c as commonjsGlobal,j as getDefaultExportFromCjs,p as process}from"./index.js";import{A as AptosClient$1}from"./index3.js";const _excluded=["className"],useUtilityClasses=i=>{const{alignItems:n,classes:r}=i;return composeClasses({root:["root",n==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,r)},ListItemIconRoot=styled("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:r}=i;return[n.root,r.alignItems==="flex-start"&&n.alignItemsFlexStart]}})(({theme:i,ownerState:n})=>_extends({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex"},n.alignItems==="flex-start"&&{marginTop:8})),ListItemIcon=reactExports.forwardRef(function(n,r){const t=useThemeProps({props:n,name:"MuiListItemIcon"}),{className:e}=t,o=_objectWithoutPropertiesLoose(t,_excluded),s=reactExports.useContext(ListContext),a=_extends({},t,{alignItems:s.alignItems}),l=useUtilityClasses(a);return jsxRuntimeExports.jsx(ListItemIconRoot,_extends({className:clsx(l.root,e),ownerState:a,ref:r},o))}),ListItemIcon$1=ListItemIcon,ConnectIcon=()=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M20.053 16c-1.473 2.961-4.521 5-8.053 5-3.532 0-6.58-2.039-8.053-5M20.053 8C18.58 5.039 15.532 3 12 3 8.468 3 5.42 5.039 3.947 8M10 12H3M8 10l2 2-2 2M14 12h7M16 14l-2-2 2-2",stroke:"#D4C4ED",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),CheckIcon=()=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"m18 8-8 9-4-5",stroke:"#D4C4ED",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),BASE_API_URL="https://api-v2.ariesmarkets.xyz",GAP_UNIT=100,MAX_GAS_AMOUNT=5e4,MAX_GAS_PER_TX=GAP_UNIT*MAX_GAS_AMOUNT,ARIES_PROGRAM_ADDRESS="0x9770fa9c725cbd97eb50b2be5f7416efdfd1f1554beb0750d4dae4c64e860da3",DAPPS_ARIES="/dapps/aries",DAPPS_ARIES_ACCOUNT="/dapps/aries/account",DAPPS_ARIES_RESERVE="/dapps/aries/reserve",sectionHeader="_sectionHeader_1pab8_12",assetItem="_assetItem_1pab8_27",assetAmount="_assetAmount_1pab8_40",styles$7={sectionHeader,assetItem,assetAmount},profile="_profile_f5yqt_12",styles$6={profile},formatPercentage=i=>{const n=d(i);return n.abs().lt(1e3)?`${n.toFixed(2)}%`:`${n.div(100).toFixed(2)}x`},U128_MAX=d(2).pow(128).minus(1),getMax=(...i)=>{let n=d(U128_MAX.mul(-1));return i.forEach(r=>{r.gt(n)&&(n=r)}),n},getMin=(...i)=>{let n=d(U128_MAX);return i.forEach(r=>{r.lt(n)&&(n=r)}),n},bigMin=(i,n)=>i.lt(n)?i:n,extractCoinAddress=i=>i.slice(i.indexOf("<")+1,i.lastIndexOf(">"))??"",isDecimal=i=>Decimal.isDecimal(i),getProvider=()=>({sendTx:async({program:n,module:r,args:t,typeArgs:e,functionName:o})=>({success:!1,txId:"",payload:{type:"entry_function_payload",function:`${n}::${r}::${o}`,type_arguments:e,arguments:t.map(({value:a,moveType:l})=>argToString(a,l))},message:"",rawTx:""})}),argToString=(i,n)=>lodashExports.isNumber(i)?i:isDecimal(i)?i.round().toString():lodashExports.isString(i)||lodashExports.isBoolean(i)||lodashExports.isPlainObject(i)?i:n==="vector"?i.map(r=>argToString(r,"")):i;Decimal.set({toExpPos:50});Decimal.set({toExpNeg:-50});const createAptosSDK=({program:i,idlJSON:n,provider:r})=>{const t={},e=(o,s)=>(a,l)=>{const c=[],u=[];if(s.args.length===0){const p=a;s.typeArgs.forEach(({name:h})=>{u.push(p[h])})}else s.args.forEach(({name:p,moveType:h})=>{!lodashExports.isNil(a==null?void 0:a[p])&&c.push({value:a[p],moveType:h})}),s.typeArgs.forEach(({name:p})=>{!lodashExports.isNil(l==null?void 0:l[p])&&u.push(l[p])});const f={program:i,module:o,functionName:s.name,args:c,typeArgs:u};return{execute:()=>r.sendTx(f)}};return n.modules.forEach(({name:o,displayName:s,methods:a})=>{const l={},c={};a.forEach(u=>{c[u.displayName]=e(o,u)}),t[s]={...l,...c}}),t},AriesIdl={modules:[{name:"controller",displayName:"controller",methods:[{name:"register_user",displayName:"registerUser",args:[{name:"default_profile_name",jsType:"string",moveType:"vector"}],typeArgs:[]},{name:"deposit",displayName:"deposit",args:[{name:"profile_name",jsType:"string",moveType:"vector"},{name:"amount",jsType:"Big",moveType:"u64"},{name:"repay_only",jsType:"boolean",moveType:"bool"}],typeArgs:[{name:"Coin0"}]},{name:"withdraw",displayName:"withdraw",args:[{name:"profile_name",jsType:"string",moveType:"vector"},{name:"amount",jsType:"Big",moveType:"u64"},{name:"allow_borrow",jsType:"boolean",moveType:"bool"}],typeArgs:[{name:"Coin0"}]}]}]},getAriesSDK$1=(i,n="0x1")=>createAptosSDK({provider:i,program:n,idlJSON:AriesIdl}),getAriesSDKMemo=lodashExports.memoize((i,n)=>getAriesSDK$1(i,n)),getAriesSDK=()=>getAriesSDKMemo(getProvider(),ARIES_PROGRAM_ADDRESS),getLPTokenAddress=i=>`${ARIES_PROGRAM_ADDRESS}::lp::LP<${i}>`,U64_MAX=d(2).pow(64).minus(1),getReservesActions=({coinAddress:i})=>{const n=()=>getAriesSDK().controller;return{deposit:async(s,a)=>await n().deposit({amount:s,profile_name:a.name,repay_only:!1},{Coin0:i}).execute(),withdraw:async(s,a)=>await n().withdraw({amount:s,profile_name:a.name,allow_borrow:!1},{Coin0:i}).execute(),borrow:async(s,a)=>await n().withdraw({amount:s,profile_name:a.name,allow_borrow:!0},{Coin0:i}).execute(),repay:async(s,a,l)=>await n().deposit({amount:l?U64_MAX:s,profile_name:a.name,repay_only:!0},{Coin0:i}).execute()}},useAptosClient=()=>{const{useStore:i}=useDappContext(),n=i("networks.currentNetwork.apiUrl");return reactExports.useMemo(()=>!!n&&new AptosClient$1(n),[n])},emptyProxy=i=>new Proxy(i,{get:(n,r)=>n[r]??{amount:d(0)}}),useBalanceByAddress=i=>{const n=useAptosClient(),{data:r=emptyProxy({}),refetch:t}=useQuery([queryKey.dapps.Aries.BalanceHub,i],async()=>{if(i){const o=(await n.getAccountResources(i)).filter(s=>{var a;return(a=s.type.match(/^0x1::coin::CoinStore<(.+)>$/))==null?void 0:a[1]});return emptyProxy(lodashExports.mapValues(lodashExports.keyBy(o,s=>extractCoinAddress(s.type)),s=>({amount:d(s.data.coin.value)})))}return emptyProxy({})},{refetchInterval:60*1e3,staleTime:1/0,enabled:!!i});return{balanceMap:r,refreshBalance:t}};function nfkd(i){if(typeof i!="string")throw new TypeError(`Invalid mnemonic type: ${typeof i}`);return i.normalize("NFKD")}function normalize(i){const n=nfkd(i),r=n.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:n,words:r}}const salt=i=>nfkd(`mnemonic${i}`);function mnemonicToSeedSync(i,n=""){return pbkdf2(sha512,normalize(i).nfkd,salt(n),{c:2048,dkLen:64})}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__export=(i,n)=>{for(var r in n)__defProp(i,r,{get:n[r],enumerable:!0})},__decorateClass=(i,n,r,t)=>{for(var e=t>1?void 0:t?__getOwnPropDesc(n,r):n,o=i.length-1,s;o>=0;o--)(s=i[o])&&(e=(t?s(n,r,e):s(e))||e);return t&&e&&__defProp(n,r,e),e},pathRegex=/^m(\/[0-9]+')+$/,replaceDerive=i=>i.replace("'",""),HMAC_KEY="ed25519 seed",HARDENED_OFFSET=2147483648,getMasterKeyFromSeed=i=>{const r=hmac.create(sha512,HMAC_KEY).update(hexToBytes(i)).digest(),t=r.slice(0,32),e=r.slice(32);return{key:t,chainCode:e}},CKDPriv=({key:i,chainCode:n},r)=>{const t=new ArrayBuffer(4);new DataView(t).setUint32(0,r);const e=new Uint8Array(t),o=new Uint8Array([0]),s=new Uint8Array([...o,...i,...e]),a=hmac.create(sha512,n).update(s).digest(),l=a.slice(0,32),c=a.slice(32);return{key:l,chainCode:c}},isValidPath=i=>pathRegex.test(i)?!i.split("/").slice(1).map(replaceDerive).some(Number.isNaN):!1,derivePath=(i,n,r=HARDENED_OFFSET)=>{if(!isValidPath(i))throw new Error("Invalid derivation path");const{key:t,chainCode:e}=getMasterKeyFromSeed(n);return i.split("/").slice(1).map(replaceDerive).map(s=>parseInt(s,10)).reduce((s,a)=>CKDPriv(s,a+r),{key:t,chainCode:e})},VERSION="1.21.0";async function sleep(i){return new Promise(n=>{setTimeout(n,i)})}var DEFAULT_VERSION_PATH_BASE="/v1";function fixNodeUrl(i){let n=`${i}`;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),n.endsWith(DEFAULT_VERSION_PATH_BASE)||(n=`${n}${DEFAULT_VERSION_PATH_BASE}`),n}var DEFAULT_MAX_GAS_AMOUNT=2e5,DEFAULT_TXN_EXP_SEC_FROM_NOW=20,DEFAULT_TXN_TIMEOUT_SEC=20,APTOS_COIN="0x1::aptos_coin::AptosCoin";function Memoize(i){let n,r,t;return typeof i=="object"?(n=i.hashFunction,r=i.ttlMs,t=i.tags):n=i,(e,o,s)=>{if(s.value!=null)s.value=getNewFunction(s.value,n,r,t);else if(s.get!=null)s.get=getNewFunction(s.get,n,r,t);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function MemoizeExpiring(i,n){return Memoize({ttlMs:i,hashFunction:n})}var clearCacheTagsMap=new Map;function clear(i){const n=new Set;for(const r of i){const t=clearCacheTagsMap.get(r);if(t)for(const e of t)n.has(e)||(e.clear(),n.add(e))}return n.size}function getNewFunction(i,n,r=0,t){const e=Symbol("__memoized_map__");return function(...o){let s;const a=this;a.hasOwnProperty(e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const l=a[e];if(Array.isArray(t))for(const c of t)clearCacheTagsMap.has(c)?clearCacheTagsMap.get(c).push(l):clearCacheTagsMap.set(c,[l]);if(n||o.length>0||r>0){let c;n===!0?c=o.map(p=>p.toString()).join("!"):n?c=n.apply(a,o):c=o[0];const u=`${c}__timestamp`;let f=!1;if(r>0)if(!l.has(u))f=!0;else{const p=l.get(u);f=Date.now()-p>r}l.has(c)&&!f?s=l.get(c):(s=i.apply(a,o),l.set(c,s),r>0&&l.set(u,Date.now()))}else{const c=a;l.has(c)?s=l.get(c):(s=i.apply(a,o),l.set(c,s))}return s}}var AptosApiError=class extends Error{constructor(i,n,r){super(r),this.name="AptosApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.data=n.data,this.request=i}},errors={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function request(i,n,r,t,e,o){const s={...o==null?void 0:o.HEADERS,"x-aptos-client":`aptos-ts-sdk/${VERSION}`,"content-type":t??"application/json"};return o!=null&&o.TOKEN&&(s.Authorization=`Bearer ${o==null?void 0:o.TOKEN}`),await aptosClient({url:i,method:n,body:r,params:e,headers:s,overrides:o})}async function aptosRequest(i){const{url:n,endpoint:r,method:t,body:e,contentType:o,params:s,overrides:a}=i,l=`${n}/${r??""}`,c=await request(l,t,e,o,s,a),u={status:c.status,statusText:c.statusText,data:c.data,headers:c.headers,config:c.config,url:l};if(u.status>=200&&u.status<300)return u;const f=errors[u.status];throw new AptosApiError(i,u,f??"Generic Error")}async function get(i){return await aptosRequest({...i,method:"GET"})}async function post(i){return await aptosRequest({...i,method:"POST"})}async function paginateWithCursor(i){const n=[];let r;const t=i.params;for(;;){t.start=r;const e=await get({url:i.url,endpoint:i.endpoint,params:t,originMethod:i.originMethod,overrides:i.overrides});if(r=e.headers["x-aptos-cursor"],delete e.headers,n.push(...e.data),r==null)break}return n}var NetworkToIndexerAPI={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},NetworkToNodeAPI={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},HexString=class se{static fromBuffer(n){return se.fromUint8Array(n)}static fromUint8Array(n){return new se(bytesToHex(n))}static ensure(n){return typeof n=="string"?new se(n):n}constructor(n){n.startsWith("0x")?this.hexString=n:this.hexString=`0x${n}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(hexToBytes(this.noPrefix()))}},aptos_types_exports={};__export(aptos_types_exports,{AccountAddress:()=>AccountAddress,AccountAuthenticator:()=>AccountAuthenticator,AccountAuthenticatorEd25519:()=>AccountAuthenticatorEd25519,AccountAuthenticatorMultiEd25519:()=>AccountAuthenticatorMultiEd25519,ArgumentABI:()=>ArgumentABI,AuthenticationKey:()=>AuthenticationKey,ChainId:()=>ChainId,ChangeSet:()=>ChangeSet,Ed25519PublicKey:()=>Ed25519PublicKey,Ed25519Signature:()=>Ed25519Signature,EntryFunction:()=>EntryFunction,EntryFunctionABI:()=>EntryFunctionABI,FeePayerRawTransaction:()=>FeePayerRawTransaction,Identifier:()=>Identifier,Module:()=>Module,ModuleId:()=>ModuleId,MultiAgentRawTransaction:()=>MultiAgentRawTransaction,MultiEd25519PublicKey:()=>MultiEd25519PublicKey,MultiEd25519Signature:()=>MultiEd25519Signature,MultiSig:()=>MultiSig,MultiSigTransactionPayload:()=>MultiSigTransactionPayload,RawTransaction:()=>RawTransaction,RawTransactionWithData:()=>RawTransactionWithData,RotationProofChallenge:()=>RotationProofChallenge,Script:()=>Script,ScriptABI:()=>ScriptABI,SignedTransaction:()=>SignedTransaction,StructTag:()=>StructTag,Transaction:()=>Transaction,TransactionArgument:()=>TransactionArgument,TransactionArgumentAddress:()=>TransactionArgumentAddress,TransactionArgumentBool:()=>TransactionArgumentBool,TransactionArgumentU128:()=>TransactionArgumentU128,TransactionArgumentU16:()=>TransactionArgumentU16,TransactionArgumentU256:()=>TransactionArgumentU256,TransactionArgumentU32:()=>TransactionArgumentU32,TransactionArgumentU64:()=>TransactionArgumentU64,TransactionArgumentU8:()=>TransactionArgumentU8,TransactionArgumentU8Vector:()=>TransactionArgumentU8Vector,TransactionAuthenticator:()=>TransactionAuthenticator,TransactionAuthenticatorEd25519:()=>TransactionAuthenticatorEd25519,TransactionAuthenticatorFeePayer:()=>TransactionAuthenticatorFeePayer,TransactionAuthenticatorMultiAgent:()=>TransactionAuthenticatorMultiAgent,TransactionAuthenticatorMultiEd25519:()=>TransactionAuthenticatorMultiEd25519,TransactionPayload:()=>TransactionPayload,TransactionPayloadEntryFunction:()=>TransactionPayloadEntryFunction,TransactionPayloadMultisig:()=>TransactionPayloadMultisig,TransactionPayloadScript:()=>TransactionPayloadScript,TransactionScriptABI:()=>TransactionScriptABI,TypeArgumentABI:()=>TypeArgumentABI,TypeTag:()=>TypeTag,TypeTagAddress:()=>TypeTagAddress,TypeTagBool:()=>TypeTagBool,TypeTagParser:()=>TypeTagParser,TypeTagParserError:()=>TypeTagParserError,TypeTagSigner:()=>TypeTagSigner,TypeTagStruct:()=>TypeTagStruct,TypeTagU128:()=>TypeTagU128,TypeTagU16:()=>TypeTagU16,TypeTagU256:()=>TypeTagU256,TypeTagU32:()=>TypeTagU32,TypeTagU64:()=>TypeTagU64,TypeTagU8:()=>TypeTagU8,TypeTagVector:()=>TypeTagVector,UserTransaction:()=>UserTransaction,WriteSet:()=>WriteSet,objectStructTag:()=>objectStructTag,optionStructTag:()=>optionStructTag,stringStructTag:()=>stringStructTag});var bcs_exports={};__export(bcs_exports,{Deserializer:()=>Deserializer,Serializer:()=>Serializer,bcsSerializeBool:()=>bcsSerializeBool,bcsSerializeBytes:()=>bcsSerializeBytes,bcsSerializeFixedBytes:()=>bcsSerializeFixedBytes,bcsSerializeStr:()=>bcsSerializeStr,bcsSerializeU128:()=>bcsSerializeU128,bcsSerializeU16:()=>bcsSerializeU16,bcsSerializeU256:()=>bcsSerializeU256,bcsSerializeU32:()=>bcsSerializeU32,bcsSerializeU8:()=>bcsSerializeU8,bcsSerializeUint64:()=>bcsSerializeUint64,bcsToBytes:()=>bcsToBytes,deserializeVector:()=>deserializeVector,serializeVector:()=>serializeVector,serializeVectorWithFunc:()=>serializeVectorWithFunc});var MAX_U8_NUMBER=2**8-1,MAX_U16_NUMBER=2**16-1,MAX_U32_NUMBER=2**32-1,MAX_U64_BIG_INT=BigInt(2**64)-BigInt(1),MAX_U128_BIG_INT=BigInt(2**128)-BigInt(1),MAX_U256_BIG_INT=BigInt(2**256)-BigInt(1),Serializer=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(i){for(;this.buffer.byteLength<this.offset+i;){const n=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n}}serialize(i){this.ensureBufferWillHandleSize(i.length),new Uint8Array(this.buffer,this.offset).set(i),this.offset+=i.length}serializeWithFunction(i,n,r){this.ensureBufferWillHandleSize(n);const t=new DataView(this.buffer,this.offset);i.apply(t,[0,r,!0]),this.offset+=n}serializeStr(i){const n=new TextEncoder;this.serializeBytes(n.encode(i))}serializeBytes(i){this.serializeU32AsUleb128(i.length),this.serialize(i)}serializeFixedBytes(i){this.serialize(i)}serializeBool(i){if(typeof i!="boolean")throw new Error("Value needs to be a boolean");const n=i?1:0;this.serialize(new Uint8Array([n]))}serializeU8(i){this.serialize(new Uint8Array([i]))}serializeU16(i){this.serializeWithFunction(DataView.prototype.setUint16,2,i)}serializeU32(i){this.serializeWithFunction(DataView.prototype.setUint32,4,i)}serializeU64(i){const n=BigInt(i.toString())&BigInt(MAX_U32_NUMBER),r=BigInt(i.toString())>>BigInt(32);this.serializeU32(Number(n)),this.serializeU32(Number(r))}serializeU128(i){const n=BigInt(i.toString())&MAX_U64_BIG_INT,r=BigInt(i.toString())>>BigInt(64);this.serializeU64(n),this.serializeU64(r)}serializeU256(i){const n=BigInt(i.toString())&MAX_U128_BIG_INT,r=BigInt(i.toString())>>BigInt(128);this.serializeU128(n),this.serializeU128(r)}serializeU32AsUleb128(i){let n=i;const r=[];for(;n>>>7;)r.push(n&127|128),n>>>=7;r.push(n),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};__decorateClass([checkNumberRange(0,MAX_U8_NUMBER)],Serializer.prototype,"serializeU8",1);__decorateClass([checkNumberRange(0,MAX_U16_NUMBER)],Serializer.prototype,"serializeU16",1);__decorateClass([checkNumberRange(0,MAX_U32_NUMBER)],Serializer.prototype,"serializeU32",1);__decorateClass([checkNumberRange(BigInt(0),MAX_U64_BIG_INT)],Serializer.prototype,"serializeU64",1);__decorateClass([checkNumberRange(BigInt(0),MAX_U128_BIG_INT)],Serializer.prototype,"serializeU128",1);__decorateClass([checkNumberRange(BigInt(0),MAX_U256_BIG_INT)],Serializer.prototype,"serializeU256",1);__decorateClass([checkNumberRange(0,MAX_U32_NUMBER)],Serializer.prototype,"serializeU32AsUleb128",1);function checkNumberRange(i,n,r){return(t,e,o)=>{const s=o.value;return o.value=function(l){const c=BigInt(l.toString());if(c>BigInt(n.toString())||c<BigInt(i.toString()))throw new Error(r||"Value is out of range");s.apply(this,[l])},o}}var Deserializer=class{constructor(i){this.buffer=new ArrayBuffer(i.length),new Uint8Array(this.buffer).set(i,0),this.offset=0}read(i){if(this.offset+i>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const n=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,n}deserializeStr(){const i=this.deserializeBytes();return new TextDecoder().decode(i)}deserializeBytes(){const i=this.deserializeUleb128AsU32();return new Uint8Array(this.read(i))}deserializeFixedBytes(i){return new Uint8Array(this.read(i))}deserializeBool(){const i=new Uint8Array(this.read(1))[0];if(i!==1&&i!==0)throw new Error("Invalid boolean value");return i===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const i=this.deserializeU32(),n=this.deserializeU32();return BigInt(BigInt(n)<<BigInt(32)|BigInt(i))}deserializeU128(){const i=this.deserializeU64(),n=this.deserializeU64();return BigInt(n<<BigInt(64)|i)}deserializeU256(){const i=this.deserializeU128(),n=this.deserializeU128();return BigInt(n<<BigInt(128)|i)}deserializeUleb128AsU32(){let i=BigInt(0),n=0;for(;i<MAX_U32_NUMBER;){const r=this.deserializeU8();if(i|=BigInt(r&127)<<BigInt(n),!(r&128))break;n+=7}if(i>MAX_U32_NUMBER)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(i)}};function serializeVector(i,n){n.serializeU32AsUleb128(i.length),i.forEach(r=>{r.serialize(n)})}function serializeVectorWithFunc(i,n){const r=new Serializer;r.serializeU32AsUleb128(i.length);const t=r[n];return i.forEach(e=>{t.call(r,e)}),r.getBytes()}function deserializeVector(i,n){const r=i.deserializeUleb128AsU32(),t=[];for(let e=0;e<r;e+=1)t.push(n.deserialize(i));return t}function bcsToBytes(i){const n=new Serializer;return i.serialize(n),n.getBytes()}function bcsSerializeUint64(i){const n=new Serializer;return n.serializeU64(i),n.getBytes()}function bcsSerializeU8(i){const n=new Serializer;return n.serializeU8(i),n.getBytes()}function bcsSerializeU16(i){const n=new Serializer;return n.serializeU16(i),n.getBytes()}function bcsSerializeU32(i){const n=new Serializer;return n.serializeU32(i),n.getBytes()}function bcsSerializeU128(i){const n=new Serializer;return n.serializeU128(i),n.getBytes()}function bcsSerializeU256(i){const n=new Serializer;return n.serializeU256(i),n.getBytes()}function bcsSerializeBool(i){const n=new Serializer;return n.serializeBool(i),n.getBytes()}function bcsSerializeStr(i){const n=new Serializer;return n.serializeStr(i),n.getBytes()}function bcsSerializeBytes(i){const n=new Serializer;return n.serializeBytes(i),n.getBytes()}function bcsSerializeFixedBytes(i){const n=new Serializer;return n.serializeFixedBytes(i),n.getBytes()}var _AccountAddress=class L{constructor(n){if(n.length!==L.LENGTH)throw new Error("Expected address of length 32");this.address=n}static fromHex(n){let r=HexString.ensure(n);r.noPrefix().length%2!==0&&(r=new HexString(`0${r.noPrefix()}`));const t=r.toUint8Array();if(t.length>L.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(t.length===L.LENGTH)return new L(t);const e=new Uint8Array(L.LENGTH);return e.set(t,L.LENGTH-t.length),new L(e)}static isValid(n){if(n==="")return!1;let r=HexString.ensure(n);return r.noPrefix().length%2!==0&&(r=new HexString(`0${r.noPrefix()}`)),r.toUint8Array().length<=L.LENGTH}toHexString(){return HexString.fromUint8Array(this.address).hex()}serialize(n){n.serializeFixedBytes(this.address)}static deserialize(n){return new L(n.deserializeFixedBytes(L.LENGTH))}static standardizeAddress(n){const r=n.toLowerCase();return`0x${(r.startsWith("0x")?r.slice(2):r).padStart(64,"0")}`}};_AccountAddress.LENGTH=32;_AccountAddress.CORE_CODE_ADDRESS=_AccountAddress.fromHex("0x1");var AccountAddress=_AccountAddress,_Ed25519PublicKey=class ae{constructor(n){if(n.length!==ae.LENGTH)throw new Error(`Ed25519PublicKey length should be ${ae.LENGTH}`);this.value=n}toBytes(){return this.value}serialize(n){n.serializeBytes(this.value)}static deserialize(n){const r=n.deserializeBytes();return new ae(r)}};_Ed25519PublicKey.LENGTH=32;var Ed25519PublicKey=_Ed25519PublicKey,_Ed25519Signature=class le{constructor(n){if(this.value=n,n.length!==le.LENGTH)throw new Error(`Ed25519Signature length should be ${le.LENGTH}`)}serialize(n){n.serializeBytes(this.value)}static deserialize(n){const r=n.deserializeBytes();return new le(r)}};_Ed25519Signature.LENGTH=64;var Ed25519Signature=_Ed25519Signature,MAX_SIGNATURES_SUPPORTED=32,MultiEd25519PublicKey=class ke{constructor(n,r){if(this.public_keys=n,this.threshold=r,r>MAX_SIGNATURES_SUPPORTED)throw new Error(`"threshold" cannot be larger than ${MAX_SIGNATURES_SUPPORTED}`)}toBytes(){const n=new Uint8Array(this.public_keys.length*Ed25519PublicKey.LENGTH+1);return this.public_keys.forEach((r,t)=>{n.set(r.value,t*Ed25519PublicKey.LENGTH)}),n[this.public_keys.length*Ed25519PublicKey.LENGTH]=this.threshold,n}serialize(n){n.serializeBytes(this.toBytes())}static deserialize(n){const r=n.deserializeBytes(),t=r[r.length-1],e=[];for(let o=0;o<r.length-1;o+=Ed25519PublicKey.LENGTH){const s=o;e.push(new Ed25519PublicKey(r.subarray(s,s+Ed25519PublicKey.LENGTH)))}return new ke(e,t)}},_MultiEd25519Signature=class oe{constructor(n,r){if(this.signatures=n,this.bitmap=r,r.length!==oe.BITMAP_LEN)throw new Error(`"bitmap" length should be ${oe.BITMAP_LEN}`)}toBytes(){const n=new Uint8Array(this.signatures.length*Ed25519Signature.LENGTH+oe.BITMAP_LEN);return this.signatures.forEach((r,t)=>{n.set(r.value,t*Ed25519Signature.LENGTH)}),n.set(this.bitmap,this.signatures.length*Ed25519Signature.LENGTH),n}static createBitmap(n){const t=new Uint8Array([0,0,0,0]),e=new Set;return n.forEach(o=>{if(o>=MAX_SIGNATURES_SUPPORTED)throw new Error(`Invalid bit value ${o}.`);if(e.has(o))throw new Error("Duplicated bits detected.");e.add(o);const s=Math.floor(o/8);let a=t[s];a|=128>>o%8,t[s]=a}),t}serialize(n){n.serializeBytes(this.toBytes())}static deserialize(n){const r=n.deserializeBytes(),t=r.subarray(r.length-4),e=[];for(let o=0;o<r.length-t.length;o+=Ed25519Signature.LENGTH){const s=o;e.push(new Ed25519Signature(r.subarray(s,s+Ed25519Signature.LENGTH)))}return new oe(e,t)}};_MultiEd25519Signature.BITMAP_LEN=4;var MultiEd25519Signature=_MultiEd25519Signature,TransactionAuthenticator=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return TransactionAuthenticatorEd25519.load(i);case 1:return TransactionAuthenticatorMultiEd25519.load(i);case 2:return TransactionAuthenticatorMultiAgent.load(i);case 3:return TransactionAuthenticatorFeePayer.load(i);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${n}`)}}},TransactionAuthenticatorEd25519=class Te extends TransactionAuthenticator{constructor(n,r){super(),this.public_key=n,this.signature=r}serialize(n){n.serializeU32AsUleb128(0),this.public_key.serialize(n),this.signature.serialize(n)}static load(n){const r=Ed25519PublicKey.deserialize(n),t=Ed25519Signature.deserialize(n);return new Te(r,t)}},TransactionAuthenticatorMultiEd25519=class ge extends TransactionAuthenticator{constructor(n,r){super(),this.public_key=n,this.signature=r}serialize(n){n.serializeU32AsUleb128(1),this.public_key.serialize(n),this.signature.serialize(n)}static load(n){const r=MultiEd25519PublicKey.deserialize(n),t=MultiEd25519Signature.deserialize(n);return new ge(r,t)}},TransactionAuthenticatorMultiAgent=class me extends TransactionAuthenticator{constructor(n,r,t){super(),this.sender=n,this.secondary_signer_addresses=r,this.secondary_signers=t}serialize(n){n.serializeU32AsUleb128(2),this.sender.serialize(n),serializeVector(this.secondary_signer_addresses,n),serializeVector(this.secondary_signers,n)}static load(n){const r=AccountAuthenticator.deserialize(n),t=deserializeVector(n,AccountAddress),e=deserializeVector(n,AccountAuthenticator);return new me(r,t,e)}},TransactionAuthenticatorFeePayer=class we extends TransactionAuthenticator{constructor(n,r,t,e){super(),this.sender=n,this.secondary_signer_addresses=r,this.secondary_signers=t,this.fee_payer=e}serialize(n){n.serializeU32AsUleb128(3),this.sender.serialize(n),serializeVector(this.secondary_signer_addresses,n),serializeVector(this.secondary_signers,n),this.fee_payer.address.serialize(n),this.fee_payer.authenticator.serialize(n)}static load(n){const r=AccountAuthenticator.deserialize(n),t=deserializeVector(n,AccountAddress),e=deserializeVector(n,AccountAuthenticator),o=AccountAddress.deserialize(n),s=AccountAuthenticator.deserialize(n),a={address:o,authenticator:s};return new we(r,t,e,a)}},AccountAuthenticator=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return AccountAuthenticatorEd25519.load(i);case 1:return AccountAuthenticatorMultiEd25519.load(i);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${n}`)}}},AccountAuthenticatorEd25519=class Oe extends AccountAuthenticator{constructor(n,r){super(),this.public_key=n,this.signature=r}serialize(n){n.serializeU32AsUleb128(0),this.public_key.serialize(n),this.signature.serialize(n)}static load(n){const r=Ed25519PublicKey.deserialize(n),t=Ed25519Signature.deserialize(n);return new Oe(r,t)}},AccountAuthenticatorMultiEd25519=class Ae extends AccountAuthenticator{constructor(n,r){super(),this.public_key=n,this.signature=r}serialize(n){n.serializeU32AsUleb128(1),this.public_key.serialize(n),this.signature.serialize(n)}static load(n){const r=MultiEd25519PublicKey.deserialize(n),t=MultiEd25519Signature.deserialize(n);return new Ae(r,t)}},Identifier=class xe{constructor(n){this.value=n}serialize(n){n.serializeStr(this.value)}static deserialize(n){const r=n.deserializeStr();return new xe(r)}},TypeTag=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return TypeTagBool.load(i);case 1:return TypeTagU8.load(i);case 2:return TypeTagU64.load(i);case 3:return TypeTagU128.load(i);case 4:return TypeTagAddress.load(i);case 5:return TypeTagSigner.load(i);case 6:return TypeTagVector.load(i);case 7:return TypeTagStruct.load(i);case 8:return TypeTagU16.load(i);case 9:return TypeTagU32.load(i);case 10:return TypeTagU256.load(i);default:throw new Error(`Unknown variant index for TypeTag: ${n}`)}}},TypeTagBool=class Se extends TypeTag{serialize(n){n.serializeU32AsUleb128(0)}static load(n){return new Se}},TypeTagU8=class _e extends TypeTag{serialize(n){n.serializeU32AsUleb128(1)}static load(n){return new _e}},TypeTagU16=class ve extends TypeTag{serialize(n){n.serializeU32AsUleb128(8)}static load(n){return new ve}},TypeTagU32=class Pe extends TypeTag{serialize(n){n.serializeU32AsUleb128(9)}static load(n){return new Pe}},TypeTagU64=class Ee extends TypeTag{serialize(n){n.serializeU32AsUleb128(2)}static load(n){return new Ee}},TypeTagU128=class $e extends TypeTag{serialize(n){n.serializeU32AsUleb128(3)}static load(n){return new $e}},TypeTagU256=class Re extends TypeTag{serialize(n){n.serializeU32AsUleb128(10)}static load(n){return new Re}},TypeTagAddress=class je extends TypeTag{serialize(n){n.serializeU32AsUleb128(4)}static load(n){return new je}},TypeTagSigner=class Ne extends TypeTag{serialize(n){n.serializeU32AsUleb128(5)}static load(n){return new Ne}},TypeTagVector=class Ce extends TypeTag{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(6),this.value.serialize(n)}static load(n){const r=TypeTag.deserialize(n);return new Ce(r)}},TypeTagStruct=class Be extends TypeTag{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(7),this.value.serialize(n)}static load(n){const r=StructTag.deserialize(n);return new Be(r)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===AccountAddress.CORE_CODE_ADDRESS.toHexString()}},StructTag=class pe{constructor(n,r,t,e){this.address=n,this.module_name=r,this.name=t,this.type_args=e}static fromString(n){const r=new TypeTagParser(n).parseTypeTag();return new pe(r.value.address,r.value.module_name,r.value.name,r.value.type_args)}serialize(n){this.address.serialize(n),this.module_name.serialize(n),this.name.serialize(n),serializeVector(this.type_args,n)}static deserialize(n){const r=AccountAddress.deserialize(n),t=Identifier.deserialize(n),e=Identifier.deserialize(n),o=deserializeVector(n,TypeTag);return new pe(r,t,e,o)}},stringStructTag=new StructTag(AccountAddress.fromHex("0x1"),new Identifier("string"),new Identifier("String"),[]);function optionStructTag(i){return new StructTag(AccountAddress.fromHex("0x1"),new Identifier("option"),new Identifier("Option"),[i])}function objectStructTag(i){return new StructTag(AccountAddress.fromHex("0x1"),new Identifier("object"),new Identifier("Object"),[i])}function bail(i){throw new TypeTagParserError(i)}function isWhiteSpace(i){return!!i.match(/\s/)}function isValidAlphabetic(i){return!!i.match(/[_A-Za-z0-9]/g)}function isGeneric(i){return!!i.match(/T\d+/g)}function nextToken(i,n){const r=i[n];if(r===":"){if(i.slice(n,n+2)==="::")return[["COLON","::"],2];bail("Unrecognized token.")}else{if(r==="<")return[["LT","<"],1];if(r===">")return[["GT",">"],1];if(r===",")return[["COMMA",","],1];if(isWhiteSpace(r)){let t="";for(let e=n;e<i.length;e+=1){const o=i[e];if(isWhiteSpace(o))t=`${t}${o}`;else break}return[["SPACE",t],t.length]}else if(isValidAlphabetic(r)){let t="";for(let e=n;e<i.length;e+=1){const o=i[e];if(isValidAlphabetic(o))t=`${t}${o}`;else break}return isGeneric(t)?[["GENERIC",t],t.length]:[["IDENT",t],t.length]}}throw new Error("Unrecognized token.")}function tokenize(i){let n=0;const r=[];for(;n<i.length;){const[t,e]=nextToken(i,n);t[0]!=="SPACE"&&r.push(t),n+=e}return r}var TypeTagParser=class Ie{constructor(n,r){this.typeTags=[],this.tokens=tokenize(n),this.typeTags=r||[]}consume(n){const r=this.tokens.shift();(!r||r[1]!==n)&&bail("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(n,r){const t=[];for(this.tokens.length<=0&&bail("Invalid type tag.");this.tokens[0][1]!==n&&(t.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===n||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===n&&r)));)this.tokens.length<=0&&bail("Invalid type tag.");return t}parseTypeTag(){this.tokens.length===0&&bail("Invalid type tag.");const[n,r]=this.tokens.shift();if(r==="u8")return new TypeTagU8;if(r==="u16")return new TypeTagU16;if(r==="u32")return new TypeTagU32;if(r==="u64")return new TypeTagU64;if(r==="u128")return new TypeTagU128;if(r==="u256")return new TypeTagU256;if(r==="bool")return new TypeTagBool;if(r==="address")return new TypeTagAddress;if(r==="vector"){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new TypeTagVector(t)}if(r==="string")return new TypeTagStruct(stringStructTag);if(n==="IDENT"&&(r.startsWith("0x")||r.startsWith("0X"))){const t=AccountAddress.fromHex(r);this.consume("::");const[e,o]=this.tokens.shift();e!=="IDENT"&&bail("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&bail("Invalid type tag."),AccountAddress.CORE_CODE_ADDRESS.toHexString()===t.toHexString()&&o==="object"&&a==="Object")return this.consumeWholeGeneric(),new TypeTagAddress;let l=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),l=this.parseCommaList(">",!0),this.consume(">"));const c=new StructTag(t,new Identifier(o),new Identifier(a),l);return new TypeTagStruct(c)}if(n==="GENERIC"){this.typeTags.length===0&&bail("Can't convert generic type since no typeTags were specified.");const t=parseInt(r.substring(1),10);return new Ie(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},TypeTagParserError=class extends Error{constructor(i){super(i),this.name="TypeTagParserError"}},RawTransaction=class Me{constructor(n,r,t,e,o,s,a){this.sender=n,this.sequence_number=r,this.payload=t,this.max_gas_amount=e,this.gas_unit_price=o,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(n){this.sender.serialize(n),n.serializeU64(this.sequence_number),this.payload.serialize(n),n.serializeU64(this.max_gas_amount),n.serializeU64(this.gas_unit_price),n.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(n)}static deserialize(n){const r=AccountAddress.deserialize(n),t=n.deserializeU64(),e=TransactionPayload.deserialize(n),o=n.deserializeU64(),s=n.deserializeU64(),a=n.deserializeU64(),l=ChainId.deserialize(n);return new Me(r,t,e,o,s,a,l)}},Script=class De{constructor(n,r,t){this.code=n,this.ty_args=r,this.args=t}serialize(n){n.serializeBytes(this.code),serializeVector(this.ty_args,n),serializeVector(this.args,n)}static deserialize(n){const r=n.deserializeBytes(),t=deserializeVector(n,TypeTag),e=deserializeVector(n,TransactionArgument);return new De(r,t,e)}},EntryFunction=class ce{constructor(n,r,t,e){this.module_name=n,this.function_name=r,this.ty_args=t,this.args=e}static natural(n,r,t,e){return new ce(ModuleId.fromStr(n),new Identifier(r),t,e)}static natual(n,r,t,e){return ce.natural(n,r,t,e)}serialize(n){this.module_name.serialize(n),this.function_name.serialize(n),serializeVector(this.ty_args,n),n.serializeU32AsUleb128(this.args.length),this.args.forEach(r=>{n.serializeBytes(r)})}static deserialize(n){const r=ModuleId.deserialize(n),t=Identifier.deserialize(n),e=deserializeVector(n,TypeTag),o=n.deserializeUleb128AsU32(),s=[];for(let l=0;l<o;l+=1)s.push(n.deserializeBytes());const a=s;return new ce(r,t,e,a)}},MultiSigTransactionPayload=class Je{constructor(n){this.transaction_payload=n}serialize(n){n.serializeU32AsUleb128(0),this.transaction_payload.serialize(n)}static deserialize(n){return n.deserializeUleb128AsU32(),new Je(EntryFunction.deserialize(n))}},MultiSig=class Ue{constructor(n,r){this.multisig_address=n,this.transaction_payload=r}serialize(n){this.multisig_address.serialize(n),this.transaction_payload===void 0?n.serializeBool(!1):(n.serializeBool(!0),this.transaction_payload.serialize(n))}static deserialize(n){const r=AccountAddress.deserialize(n),t=n.deserializeBool();let e;return t&&(e=MultiSigTransactionPayload.deserialize(n)),new Ue(r,e)}},Module=class Fe{constructor(n){this.code=n}serialize(n){n.serializeBytes(this.code)}static deserialize(n){const r=n.deserializeBytes();return new Fe(r)}},ModuleId=class he{constructor(n,r){this.address=n,this.name=r}static fromStr(n){const r=n.split("::");if(r.length!==2)throw new Error("Invalid module id.");return new he(AccountAddress.fromHex(new HexString(r[0])),new Identifier(r[1]))}serialize(n){this.address.serialize(n),this.name.serialize(n)}static deserialize(n){const r=AccountAddress.deserialize(n),t=Identifier.deserialize(n);return new he(r,t)}},ChangeSet=class{serialize(i){throw new Error("Not implemented.")}static deserialize(i){throw new Error("Not implemented.")}},WriteSet=class{serialize(i){throw new Error("Not implmented.")}static deserialize(i){throw new Error("Not implmented.")}},SignedTransaction=class Le{constructor(n,r){this.raw_txn=n,this.authenticator=r}serialize(n){this.raw_txn.serialize(n),this.authenticator.serialize(n)}static deserialize(n){const r=RawTransaction.deserialize(n),t=TransactionAuthenticator.deserialize(n);return new Le(r,t)}},RawTransactionWithData=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return MultiAgentRawTransaction.load(i);case 1:return FeePayerRawTransaction.load(i);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${n}`)}}},MultiAgentRawTransaction=class ze extends RawTransactionWithData{constructor(n,r){super(),this.raw_txn=n,this.secondary_signer_addresses=r}serialize(n){n.serializeU32AsUleb128(0),this.raw_txn.serialize(n),serializeVector(this.secondary_signer_addresses,n)}static load(n){const r=RawTransaction.deserialize(n),t=deserializeVector(n,AccountAddress);return new ze(r,t)}},FeePayerRawTransaction=class Ve extends RawTransactionWithData{constructor(n,r,t){super(),this.raw_txn=n,this.secondary_signer_addresses=r,this.fee_payer_address=t}serialize(n){n.serializeU32AsUleb128(1),this.raw_txn.serialize(n),serializeVector(this.secondary_signer_addresses,n),this.fee_payer_address.serialize(n)}static load(n){const r=RawTransaction.deserialize(n),t=deserializeVector(n,AccountAddress),e=AccountAddress.deserialize(n);return new Ve(r,t,e)}},TransactionPayload=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return TransactionPayloadScript.load(i);case 2:return TransactionPayloadEntryFunction.load(i);case 3:return TransactionPayloadMultisig.load(i);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},TransactionPayloadScript=class qe extends TransactionPayload{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(0),this.value.serialize(n)}static load(n){const r=Script.deserialize(n);return new qe(r)}},TransactionPayloadEntryFunction=class He extends TransactionPayload{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(2),this.value.serialize(n)}static load(n){const r=EntryFunction.deserialize(n);return new He(r)}},TransactionPayloadMultisig=class We extends TransactionPayload{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(3),this.value.serialize(n)}static load(n){const r=MultiSig.deserialize(n);return new We(r)}},ChainId=class Ke{constructor(n){this.value=n}serialize(n){n.serializeU8(this.value)}static deserialize(n){const r=n.deserializeU8();return new Ke(r)}},TransactionArgument=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return TransactionArgumentU8.load(i);case 1:return TransactionArgumentU64.load(i);case 2:return TransactionArgumentU128.load(i);case 3:return TransactionArgumentAddress.load(i);case 4:return TransactionArgumentU8Vector.load(i);case 5:return TransactionArgumentBool.load(i);case 6:return TransactionArgumentU16.load(i);case 7:return TransactionArgumentU32.load(i);case 8:return TransactionArgumentU256.load(i);default:throw new Error(`Unknown variant index for TransactionArgument: ${n}`)}}},TransactionArgumentU8=class Ge extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(0),n.serializeU8(this.value)}static load(n){const r=n.deserializeU8();return new Ge(r)}},TransactionArgumentU16=class Ye extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(6),n.serializeU16(this.value)}static load(n){const r=n.deserializeU16();return new Ye(r)}},TransactionArgumentU32=class Qe extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(7),n.serializeU32(this.value)}static load(n){const r=n.deserializeU32();return new Qe(r)}},TransactionArgumentU64=class Xe extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(1),n.serializeU64(this.value)}static load(n){const r=n.deserializeU64();return new Xe(r)}},TransactionArgumentU128=class Ze extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(2),n.serializeU128(this.value)}static load(n){const r=n.deserializeU128();return new Ze(r)}},TransactionArgumentU256=class et extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(8),n.serializeU256(this.value)}static load(n){const r=n.deserializeU256();return new et(r)}},TransactionArgumentAddress=class tt extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(3),this.value.serialize(n)}static load(n){const r=AccountAddress.deserialize(n);return new tt(r)}},TransactionArgumentU8Vector=class nt extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(4),n.serializeBytes(this.value)}static load(n){const r=n.deserializeBytes();return new nt(r)}},TransactionArgumentBool=class rt extends TransactionArgument{constructor(n){super(),this.value=n}serialize(n){n.serializeU32AsUleb128(5),n.serializeBool(this.value)}static load(n){const r=n.deserializeBool();return new rt(r)}},Transaction=class{getHashSalt(){const i=sha3_256.create();return i.update("APTOS::Transaction"),i.digest()}static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return UserTransaction.load(i);default:throw new Error(`Unknown variant index for Transaction: ${n}`)}}},UserTransaction=class ot extends Transaction{constructor(n){super(),this.value=n}hash(){const n=sha3_256.create();return n.update(this.getHashSalt()),n.update(bcsToBytes(this)),n.digest()}serialize(n){n.serializeU32AsUleb128(0),this.value.serialize(n)}static load(n){return new ot(SignedTransaction.deserialize(n))}},TypeArgumentABI=class it{constructor(n){this.name=n}serialize(n){n.serializeStr(this.name)}static deserialize(n){const r=n.deserializeStr();return new it(r)}},ArgumentABI=class st{constructor(n,r){this.name=n,this.type_tag=r}serialize(n){n.serializeStr(this.name),this.type_tag.serialize(n)}static deserialize(n){const r=n.deserializeStr(),t=TypeTag.deserialize(n);return new st(r,t)}},ScriptABI=class{static deserialize(i){const n=i.deserializeUleb128AsU32();switch(n){case 0:return TransactionScriptABI.load(i);case 1:return EntryFunctionABI.load(i);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},TransactionScriptABI=class at extends ScriptABI{constructor(n,r,t,e,o){super(),this.name=n,this.doc=r,this.code=t,this.ty_args=e,this.args=o}serialize(n){n.serializeU32AsUleb128(0),n.serializeStr(this.name),n.serializeStr(this.doc),n.serializeBytes(this.code),serializeVector(this.ty_args,n),serializeVector(this.args,n)}static load(n){const r=n.deserializeStr(),t=n.deserializeStr(),e=n.deserializeBytes(),o=deserializeVector(n,TypeArgumentABI),s=deserializeVector(n,ArgumentABI);return new at(r,t,e,o,s)}},EntryFunctionABI=class lt extends ScriptABI{constructor(n,r,t,e,o){super(),this.name=n,this.module_name=r,this.doc=t,this.ty_args=e,this.args=o}serialize(n){n.serializeU32AsUleb128(1),n.serializeStr(this.name),this.module_name.serialize(n),n.serializeStr(this.doc),serializeVector(this.ty_args,n),serializeVector(this.args,n)}static load(n){const r=n.deserializeStr(),t=ModuleId.deserialize(n),e=n.deserializeStr(),o=deserializeVector(n,TypeArgumentABI),s=deserializeVector(n,ArgumentABI);return new lt(r,t,e,o,s)}},_AuthenticationKey=class X{constructor(n){if(n.length!==X.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=n}static fromMultiEd25519PublicKey(n){const r=n.toBytes(),t=new Uint8Array(r.length+1);t.set(r),t.set([X.MULTI_ED25519_SCHEME],r.length);const e=sha3_256.create();return e.update(t),new X(e.digest())}static fromEd25519PublicKey(n){const r=n.value,t=new Uint8Array(r.length+1);t.set(r),t.set([X.ED25519_SCHEME],r.length);const e=sha3_256.create();return e.update(t),new X(e.digest())}derivedAddress(){return HexString.fromUint8Array(this.bytes)}};_AuthenticationKey.LENGTH=32;_AuthenticationKey.MULTI_ED25519_SCHEME=1;_AuthenticationKey.ED25519_SCHEME=0;_AuthenticationKey.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var AuthenticationKey=_AuthenticationKey,RotationProofChallenge=class{constructor(i,n,r,t,e,o,s){this.accountAddress=i,this.moduleName=n,this.structName=r,this.sequenceNumber=t,this.originator=e,this.currentAuthKey=o,this.newPublicKey=s}serialize(i){this.accountAddress.serialize(i),i.serializeStr(this.moduleName),i.serializeStr(this.structName),i.serializeU64(this.sequenceNumber),this.originator.serialize(i),this.currentAuthKey.serialize(i),i.serializeBytes(this.newPublicKey)}},_AptosAccount=class ue{static fromAptosAccountObject(n){return new ue(HexString.ensure(n.privateKeyHex).toUint8Array(),n.address)}static isValidPath(n){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(n)}static fromDerivePath(n,r){if(!ue.isValidPath(n))throw new Error("Invalid derivation path");const t=r.trim().split(/\s+/).map(o=>o.toLowerCase()).join(" "),{key:e}=derivePath(n,bytesToHex(mnemonicToSeedSync(t)));return new ue(e)}constructor(n,r){n?this.signingKey=nacl2.sign.keyPair.fromSeed(n.slice(0,32)):this.signingKey=nacl2.sign.keyPair(),this.accountAddress=HexString.ensure(r||this.authKey().hex())}address(){return this.accountAddress}authKey(){const n=new Ed25519PublicKey(this.signingKey.publicKey);return AuthenticationKey.fromEd25519PublicKey(n).derivedAddress()}static getResourceAccountAddress(n,r){const t=bcsToBytes(AccountAddress.fromHex(n)),e=new Uint8Array([...t,...r,AuthenticationKey.DERIVE_RESOURCE_ACCOUNT_SCHEME]),o=sha3_256.create();return o.update(e),HexString.fromUint8Array(o.digest())}static getCollectionID(n,r){const t=new TextEncoder().encode(`${n}::${r}`),e=sha256.create();return e.update(t),HexString.fromUint8Array(e.digest())}pubKey(){return HexString.fromUint8Array(this.signingKey.publicKey)}signBuffer(n){const r=nacl2.sign.detached(n,this.signingKey.secretKey);return HexString.fromUint8Array(r)}signHexString(n){const r=HexString.ensure(n).toUint8Array();return this.signBuffer(r)}verifySignature(n,r){const t=HexString.ensure(n).toUint8Array(),e=HexString.ensure(r).toUint8Array();return nacl2.sign.detached.verify(t,e,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:HexString.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};__decorateClass([Memoize()],_AptosAccount.prototype,"authKey",1);var AptosAccount=_AptosAccount,CurrentTokenOwnershipFieldsFragmentDoc=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,TokenDataFieldsFragmentDoc=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,CollectionDataFieldsFragmentDoc=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,TokenActivitiesFieldsFragmentDoc=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,GetAccountCoinsDataCount=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,GetAccountCoinsData=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,GetAccountCurrentTokens=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${TokenDataFieldsFragmentDoc}
${CollectionDataFieldsFragmentDoc}`,GetAccountTokensCount=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,GetAccountTransactionsCount=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,GetAccountTransactionsData=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${TokenActivitiesFieldsFragmentDoc}`,GetCollectionData=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,GetCollectionsWithOwnedTokens=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,GetCurrentObjects=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,GetDelegatedStakingActivities=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,GetIndexerLedgerInfo=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,GetNumberOfDelegators=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,GetOwnedTokens=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${CurrentTokenOwnershipFieldsFragmentDoc}`,GetOwnedTokensByTokenData=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${CurrentTokenOwnershipFieldsFragmentDoc}`,GetTokenActivities=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${TokenActivitiesFieldsFragmentDoc}`,GetTokenActivitiesCount=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,GetTokenCurrentOwnerData=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${CurrentTokenOwnershipFieldsFragmentDoc}`,GetTokenData=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,GetTokenOwnedFromCollection=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${CurrentTokenOwnershipFieldsFragmentDoc}`,GetTokenOwnersData=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${CurrentTokenOwnershipFieldsFragmentDoc}`,GetTopUserTransactions=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,GetUserTransactions=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function assertType(i,n,r){if(!(n!=null&&n.includes(typeof i)))throw new Error(r||`Invalid arg: ${i} type should be ${n instanceof Array?n.join(" or "):n}`)}function ensureBoolean(i){if(assertType(i,["boolean","string"]),typeof i=="boolean")return i;if(i==="true")return!0;if(i==="false")return!1;throw new Error("Invalid boolean string.")}function ensureNumber(i){if(assertType(i,["number","string"]),typeof i=="number")return i;const n=Number.parseInt(i,10);if(Number.isNaN(n))throw new Error("Invalid number string.");return n}function ensureBigInt(i){return assertType(i,["number","bigint","string"]),BigInt(i)}function serializeArg(i,n,r){serializeArgInner(i,n,r)}function serializeArgInner(i,n,r,t){if(n instanceof TypeTagBool)r.serializeBool(ensureBoolean(i));else if(n instanceof TypeTagU8)r.serializeU8(ensureNumber(i));else if(n instanceof TypeTagU16)r.serializeU16(ensureNumber(i));else if(n instanceof TypeTagU32)r.serializeU32(ensureNumber(i));else if(n instanceof TypeTagU64)r.serializeU64(ensureBigInt(i));else if(n instanceof TypeTagU128)r.serializeU128(ensureBigInt(i));else if(n instanceof TypeTagU256)r.serializeU256(ensureBigInt(i));else if(n instanceof TypeTagAddress)serializeAddress(i,r);else if(n instanceof TypeTagVector)serializeVector2(i,n,r);else if(n instanceof TypeTagStruct)serializeStruct(i,n,r);else throw new Error("Unsupported arg type.")}function serializeAddress(i,n){let r;if(typeof i=="string"||i instanceof HexString)r=AccountAddress.fromHex(i);else if(i instanceof AccountAddress)r=i;else throw new Error("Invalid account address.");r.serialize(n)}function serializeVector2(i,n,r,t){if(n.value instanceof TypeTagU8){if(i instanceof Uint8Array){r.serializeBytes(i);return}if(i instanceof HexString){r.serializeBytes(i.toUint8Array());return}if(typeof i=="string"){r.serializeStr(i);return}}if(!Array.isArray(i))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(i.length),i.forEach(e=>serializeArgInner(e,n.value,r))}function serializeStruct(i,n,r,t){const{address:e,module_name:o,name:s,type_args:a}=n.value,l=`${HexString.fromUint8Array(e.address).toShortString()}::${o.value}::${s.value}`;if(l==="0x1::string::String")assertType(i,["string"]),r.serializeStr(i);else if(l==="0x1::object::Object")serializeAddress(i,r);else if(l==="0x1::option::Option"){if(a.length!==1)throw new Error(`Option has the wrong number of type arguments ${a.length}`);serializeOption(i,a[0],r)}else throw new Error("Unsupported struct type in function argument")}function serializeOption(i,n,r,t){i==null?r.serializeU32AsUleb128(0):(r.serializeU32AsUleb128(1),serializeArgInner(i,n,r))}function argToTransactionArgument(i,n){if(n instanceof TypeTagBool)return new TransactionArgumentBool(ensureBoolean(i));if(n instanceof TypeTagU8)return new TransactionArgumentU8(ensureNumber(i));if(n instanceof TypeTagU16)return new TransactionArgumentU16(ensureNumber(i));if(n instanceof TypeTagU32)return new TransactionArgumentU32(ensureNumber(i));if(n instanceof TypeTagU64)return new TransactionArgumentU64(ensureBigInt(i));if(n instanceof TypeTagU128)return new TransactionArgumentU128(ensureBigInt(i));if(n instanceof TypeTagU256)return new TransactionArgumentU256(ensureBigInt(i));if(n instanceof TypeTagAddress){let r;if(typeof i=="string"||i instanceof HexString)r=AccountAddress.fromHex(i);else if(i instanceof AccountAddress)r=i;else throw new Error("Invalid account address.");return new TransactionArgumentAddress(r)}if(n instanceof TypeTagVector&&n.value instanceof TypeTagU8){if(!(i instanceof Uint8Array))throw new Error(`${i} should be an instance of Uint8Array`);return new TransactionArgumentU8Vector(i)}throw new Error("Unknown type for TransactionArgument.")}var RAW_TRANSACTION_SALT="APTOS::RawTransaction",RAW_TRANSACTION_WITH_DATA_SALT="APTOS::RawTransactionWithData",TransactionBuilder=class{constructor(i,n){this.rawTxnBuilder=n,this.signingFunction=i}build(i,n,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(i,n,r)}static getSigningMessage(i){const n=sha3_256.create();if(i instanceof RawTransaction)n.update(RAW_TRANSACTION_SALT);else if(i instanceof MultiAgentRawTransaction)n.update(RAW_TRANSACTION_WITH_DATA_SALT);else if(i instanceof FeePayerRawTransaction)n.update(RAW_TRANSACTION_WITH_DATA_SALT);else throw new Error("Unknown transaction type.");const r=n.digest(),t=bcsToBytes(i),e=new Uint8Array(r.length+t.length);return e.set(r),e.set(t,r.length),e}},TransactionBuilderEd25519=class extends TransactionBuilder{constructor(i,n,r){super(i,r),this.publicKey=n}rawToSigned(i){const n=TransactionBuilder.getSigningMessage(i),r=this.signingFunction(n),t=new TransactionAuthenticatorEd25519(new Ed25519PublicKey(this.publicKey),r);return new SignedTransaction(i,t)}sign(i){return bcsToBytes(this.rawToSigned(i))}},TransactionBuilderMultiEd25519=class extends TransactionBuilder{constructor(i,n){super(i),this.publicKey=n}rawToSigned(i){const n=TransactionBuilder.getSigningMessage(i),r=this.signingFunction(n),t=new TransactionAuthenticatorMultiEd25519(this.publicKey,r);return new SignedTransaction(i,t)}sign(i){return bcsToBytes(this.rawToSigned(i))}},TransactionBuilderABI=class ye{constructor(n,r){this.abiMap=new Map,n.forEach(t=>{const e=new Deserializer(t),o=ScriptABI.deserialize(e);let s;if(o instanceof EntryFunctionABI){const a=o,{address:l,name:c}=a.module_name;s=`${HexString.fromUint8Array(l.address).toShortString()}::${c.value}::${a.name}`}else s=o.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,o)}),this.builderConfig={maxGasAmount:BigInt(DEFAULT_MAX_GAS_AMOUNT),expSecFromNow:DEFAULT_TXN_EXP_SEC_FROM_NOW,...r}}static toBCSArgs(n,r){if(n.length!==r.length)throw new Error("Wrong number of args provided.");return r.map((t,e)=>{const o=new Serializer;return serializeArg(t,n[e].type_tag,o),o.getBytes()})}static toTransactionArguments(n,r){if(n.length!==r.length)throw new Error("Wrong number of args provided.");return r.map((t,e)=>argToTransactionArgument(t,n[e].type_tag))}setSequenceNumber(n){this.builderConfig.sequenceNumber=BigInt(n)}buildTransactionPayload(n,r,t){const e=r.map(a=>new TypeTagParser(a).parseTypeTag());let o;if(!this.abiMap.has(n))throw new Error(`Cannot find function: ${n}`);const s=this.abiMap.get(n);if(s instanceof EntryFunctionABI){const a=s,l=ye.toBCSArgs(a.args,t);o=new TransactionPayloadEntryFunction(new EntryFunction(a.module_name,new Identifier(a.name),e,l))}else if(s instanceof TransactionScriptABI){const a=s,l=ye.toTransactionArguments(a.args,t);o=new TransactionPayloadScript(new Script(a.code,e,l))}else throw new Error("Unknown ABI format.");return o}build(n,r,t){const{sender:e,sequenceNumber:o,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:l,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=e instanceof AccountAddress?e:AccountAddress.fromHex(e),f=BigInt(Math.floor(Date.now()/1e3)+Number(l)),p=this.buildTransactionPayload(n,r,t);if(p)return new RawTransaction(u,BigInt(o),p,BigInt(a),BigInt(s),f,new ChainId(Number(c)));throw new Error("Invalid ABI.")}},TransactionBuilderRemoteABI=class{constructor(i,n){this.aptosClient=i,this.builderConfig=n}async fetchABI(i){const r=(await this.aptosClient.getAccountModules(i)).map(e=>e.abi).flatMap(e=>e.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${e.address}::${e.name}::${o.name}`,...o}))),t=new Map;return r.forEach(e=>{t.set(e.fullName,e)}),t}async build(i,n,r){if(i=(O=>O.replace(/^0[xX]0*/g,"0x"))(i),i.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[o,s]=i.split("::"),a=await this.fetchABI(o);if(!a.has(i))throw new Error(`${i} doesn't exist.`);const l=a.get(i),u=l.params.filter(O=>O!=="signer"&&O!=="&signer").map((O,g)=>new ArgumentABI(`var${g}`,new TypeTagParser(O,n).parseTypeTag())),f=new EntryFunctionABI(l.name,ModuleId.fromStr(`${o}::${s}`),"",l.generic_type_params.map((O,g)=>new TypeArgumentABI(`${g}`)),u),{sender:p,...h}=this.builderConfig,k=p instanceof AccountAddress?HexString.fromUint8Array(p.address):p,[{sequence_number:y},b,{gas_estimate:m}]=await Promise.all([h!=null&&h.sequenceNumber?Promise.resolve({sequence_number:h==null?void 0:h.sequenceNumber}):this.aptosClient.getAccount(k),h!=null&&h.chainId?Promise.resolve(h==null?void 0:h.chainId):this.aptosClient.getChainId(),h!=null&&h.gasUnitPrice?Promise.resolve({gas_estimate:h==null?void 0:h.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new TransactionBuilderABI([bcsToBytes(f)],{sender:p,sequenceNumber:y,chainId:b,gasUnitPrice:BigInt(m),...h}).build(i,n,r)}};__decorateClass([MemoizeExpiring(10*60*1e3)],TransactionBuilderRemoteABI.prototype,"fetchABI",1);var _AptosClient=class Z{constructor(n,r,t=!1){if(!n)throw new Error("Node URL cannot be empty.");t?this.nodeUrl=n:this.nodeUrl=fixNodeUrl(n),this.config=r==null?{}:{...r}}async getAccount(n){const{data:r}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return r}async getAccountTransactions(n,r){const{data:t}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:r==null?void 0:r.start,limit:r==null?void 0:r.limit},overrides:{...this.config}});return t}async getAccountModules(n,r){return await paginateWithCursor({url:this.nodeUrl,endpoint:`accounts/${n}/modules`,params:{ledger_version:r==null?void 0:r.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(n,r,t){const{data:e}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}/module/${r}`,originMethod:"getAccountModule",params:{ledger_version:t==null?void 0:t.ledgerVersion},overrides:{...this.config}});return e}async getAccountResources(n,r){return await paginateWithCursor({url:this.nodeUrl,endpoint:`accounts/${n}/resources`,params:{ledger_version:r==null?void 0:r.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(n,r,t){const{data:e}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}/resource/${r}`,originMethod:"getAccountResource",params:{ledger_version:t==null?void 0:t.ledgerVersion},overrides:{...this.config}});return e}static generateBCSTransaction(n,r){return new TransactionBuilderEd25519(e=>{const o=n.signBuffer(e);return new aptos_types_exports.Ed25519Signature(o.toUint8Array())},n.pubKey().toUint8Array()).sign(r)}static generateBCSSimulation(n,r){return new TransactionBuilderEd25519(e=>{const o=new Uint8Array(64);return new aptos_types_exports.Ed25519Signature(o)},n.pubKey().toUint8Array()).sign(r)}async generateTransaction(n,r,t){const e={sender:n};if(t!=null&&t.sequence_number&&(e.sequenceNumber=t.sequence_number),t!=null&&t.gas_unit_price&&(e.gasUnitPrice=t.gas_unit_price),t!=null&&t.max_gas_amount&&(e.maxGasAmount=t.max_gas_amount),t!=null&&t.expiration_timestamp_secs){const s=Number.parseInt(t.expiration_timestamp_secs,10);e.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new TransactionBuilderRemoteABI(this,e).build(r.function,r.type_arguments,r.arguments)}async generateFeePayerTransaction(n,r,t,e=[],o){const s=await this.generateTransaction(n,r,o),a=e.map(c=>AccountAddress.fromHex(c));return new aptos_types_exports.FeePayerRawTransaction(s,a,AccountAddress.fromHex(t))}async submitFeePayerTransaction(n,r,t,e=[]){const o=new aptos_types_exports.TransactionAuthenticatorFeePayer(r,n.secondary_signer_addresses,e,{address:n.fee_payer_address,authenticator:t}),s=bcsToBytes(new aptos_types_exports.SignedTransaction(n.raw_txn,o));return await this.submitSignedBCSTransaction(s)}async signMultiTransaction(n,r){const t=new aptos_types_exports.Ed25519Signature(n.signBuffer(TransactionBuilder.getSigningMessage(r)).toUint8Array()),e=new aptos_types_exports.AccountAuthenticatorEd25519(new aptos_types_exports.Ed25519PublicKey(n.signingKey.publicKey),t);return Promise.resolve(e)}async signTransaction(n,r){return Promise.resolve(Z.generateBCSTransaction(n,r))}async getEventsByCreationNumber(n,r,t){const{data:e}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}/events/${r}`,originMethod:"getEventsByCreationNumber",params:{start:t==null?void 0:t.start,limit:t==null?void 0:t.limit},overrides:{...this.config}});return e}async getEventsByEventHandle(n,r,t,e){const{data:o}=await get({url:this.nodeUrl,endpoint:`accounts/${HexString.ensure(n).hex()}/events/${r}/${t}`,originMethod:"getEventsByEventHandle",params:{start:e==null?void 0:e.start,limit:e==null?void 0:e.limit},overrides:{...this.config}});return o}async submitTransaction(n){return this.submitSignedBCSTransaction(n)}async simulateTransaction(n,r,t){let e;return n instanceof AptosAccount?e=Z.generateBCSSimulation(n,r):n instanceof MultiEd25519PublicKey?e=new TransactionBuilderMultiEd25519(()=>{const{threshold:s}=n,a=[],l=[];for(let u=0;u<s;u+=1)a.push(u),l.push(new aptos_types_exports.Ed25519Signature(new Uint8Array(64)));const c=aptos_types_exports.MultiEd25519Signature.createBitmap(a);return new aptos_types_exports.MultiEd25519Signature(l,c)},n).sign(r):e=new TransactionBuilderEd25519(()=>{const s=new Uint8Array(64);return new aptos_types_exports.Ed25519Signature(s)},n.toBytes()).sign(r),this.submitBCSSimulation(e,t)}async submitSignedBCSTransaction(n){const{data:r}=await post({url:this.nodeUrl,body:n,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return r}async submitBCSSimulation(n,r){var t,e,o;const s={estimate_gas_unit_price:(t=r==null?void 0:r.estimateGasUnitPrice)!=null?t:!1,estimate_max_gas_amount:(e=r==null?void 0:r.estimateMaxGasAmount)!=null?e:!1,estimate_prioritized_gas_unit_price:(o=r==null?void 0:r.estimatePrioritizedGasUnitPrice)!=null?o:!1},{data:a}=await post({url:this.nodeUrl,body:n,endpoint:"transactions/simulate",params:s,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return a}async getTransactions(n){var r;const{data:t}=await get({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(r=n==null?void 0:n.start)==null?void 0:r.toString(),limit:n==null?void 0:n.limit},overrides:{...this.config}});return t}async getTransactionByHash(n){const{data:r}=await get({url:this.nodeUrl,endpoint:`transactions/by_hash/${n}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return r}async getTransactionByVersion(n){const{data:r}=await get({url:this.nodeUrl,endpoint:`transactions/by_version/${n}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return r}async transactionPending(n){try{return(await this.getTransactionByHash(n)).type==="pending_transaction"}catch(r){if((r==null?void 0:r.status)===404)return!0;throw r}}async waitForTransactionWithResult(n,r){var t,e;const o=(t=r==null?void 0:r.timeoutSecs)!=null?t:DEFAULT_TXN_TIMEOUT_SEC,s=(e=r==null?void 0:r.checkSuccess)!=null?e:!1;let a=!0,l=0,c;for(;a&&!(l>=o);){try{if(c=await this.getTransactionByHash(n),a=c.type==="pending_transaction",!a)break}catch(u){const f=u instanceof ApiError,p=f&&u.status!==404&&u.status>=400&&u.status<500;if(!f||p)throw u}await sleep(1e3),l+=1}if(c===void 0)throw new Error(`Waiting for transaction ${n} failed`);if(a)throw new WaitForTransactionError(`Waiting for transaction ${n} timed out after ${o} seconds`,c);if(!s)return c;if(!(c!=null&&c.success))throw new FailedTransactionError(`Transaction ${n} failed with an error: ${c.vm_status}`,c);return c}async waitForTransaction(n,r){await this.waitForTransactionWithResult(n,r)}async getLedgerInfo(){const{data:n}=await get({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return n}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(n,r,t){var e;return(await post({url:this.nodeUrl,body:r,endpoint:`tables/${n}/item`,originMethod:"getTableItem",params:{ledger_version:(e=t==null?void 0:t.ledgerVersion)==null?void 0:e.toString()},overrides:{...this.config}})).data}async generateRawTransaction(n,r,t){const[{sequence_number:e},o,{gas_estimate:s}]=await Promise.all([t!=null&&t.providedSequenceNumber?Promise.resolve({sequence_number:t.providedSequenceNumber}):this.getAccount(n),this.getChainId(),t!=null&&t.gasUnitPrice?Promise.resolve({gas_estimate:t.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:l,expireTimestamp:c}={maxGasAmount:BigInt(DEFAULT_MAX_GAS_AMOUNT),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+DEFAULT_TXN_EXP_SEC_FROM_NOW),...t};return new aptos_types_exports.RawTransaction(aptos_types_exports.AccountAddress.fromHex(n),BigInt(e),r,a,l,c,new aptos_types_exports.ChainId(o))}async generateSignSubmitTransaction(n,r,t){const e=await this.generateRawTransaction(n.address(),r,t),o=Z.generateBCSTransaction(n,e);return(await this.submitSignedBCSTransaction(o)).hash}async signAndSubmitTransaction(n,r){const t=Z.generateBCSTransaction(n,r);return(await this.submitSignedBCSTransaction(t)).hash}async publishPackage(n,r,t,e){const o=new Serializer;serializeVector(t,o);const s=new aptos_types_exports.TransactionPayloadEntryFunction(aptos_types_exports.EntryFunction.natural("0x1::code","publish_package_txn",[],[bcsSerializeBytes(r),o.getBytes()]));return this.generateSignSubmitTransaction(n,s,e)}async createResourceAccountAndPublishPackage(n,r,t,e,o){const s=new Serializer;serializeVector(e,s);const a=new aptos_types_exports.TransactionPayloadEntryFunction(aptos_types_exports.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[bcsSerializeBytes(r),bcsSerializeBytes(t),s.getBytes()]));return this.generateSignSubmitTransaction(n,a,o)}async generateSignSubmitWaitForTransaction(n,r,t){const e=await this.generateSignSubmitTransaction(n,r,t);return this.waitForTransactionWithResult(e,t)}async estimateGasPrice(){const{data:n}=await get({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return n}async estimateMaxGasAmount(n){const r=`0x1::coin::CoinStore<${APTOS_COIN}>`,[{gas_estimate:t},e]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(n)]),o=e.find(a=>a.type===r);return BigInt(o.data.coin.value)/BigInt(t)}async rotateAuthKeyEd25519(n,r,t){const{sequence_number:e,authentication_key:o}=await this.getAccount(n.address()),s=new AptosAccount(r),a=new aptos_types_exports.RotationProofChallenge(aptos_types_exports.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(e),aptos_types_exports.AccountAddress.fromHex(n.address()),new aptos_types_exports.AccountAddress(new HexString(o).toUint8Array()),s.pubKey().toUint8Array()),l=HexString.fromUint8Array(bcsToBytes(a)),c=n.signHexString(l),u=s.signHexString(l),f=new aptos_types_exports.TransactionPayloadEntryFunction(aptos_types_exports.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[bcsSerializeU8(0),bcsSerializeBytes(n.pubKey().toUint8Array()),bcsSerializeU8(0),bcsSerializeBytes(s.pubKey().toUint8Array()),bcsSerializeBytes(c.toUint8Array()),bcsSerializeBytes(u.toUint8Array())])),p=await this.generateRawTransaction(n.address(),f,t),h=Z.generateBCSTransaction(n,p);return this.submitSignedBCSTransaction(h)}async lookupOriginalAddress(n){const r=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:t}}=r.data,e=await this.getTableItem(t,{key_type:"address",value_type:"address",key:HexString.ensure(n).hex()});return new HexString(e)}async getBlockByHeight(n,r){const{data:t}=await get({url:this.nodeUrl,endpoint:`blocks/by_height/${n}`,originMethod:"getBlockByHeight",params:{with_transactions:r},overrides:{...this.config}});return t}async getBlockByVersion(n,r){const{data:t}=await get({url:this.nodeUrl,endpoint:`blocks/by_version/${n}`,originMethod:"getBlockByVersion",params:{with_transactions:r},overrides:{...this.config}});return t}async view(n,r){const{data:t}=await post({url:this.nodeUrl,body:n,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:r},overrides:{...this.config}});return t}clearCache(n){clear(n)}};__decorateClass([parseApiError],_AptosClient.prototype,"getAccount",1);__decorateClass([parseApiError],_AptosClient.prototype,"getAccountTransactions",1);__decorateClass([parseApiError,MemoizeExpiring(10*60*1e3)],_AptosClient.prototype,"getAccountModules",1);__decorateClass([parseApiError],_AptosClient.prototype,"getAccountModule",1);__decorateClass([parseApiError],_AptosClient.prototype,"getAccountResources",1);__decorateClass([parseApiError],_AptosClient.prototype,"getAccountResource",1);__decorateClass([parseApiError],_AptosClient.prototype,"getEventsByCreationNumber",1);__decorateClass([parseApiError],_AptosClient.prototype,"getEventsByEventHandle",1);__decorateClass([parseApiError],_AptosClient.prototype,"submitSignedBCSTransaction",1);__decorateClass([parseApiError],_AptosClient.prototype,"submitBCSSimulation",1);__decorateClass([parseApiError],_AptosClient.prototype,"getTransactions",1);__decorateClass([parseApiError],_AptosClient.prototype,"getTransactionByHash",1);__decorateClass([parseApiError],_AptosClient.prototype,"getTransactionByVersion",1);__decorateClass([parseApiError],_AptosClient.prototype,"getLedgerInfo",1);__decorateClass([Memoize()],_AptosClient.prototype,"getChainId",1);__decorateClass([parseApiError],_AptosClient.prototype,"getTableItem",1);__decorateClass([parseApiError,Memoize({ttlMs:5*60*1e3,tags:["gas_estimates"]})],_AptosClient.prototype,"estimateGasPrice",1);__decorateClass([parseApiError],_AptosClient.prototype,"estimateMaxGasAmount",1);__decorateClass([parseApiError],_AptosClient.prototype,"getBlockByHeight",1);__decorateClass([parseApiError],_AptosClient.prototype,"getBlockByVersion",1);__decorateClass([parseApiError],_AptosClient.prototype,"view",1);var AptosClient=_AptosClient,WaitForTransactionError=class extends Error{constructor(i,n){super(i),this.lastSubmittedTransaction=n}},FailedTransactionError=class extends Error{constructor(i,n){super(i),this.transaction=n}},ApiError=class extends Error{constructor(i,n,r,t){super(n),this.status=i,this.message=n,this.errorCode=r,this.vmErrorCode=t}};function parseApiError(i,n,r){const t=r.value;return r.value=async function(...o){var s,a;try{return await t.apply(this,[...o])}catch(l){throw l instanceof AptosApiError?new ApiError(l.status,JSON.stringify({message:l.message,...l.data}),(s=l.data)==null?void 0:s.error_code,(a=l.data)==null?void 0:a.vm_error_code):l}},r}var IndexerClient=class B{constructor(n,r){this.endpoint=n,this.config=r}static validateAddress(n){if(n.length<66)throw new Error(`${n} is less than 66 chars long.`)}async queryIndexer(n){const r=await post({url:this.endpoint,body:n,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(r.data.errors)throw new ApiError(r.data.errors[0].extensions.code,JSON.stringify({message:r.data.errors[0].message,error_code:r.data.errors[0].extensions.code}));return r.data.data}async getIndexerLedgerInfo(){const n={query:GetIndexerLedgerInfo};return this.queryIndexer(n)}async getAccountNFTs(n,r){const t=HexString.ensure(n).hex();B.validateAddress(t);const e={query:GetAccountCurrentTokens,variables:{address:t,offset:r==null?void 0:r.offset,limit:r==null?void 0:r.limit}};return this.queryIndexer(e)}async getTokenActivities(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const s={token_data_id:{_eq:o}};r!=null&&r.tokenStandard&&(s.token_standard={_eq:r==null?void 0:r.tokenStandard});const a={query:GetTokenActivities,variables:{where_condition:s,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getTokenActivitiesCount(n){const r={query:GetTokenActivitiesCount,variables:{token_id:n}};return this.queryIndexer(r)}async getAccountTokensCount(n,r){var t,e;const o={owner_address:{_eq:n},amount:{_gt:"0"}};r!=null&&r.tokenStandard&&(o.token_standard={_eq:r==null?void 0:r.tokenStandard});const s=HexString.ensure(n).hex();B.validateAddress(s);const a={query:GetAccountTokensCount,variables:{where_condition:o,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit}};return this.queryIndexer(a)}async getTokenData(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const s={token_data_id:{_eq:o}};r!=null&&r.tokenStandard&&(s.token_standard={_eq:r==null?void 0:r.tokenStandard});const a={query:GetTokenData,variables:{where_condition:s,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getTokenOwnersData(n,r,t){var e,o;const s=HexString.ensure(n).hex();B.validateAddress(s);const a={token_data_id:{_eq:s},amount:{_gt:"0"}};r&&(a.property_version_v1={_eq:r}),t!=null&&t.tokenStandard&&(a.token_standard={_eq:t==null?void 0:t.tokenStandard});const l={query:GetTokenOwnersData,variables:{where_condition:a,offset:(e=t==null?void 0:t.options)==null?void 0:e.offset,limit:(o=t==null?void 0:t.options)==null?void 0:o.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(l)}async getTokenCurrentOwnerData(n,r,t){var e,o;const s=HexString.ensure(n).hex();B.validateAddress(s);const a={token_data_id:{_eq:s},amount:{_gt:"0"}};r&&(a.property_version_v1={_eq:r}),t!=null&&t.tokenStandard&&(a.token_standard={_eq:t==null?void 0:t.tokenStandard});const l={query:GetTokenCurrentOwnerData,variables:{where_condition:a,offset:(e=t==null?void 0:t.options)==null?void 0:e.offset,limit:(o=t==null?void 0:t.options)==null?void 0:o.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(l)}async getOwnedTokens(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const s={owner_address:{_eq:o},amount:{_gt:0}};r!=null&&r.tokenStandard&&(s.token_standard={_eq:r==null?void 0:r.tokenStandard});const a={query:GetOwnedTokens,variables:{where_condition:s,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getOwnedTokensByTokenData(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const s={token_data_id:{_eq:o},amount:{_gt:0}};r!=null&&r.tokenStandard&&(s.token_standard={_eq:r==null?void 0:r.tokenStandard});const a={query:GetOwnedTokensByTokenData,variables:{where_condition:s,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getTokenOwnedFromCollectionAddress(n,r,t){var e,o;const s=HexString.ensure(n).hex();B.validateAddress(s);const a=HexString.ensure(r).hex();B.validateAddress(a);const l={owner_address:{_eq:s},current_token_data:{collection_id:{_eq:a}},amount:{_gt:0}};t!=null&&t.tokenStandard&&(l.token_standard={_eq:t==null?void 0:t.tokenStandard});const c={query:GetTokenOwnedFromCollection,variables:{where_condition:l,offset:(e=t==null?void 0:t.options)==null?void 0:e.offset,limit:(o=t==null?void 0:t.options)==null?void 0:o.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(c)}async getTokenOwnedFromCollectionNameAndCreatorAddress(n,r,t,e){const o=await this.getCollectionAddress(t,r,e);return await this.getTokenOwnedFromCollectionAddress(n,o,e)}async getCollectionData(n,r,t){var e,o;const s=HexString.ensure(n).hex();B.validateAddress(s);const a={collection_name:{_eq:r},creator_address:{_eq:s}};t!=null&&t.tokenStandard&&(a.token_standard={_eq:t==null?void 0:t.tokenStandard});const l={query:GetCollectionData,variables:{where_condition:a,offset:(e=t==null?void 0:t.options)==null?void 0:e.offset,limit:(o=t==null?void 0:t.options)==null?void 0:o.limit,order_by:t==null?void 0:t.orderBy}};return this.queryIndexer(l)}async getCollectionAddress(n,r,t){return(await this.getCollectionData(n,r,t)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const s={owner_address:{_eq:o}};r!=null&&r.tokenStandard&&(s.current_collection={token_standard:{_eq:r==null?void 0:r.tokenStandard}});const a={query:GetCollectionsWithOwnedTokens,variables:{where_condition:s,offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getAccountTransactionsCount(n){const r=HexString.ensure(n).hex();B.validateAddress(r);const t={query:GetAccountTransactionsCount,variables:{address:r}};return this.queryIndexer(t)}async getAccountTransactionsData(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const a={query:GetAccountTransactionsData,variables:{where_condition:{account_address:{_eq:o}},offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getTopUserTransactions(n){const r={query:GetTopUserTransactions,variables:{limit:n}};return this.queryIndexer(r)}async getUserTransactions(n){var r,t;const e={version:{_lte:n==null?void 0:n.startVersion}},o={query:GetUserTransactions,variables:{where_condition:e,offset:(r=n==null?void 0:n.options)==null?void 0:r.offset,limit:(t=n==null?void 0:n.options)==null?void 0:t.limit,order_by:n==null?void 0:n.orderBy}};return this.queryIndexer(o)}async getDelegatedStakingActivities(n,r){const t=HexString.ensure(n).hex(),e=HexString.ensure(r).hex();B.validateAddress(t),B.validateAddress(e);const o={query:GetDelegatedStakingActivities,variables:{delegatorAddress:t,poolAddress:e}};return this.queryIndexer(o)}async getNumberOfDelegators(n){const r=HexString.ensure(n).hex();B.validateAddress(r);const t={query:GetNumberOfDelegators,variables:{poolAddress:r}};return this.queryIndexer(t)}async getAccountCoinsData(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const a={query:GetAccountCoinsData,variables:{where_condition:{owner_address:{_eq:o}},offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}async getAccountCoinsDataCount(n){const r=HexString.ensure(n).hex();B.validateAddress(r);const t={query:GetAccountCoinsDataCount,variables:{address:r}};return this.queryIndexer(t)}async getAccountOwnedObjects(n,r){var t,e;const o=HexString.ensure(n).hex();B.validateAddress(o);const a={query:GetCurrentObjects,variables:{where_condition:{owner_address:{_eq:o}},offset:(t=r==null?void 0:r.options)==null?void 0:t.offset,limit:(e=r==null?void 0:r.options)==null?void 0:e.limit,order_by:r==null?void 0:r.orderBy}};return this.queryIndexer(a)}},Provider=class{constructor(i,n,r=!1){let t=null,e=null;if(typeof i=="object"&&isCustomEndpoints(i)?(t=i.fullnodeUrl,e=i.indexerUrl,this.network="CUSTOM"):(t=NetworkToNodeAPI[i],e=NetworkToIndexerAPI[i],this.network=i),this.network==="CUSTOM"&&!t)throw new Error("fullnode url is not provided");e&&(this.indexerClient=new IndexerClient(e,n)),this.aptosClient=new AptosClient(t,n,r)}};function applyMixin(i,n,r){Object.getOwnPropertyNames(n.prototype).forEach(t=>{const e=Object.getOwnPropertyDescriptor(n.prototype,t);e&&(e.value=function(...o){return this[r][t](...o)},Object.defineProperty(i.prototype,t,e))}),Object.getOwnPropertyNames(n).forEach(t=>{const e=Object.getOwnPropertyDescriptor(n,t);e&&(e.value=function(...o){return this[r][t](...o)},!i.hasOwnProperty.call(i,t)&&Object.defineProperty(i,t,e))})}applyMixin(Provider,AptosClient,"aptosClient");applyMixin(Provider,IndexerClient,"indexerClient");function isCustomEndpoints(i){return i.fullnodeUrl!==void 0&&typeof i.fullnodeUrl=="string"}var PropertyValue=class{constructor(i,n){this.type=i,this.value=n}},PropertyMap=class{constructor(){this.data={}}setProperty(i,n){this.data[i]=n}};function getPropertyType(i){let n;return i==="string"||i==="String"?n=new TypeTagStruct(stringStructTag):n=new TypeTagParser(i).parseTypeTag(),n}function deserializePropertyMap(i){const n=i.map.data,r=new PropertyMap;return n.forEach(t=>{const{key:e}=t,o=t.value.value,s=t.value.type,a=getPropertyType(s),l=deserializeValueBasedOnTypeTag(a,o),c=new PropertyValue(s,l);r.setProperty(e,c)}),r}function deserializeValueBasedOnTypeTag(i,n){const r=new Deserializer(new HexString(n).toUint8Array());let t="";return i instanceof TypeTagU8?t=r.deserializeU8().toString():i instanceof TypeTagU64?t=r.deserializeU64().toString():i instanceof TypeTagU128?t=r.deserializeU128().toString():i instanceof TypeTagBool?t=r.deserializeBool()?"true":"false":i instanceof TypeTagAddress?t=HexString.fromUint8Array(r.deserializeFixedBytes(32)).hex():i instanceof TypeTagStruct&&i.isStringTypeTag()?t=r.deserializeStr():t=n,t}var token_types_exports={};__export(token_types_exports,{PropertyMap:()=>PropertyMap,PropertyValue:()=>PropertyValue,Token:()=>Token,TokenData:()=>TokenData});var TokenData=class{constructor(i,n,r,t,e,o,s,a){this.collection=i,this.description=n,this.name=r,this.maximum=t,this.supply=e,this.uri=o,this.default_properties=deserializePropertyMap(s),this.mutability_config=a}},Token=class{constructor(i,n,r){this.id=i,this.amount=n,this.token_properties=deserializePropertyMap(r)}},generated_exports={};__export(generated_exports,{AptosErrorCode:()=>AptosErrorCode,MoveFunctionVisibility:()=>MoveFunctionVisibility,RoleType:()=>RoleType});var AptosErrorCode=(i=>(i.ACCOUNT_NOT_FOUND="account_not_found",i.RESOURCE_NOT_FOUND="resource_not_found",i.MODULE_NOT_FOUND="module_not_found",i.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",i.VERSION_NOT_FOUND="version_not_found",i.TRANSACTION_NOT_FOUND="transaction_not_found",i.TABLE_ITEM_NOT_FOUND="table_item_not_found",i.BLOCK_NOT_FOUND="block_not_found",i.STATE_VALUE_NOT_FOUND="state_value_not_found",i.VERSION_PRUNED="version_pruned",i.BLOCK_PRUNED="block_pruned",i.INVALID_INPUT="invalid_input",i.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",i.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",i.VM_ERROR="vm_error",i.HEALTH_CHECK_FAILED="health_check_failed",i.MEMPOOL_IS_FULL="mempool_is_full",i.INTERNAL_ERROR="internal_error",i.WEB_FRAMEWORK_ERROR="web_framework_error",i.BCS_NOT_SUPPORTED="bcs_not_supported",i.API_DISABLED="api_disabled",i))(AptosErrorCode||{}),MoveFunctionVisibility=(i=>(i.PRIVATE="private",i.PUBLIC="public",i.FRIEND="friend",i))(MoveFunctionVisibility||{}),RoleType=(i=>(i.VALIDATOR="validator",i.FULL_NODE="full_node",i))(RoleType||{});class SignerCapability{constructor(n){this.account=n.account}toJSON(){return{account:this.account.toString()}}static fromJSON(n){return new SignerCapability({account:HexString.ensure(n.account)})}toMoveStruct(){return{account:this.account.toString()}}static fromMoveStruct(n){return new SignerCapability({account:HexString.ensure(n.account)})}}class AggregatorRound{constructor(n){this.id=n.id,this.roundOpenTimestamp=n.roundOpenTimestamp,this.roundOpenBlockHeight=n.roundOpenBlockHeight,this.result=n.result,this.stdDeviation=n.stdDeviation,this.minResponse=n.minResponse,this.maxResponse=n.maxResponse,this.oracleKeys=n.oracleKeys,this.medians=n.medians,this.currentPayout=n.currentPayout,this.errorsFulfilled=n.errorsFulfilled,this.numSuccess=n.numSuccess,this.numError=n.numError,this.isClosed=n.isClosed,this.roundConfirmedTimestamp=n.roundConfirmedTimestamp}toJSON(){return{id:this.id.toString(),roundOpenTimestamp:this.roundOpenTimestamp.toString(),roundOpenBlockHeight:this.roundOpenBlockHeight.toString(),result:this.result.toJSON(),stdDeviation:this.stdDeviation.toJSON(),minResponse:this.minResponse.toJSON(),maxResponse:this.maxResponse.toJSON(),oracleKeys:this.oracleKeys.map(n=>n.toString()),medians:this.medians.map(n=>n?n.toJSON():void 0),currentPayout:this.currentPayout.map(n=>n.toJSON()),errorsFulfilled:this.errorsFulfilled.map(n=>n),numSuccess:this.numSuccess.toString(),numError:this.numError.toString(),isClosed:this.isClosed,roundConfirmedTimestamp:this.roundConfirmedTimestamp.toString()}}static fromJSON(n){return new AggregatorRound({id:new BN(n.id),roundOpenTimestamp:new BN(n.roundOpenTimestamp),roundOpenBlockHeight:new BN(n.roundOpenBlockHeight),result:SwitchboardDecimal.fromJSON(n.result),stdDeviation:SwitchboardDecimal.fromJSON(n.stdDeviation),minResponse:SwitchboardDecimal.fromJSON(n.minResponse),maxResponse:SwitchboardDecimal.fromJSON(n.maxResponse),oracleKeys:n.oracleKeys.map(r=>HexString.ensure(r)),medians:Array.from(n.medians.map(r=>r?SwitchboardDecimal.fromJSON(r):void 0)),currentPayout:n.currentPayout.map(r=>SwitchboardDecimal.fromJSON(r)),errorsFulfilled:n.errorsFulfilled.map(r=>r),numSuccess:new BN(n.numSuccess),numError:new BN(n.numError),isClosed:n.isClosed,roundConfirmedTimestamp:new BN(n.roundConfirmedTimestamp)})}toMoveStruct(){return{id:this.id.toString(),round_open_timestamp:this.roundOpenTimestamp.toString(),round_open_block_height:this.roundOpenBlockHeight.toString(),result:this.result.toMoveStruct(),std_deviation:this.stdDeviation.toMoveStruct(),min_response:this.minResponse.toMoveStruct(),max_response:this.maxResponse.toMoveStruct(),oracle_keys:this.oracleKeys.map(n=>n.toString()),medians:this.medians.map(n=>n?{vec:[n.toMoveStruct()]}:null),current_payout:this.currentPayout.map(n=>n.toMoveStruct()),errors_fulfilled:this.errorsFulfilled.map(n=>n),num_success:this.numSuccess.toString(),num_error:this.numError.toString(),is_closed:this.isClosed,round_confirmed_timestamp:this.roundConfirmedTimestamp.toString()}}static fromMoveStruct(n){return new AggregatorRound({id:new BN(n.id),roundOpenTimestamp:new BN(n.round_open_timestamp),roundOpenBlockHeight:new BN(n.round_open_block_height),result:SwitchboardDecimal.fromMoveStruct(n.result),stdDeviation:SwitchboardDecimal.fromMoveStruct(n.std_deviation),minResponse:SwitchboardDecimal.fromMoveStruct(n.min_response),maxResponse:SwitchboardDecimal.fromMoveStruct(n.max_response),oracleKeys:n.oracle_keys.map(r=>HexString.ensure(r)),medians:Array.from(n.medians.map(r=>r.vec.length>0?SwitchboardDecimal.fromMoveStruct(r.vec[0]):null)),currentPayout:n.current_payout.map(r=>SwitchboardDecimal.fromMoveStruct(r)),errorsFulfilled:n.errors_fulfilled.map(r=>r),numSuccess:new BN(n.num_success),numError:new BN(n.num_error),isClosed:n.is_closed,roundConfirmedTimestamp:new BN(n.round_confirmed_timestamp)})}}class Aggregator{constructor(n){this.signerCap=n.signerCap,this.authority=n.authority,this.name=n.name,this.metadata=n.metadata,this.queueAddr=n.queueAddr,this.batchSize=n.batchSize,this.minOracleResults=n.minOracleResults,this.minJobResults=n.minJobResults,this.minUpdateDelaySeconds=n.minUpdateDelaySeconds,this.startAfter=n.startAfter,this.varianceThreshold=n.varianceThreshold,this.forceReportPeriod=n.forceReportPeriod,this.expiration=n.expiration,this.readCharge=n.readCharge,this.rewardEscrow=n.rewardEscrow,this.readWhitelist=n.readWhitelist,this.crankDisabled=n.crankDisabled,this.historyLimit=n.historyLimit,this.limitReadsToWhitelist=n.limitReadsToWhitelist,this.nextAllowedUpdateTime=n.nextAllowedUpdateTime,this.consecutiveFailureCount=n.consecutiveFailureCount,this.crankAddr=n.crankAddr,this.latestConfirmedRound=n.latestConfirmedRound,this.currentRound=n.currentRound,this.jobKeys=n.jobKeys,this.jobWeights=n.jobWeights,this.jobsChecksum=n.jobsChecksum,this.history=n.history,this.historyWriteIdx=n.historyWriteIdx,this.createdAt=n.createdAt,this.isLocked=n.isLocked,this.crankRowCount=n.crankRowCount,this._ebuf=n._ebuf,this.features=n.features}toJSON(){return{signerCap:this.signerCap.toJSON(),authority:this.authority.toString(),name:[...this.name],metadata:[...this.metadata],queueAddr:this.queueAddr.toString(),batchSize:this.batchSize.toString(),minOracleResults:this.minOracleResults.toString(),minJobResults:this.minJobResults.toString(),minUpdateDelaySeconds:this.minUpdateDelaySeconds.toString(),startAfter:this.startAfter.toString(),varianceThreshold:this.varianceThreshold.toJSON(),forceReportPeriod:this.forceReportPeriod.toString(),expiration:this.expiration.toString(),readCharge:this.readCharge.toString(),rewardEscrow:this.rewardEscrow.toString(),readWhitelist:this.readWhitelist.map(n=>n.toString()),crankDisabled:this.crankDisabled,historyLimit:this.historyLimit.toString(),limitReadsToWhitelist:this.limitReadsToWhitelist,nextAllowedUpdateTime:this.nextAllowedUpdateTime.toString(),consecutiveFailureCount:this.consecutiveFailureCount.toString(),crankAddr:this.crankAddr.toString(),latestConfirmedRound:this.latestConfirmedRound.toJSON(),currentRound:this.currentRound.toJSON(),jobKeys:this.jobKeys.map(n=>n.toString()),jobWeights:[...this.jobWeights],jobsChecksum:[...this.jobsChecksum],history:this.history.map(n=>n.toJSON()),historyWriteIdx:this.historyWriteIdx.toString(),createdAt:this.createdAt.toString(),isLocked:this.isLocked,crankRowCount:this.crankRowCount.toString(),_ebuf:[...this._ebuf],features:this.features.map(n=>n)}}static fromJSON(n){return new Aggregator({signerCap:SignerCapability.fromJSON(n.signerCap),authority:HexString.ensure(n.authority),name:new Uint8Array(n.name),metadata:new Uint8Array(n.metadata),queueAddr:HexString.ensure(n.queueAddr),batchSize:new BN(n.batchSize),minOracleResults:new BN(n.minOracleResults),minJobResults:new BN(n.minJobResults),minUpdateDelaySeconds:new BN(n.minUpdateDelaySeconds),startAfter:new BN(n.startAfter),varianceThreshold:SwitchboardDecimal.fromJSON(n.varianceThreshold),forceReportPeriod:new BN(n.forceReportPeriod),expiration:new BN(n.expiration),readCharge:new BN(n.readCharge),rewardEscrow:HexString.ensure(n.rewardEscrow),readWhitelist:n.readWhitelist.map(r=>HexString.ensure(r)),crankDisabled:n.crankDisabled,historyLimit:new BN(n.historyLimit),limitReadsToWhitelist:n.limitReadsToWhitelist,nextAllowedUpdateTime:new BN(n.nextAllowedUpdateTime),consecutiveFailureCount:new BN(n.consecutiveFailureCount),crankAddr:HexString.ensure(n.crankAddr),latestConfirmedRound:AggregatorRound.fromJSON(n.latestConfirmedRound),currentRound:AggregatorRound.fromJSON(n.currentRound),jobKeys:n.jobKeys.map(r=>HexString.ensure(r)),jobWeights:new Uint8Array(n.jobWeights),jobsChecksum:new Uint8Array(n.jobsChecksum),history:n.history.map(r=>AggregatorHistoryRow.fromJSON(r)),historyWriteIdx:new BN(n.historyWriteIdx),createdAt:new BN(n.createdAt),isLocked:n.isLocked,crankRowCount:new BN(n.crankRowCount),_ebuf:new Uint8Array(n._ebuf),features:n.features.map(r=>r)})}toMoveStruct(){return{signer_cap:this.signerCap.toMoveStruct(),authority:this.authority.toString(),name:buffer.Buffer.from(this.name).toString("hex"),metadata:buffer.Buffer.from(this.metadata).toString("hex"),queue_addr:this.queueAddr.toString(),batch_size:this.batchSize.toString(),min_oracle_results:this.minOracleResults.toString(),min_job_results:this.minJobResults.toString(),min_update_delay_seconds:this.minUpdateDelaySeconds.toString(),start_after:this.startAfter.toString(),variance_threshold:this.varianceThreshold.toMoveStruct(),force_report_period:this.forceReportPeriod.toString(),expiration:this.expiration.toString(),read_charge:this.readCharge.toString(),reward_escrow:this.rewardEscrow.toString(),read_whitelist:this.readWhitelist.map(n=>n.toString()),crank_disabled:this.crankDisabled,history_limit:this.historyLimit.toString(),limit_reads_to_whitelist:this.limitReadsToWhitelist,next_allowed_update_time:this.nextAllowedUpdateTime.toString(),consecutive_failure_count:this.consecutiveFailureCount.toString(),crank_addr:this.crankAddr.toString(),latest_confirmed_round:this.latestConfirmedRound.toMoveStruct(),current_round:this.currentRound.toMoveStruct(),job_keys:this.jobKeys.map(n=>n.toString()),job_weights:buffer.Buffer.from(this.jobWeights).toString("hex"),jobs_checksum:buffer.Buffer.from(this.jobsChecksum).toString("hex"),history:this.history.map(n=>n.toMoveStruct()),history_write_idx:this.historyWriteIdx.toString(),created_at:this.createdAt.toString(),is_locked:this.isLocked,crank_row_count:this.crankRowCount.toString(),_ebuf:buffer.Buffer.from(this._ebuf).toString("hex"),features:this.features.map(n=>n)}}static fromMoveStruct(n){return new Aggregator({signerCap:SignerCapability.fromMoveStruct(n.signer_cap),authority:HexString.ensure(n.authority),name:typeof n.name=="string"?new Uint8Array(buffer.Buffer.from(n.name.slice(2),"hex")):new Uint8Array(n.name),metadata:typeof n.metadata=="string"?new Uint8Array(buffer.Buffer.from(n.metadata.slice(2),"hex")):new Uint8Array(n.metadata),queueAddr:HexString.ensure(n.queue_addr),batchSize:new BN(n.batch_size),minOracleResults:new BN(n.min_oracle_results),minJobResults:new BN(n.min_job_results),minUpdateDelaySeconds:new BN(n.min_update_delay_seconds),startAfter:new BN(n.start_after),varianceThreshold:SwitchboardDecimal.fromMoveStruct(n.variance_threshold),forceReportPeriod:new BN(n.force_report_period),expiration:new BN(n.expiration),readCharge:new BN(n.read_charge),rewardEscrow:HexString.ensure(n.reward_escrow),readWhitelist:n.read_whitelist.map(r=>HexString.ensure(r)),crankDisabled:n.crank_disabled,historyLimit:new BN(n.history_limit),limitReadsToWhitelist:n.limit_reads_to_whitelist,nextAllowedUpdateTime:new BN(n.next_allowed_update_time),consecutiveFailureCount:new BN(n.consecutive_failure_count),crankAddr:HexString.ensure(n.crank_addr),latestConfirmedRound:AggregatorRound.fromMoveStruct(n.latest_confirmed_round),currentRound:AggregatorRound.fromMoveStruct(n.current_round),jobKeys:n.job_keys.map(r=>HexString.ensure(r)),jobWeights:typeof n.job_weights=="string"?new Uint8Array(buffer.Buffer.from(n.job_weights.slice(2),"hex")):new Uint8Array(n.job_weights),jobsChecksum:typeof n.jobs_checksum=="string"?new Uint8Array(buffer.Buffer.from(n.jobs_checksum.slice(2),"hex")):new Uint8Array(n.jobs_checksum),history:n.history.map(r=>AggregatorHistoryRow.fromMoveStruct(r)),historyWriteIdx:new BN(n.history_write_idx),createdAt:new BN(n.created_at),isLocked:n.is_locked,crankRowCount:new BN(n.crank_row_count),_ebuf:typeof n._ebuf=="string"?new Uint8Array(buffer.Buffer.from(n._ebuf.slice(2),"hex")):new Uint8Array(n._ebuf),features:n.features.map(r=>r)})}}class AggregatorHistoryRow{constructor(n){this.value=n.value,this.timestamp=n.timestamp,this.roundId=n.roundId}toJSON(){return{value:this.value.toJSON(),timestamp:this.timestamp.toString(),roundId:this.roundId.toString()}}static fromJSON(n){return new AggregatorHistoryRow({value:SwitchboardDecimal.fromJSON(n.value),timestamp:new BN(n.timestamp),roundId:new BN(n.roundId)})}toMoveStruct(){return{value:this.value.toMoveStruct(),timestamp:this.timestamp.toString(),round_id:this.roundId.toString()}}static fromMoveStruct(n){return new AggregatorHistoryRow({value:SwitchboardDecimal.fromMoveStruct(n.value),timestamp:new BN(n.timestamp),roundId:new BN(n.round_id)})}}class Job{constructor(n){this.addr=n.addr,this.name=n.name,this.metadata=n.metadata,this.authority=n.authority,this.expiration=n.expiration,this.hash=n.hash,this.data=n.data,this.referenceCount=n.referenceCount,this.totalSpent=n.totalSpent,this.createdAt=n.createdAt,this.variables=n.variables,this.features=n.features,this._ebuf=n._ebuf}toJSON(){return{addr:this.addr.toString(),name:[...this.name],metadata:[...this.metadata],authority:this.authority.toString(),expiration:this.expiration.toString(),hash:[...this.hash],data:[...this.data],referenceCount:this.referenceCount.toString(),totalSpent:this.totalSpent.toString(),createdAt:this.createdAt.toString(),variables:this.variables.map(n=>[...n]),features:this.features.map(n=>n),_ebuf:[...this._ebuf]}}static fromJSON(n){return new Job({addr:HexString.ensure(n.addr),name:new Uint8Array(n.name),metadata:new Uint8Array(n.metadata),authority:HexString.ensure(n.authority),expiration:new BN(n.expiration),hash:new Uint8Array(n.hash),data:new Uint8Array(n.data),referenceCount:new BN(n.referenceCount),totalSpent:new BN(n.totalSpent),createdAt:new BN(n.createdAt),variables:n.variables.map(r=>new Uint8Array(r)),features:n.features.map(r=>r),_ebuf:new Uint8Array(n._ebuf)})}toMoveStruct(){return{addr:this.addr.toString(),name:buffer.Buffer.from(this.name).toString("hex"),metadata:buffer.Buffer.from(this.metadata).toString("hex"),authority:this.authority.toString(),expiration:this.expiration.toString(),hash:buffer.Buffer.from(this.hash).toString("hex"),data:buffer.Buffer.from(this.data).toString("hex"),reference_count:this.referenceCount.toString(),total_spent:this.totalSpent.toString(),created_at:this.createdAt.toString(),variables:this.variables.map(n=>buffer.Buffer.from(n).toString("hex")),features:this.features.map(n=>n),_ebuf:buffer.Buffer.from(this._ebuf).toString("hex")}}static fromMoveStruct(n){return new Job({addr:HexString.ensure(n.addr),name:typeof n.name=="string"?new Uint8Array(buffer.Buffer.from(n.name.slice(2),"hex")):new Uint8Array(n.name),metadata:typeof n.metadata=="string"?new Uint8Array(buffer.Buffer.from(n.metadata.slice(2),"hex")):new Uint8Array(n.metadata),authority:HexString.ensure(n.authority),expiration:new BN(n.expiration),hash:typeof n.hash=="string"?new Uint8Array(buffer.Buffer.from(n.hash.slice(2),"hex")):new Uint8Array(n.hash),data:typeof n.data=="string"?new Uint8Array(buffer.Buffer.from(n.data.slice(2),"hex")):new Uint8Array(n.data),referenceCount:new BN(n.reference_count),totalSpent:new BN(n.total_spent),createdAt:new BN(n.created_at),variables:n.variables.map(r=>new Uint8Array(buffer.Buffer.from(r,"hex"))),features:n.features.map(r=>r),_ebuf:typeof n._ebuf=="string"?new Uint8Array(buffer.Buffer.from(n._ebuf.slice(2),"hex")):new Uint8Array(n._ebuf)})}}var DP=20,RM=1,MAX_DP=1e6,MAX_POWER=1e6,NE=-7,PE=21,STRICT=!1,NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P={},UNDEFINED=void 0,NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _Big_(){function i(n){var r=this;if(!(r instanceof i))return n===UNDEFINED?_Big_():new i(n);if(n instanceof i)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if(typeof n!="string"){if(i.strict===!0&&typeof n!="bigint")throw TypeError(INVALID+"value");n=n===0&&1/n<0?"-0":String(n)}parse$1(r,n)}r.constructor=i}return i.prototype=P,i.DP=DP,i.RM=RM,i.NE=NE,i.PE=PE,i.strict=STRICT,i.roundDown=0,i.roundHalfUp=1,i.roundHalfEven=2,i.roundUp=3,i}function parse$1(i,n){var r,t,e;if(!NUMERIC.test(n))throw Error(INVALID+"number");for(i.s=n.charAt(0)=="-"?(n=n.slice(1),-1):1,(r=n.indexOf("."))>-1&&(n=n.replace(".","")),(t=n.search(/e/i))>0?(r<0&&(r=t),r+=+n.slice(t+1),n=n.substring(0,t)):r<0&&(r=n.length),e=n.length,t=0;t<e&&n.charAt(t)=="0";)++t;if(t==e)i.c=[i.e=0];else{for(;e>0&&n.charAt(--e)=="0";);for(i.e=r-t-1,i.c=[],r=0;t<=e;)i.c[r++]=+n.charAt(t++)}return i}function round(i,n,r,t){var e=i.c;if(r===UNDEFINED&&(r=i.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(INVALID_RM);if(n<1)t=r===3&&(t||!!e[0])||n===0&&(r===1&&e[0]>=5||r===2&&(e[0]>5||e[0]===5&&(t||e[1]!==UNDEFINED))),e.length=1,t?(i.e=i.e-n+1,e[0]=1):e[0]=i.e=0;else if(n<e.length){if(t=r===1&&e[n]>=5||r===2&&(e[n]>5||e[n]===5&&(t||e[n+1]!==UNDEFINED||e[n-1]&1))||r===3&&(t||!!e[0]),e.length=n,t){for(;++e[--n]>9;)if(e[n]=0,n===0){++i.e,e.unshift(1);break}}for(n=e.length;!e[--n];)e.pop()}return i}function stringify$3(i,n,r){var t=i.e,e=i.c.join(""),o=e.length;if(n)e=e.charAt(0)+(o>1?"."+e.slice(1):"")+(t<0?"e":"e+")+t;else if(t<0){for(;++t;)e="0"+e;e="0."+e}else if(t>0)if(++t>o)for(t-=o;t--;)e+="0";else t<o&&(e=e.slice(0,t)+"."+e.slice(t));else o>1&&(e=e.charAt(0)+"."+e.slice(1));return i.s<0&&r?"-"+e:e}P.abs=function(){var i=new this.constructor(this);return i.s=1,i};P.cmp=function(i){var n,r=this,t=r.c,e=(i=new r.constructor(i)).c,o=r.s,s=i.s,a=r.e,l=i.e;if(!t[0]||!e[0])return t[0]?o:e[0]?-s:0;if(o!=s)return o;if(n=o<0,a!=l)return a>l^n?1:-1;for(s=(a=t.length)<(l=e.length)?a:l,o=-1;++o<s;)if(t[o]!=e[o])return t[o]>e[o]^n?1:-1;return a==l?0:a>l^n?1:-1};P.div=function(i){var n=this,r=n.constructor,t=n.c,e=(i=new r(i)).c,o=n.s==i.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>MAX_DP)throw Error(INVALID_DP);if(!e[0])throw Error(DIV_BY_ZERO);if(!t[0])return i.s=o,i.c=[i.e=0],i;var a,l,c,u,f,p=e.slice(),h=a=e.length,k=t.length,y=t.slice(0,a),b=y.length,m=i,w=m.c=[],O=0,g=s+(m.e=n.e-i.e)+1;for(m.s=o,o=g<0?0:g,p.unshift(0);b++<a;)y.push(0);do{for(c=0;c<10;c++){if(a!=(b=y.length))u=a>b?1:-1;else for(f=-1,u=0;++f<a;)if(e[f]!=y[f]){u=e[f]>y[f]?1:-1;break}if(u<0){for(l=b==a?e:p;b;){if(y[--b]<l[b]){for(f=b;f&&!y[--f];)y[f]=9;--y[f],y[b]+=10}y[b]-=l[b]}for(;!y[0];)y.shift()}else break}w[O++]=u?c:++c,y[0]&&u?y[b]=t[h]||0:y=[t[h]]}while((h++<k||y[0]!==UNDEFINED)&&o--);return!w[0]&&O!=1&&(w.shift(),m.e--,g--),O>g&&round(m,g,r.RM,y[0]!==UNDEFINED),m};P.eq=function(i){return this.cmp(i)===0};P.gt=function(i){return this.cmp(i)>0};P.gte=function(i){return this.cmp(i)>-1};P.lt=function(i){return this.cmp(i)<0};P.lte=function(i){return this.cmp(i)<1};P.minus=P.sub=function(i){var n,r,t,e,o=this,s=o.constructor,a=o.s,l=(i=new s(i)).s;if(a!=l)return i.s=-l,o.plus(i);var c=o.c.slice(),u=o.e,f=i.c,p=i.e;if(!c[0]||!f[0])return f[0]?i.s=-l:c[0]?i=new s(o):i.s=1,i;if(a=u-p){for((e=a<0)?(a=-a,t=c):(p=u,t=f),t.reverse(),l=a;l--;)t.push(0);t.reverse()}else for(r=((e=c.length<f.length)?c:f).length,a=l=0;l<r;l++)if(c[l]!=f[l]){e=c[l]<f[l];break}if(e&&(t=c,c=f,f=t,i.s=-i.s),(l=(r=f.length)-(n=c.length))>0)for(;l--;)c[n++]=0;for(l=n;r>a;){if(c[--r]<f[r]){for(n=r;n&&!c[--n];)c[n]=9;--c[n],c[r]+=10}c[r]-=f[r]}for(;c[--l]===0;)c.pop();for(;c[0]===0;)c.shift(),--p;return c[0]||(i.s=1,c=[p=0]),i.c=c,i.e=p,i};P.mod=function(i){var n,r=this,t=r.constructor,e=r.s,o=(i=new t(i)).s;if(!i.c[0])throw Error(DIV_BY_ZERO);return r.s=i.s=1,n=i.cmp(r)==1,r.s=e,i.s=o,n?new t(r):(e=t.DP,o=t.RM,t.DP=t.RM=0,r=r.div(i),t.DP=e,t.RM=o,this.minus(r.times(i)))};P.neg=function(){var i=new this.constructor(this);return i.s=-i.s,i};P.plus=P.add=function(i){var n,r,t,e=this,o=e.constructor;if(i=new o(i),e.s!=i.s)return i.s=-i.s,e.minus(i);var s=e.e,a=e.c,l=i.e,c=i.c;if(!a[0]||!c[0])return c[0]||(a[0]?i=new o(e):i.s=e.s),i;if(a=a.slice(),n=s-l){for(n>0?(l=s,t=c):(n=-n,t=a),t.reverse();n--;)t.push(0);t.reverse()}for(a.length-c.length<0&&(t=c,c=a,a=t),n=c.length,r=0;n;a[n]%=10)r=(a[--n]=a[n]+c[n]+r)/10|0;for(r&&(a.unshift(r),++l),n=a.length;a[--n]===0;)a.pop();return i.c=a,i.e=l,i};P.pow=function(i){var n=this,r=new n.constructor("1"),t=r,e=i<0;if(i!==~~i||i<-MAX_POWER||i>MAX_POWER)throw Error(INVALID+"exponent");for(e&&(i=-i);i&1&&(t=t.times(n)),i>>=1,!!i;)n=n.times(n);return e?r.div(t):t};P.prec=function(i,n){if(i!==~~i||i<1||i>MAX_DP)throw Error(INVALID+"precision");return round(new this.constructor(this),i,n)};P.round=function(i,n){if(i===UNDEFINED)i=0;else if(i!==~~i||i<-MAX_DP||i>MAX_DP)throw Error(INVALID_DP);return round(new this.constructor(this),i+this.e+1,n)};P.sqrt=function(){var i,n,r,t=this,e=t.constructor,o=t.s,s=t.e,a=new e("0.5");if(!t.c[0])return new e(t);if(o<0)throw Error(NAME+"No square root");o=Math.sqrt(t+""),o===0||o===1/0?(n=t.c.join(""),n.length+s&1||(n+="0"),o=Math.sqrt(n),s=((s+1)/2|0)-(s<0||s&1),i=new e((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):i=new e(o+""),s=i.e+(e.DP+=4);do r=i,i=a.times(r.plus(t.div(r)));while(r.c.slice(0,s).join("")!==i.c.slice(0,s).join(""));return round(i,(e.DP-=4)+i.e+1,e.RM)};P.times=P.mul=function(i){var n,r=this,t=r.constructor,e=r.c,o=(i=new t(i)).c,s=e.length,a=o.length,l=r.e,c=i.e;if(i.s=r.s==i.s?1:-1,!e[0]||!o[0])return i.c=[i.e=0],i;for(i.e=l+c,s<a&&(n=e,e=o,o=n,c=s,s=a,a=c),n=new Array(c=s+a);c--;)n[c]=0;for(l=a;l--;){for(a=0,c=s+l;c>l;)a=n[c]+o[l]*e[c-l-1]+a,n[c--]=a%10,a=a/10|0;n[c]=a}for(a?++i.e:n.shift(),l=n.length;!n[--l];)n.pop();return i.c=n,i};P.toExponential=function(i,n){var r=this,t=r.c[0];if(i!==UNDEFINED){if(i!==~~i||i<0||i>MAX_DP)throw Error(INVALID_DP);for(r=round(new r.constructor(r),++i,n);r.c.length<i;)r.c.push(0)}return stringify$3(r,!0,!!t)};P.toFixed=function(i,n){var r=this,t=r.c[0];if(i!==UNDEFINED){if(i!==~~i||i<0||i>MAX_DP)throw Error(INVALID_DP);for(r=round(new r.constructor(r),i+r.e+1,n),i=i+r.e+1;r.c.length<i;)r.c.push(0)}return stringify$3(r,!1,!!t)};P[Symbol.for("nodejs.util.inspect.custom")]=P.toJSON=P.toString=function(){var i=this,n=i.constructor;return stringify$3(i,i.e<=n.NE||i.e>=n.PE,!!i.c[0])};P.toNumber=function(){var i=Number(stringify$3(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(i.toString()))throw Error(NAME+"Imprecise conversion");return i};P.toPrecision=function(i,n){var r=this,t=r.constructor,e=r.c[0];if(i!==UNDEFINED){if(i!==~~i||i<1||i>MAX_DP)throw Error(INVALID+"precision");for(r=round(new t(r),i,n);r.c.length<i;)r.c.push(0)}return stringify$3(r,i<=r.e||r.e<=t.NE||r.e>=t.PE,!!e)};P.valueOf=function(){var i=this,n=i.constructor;if(n.strict===!0)throw Error(NAME+"valueOf disallowed");return stringify$3(i,i.e<=n.NE||i.e>=n.PE,!0)};var Big=_Big_();class SwitchboardDecimal{constructor(n){this.value=n.value,this.dec=n.dec,this.neg=n.neg}toJSON(){return{value:this.value.toString(),dec:this.dec,neg:this.neg}}static fromJSON(n){return new SwitchboardDecimal({value:new BN(n.value),dec:n.dec,neg:n.neg})}toMoveStruct(){return{value:this.value.toString(),dec:this.dec,neg:this.neg}}static fromMoveStruct(n){return new SwitchboardDecimal({value:new BN(n.value),dec:n.dec,neg:n.neg})}toBig(){const n=Big.DP;Big.DP=18;let r=new Big(this.value.toString());this.neg===!0&&(r=r.mul(-1));const t=new Big(10);return r=safeDiv$1(r,t.pow(this.dec)),Big.DP=n,r}static fromBig(n){const r=n.c.slice();let t=n.e+1;for(;r.length-t>9;)r.pop();return new SwitchboardDecimal({value:new BN(r.join("")),dec:r.length-t,neg:n.s===-1})}}function safeDiv$1(i,n,r=20){const t=Big.DP;Big.DP=r;const e=i.div(n);return Big.DP=t,e}const MAINNET_PROGRAM_ID="0x7d7e436f0b2aafde60774efb26ccc432cf881b677aca7faaf2a01879bd19fb8";var SwitchboardErrorEnum;(function(i){i.Generic="Generic",i.StateNotFound="StateNotFound",i.QueueNotFound="QueueNotFound",i.OracleNotFound="OracleNotFound",i.JobNotFound="JobNotFound",i.CrankNotFound="CrankNotFound",i.AggregatorNotFound="AggregatorNotFound",i.LeaseNotFound="LeaseNotFound",i.OracleWalletNotFound="OracleWalletNotFound",i.StateAlreadyExists="StateAlreadyExists",i.QueueAlreadyExists="QueueAlreadyExists",i.OracleAlreadyExists="OracleAlreadyExists",i.JobAlreadyExists="JobAlreadyExists",i.CrankAlreadyExists="CrankAlreadyExists",i.AggregatorAlreadyExists="AggregatorAlreadyExists",i.LeaseAlreadyExists="LeaseAlreadyExists",i.OracleWalletAlreadyExists="OracleWalletAlreadyExists",i.InvalidAuthority="InvalidAuthority",i.PermissionDenied="PermissionDenied",i.CrankDisabled="CrankDisabled",i.OracleMismatch="OracleMismatch",i.JobsChecksumMismatch="JobsChecksumMismatch",i.OracleAlreadyResponded="OracleAlreadyResponded",i.InvalidArgument="InvalidArgument",i.CrankNotReady="CrankNotReady",i.CrankEmpty="CrankEmpty",i.LeaseInactive="LeaseInactive",i.AggregatorLocked="AggregatorLocked",i.InsufficientCoin="InsufficientCoin",i.LeaseInsufficientCoin="LeaseInsufficientCoin",i.OracleWalletInsufficientCoin="OracleWalletInsufficientCoin",i.AggregatorInvalidBatchSize="AggregatorInvalidBatchSize",i.AggregatorInvalidMinOracleResults="AggregatorInvalidMinOracleResults",i.AggregatorInvalidUpdateDelay="AggregatorInvalidUpdateDelay",i.AggregatorIllegalRoundOpenCall="AggregatorIllegalRoundOpenCall",i.AggregatorQueueNotReady="AggregatorQueueNotReady",i.ResourceAlreadyExists="ResourceAlreadyExists",i.PermissionAlreadyExists="PermissionAlreadyExists"})(SwitchboardErrorEnum||(SwitchboardErrorEnum={}));class SwitchboardError extends Error{constructor(n,r,t,e,o){super(`${n}: ${t}${e?" - "+e:""}`),this.code=n,this.hexCode=r,this.name=t,this.msg=e,this.logs=o}static fromErrorType(n,r){switch(n){case"Generic":return new Generic(r);case"StateNotFound":return new StateNotFound(r);case"QueueNotFound":return new QueueNotFound(r);case"OracleNotFound":return new OracleNotFound(r);case"JobNotFound":return new JobNotFound(r);case"CrankNotFound":return new CrankNotFound(r);case"AggregatorNotFound":return new AggregatorNotFound(r);case"LeaseNotFound":return new LeaseNotFound(r);case"OracleWalletNotFound":return new OracleWalletNotFound(r);case"StateAlreadyExists":return new StateAlreadyExists(r);case"QueueAlreadyExists":return new QueueAlreadyExists(r);case"OracleAlreadyExists":return new OracleAlreadyExists(r);case"JobAlreadyExists":return new JobAlreadyExists(r);case"CrankAlreadyExists":return new CrankAlreadyExists(r);case"AggregatorAlreadyExists":return new AggregatorAlreadyExists(r);case"LeaseAlreadyExists":return new LeaseAlreadyExists(r);case"OracleWalletAlreadyExists":return new OracleWalletAlreadyExists(r);case"InvalidAuthority":return new InvalidAuthority(r);case"PermissionDenied":return new PermissionDenied(r);case"CrankDisabled":return new CrankDisabled(r);case"OracleMismatch":return new OracleMismatch(r);case"JobsChecksumMismatch":return new JobsChecksumMismatch(r);case"OracleAlreadyResponded":return new OracleAlreadyResponded(r);case"InvalidArgument":return new InvalidArgument(r);case"CrankNotReady":return new CrankNotReady(r);case"CrankEmpty":return new CrankEmpty(r);case"LeaseInactive":return new LeaseInactive(r);case"AggregatorLocked":return new AggregatorLocked(r);case"InsufficientCoin":return new InsufficientCoin(r);case"LeaseInsufficientCoin":return new LeaseInsufficientCoin(r);case"OracleWalletInsufficientCoin":return new OracleWalletInsufficientCoin(r);case"AggregatorInvalidBatchSize":return new AggregatorInvalidBatchSize(r);case"AggregatorInvalidMinOracleResults":return new AggregatorInvalidMinOracleResults(r);case"AggregatorInvalidUpdateDelay":return new AggregatorInvalidUpdateDelay(r);case"AggregatorIllegalRoundOpenCall":return new AggregatorIllegalRoundOpenCall(r);case"AggregatorQueueNotReady":return new AggregatorQueueNotReady(r);case"ResourceAlreadyExists":return new ResourceAlreadyExists(r);case"PermissionAlreadyExists":return new PermissionAlreadyExists(r);default:return new Generic(r)}}}class Generic extends SwitchboardError{constructor(n){super(0,"0xb0000","Generic",void 0,n),this.logs=n}}Generic.code=0;Generic.hexCode="0xb0000";class StateNotFound extends SwitchboardError{constructor(n){super(1,"0x60001","StateNotFound",void 0,n),this.logs=n}}StateNotFound.code=1;StateNotFound.hexCode="0x60001";class QueueNotFound extends SwitchboardError{constructor(n){super(2,"0x60002","QueueNotFound",void 0,n),this.logs=n}}QueueNotFound.code=2;QueueNotFound.hexCode="0x60002";class OracleNotFound extends SwitchboardError{constructor(n){super(3,"0x60003","OracleNotFound",void 0,n),this.logs=n}}OracleNotFound.code=3;OracleNotFound.hexCode="0x60003";class JobNotFound extends SwitchboardError{constructor(n){super(4,"0x60004","JobNotFound",void 0,n),this.logs=n}}JobNotFound.code=4;JobNotFound.hexCode="0x60004";class CrankNotFound extends SwitchboardError{constructor(n){super(5,"0x60005","CrankNotFound",void 0,n),this.logs=n}}CrankNotFound.code=5;CrankNotFound.hexCode="0x60005";class AggregatorNotFound extends SwitchboardError{constructor(n){super(6,"0x60006","AggregatorNotFound",void 0,n),this.logs=n}}AggregatorNotFound.code=6;AggregatorNotFound.hexCode="0x60006";class LeaseNotFound extends SwitchboardError{constructor(n){super(7,"0x60007","LeaseNotFound",void 0,n),this.logs=n}}LeaseNotFound.code=7;LeaseNotFound.hexCode="0x60007";class OracleWalletNotFound extends SwitchboardError{constructor(n){super(8,"0x60008","OracleWalletNotFound",void 0,n),this.logs=n}}OracleWalletNotFound.code=8;OracleWalletNotFound.hexCode="0x60008";class StateAlreadyExists extends SwitchboardError{constructor(n){super(9,"0x80009","StateAlreadyExists",void 0,n),this.logs=n}}StateAlreadyExists.code=9;StateAlreadyExists.hexCode="0x80009";class QueueAlreadyExists extends SwitchboardError{constructor(n){super(10,"0x8000a","QueueAlreadyExists",void 0,n),this.logs=n}}QueueAlreadyExists.code=10;QueueAlreadyExists.hexCode="0x8000a";class OracleAlreadyExists extends SwitchboardError{constructor(n){super(11,"0x8000b","OracleAlreadyExists",void 0,n),this.logs=n}}OracleAlreadyExists.code=11;OracleAlreadyExists.hexCode="0x8000b";class JobAlreadyExists extends SwitchboardError{constructor(n){super(12,"0x8000c","JobAlreadyExists",void 0,n),this.logs=n}}JobAlreadyExists.code=12;JobAlreadyExists.hexCode="0x8000c";class CrankAlreadyExists extends SwitchboardError{constructor(n){super(13,"0x8000d","CrankAlreadyExists",void 0,n),this.logs=n}}CrankAlreadyExists.code=13;CrankAlreadyExists.hexCode="0x8000d";class AggregatorAlreadyExists extends SwitchboardError{constructor(n){super(14,"0x8000e","AggregatorAlreadyExists",void 0,n),this.logs=n}}AggregatorAlreadyExists.code=14;AggregatorAlreadyExists.hexCode="0x8000e";class LeaseAlreadyExists extends SwitchboardError{constructor(n){super(15,"0x8000f","LeaseAlreadyExists",void 0,n),this.logs=n}}LeaseAlreadyExists.code=15;LeaseAlreadyExists.hexCode="0x8000f";class OracleWalletAlreadyExists extends SwitchboardError{constructor(n){super(16,"0x80010","OracleWalletAlreadyExists",void 0,n),this.logs=n}}OracleWalletAlreadyExists.code=16;OracleWalletAlreadyExists.hexCode="0x80010";class InvalidAuthority extends SwitchboardError{constructor(n){super(17,"0x50011","InvalidAuthority",void 0,n),this.logs=n}}InvalidAuthority.code=17;InvalidAuthority.hexCode="0x50011";class PermissionDenied extends SwitchboardError{constructor(n){super(18,"0x50012","PermissionDenied",void 0,n),this.logs=n}}PermissionDenied.code=18;PermissionDenied.hexCode="0x50012";class CrankDisabled extends SwitchboardError{constructor(n){super(19,"0x50013","CrankDisabled",void 0,n),this.logs=n}}CrankDisabled.code=19;CrankDisabled.hexCode="0x50013";class OracleMismatch extends SwitchboardError{constructor(n){super(20,"0x10014","OracleMismatch",void 0,n),this.logs=n}}OracleMismatch.code=20;OracleMismatch.hexCode="0x10014";class JobsChecksumMismatch extends SwitchboardError{constructor(n){super(21,"0x10015","JobsChecksumMismatch",void 0,n),this.logs=n}}JobsChecksumMismatch.code=21;JobsChecksumMismatch.hexCode="0x10015";class OracleAlreadyResponded extends SwitchboardError{constructor(n){super(22,"0x10016","OracleAlreadyResponded",void 0,n),this.logs=n}}OracleAlreadyResponded.code=22;OracleAlreadyResponded.hexCode="0x10016";class InvalidArgument extends SwitchboardError{constructor(n){super(23,"0x10017","InvalidArgument",void 0,n),this.logs=n}}InvalidArgument.code=23;InvalidArgument.hexCode="0x10017";class CrankNotReady extends SwitchboardError{constructor(n){super(24,"0x30018","CrankNotReady",void 0,n),this.logs=n}}CrankNotReady.code=24;CrankNotReady.hexCode="0x30018";class CrankEmpty extends SwitchboardError{constructor(n){super(25,"0x30019","CrankEmpty",void 0,n),this.logs=n}}CrankEmpty.code=25;CrankEmpty.hexCode="0x30019";class LeaseInactive extends SwitchboardError{constructor(n){super(26,"0x3001a","LeaseInactive",void 0,n),this.logs=n}}LeaseInactive.code=26;LeaseInactive.hexCode="0x3001a";class AggregatorLocked extends SwitchboardError{constructor(n){super(27,"0x3001b","AggregatorLocked",void 0,n),this.logs=n}}AggregatorLocked.code=27;AggregatorLocked.hexCode="0x3001b";class InsufficientCoin extends SwitchboardError{constructor(n){super(28,"0x9001c","InsufficientCoin",void 0,n),this.logs=n}}InsufficientCoin.code=28;InsufficientCoin.hexCode="0x9001c";class LeaseInsufficientCoin extends SwitchboardError{constructor(n){super(29,"0x9001d","LeaseInsufficientCoin",void 0,n),this.logs=n}}LeaseInsufficientCoin.code=29;LeaseInsufficientCoin.hexCode="0x9001d";class OracleWalletInsufficientCoin extends SwitchboardError{constructor(n){super(30,"0x9001e","OracleWalletInsufficientCoin",void 0,n),this.logs=n}}OracleWalletInsufficientCoin.code=30;OracleWalletInsufficientCoin.hexCode="0x9001e";class AggregatorInvalidBatchSize extends SwitchboardError{constructor(n){super(31,"0x1001f","AggregatorInvalidBatchSize",void 0,n),this.logs=n}}AggregatorInvalidBatchSize.code=31;AggregatorInvalidBatchSize.hexCode="0x1001f";class AggregatorInvalidMinOracleResults extends SwitchboardError{constructor(n){super(32,"0x10020","AggregatorInvalidMinOracleResults",void 0,n),this.logs=n}}AggregatorInvalidMinOracleResults.code=32;AggregatorInvalidMinOracleResults.hexCode="0x10020";class AggregatorInvalidUpdateDelay extends SwitchboardError{constructor(n){super(33,"0x10021","AggregatorInvalidUpdateDelay",void 0,n),this.logs=n}}AggregatorInvalidUpdateDelay.code=33;AggregatorInvalidUpdateDelay.hexCode="0x10021";class AggregatorIllegalRoundOpenCall extends SwitchboardError{constructor(n){super(34,"0x10022","AggregatorIllegalRoundOpenCall",void 0,n),this.logs=n}}AggregatorIllegalRoundOpenCall.code=34;AggregatorIllegalRoundOpenCall.hexCode="0x10022";class AggregatorQueueNotReady extends SwitchboardError{constructor(n){super(35,"0x10023","AggregatorQueueNotReady",void 0,n),this.logs=n}}AggregatorQueueNotReady.code=35;AggregatorQueueNotReady.hexCode="0x10023";class ResourceAlreadyExists extends SwitchboardError{constructor(n){super(36,"0x80024","ResourceAlreadyExists",void 0,n),this.logs=n}}ResourceAlreadyExists.code=36;ResourceAlreadyExists.hexCode="0x80024";class PermissionAlreadyExists extends SwitchboardError{constructor(n){super(37,"0x80025","PermissionAlreadyExists",void 0,n),this.logs=n}}PermissionAlreadyExists.code=37;PermissionAlreadyExists.hexCode="0x80025";var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(i,n){for(var r=new Array(arguments.length-1),t=0,e=2,o=!0;e<arguments.length;)r[t++]=arguments[e++];return new Promise(function(a,l){r[t]=function(u){if(o)if(o=!1,u)l(u);else{for(var f=new Array(arguments.length-1),p=0;p<f.length;)f[p++]=arguments[p];a.apply(null,f)}};try{i.apply(n||null,r)}catch(c){o&&(o=!1,l(c))}})}var base64$1={};(function(i){var n=i;n.length=function(a){var l=a.length;if(!l)return 0;for(var c=0;--l%4>1&&a.charAt(l)==="=";)++c;return Math.ceil(a.length*3)/4-c};for(var r=new Array(64),t=new Array(123),e=0;e<64;)t[r[e]=e<26?e+65:e<52?e+71:e<62?e-4:e-59|43]=e++;n.encode=function(a,l,c){for(var u=null,f=[],p=0,h=0,k;l<c;){var y=a[l++];switch(h){case 0:f[p++]=r[y>>2],k=(y&3)<<4,h=1;break;case 1:f[p++]=r[k|y>>4],k=(y&15)<<2,h=2;break;case 2:f[p++]=r[k|y>>6],f[p++]=r[y&63],h=0;break}p>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,f)),p=0)}return h&&(f[p++]=r[k],f[p++]=61,h===1&&(f[p++]=61)),u?(p&&u.push(String.fromCharCode.apply(String,f.slice(0,p))),u.join("")):String.fromCharCode.apply(String,f.slice(0,p))};var o="invalid encoding";n.decode=function(a,l,c){for(var u=c,f=0,p,h=0;h<a.length;){var k=a.charCodeAt(h++);if(k===61&&f>1)break;if((k=t[k])===void 0)throw Error(o);switch(f){case 0:p=k,f=1;break;case 1:l[c++]=p<<2|(k&48)>>4,p=k,f=2;break;case 2:l[c++]=(p&15)<<4|(k&60)>>2,p=k,f=3;break;case 3:l[c++]=(p&3)<<6|k,f=0;break}}if(f===1)throw Error(o);return c-u},n.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(n,r,t){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:t||this}),this};EventEmitter.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var t=this._listeners[n],e=0;e<t.length;)t[e].fn===r?t.splice(e,1):++e;return this};EventEmitter.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var t=[],e=1;e<arguments.length;)t.push(arguments[e++]);for(e=0;e<r.length;)r[e].fn.apply(r[e++].ctx,t)}return this};var float$2=factory(factory);function factory(i){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),t=r[3]===128;function e(l,c,u){n[0]=l,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function o(l,c,u){n[0]=l,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}i.writeFloatLE=t?e:o,i.writeFloatBE=t?o:e;function s(l,c){return r[0]=l[c],r[1]=l[c+1],r[2]=l[c+2],r[3]=l[c+3],n[0]}function a(l,c){return r[3]=l[c],r[2]=l[c+1],r[1]=l[c+2],r[0]=l[c+3],n[0]}i.readFloatLE=t?s:a,i.readFloatBE=t?a:s}():function(){function n(t,e,o,s){var a=e<0?1:0;if(a&&(e=-e),e===0)t(1/e>0?0:2147483648,o,s);else if(isNaN(e))t(2143289344,o,s);else if(e>34028234663852886e22)t((a<<31|2139095040)>>>0,o,s);else if(e<11754943508222875e-54)t((a<<31|Math.round(e/1401298464324817e-60))>>>0,o,s);else{var l=Math.floor(Math.log(e)/Math.LN2),c=Math.round(e*Math.pow(2,-l)*8388608)&8388607;t((a<<31|l+127<<23|c)>>>0,o,s)}}i.writeFloatLE=n.bind(null,writeUintLE),i.writeFloatBE=n.bind(null,writeUintBE);function r(t,e,o){var s=t(e,o),a=(s>>31)*2+1,l=s>>>23&255,c=s&8388607;return l===255?c?NaN:a*(1/0):l===0?a*1401298464324817e-60*c:a*Math.pow(2,l-150)*(c+8388608)}i.readFloatLE=r.bind(null,readUintLE),i.readFloatBE=r.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),t=r[7]===128;function e(l,c,u){n[0]=l,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function o(l,c,u){n[0]=l,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}i.writeDoubleLE=t?e:o,i.writeDoubleBE=t?o:e;function s(l,c){return r[0]=l[c],r[1]=l[c+1],r[2]=l[c+2],r[3]=l[c+3],r[4]=l[c+4],r[5]=l[c+5],r[6]=l[c+6],r[7]=l[c+7],n[0]}function a(l,c){return r[7]=l[c],r[6]=l[c+1],r[5]=l[c+2],r[4]=l[c+3],r[3]=l[c+4],r[2]=l[c+5],r[1]=l[c+6],r[0]=l[c+7],n[0]}i.readDoubleLE=t?s:a,i.readDoubleBE=t?a:s}():function(){function n(t,e,o,s,a,l){var c=s<0?1:0;if(c&&(s=-s),s===0)t(0,a,l+e),t(1/s>0?0:2147483648,a,l+o);else if(isNaN(s))t(0,a,l+e),t(2146959360,a,l+o);else if(s>17976931348623157e292)t(0,a,l+e),t((c<<31|2146435072)>>>0,a,l+o);else{var u;if(s<22250738585072014e-324)u=s/5e-324,t(u>>>0,a,l+e),t((c<<31|u/4294967296)>>>0,a,l+o);else{var f=Math.floor(Math.log(s)/Math.LN2);f===1024&&(f=1023),u=s*Math.pow(2,-f),t(u*4503599627370496>>>0,a,l+e),t((c<<31|f+1023<<20|u*1048576&1048575)>>>0,a,l+o)}}}i.writeDoubleLE=n.bind(null,writeUintLE,0,4),i.writeDoubleBE=n.bind(null,writeUintBE,4,0);function r(t,e,o,s,a){var l=t(s,a+e),c=t(s,a+o),u=(c>>31)*2+1,f=c>>>20&2047,p=4294967296*(c&1048575)+l;return f===2047?p?NaN:u*(1/0):f===0?u*5e-324*p:u*Math.pow(2,f-1075)*(p+4503599627370496)}i.readDoubleLE=r.bind(null,readUintLE,0,4),i.readDoubleBE=r.bind(null,readUintBE,4,0)}(),i}function writeUintLE(i,n,r){n[r]=i&255,n[r+1]=i>>>8&255,n[r+2]=i>>>16&255,n[r+3]=i>>>24}function writeUintBE(i,n,r){n[r]=i>>>24,n[r+1]=i>>>16&255,n[r+2]=i>>>8&255,n[r+3]=i&255}function readUintLE(i,n){return(i[n]|i[n+1]<<8|i[n+2]<<16|i[n+3]<<24)>>>0}function readUintBE(i,n){return(i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}var utf8$2={};(function(i){var n=i;n.length=function(t){for(var e=0,o=0,s=0;s<t.length;++s)o=t.charCodeAt(s),o<128?e+=1:o<2048?e+=2:(o&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e},n.read=function(t,e,o){var s=o-e;if(s<1)return"";for(var a=null,l=[],c=0,u;e<o;)u=t[e++],u<128?l[c++]=u:u>191&&u<224?l[c++]=(u&31)<<6|t[e++]&63:u>239&&u<365?(u=((u&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,l[c++]=55296+(u>>10),l[c++]=56320+(u&1023)):l[c++]=(u&15)<<12|(t[e++]&63)<<6|t[e++]&63,c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,l)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,l.slice(0,c))),a.join("")):String.fromCharCode.apply(String,l.slice(0,c))},n.write=function(t,e,o){for(var s=o,a,l,c=0;c<t.length;++c)a=t.charCodeAt(c),a<128?e[o++]=a:a<2048?(e[o++]=a>>6|192,e[o++]=a&63|128):(a&64512)===55296&&((l=t.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(l&1023),++c,e[o++]=a>>18|240,e[o++]=a>>12&63|128,e[o++]=a>>6&63|128,e[o++]=a&63|128):(e[o++]=a>>12|224,e[o++]=a>>6&63|128,e[o++]=a&63|128);return o-s}})(utf8$2);var pool_1=pool;function pool(i,n,r){var t=r||8192,e=t>>>1,o=null,s=t;return function(l){if(l<1||l>e)return i(l);s+l>t&&(o=i(t),s=0);var c=n.call(o,s,s+=l);return s&7&&(s=(s|7)+1),c}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=n;var i=requireMinimal();function n(o,s){this.lo=o>>>0,this.hi=s>>>0}var r=n.zero=new n(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var t=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(s){if(s===0)return r;var a=s<0;a&&(s=-s);var l=s>>>0,c=(s-l)/4294967296>>>0;return a&&(c=~c>>>0,l=~l>>>0,++l>4294967295&&(l=0,++c>4294967295&&(c=0))),new n(l,c)},n.from=function(s){if(typeof s=="number")return n.fromNumber(s);if(i.isString(s))if(i.Long)s=i.Long.fromString(s);else return n.fromNumber(parseInt(s,10));return s.low||s.high?new n(s.low>>>0,s.high>>>0):r},n.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var a=~this.lo+1>>>0,l=~this.hi>>>0;return a||(l=l+1>>>0),-(a+l*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(s){return i.Long?new i.Long(this.lo|0,this.hi|0,!!s):{low:this.lo|0,high:this.hi|0,unsigned:!!s}};var e=String.prototype.charCodeAt;return n.fromHash=function(s){return s===t?r:new n((e.call(s,0)|e.call(s,1)<<8|e.call(s,2)<<16|e.call(s,3)<<24)>>>0,(e.call(s,4)|e.call(s,5)<<8|e.call(s,6)<<16|e.call(s,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},n.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},n.prototype.length=function(){var s=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?a===0?s<16384?s<128?1:2:s<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:l<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(i){var n=i;n.asPromise=aspromise,n.base64=base64$1,n.EventEmitter=eventemitter,n.float=float$2,n.inquire=inquire_1,n.utf8=utf8$2,n.pool=pool_1,n.LongBits=requireLongbits(),n.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),n.global=n.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},n.isString=function(o){return typeof o=="string"||o instanceof String},n.isObject=function(o){return o&&typeof o=="object"},n.isset=n.isSet=function(o,s){var a=o[s];return a!=null&&o.hasOwnProperty(s)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(o){return typeof o=="number"?n.Buffer?n._Buffer_allocUnsafe(o):new n.Array(o):n.Buffer?n._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(o){return o?n.LongBits.from(o).toHash():n.LongBits.zeroHash},n.longFromHash=function(o,s){var a=n.LongBits.fromHash(o);return n.Long?n.Long.fromBits(a.lo,a.hi,s):a.toNumber(!!s)};function r(e,o,s){for(var a=Object.keys(o),l=0;l<a.length;++l)(e[a[l]]===void 0||!s)&&(e[a[l]]=o[a[l]]);return e}n.merge=r,n.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function t(e){function o(s,a){if(!(this instanceof o))return new o(s,a);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&r(this,a)}return o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),o}n.newError=t,n.ProtocolError=t("ProtocolError"),n.oneOfGetter=function(o){for(var s={},a=0;a<o.length;++a)s[o[a]]=1;return function(){for(var l=Object.keys(this),c=l.length-1;c>-1;--c)if(s[l[c]]===1&&this[l[c]]!==void 0&&this[l[c]]!==null)return l[c]}},n.oneOfSetter=function(o){return function(s){for(var a=0;a<o.length;++a)o[a]!==s&&delete this[o[a]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(s,a){return new e(s,a)},n._Buffer_allocUnsafe=e.allocUnsafe||function(s){return new e(s)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(i,n,r){this.fn=i,this.len=n,this.next=void 0,this.val=r}function noop(){}function State(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function i(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function i(n){return new util$4.Array(n)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function i(n,r,t){return this.tail=this.tail.next=new Op(n,r,t),this.len+=r,this};function writeByte(i,n,r){n[r]=i&255}function writeVarint32(i,n,r){for(;i>127;)n[r++]=i&127|128,i>>>=7;n[r]=i}function VarintOp(i,n){this.len=i,this.next=void 0,this.val=n}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function i(n){return this.len+=(this.tail=this.tail.next=new VarintOp((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};Writer$1.prototype.int32=function i(n){return n<0?this._push(writeVarint64,10,LongBits$1.fromNumber(n)):this.uint32(n)};Writer$1.prototype.sint32=function i(n){return this.uint32((n<<1^n>>31)>>>0)};function writeVarint64(i,n,r){for(;i.hi;)n[r++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)n[r++]=i.lo&127|128,i.lo=i.lo>>>7;n[r++]=i.lo}Writer$1.prototype.uint64=function i(n){var r=LongBits$1.from(n);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function i(n){var r=LongBits$1.from(n).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function i(n){return this._push(writeByte,1,n?1:0)};function writeFixed32(i,n,r){n[r]=i&255,n[r+1]=i>>>8&255,n[r+2]=i>>>16&255,n[r+3]=i>>>24}Writer$1.prototype.fixed32=function i(n){return this._push(writeFixed32,4,n>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function i(n){var r=LongBits$1.from(n);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function i(n){return this._push(util$4.float.writeFloatLE,4,n)};Writer$1.prototype.double=function i(n){return this._push(util$4.float.writeDoubleLE,8,n)};var writeBytes=util$4.Array.prototype.set?function i(n,r,t){r.set(n,t)}:function i(n,r,t){for(var e=0;e<n.length;++e)r[t+e]=n[e]};Writer$1.prototype.bytes=function i(n){var r=n.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$4.isString(n)){var t=Writer$1.alloc(r=base64.length(n));base64.decode(n,t,0),n=t}return this.uint32(r)._push(writeBytes,r,n)};Writer$1.prototype.string=function i(n){var r=utf8$1.length(n);return r?this.uint32(r)._push(utf8$1.write,r,n):this._push(writeByte,1,0)};Writer$1.prototype.fork=function i(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function i(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function i(){var n=this.head,r=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=n.next,this.tail=r,this.len+=t),this};Writer$1.prototype.finish=function i(){for(var n=this.head.next,r=this.constructor.alloc(this.len),t=0;n;)n.fn(n.val,r,t),t+=n.len,n=n.next;return r};Writer$1._configure=function(i){BufferWriter$1=i,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(n,r,t){r.set(n,t)}:function(n,r,t){if(n.copy)n.copy(r,t,0,n.length);else for(var e=0;e<n.length;)r[t++]=n[e++]}};BufferWriter.prototype.bytes=function i(n){util$3.isString(n)&&(n=util$3._Buffer_from(n,"base64"));var r=n.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,n),this};function writeStringBuffer(i,n,r){i.length<40?util$3.utf8.write(i,n,r):n.utf8Write?n.utf8Write(i,r):n.write(i,r)}BufferWriter.prototype.string=function i(n){var r=util$3.Buffer.byteLength(n);return this.uint32(r),r&&this._push(writeStringBuffer,r,n),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(i,n){return RangeError("index out of range: "+i.pos+" + "+(n||1)+" > "+i.len)}function Reader$1(i){this.buf=i,this.pos=0,this.len=i.length}var create_array=typeof Uint8Array<"u"?function i(n){if(n instanceof Uint8Array||Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")}:function i(n){if(Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")},create=function i(){return util$2.Buffer?function(r){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(r)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function i(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return n}}();Reader$1.prototype.int32=function i(){return this.uint32()|0};Reader$1.prototype.sint32=function i(){var n=this.uint32();return n>>>1^-(n&1)|0};function readLongVarint(){var i=new LongBits(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,i}if(this.len-this.pos>4){for(;n<5;++n)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;n<5;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function i(){return this.uint32()!==0};function readFixed32_end(i,n){return(i[n-4]|i[n-3]<<8|i[n-2]<<16|i[n-1]<<24)>>>0}Reader$1.prototype.fixed32=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var n=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Reader$1.prototype.double=function i(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var n=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Reader$1.prototype.bytes=function i(){var n=this.uint32(),r=this.pos,t=this.pos+n;if(t>this.len)throw indexOutOfRange(this,n);if(this.pos+=n,Array.isArray(this.buf))return this.buf.slice(r,t);if(r===t){var e=util$2.Buffer;return e?e.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,t)};Reader$1.prototype.string=function i(){var n=this.bytes();return utf8.read(n,0,n.length)};Reader$1.prototype.skip=function i(n){if(typeof n=="number"){if(this.pos+n>this.len)throw indexOutOfRange(this,n);this.pos+=n}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};Reader$1._configure=function(i){BufferReader$1=i,Reader$1.create=create(),BufferReader$1._configure();var n=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[n](!1)},uint64:function(){return readLongVarint.call(this)[n](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[n](!1)},fixed64:function(){return readFixed64.call(this)[n](!0)},sfixed64:function(){return readFixed64.call(this)[n](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(i){Reader.call(this,i)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function i(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(i,n,r){if(typeof i!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!n,this.responseDelimited=!!r}Service.prototype.rpcCall=function i(n,r,t,e,o){if(!e)throw TypeError("request must be specified");var s=this;if(!o)return util.asPromise(i,s,n,r,t,e);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(l,c){if(l)return s.emit("error",l,n),o(l);if(c===null){s.end(!0);return}if(!(c instanceof t))try{c=t[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return s.emit("error",u,n),o(u)}return s.emit("data",c,n),o(null,c)})}catch(a){s.emit("error",a,n),setTimeout(function(){o(a)},0);return}};Service.prototype.end=function i(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(i){var n=i;n.Service=service})(rpc);var roots={};(function(i){var n=i;n.build="minimal",n.Writer=writer,n.BufferWriter=writer_buffer,n.Reader=reader,n.BufferReader=reader_buffer,n.util=requireMinimal(),n.rpc=rpc,n.roots=roots,n.configure=r;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}r()})(indexMinimal);var minimal=indexMinimal;const protobuf=getDefaultExportFromCjs(minimal),ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR$1=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===ALIAS,isDocument=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===DOC,isMap=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===MAP,isPair=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===PAIR,isScalar$1=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===SCALAR$1,isSeq=i=>!!i&&typeof i=="object"&&i[NODE_TYPE]===SEQ;function isCollection$1(i){if(i&&typeof i=="object")switch(i[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(i){if(i&&typeof i=="object")switch(i[NODE_TYPE]){case ALIAS:case MAP:case SCALAR$1:case SEQ:return!0}return!1}const hasAnchor=i=>(isScalar$1(i)||isCollection$1(i))&&!!i.anchor,BREAK$1=Symbol("break visit"),SKIP$1=Symbol("skip children"),REMOVE$1=Symbol("remove node");function visit$1(i,n){const r=initVisitor(n);isDocument(i)?visit_(null,i.contents,r,Object.freeze([i]))===REMOVE$1&&(i.contents=null):visit_(null,i,r,Object.freeze([]))}visit$1.BREAK=BREAK$1;visit$1.SKIP=SKIP$1;visit$1.REMOVE=REMOVE$1;function visit_(i,n,r,t){const e=callVisitor(i,n,r,t);if(isNode(e)||isPair(e))return replaceNode(i,t,e),visit_(i,e,r,t);if(typeof e!="symbol"){if(isCollection$1(n)){t=Object.freeze(t.concat(n));for(let o=0;o<n.items.length;++o){const s=visit_(o,n.items[o],r,t);if(typeof s=="number")o=s-1;else{if(s===BREAK$1)return BREAK$1;s===REMOVE$1&&(n.items.splice(o,1),o-=1)}}}else if(isPair(n)){t=Object.freeze(t.concat(n));const o=visit_("key",n.key,r,t);if(o===BREAK$1)return BREAK$1;o===REMOVE$1&&(n.key=null);const s=visit_("value",n.value,r,t);if(s===BREAK$1)return BREAK$1;s===REMOVE$1&&(n.value=null)}}return e}async function visitAsync(i,n){const r=initVisitor(n);isDocument(i)?await visitAsync_(null,i.contents,r,Object.freeze([i]))===REMOVE$1&&(i.contents=null):await visitAsync_(null,i,r,Object.freeze([]))}visitAsync.BREAK=BREAK$1;visitAsync.SKIP=SKIP$1;visitAsync.REMOVE=REMOVE$1;async function visitAsync_(i,n,r,t){const e=await callVisitor(i,n,r,t);if(isNode(e)||isPair(e))return replaceNode(i,t,e),visitAsync_(i,e,r,t);if(typeof e!="symbol"){if(isCollection$1(n)){t=Object.freeze(t.concat(n));for(let o=0;o<n.items.length;++o){const s=await visitAsync_(o,n.items[o],r,t);if(typeof s=="number")o=s-1;else{if(s===BREAK$1)return BREAK$1;s===REMOVE$1&&(n.items.splice(o,1),o-=1)}}}else if(isPair(n)){t=Object.freeze(t.concat(n));const o=await visitAsync_("key",n.key,r,t);if(o===BREAK$1)return BREAK$1;o===REMOVE$1&&(n.key=null);const s=await visitAsync_("value",n.value,r,t);if(s===BREAK$1)return BREAK$1;s===REMOVE$1&&(n.value=null)}}return e}function initVisitor(i){return typeof i=="object"&&(i.Collection||i.Node||i.Value)?Object.assign({Alias:i.Node,Map:i.Node,Scalar:i.Node,Seq:i.Node},i.Value&&{Map:i.Value,Scalar:i.Value,Seq:i.Value},i.Collection&&{Map:i.Collection,Seq:i.Collection},i):i}function callVisitor(i,n,r,t){var e,o,s,a,l;if(typeof r=="function")return r(i,n,t);if(isMap(n))return(e=r.Map)==null?void 0:e.call(r,i,n,t);if(isSeq(n))return(o=r.Seq)==null?void 0:o.call(r,i,n,t);if(isPair(n))return(s=r.Pair)==null?void 0:s.call(r,i,n,t);if(isScalar$1(n))return(a=r.Scalar)==null?void 0:a.call(r,i,n,t);if(isAlias(n))return(l=r.Alias)==null?void 0:l.call(r,i,n,t)}function replaceNode(i,n,r){const t=n[n.length-1];if(isCollection$1(t))t.items[i]=r;else if(isPair(t))i==="key"?t.key=r:t.value=r;else if(isDocument(t))t.contents=r;else{const e=isAlias(t)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}}const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=i=>i.replace(/[!,[\]{}]/g,n=>escapeChars[n]);class Directives{constructor(n,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,n),this.tags=Object.assign({},Directives.defaultTags,r)}clone(){const n=new Directives(this.yaml,this.tags);return n.docStart=this.docStart,n}atDocument(){const n=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags);break}return n}add(n,r){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const t=n.trim().split(/[ \t]+/),e=t.shift();switch(e){case"%TAG":{if(t.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),t.length<2))return!1;const[o,s]=t;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,t.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[o]=t;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return r(6,`Unsupported YAML version ${o}`,s),!1}}default:return r(0,`Unknown directive ${e}`,!0),!1}}tagName(n,r){if(n==="!")return"!";if(n[0]!=="!")return r(`Not a valid tag: ${n}`),null;if(n[1]==="<"){const s=n.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${n} is invalid.`),null):(n[n.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}const[,t,e]=n.match(/^(.*!)([^!]*)$/s);e||r(`The ${n} tag has no suffix`);const o=this.tags[t];if(o)try{return o+decodeURIComponent(e)}catch(s){return r(String(s)),null}return t==="!"?n:(r(`Could not resolve tag: ${n}`),null)}tagString(n){for(const[r,t]of Object.entries(this.tags))if(n.startsWith(t))return r+escapeTagName(n.substring(t.length));return n[0]==="!"?n:`!<${n}>`}toString(n){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],t=Object.entries(this.tags);let e;if(n&&t.length>0&&isNode(n.contents)){const o={};visit$1(n.contents,(s,a)=>{isNode(a)&&a.tag&&(o[a.tag]=!0)}),e=Object.keys(o)}else e=[];for(const[o,s]of t)o==="!!"&&s==="tag:yaml.org,2002:"||(!n||e.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}}Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};function anchorIsValid(i){if(/[\x00-\x19\s,[\]{}]/.test(i)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(i)}`;throw new Error(r)}return!0}function anchorNames(i){const n=new Set;return visit$1(i,{Value(r,t){t.anchor&&n.add(t.anchor)}}),n}function findNewAnchor(i,n){for(let r=1;;++r){const t=`${i}${r}`;if(!n.has(t))return t}}function createNodeAnchors(i,n){const r=[],t=new Map;let e=null;return{onAnchor:o=>{r.push(o),e||(e=anchorNames(i));const s=findNewAnchor(n,e);return e.add(s),s},setAnchors:()=>{for(const o of r){const s=t.get(o);if(typeof s=="object"&&s.anchor&&(isScalar$1(s.node)||isCollection$1(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:t}}function applyReviver(i,n,r,t){if(t&&typeof t=="object")if(Array.isArray(t))for(let e=0,o=t.length;e<o;++e){const s=t[e],a=applyReviver(i,t,String(e),s);a===void 0?delete t[e]:a!==s&&(t[e]=a)}else if(t instanceof Map)for(const e of Array.from(t.keys())){const o=t.get(e),s=applyReviver(i,t,e,o);s===void 0?t.delete(e):s!==o&&t.set(e,s)}else if(t instanceof Set)for(const e of Array.from(t)){const o=applyReviver(i,t,e,e);o===void 0?t.delete(e):o!==e&&(t.delete(e),t.add(o))}else for(const[e,o]of Object.entries(t)){const s=applyReviver(i,t,e,o);s===void 0?delete t[e]:s!==o&&(t[e]=s)}return i.call(n,r,t)}function toJS(i,n,r){if(Array.isArray(i))return i.map((t,e)=>toJS(t,String(e),r));if(i&&typeof i.toJSON=="function"){if(!r||!hasAnchor(i))return i.toJSON(n,r);const t={aliasCount:0,count:1,res:void 0};r.anchors.set(i,t),r.onCreate=o=>{t.res=o,delete r.onCreate};const e=i.toJSON(n,r);return r.onCreate&&r.onCreate(e),e}return typeof i=="bigint"&&!(r!=null&&r.keep)?Number(i):i}class NodeBase{constructor(n){Object.defineProperty(this,NODE_TYPE,{value:n})}clone(){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(n.range=this.range.slice()),n}toJS(n,{mapAsMap:r,maxAliasCount:t,onAnchor:e,reviver:o}={}){if(!isDocument(n))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:n,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof t=="number"?t:100},a=toJS(this,"",s);if(typeof e=="function")for(const{count:l,res:c}of s.anchors.values())e(c,l);return typeof o=="function"?applyReviver(o,{"":a},"",a):a}}class Alias extends NodeBase{constructor(n){super(ALIAS),this.source=n,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(n){let r;return visit$1(n,{Node:(t,e)=>{if(e===this)return visit$1.BREAK;e.anchor===this.source&&(r=e)}}),r}toJSON(n,r){if(!r)return{source:this.source};const{anchors:t,doc:e,maxAliasCount:o}=r,s=this.resolve(e);if(!s){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=t.get(s);if(a||(toJS(s,null,r),a=t.get(s)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=getAliasCount(e,s,t)),a.count*a.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(n,r,t){const e=`*${this.source}`;if(n){if(anchorIsValid(this.source),n.options.verifyAliasOrder&&!n.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(n.implicitKey)return`${e} `}return e}}function getAliasCount(i,n,r){if(isAlias(n)){const t=n.resolve(i),e=r&&t&&r.get(t);return e?e.count*e.aliasCount:0}else if(isCollection$1(n)){let t=0;for(const e of n.items){const o=getAliasCount(i,e,r);o>t&&(t=o)}return t}else if(isPair(n)){const t=getAliasCount(i,n.key,r),e=getAliasCount(i,n.value,r);return Math.max(t,e)}return 1}const isScalarValue=i=>!i||typeof i!="function"&&typeof i!="object";class Scalar extends NodeBase{constructor(n){super(SCALAR$1),this.value=n}toJSON(n,r){return r!=null&&r.keep?this.value:toJS(this.value,n,r)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(i,n,r){if(n){const t=r.filter(o=>o.tag===n),e=t.find(o=>!o.format)??t[0];if(!e)throw new Error(`Tag ${n} not found`);return e}return r.find(t=>{var e;return((e=t.identify)==null?void 0:e.call(t,i))&&!t.format})}function createNode(i,n,r){var f,p,h;if(isDocument(i)&&(i=i.contents),isNode(i))return i;if(isPair(i)){const k=(p=(f=r.schema[MAP]).createNode)==null?void 0:p.call(f,r.schema,null,r);return k.items.push(i),k}(i instanceof String||i instanceof Number||i instanceof Boolean||typeof BigInt<"u"&&i instanceof BigInt)&&(i=i.valueOf());const{aliasDuplicateObjects:t,onAnchor:e,onTagObj:o,schema:s,sourceObjects:a}=r;let l;if(t&&i&&typeof i=="object"){if(l=a.get(i),l)return l.anchor||(l.anchor=e(i)),new Alias(l.anchor);l={anchor:null,node:null},a.set(i,l)}n!=null&&n.startsWith("!!")&&(n=defaultTagPrefix+n.slice(2));let c=findTagObject(i,n,s.tags);if(!c){if(i&&typeof i.toJSON=="function"&&(i=i.toJSON()),!i||typeof i!="object"){const k=new Scalar(i);return l&&(l.node=k),k}c=i instanceof Map?s[MAP]:Symbol.iterator in Object(i)?s[SEQ]:s[MAP]}o&&(o(c),delete r.onTagObj);const u=c!=null&&c.createNode?c.createNode(r.schema,i,r):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(r.schema,i,r):new Scalar(i);return n?u.tag=n:c.default||(u.tag=c.tag),l&&(l.node=u),u}function collectionFromPath(i,n,r){let t=r;for(let e=n.length-1;e>=0;--e){const o=n[e];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=t,t=s}else t=new Map([[o,t]])}return createNode(t,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:i,sourceObjects:new Map})}const isEmptyPath=i=>i==null||typeof i=="object"&&!!i[Symbol.iterator]().next().done;class Collection extends NodeBase{constructor(n,r){super(n),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(n){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return n&&(r.schema=n),r.items=r.items.map(t=>isNode(t)||isPair(t)?t.clone(n):t),this.range&&(r.range=this.range.slice()),r}addIn(n,r){if(isEmptyPath(n))this.add(r);else{const[t,...e]=n,o=this.get(t,!0);if(isCollection$1(o))o.addIn(e,r);else if(o===void 0&&this.schema)this.set(t,collectionFromPath(this.schema,e,r));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}deleteIn(n){const[r,...t]=n;if(t.length===0)return this.delete(r);const e=this.get(r,!0);if(isCollection$1(e))return e.deleteIn(t);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${t}`)}getIn(n,r){const[t,...e]=n,o=this.get(t,!0);return e.length===0?!r&&isScalar$1(o)?o.value:o:isCollection$1(o)?o.getIn(e,r):void 0}hasAllNullValues(n){return this.items.every(r=>{if(!isPair(r))return!1;const t=r.value;return t==null||n&&isScalar$1(t)&&t.value==null&&!t.commentBefore&&!t.comment&&!t.tag})}hasIn(n){const[r,...t]=n;if(t.length===0)return this.has(r);const e=this.get(r,!0);return isCollection$1(e)?e.hasIn(t):!1}setIn(n,r){const[t,...e]=n;if(e.length===0)this.set(t,r);else{const o=this.get(t,!0);if(isCollection$1(o))o.setIn(e,r);else if(o===void 0&&this.schema)this.set(t,collectionFromPath(this.schema,e,r));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}}Collection.maxFlowStringSingleLineLength=60;const stringifyComment=i=>i.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(i,n){return/^\n+$/.test(i)?i.substring(1):n?i.replace(/^(?! *$)/gm,n):i}const lineComment=(i,n,r)=>i.endsWith(`
`)?indentComment(r,n):r.includes(`
`)?`
`+indentComment(r,n):(i.endsWith(" ")?"":" ")+r,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(i,n,r="flow",{indentAtStart:t,lineWidth:e=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!e||e<0)return i;const l=Math.max(1+o,1+e-n.length);if(i.length<=l)return i;const c=[],u={};let f=e-n.length;typeof t=="number"&&(t>e-Math.max(2,o)?c.push(0):f=e-t);let p,h,k=!1,y=-1,b=-1,m=-1;r===FOLD_BLOCK&&(y=consumeMoreIndentedLines(i,y),y!==-1&&(f=y+l));for(let O;O=i[y+=1];){if(r===FOLD_QUOTED&&O==="\\"){switch(b=y,i[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if(O===`
`)r===FOLD_BLOCK&&(y=consumeMoreIndentedLines(i,y)),f=y+l,p=void 0;else{if(O===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const g=i[y+1];g&&g!==" "&&g!==`
`&&g!=="	"&&(p=y)}if(y>=f)if(p)c.push(p),f=p+l,p=void 0;else if(r===FOLD_QUOTED){for(;h===" "||h==="	";)h=O,O=i[y+=1],k=!0;const g=y>m+1?y-2:b-1;if(u[g])return i;c.push(g),u[g]=!0,f=g+l,p=void 0}else k=!0}h=O}if(k&&a&&a(),c.length===0)return i;s&&s();let w=i.slice(0,c[0]);for(let O=0;O<c.length;++O){const g=c[O],A=c[O+1]||i.length;g===0?w=`
${n}${i.slice(0,A)}`:(r===FOLD_QUOTED&&u[g]&&(w+=`${i[g]}\\`),w+=`
${n}${i.slice(g+1,A)}`)}return w}function consumeMoreIndentedLines(i,n){let r=i[n+1];for(;r===" "||r==="	";){do r=i[n+=1];while(r&&r!==`
`);r=i[n+1]}return n}const getFoldOptions=(i,n)=>({indentAtStart:n?i.indent.length:i.indentAtStart,lineWidth:i.options.lineWidth,minContentWidth:i.options.minContentWidth}),containsDocumentMarker=i=>/^(%|---|\.\.\.)/m.test(i);function lineLengthOverLimit(i,n,r){if(!n||n<0)return!1;const t=n-r,e=i.length;if(e<=t)return!1;for(let o=0,s=0;o<e;++o)if(i[o]===`
`){if(o-s>t)return!0;if(s=o+1,e-s<=t)return!1}return!0}function doubleQuotedString(i,n){const r=JSON.stringify(i);if(n.options.doubleQuotedAsJSON)return r;const{implicitKey:t}=n,e=n.options.doubleQuotedMinMultiLineLength,o=n.indent||(containsDocumentMarker(i)?"  ":"");let s="",a=0;for(let l=0,c=r[l];c;c=r[++l])if(c===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(s+=r.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(r[l+1]){case"u":{s+=r.slice(a,l);const u=r.substr(l+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(l,6)}l+=5,a=l+1}break;case"n":if(t||r[l+2]==='"'||r.length<e)l+=1;else{for(s+=r.slice(a,l)+`

`;r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)s+=`
`,l+=2;s+=o,r[l+2]===" "&&(s+="\\"),l+=1,a=l+1}break;default:l+=1}return s=a?s+r.slice(a):r,t?s:foldFlowLines(s,o,FOLD_QUOTED,getFoldOptions(n,!1))}function singleQuotedString(i,n){if(n.options.singleQuote===!1||n.implicitKey&&i.includes(`
`)||/[ \t]\n|\n[ \t]/.test(i))return doubleQuotedString(i,n);const r=n.indent||(containsDocumentMarker(i)?"  ":""),t="'"+i.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return n.implicitKey?t:foldFlowLines(t,r,FOLD_FLOW,getFoldOptions(n,!1))}function quotedString(i,n){const{singleQuote:r}=n.options;let t;if(r===!1)t=doubleQuotedString;else{const e=i.includes('"'),o=i.includes("'");e&&!o?t=singleQuotedString:o&&!e?t=doubleQuotedString:t=r?singleQuotedString:doubleQuotedString}return t(i,n)}let blockEndNewlines;try{blockEndNewlines=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment:i,type:n,value:r},t,e,o){const{blockQuote:s,commentString:a,lineWidth:l}=t.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return quotedString(r,t);const c=t.indent||(t.forceBlockIndent||containsDocumentMarker(r)?"  ":""),u=s==="literal"?!0:s==="folded"||n===Scalar.BLOCK_FOLDED?!1:n===Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(r,l,c.length);if(!r)return u?`|
`:`>
`;let f,p;for(p=r.length;p>0;--p){const T=r[p-1];if(T!==`
`&&T!=="	"&&T!==" ")break}let h=r.substring(p);const k=h.indexOf(`
`);k===-1?f="-":r===h||k!==h.length-1?(f="+",o&&o()):f="",h&&(r=r.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(blockEndNewlines,`$&${c}`));let y=!1,b,m=-1;for(b=0;b<r.length;++b){const T=r[b];if(T===" ")y=!0;else if(T===`
`)m=b;else break}let w=r.substring(0,m<b?m+1:b);w&&(r=r.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let g=(u?"|":">")+(y?c?"2":"1":"")+f;if(i&&(g+=" "+a(i.replace(/ ?[\r\n]+/g," ")),e&&e()),u)return r=r.replace(/\n+/g,`$&${c}`),`${g}
${c}${w}${r}${h}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=foldFlowLines(`${w}${r}${h}`,c,FOLD_BLOCK,getFoldOptions(t,!0));return`${g}
${c}${A}`}function plainString(i,n,r,t){const{type:e,value:o}=i,{actualString:s,implicitKey:a,indent:l,indentStep:c,inFlow:u}=n;if(a&&o.includes(`
`)||u&&/[[\]{},]/.test(o))return quotedString(o,n);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||u||!o.includes(`
`)?quotedString(o,n):blockString(i,n,r,t);if(!a&&!u&&e!==Scalar.PLAIN&&o.includes(`
`))return blockString(i,n,r,t);if(containsDocumentMarker(o)){if(l==="")return n.forceBlockIndent=!0,blockString(i,n,r,t);if(a&&l===c)return quotedString(o,n)}const f=o.replace(/\n+/g,`$&
${l}`);if(s){const p=y=>{var b;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((b=y.test)==null?void 0:b.test(f))},{compat:h,tags:k}=n.doc.schema;if(k.some(p)||h!=null&&h.some(p))return quotedString(o,n)}return a?f:foldFlowLines(f,l,FOLD_FLOW,getFoldOptions(n,!1))}function stringifyString(i,n,r,t){const{implicitKey:e,inFlow:o}=n,s=typeof i.value=="string"?i:Object.assign({},i,{value:String(i.value)});let{type:a}=i;a!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Scalar.QUOTE_DOUBLE);const l=u=>{switch(u){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return e||o?quotedString(s.value,n):blockString(s,n,r,t);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(s.value,n);case Scalar.QUOTE_SINGLE:return singleQuotedString(s.value,n);case Scalar.PLAIN:return plainString(s,n,r,t);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=n.options,p=e&&u||f;if(c=l(p),c===null)throw new Error(`Unsupported default string type ${p}`)}return c}function createStringifyContext(i,n){const r=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},i.schema.toStringOptions,n);let t;switch(r.collectionStyle){case"block":t=!1;break;case"flow":t=!0;break;default:t=null}return{anchors:new Set,doc:i,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:t,options:r}}function getTagObject(i,n){var e;if(n.tag){const o=i.filter(s=>s.tag===n.tag);if(o.length>0)return o.find(s=>s.format===n.format)??o[0]}let r,t;if(isScalar$1(n)){t=n.value;const o=i.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,t)});r=o.find(s=>s.format===n.format)??o.find(s=>!s.format)}else t=n,r=i.find(o=>o.nodeClass&&t instanceof o.nodeClass);if(!r){const o=((e=t==null?void 0:t.constructor)==null?void 0:e.name)??typeof t;throw new Error(`Tag not resolved for ${o} value`)}return r}function stringifyProps(i,n,{anchors:r,doc:t}){if(!t.directives)return"";const e=[],o=(isScalar$1(i)||isCollection$1(i))&&i.anchor;o&&anchorIsValid(o)&&(r.add(o),e.push(`&${o}`));const s=i.tag?i.tag:n.default?null:n.tag;return s&&e.push(t.directives.tagString(s)),e.join(" ")}function stringify$2(i,n,r,t){var l;if(isPair(i))return i.toString(n,r,t);if(isAlias(i)){if(n.doc.directives)return i.toString(n);if((l=n.resolvedAliases)!=null&&l.has(i))throw new TypeError("Cannot stringify circular structure without alias nodes");n.resolvedAliases?n.resolvedAliases.add(i):n.resolvedAliases=new Set([i]),i=i.resolve(n.doc)}let e;const o=isNode(i)?i:n.doc.createNode(i,{onTagObj:c=>e=c});e||(e=getTagObject(n.doc.schema.tags,o));const s=stringifyProps(o,e,n);s.length>0&&(n.indentAtStart=(n.indentAtStart??0)+s.length+1);const a=typeof e.stringify=="function"?e.stringify(o,n,r,t):isScalar$1(o)?stringifyString(o,n,r,t):o.toString(n,r,t);return s?isScalar$1(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${n.indent}${a}`:a}function stringifyPair({key:i,value:n},r,t,e){const{allNullValues:o,doc:s,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=r;let p=isNode(i)&&i.comment||null;if(f){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection$1(i)){const x="With simple keys, collection cannot be used as a key value";throw new Error(x)}}let h=!f&&(!i||p&&n==null&&!r.inFlow||isCollection$1(i)||(isScalar$1(i)?i.type===Scalar.BLOCK_FOLDED||i.type===Scalar.BLOCK_LITERAL:typeof i=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!h&&(f||!o),indent:a+l});let k=!1,y=!1,b=stringify$2(i,r,()=>k=!0,()=>y=!0);if(!h&&!r.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(r.inFlow){if(o||n==null)return k&&t&&t(),b===""?"?":h?`? ${b}`:b}else if(o&&!f||n==null&&h)return b=`? ${b}`,p&&!k?b+=lineComment(b,r.indent,c(p)):y&&e&&e(),b;k&&(p=null),h?(p&&(b+=lineComment(b,r.indent,c(p))),b=`? ${b}
${a}:`):(b=`${b}:`,p&&(b+=lineComment(b,r.indent,c(p))));let m,w,O;isNode(n)?(m=!!n.spaceBefore,w=n.commentBefore,O=n.comment):(m=!1,w=null,O=null,n&&typeof n=="object"&&(n=s.createNode(n))),r.implicitKey=!1,!h&&!p&&isScalar$1(n)&&(r.indentAtStart=b.length+1),y=!1,!u&&l.length>=2&&!r.inFlow&&!h&&isSeq(n)&&!n.flow&&!n.tag&&!n.anchor&&(r.indent=r.indent.substring(2));let g=!1;const A=stringify$2(n,r,()=>g=!0,()=>y=!0);let T=" ";if(p||m||w){if(T=m?`
`:"",w){const x=c(w);T+=`
${indentComment(x,r.indent)}`}A===""&&!r.inFlow?T===`
`&&(T=`

`):T+=`
${r.indent}`}else if(!h&&isCollection$1(n)){const x=A[0],S=A.indexOf(`
`),v=S!==-1,R=r.inFlow??n.flow??n.items.length===0;if(v||!R){let D=!1;if(v&&(x==="&"||x==="!")){let $=A.indexOf(" ");x==="&"&&$!==-1&&$<S&&A[$+1]==="!"&&($=A.indexOf(" ",$+1)),($===-1||S<$)&&(D=!0)}D||(T=`
${r.indent}`)}}else(A===""||A[0]===`
`)&&(T="");return b+=T+A,r.inFlow?g&&t&&t():O&&!g?b+=lineComment(b,r.indent,c(O)):y&&e&&e(),b}function warn(i,n){(i==="debug"||i==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(n):console.warn(n))}const MERGE_KEY="<<";function addPairToJSMap(i,n,{key:r,value:t}){if(i!=null&&i.doc.schema.merge&&isMergeKey(r))if(t=isAlias(t)?t.resolve(i.doc):t,isSeq(t))for(const e of t.items)mergeToJSMap(i,n,e);else if(Array.isArray(t))for(const e of t)mergeToJSMap(i,n,e);else mergeToJSMap(i,n,t);else{const e=toJS(r,"",i);if(n instanceof Map)n.set(e,toJS(t,e,i));else if(n instanceof Set)n.add(e);else{const o=stringifyKey(r,e,i),s=toJS(t,o,i);o in n?Object.defineProperty(n,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[o]=s}}return n}const isMergeKey=i=>i===MERGE_KEY||isScalar$1(i)&&i.value===MERGE_KEY&&(!i.type||i.type===Scalar.PLAIN);function mergeToJSMap(i,n,r){const t=i&&isAlias(r)?r.resolve(i.doc):r;if(!isMap(t))throw new Error("Merge sources must be maps or map aliases");const e=t.toJSON(null,i,Map);for(const[o,s]of e)n instanceof Map?n.has(o)||n.set(o,s):n instanceof Set?n.add(o):Object.prototype.hasOwnProperty.call(n,o)||Object.defineProperty(n,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return n}function stringifyKey(i,n,r){if(n===null)return"";if(typeof n!="object")return String(n);if(isNode(i)&&(r!=null&&r.doc)){const t=createStringifyContext(r.doc,{});t.anchors=new Set;for(const o of r.anchors.keys())t.anchors.add(o.anchor);t.inFlow=!0,t.inStringifyKey=!0;const e=i.toString(t);if(!r.mapKeyWarned){let o=JSON.stringify(e);o.length>40&&(o=o.substring(0,36)+'..."'),warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return e}return JSON.stringify(n)}function createPair(i,n,r){const t=createNode(i,void 0,r),e=createNode(n,void 0,r);return new Pair(t,e)}class Pair{constructor(n,r=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=n,this.value=r}clone(n){let{key:r,value:t}=this;return isNode(r)&&(r=r.clone(n)),isNode(t)&&(t=t.clone(n)),new Pair(r,t)}toJSON(n,r){const t=r!=null&&r.mapAsMap?new Map:{};return addPairToJSMap(r,t,this)}toString(n,r,t){return n!=null&&n.doc?stringifyPair(this,n,r,t):JSON.stringify(this)}}function stringifyCollection(i,n,r){return(n.inFlow??i.flow?stringifyFlowCollection:stringifyBlockCollection)(i,n,r)}function stringifyBlockCollection({comment:i,items:n},r,{blockItemPrefix:t,flowChars:e,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:c}}=r,u=Object.assign({},r,{indent:o,type:null});let f=!1;const p=[];for(let k=0;k<n.length;++k){const y=n[k];let b=null;if(isNode(y))!f&&y.spaceBefore&&p.push(""),addCommentBefore(r,p,y.commentBefore,f),y.comment&&(b=y.comment);else if(isPair(y)){const w=isNode(y.key)?y.key:null;w&&(!f&&w.spaceBefore&&p.push(""),addCommentBefore(r,p,w.commentBefore,f))}f=!1;let m=stringify$2(y,u,()=>b=null,()=>f=!0);b&&(m+=lineComment(m,o,c(b))),f&&b&&(f=!1),p.push(t+m)}let h;if(p.length===0)h=e.start+e.end;else{h=p[0];for(let k=1;k<p.length;++k){const y=p[k];h+=y?`
${l}${y}`:`
`}}return i?(h+=`
`+indentComment(c(i),l),a&&a()):f&&s&&s(),h}function stringifyFlowCollection({comment:i,items:n},r,{flowChars:t,itemIndent:e,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=r;e+=a;const u=Object.assign({},r,{indent:e,inFlow:!0,type:null});let f=!1,p=0;const h=[];for(let m=0;m<n.length;++m){const w=n[m];let O=null;if(isNode(w))w.spaceBefore&&h.push(""),addCommentBefore(r,h,w.commentBefore,!1),w.comment&&(O=w.comment);else if(isPair(w)){const A=isNode(w.key)?w.key:null;A&&(A.spaceBefore&&h.push(""),addCommentBefore(r,h,A.commentBefore,!1),A.comment&&(f=!0));const T=isNode(w.value)?w.value:null;T?(T.comment&&(O=T.comment),T.commentBefore&&(f=!0)):w.value==null&&(A!=null&&A.comment)&&(O=A.comment)}O&&(f=!0);let g=stringify$2(w,u,()=>O=null);m<n.length-1&&(g+=","),O&&(g+=lineComment(g,e,c(O))),!f&&(h.length>p||g.includes(`
`))&&(f=!0),h.push(g),p=h.length}let k;const{start:y,end:b}=t;if(h.length===0)k=y+b;else if(f||(f=h.reduce((w,O)=>w+O.length+2,2)>Collection.maxFlowStringSingleLineLength),f){k=y;for(const m of h)k+=m?`
${a}${s}${m}`:`
`;k+=`
${s}${b}`}else k=`${y}${l}${h.join(" ")}${l}${b}`;return i&&(k+=lineComment(k,s,c(i)),o&&o()),k}function addCommentBefore({indent:i,options:{commentString:n}},r,t,e){if(t&&e&&(t=t.replace(/^\n+/,"")),t){const o=indentComment(n(t),i);r.push(o.trimStart())}}function findPair(i,n){const r=isScalar$1(n)?n.value:n;for(const t of i)if(isPair(t)&&(t.key===n||t.key===r||isScalar$1(t.key)&&t.key.value===r))return t}class YAMLMap extends Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(n){super(MAP,n),this.items=[]}static from(n,r,t){const{keepUndefined:e,replacer:o}=t,s=new this(n),a=(l,c)=>{if(typeof o=="function")c=o.call(r,l,c);else if(Array.isArray(o)&&!o.includes(l))return;(c!==void 0||e)&&s.items.push(createPair(l,c,t))};if(r instanceof Map)for(const[l,c]of r)a(l,c);else if(r&&typeof r=="object")for(const l of Object.keys(r))a(l,r[l]);return typeof n.sortMapEntries=="function"&&s.items.sort(n.sortMapEntries),s}add(n,r){var s;let t;isPair(n)?t=n:!n||typeof n!="object"||!("key"in n)?t=new Pair(n,n==null?void 0:n.value):t=new Pair(n.key,n.value);const e=findPair(this.items,t.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(e){if(!r)throw new Error(`Key ${t.key} already set`);isScalar$1(e.value)&&isScalarValue(t.value)?e.value.value=t.value:e.value=t.value}else if(o){const a=this.items.findIndex(l=>o(t,l)<0);a===-1?this.items.push(t):this.items.splice(a,0,t)}else this.items.push(t)}delete(n){const r=findPair(this.items,n);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(n,r){const t=findPair(this.items,n),e=t==null?void 0:t.value;return(!r&&isScalar$1(e)?e.value:e)??void 0}has(n){return!!findPair(this.items,n)}set(n,r){this.add(new Pair(n,r),!0)}toJSON(n,r,t){const e=t?new t:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(e);for(const o of this.items)addPairToJSMap(r,e,o);return e}toString(n,r,t){if(!n)return JSON.stringify(this);for(const e of this.items)if(!isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!n.allNullValues&&this.hasAllNullValues(!1)&&(n=Object.assign({},n,{allNullValues:!0})),stringifyCollection(this,n,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:n.indent||"",onChompKeep:t,onComment:r})}}const map={collection:"map",default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve(i,n){return isMap(i)||n("Expected a mapping for this tag"),i},createNode:(i,n,r)=>YAMLMap.from(i,n,r)};class YAMLSeq extends Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(n){super(SEQ,n),this.items=[]}add(n){this.items.push(n)}delete(n){const r=asItemIndex(n);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(n,r){const t=asItemIndex(n);if(typeof t!="number")return;const e=this.items[t];return!r&&isScalar$1(e)?e.value:e}has(n){const r=asItemIndex(n);return typeof r=="number"&&r<this.items.length}set(n,r){const t=asItemIndex(n);if(typeof t!="number")throw new Error(`Expected a valid index, not ${n}.`);const e=this.items[t];isScalar$1(e)&&isScalarValue(r)?e.value=r:this.items[t]=r}toJSON(n,r){const t=[];r!=null&&r.onCreate&&r.onCreate(t);let e=0;for(const o of this.items)t.push(toJS(o,String(e++),r));return t}toString(n,r,t){return n?stringifyCollection(this,n,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(n.indent||"")+"  ",onChompKeep:t,onComment:r}):JSON.stringify(this)}static from(n,r,t){const{replacer:e}=t,o=new this(n);if(r&&Symbol.iterator in Object(r)){let s=0;for(let a of r){if(typeof e=="function"){const l=r instanceof Set?a:String(s++);a=e.call(r,l,a)}o.items.push(createNode(a,void 0,t))}}return o}}function asItemIndex(i){let n=isScalar$1(i)?i.value:i;return n&&typeof n=="string"&&(n=Number(n)),typeof n=="number"&&Number.isInteger(n)&&n>=0?n:null}const seq={collection:"seq",default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(i,n){return isSeq(i)||n("Expected a sequence for this tag"),i},createNode:(i,n,r)=>YAMLSeq.from(i,n,r)},string={identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify(i,n,r,t){return n=Object.assign({actualString:!0},n),stringifyString(i,n,r,t)}},nullTag={identify:i=>i==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source:i},n)=>typeof i=="string"&&nullTag.test.test(i)?i:n.options.nullStr},boolTag={identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:i=>new Scalar(i[0]==="t"||i[0]==="T"),stringify({source:i,value:n},r){if(i&&boolTag.test.test(i)){const t=i[0]==="t"||i[0]==="T";if(n===t)return i}return n?r.options.trueStr:r.options.falseStr}};function stringifyNumber({format:i,minFractionDigits:n,tag:r,value:t}){if(typeof t=="bigint")return String(t);const e=typeof t=="number"?t:Number(t);if(!isFinite(e))return isNaN(e)?".nan":e<0?"-.inf":".inf";let o=JSON.stringify(t);if(!i&&n&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=n-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const floatNaN$1={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp$1={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i),stringify(i){const n=Number(i.value);return isFinite(n)?n.toExponential():stringifyNumber(i)}},float$1={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(i){const n=new Scalar(parseFloat(i)),r=i.indexOf(".");return r!==-1&&i[i.length-1]==="0"&&(n.minFractionDigits=i.length-r-1),n},stringify:stringifyNumber},intIdentify$2=i=>typeof i=="bigint"||Number.isInteger(i),intResolve$1=(i,n,r,{intAsBigInt:t})=>t?BigInt(i):parseInt(i.substring(n),r);function intStringify$1(i,n,r){const{value:t}=i;return intIdentify$2(t)&&t>=0?r+t.toString(n):stringifyNumber(i)}const intOct$1={identify:i=>intIdentify$2(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(i,n,r)=>intResolve$1(i,2,8,r),stringify:i=>intStringify$1(i,8,"0o")},int$1={identify:intIdentify$2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(i,n,r)=>intResolve$1(i,0,10,r),stringify:stringifyNumber},intHex$1={identify:i=>intIdentify$2(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(i,n,r)=>intResolve$1(i,2,16,r),stringify:i=>intStringify$1(i,16,"0x")},schema$2=[map,seq,string,nullTag,boolTag,intOct$1,int$1,intHex$1,floatNaN$1,floatExp$1,float$1];function intIdentify$1(i){return typeof i=="bigint"||Number.isInteger(i)}const stringifyJSON=({value:i})=>JSON.stringify(i),jsonScalars=[{identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify:stringifyJSON},{identify:i=>i==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:i=>i==="true",stringify:stringifyJSON},{identify:intIdentify$1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(i,n,{intAsBigInt:r})=>r?BigInt(i):parseInt(i,10),stringify:({value:i})=>intIdentify$1(i)?i.toString():JSON.stringify(i)},{identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:i=>parseFloat(i),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(i,n){return n(`Unresolved plain scalar ${JSON.stringify(i)}`),i}},schema$1=[map,seq].concat(jsonScalars,jsonError),binary={identify:i=>i instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(i,n){if(typeof buffer.Buffer=="function")return buffer.Buffer.from(i,"base64");if(typeof atob=="function"){const r=atob(i.replace(/[\n\r]/g,"")),t=new Uint8Array(r.length);for(let e=0;e<r.length;++e)t[e]=r.charCodeAt(e);return t}else return n("This environment does not support reading binary tags; either Buffer or atob is required"),i},stringify({comment:i,type:n,value:r},t,e,o){const s=r;let a;if(typeof buffer.Buffer=="function")a=s instanceof buffer.Buffer?s.toString("base64"):buffer.Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(n||(n=Scalar.BLOCK_LITERAL),n!==Scalar.QUOTE_DOUBLE){const l=Math.max(t.options.lineWidth-t.indent.length,t.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,p=0;f<c;++f,p+=l)u[f]=a.substr(p,l);a=u.join(n===Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString({comment:i,type:n,value:a},t,e,o)}};function resolvePairs(i,n){if(isSeq(i))for(let r=0;r<i.items.length;++r){let t=i.items[r];if(!isPair(t)){if(isMap(t)){t.items.length>1&&n("Each pair must have its own sequence indicator");const e=t.items[0]||new Pair(new Scalar(null));if(t.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${t.commentBefore}
${e.key.commentBefore}`:t.commentBefore),t.comment){const o=e.value??e.key;o.comment=o.comment?`${t.comment}
${o.comment}`:t.comment}t=e}i.items[r]=isPair(t)?t:new Pair(t)}}else n("Expected a sequence for this tag");return i}function createPairs(i,n,r){const{replacer:t}=r,e=new YAMLSeq(i);e.tag="tag:yaml.org,2002:pairs";let o=0;if(n&&Symbol.iterator in Object(n))for(let s of n){typeof t=="function"&&(s=t.call(n,String(o++),s));let a,l;if(Array.isArray(s))if(s.length===2)a=s[0],l=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const c=Object.keys(s);if(c.length===1)a=c[0],l=s[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=s;e.items.push(createPair(a,l,r))}return e}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(n,r){if(!r)return super.toJSON(n);const t=new Map;r!=null&&r.onCreate&&r.onCreate(t);for(const e of this.items){let o,s;if(isPair(e)?(o=toJS(e.key,"",r),s=toJS(e.value,o,r)):o=toJS(e,"",r),t.has(o))throw new Error("Ordered maps must not include duplicate keys");t.set(o,s)}return t}static from(n,r,t){const e=createPairs(n,r,t),o=new this;return o.items=e.items,o}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:i=>i instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(i,n){const r=resolvePairs(i,n),t=[];for(const{key:e}of r.items)isScalar$1(e)&&(t.includes(e.value)?n(`Ordered maps must not include duplicate keys: ${e.value}`):t.push(e.value));return Object.assign(new YAMLOMap,r)},createNode:(i,n,r)=>YAMLOMap.from(i,n,r)};function boolStringify({value:i,source:n},r){return n&&(i?trueTag:falseTag).test.test(n)?n:i?r.options.trueStr:r.options.falseStr}const trueTag={identify:i=>i===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:i=>i===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Scalar(!1),stringify:boolStringify},floatNaN={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i.replace(/_/g,"")),stringify(i){const n=Number(i.value);return isFinite(n)?n.toExponential():stringifyNumber(i)}},float={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(i){const n=new Scalar(parseFloat(i.replace(/_/g,""))),r=i.indexOf(".");if(r!==-1){const t=i.substring(r+1).replace(/_/g,"");t[t.length-1]==="0"&&(n.minFractionDigits=t.length)}return n},stringify:stringifyNumber},intIdentify=i=>typeof i=="bigint"||Number.isInteger(i);function intResolve(i,n,r,{intAsBigInt:t}){const e=i[0];if((e==="-"||e==="+")&&(n+=1),i=i.substring(n).replace(/_/g,""),t){switch(r){case 2:i=`0b${i}`;break;case 8:i=`0o${i}`;break;case 16:i=`0x${i}`;break}const s=BigInt(i);return e==="-"?BigInt(-1)*s:s}const o=parseInt(i,r);return e==="-"?-1*o:o}function intStringify(i,n,r){const{value:t}=i;if(intIdentify(t)){const e=t.toString(n);return t<0?"-"+r+e.substr(1):r+e}return stringifyNumber(i)}const intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(i,n,r)=>intResolve(i,2,2,r),stringify:i=>intStringify(i,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(i,n,r)=>intResolve(i,1,8,r),stringify:i=>intStringify(i,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(i,n,r)=>intResolve(i,0,10,r),stringify:stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(i,n,r)=>intResolve(i,2,16,r),stringify:i=>intStringify(i,16,"0x")};class YAMLSet extends YAMLMap{constructor(n){super(n),this.tag=YAMLSet.tag}add(n){let r;isPair(n)?r=n:n&&typeof n=="object"&&"key"in n&&"value"in n&&n.value===null?r=new Pair(n.key,null):r=new Pair(n,null),findPair(this.items,r.key)||this.items.push(r)}get(n,r){const t=findPair(this.items,n);return!r&&isPair(t)?isScalar$1(t.key)?t.key.value:t.key:t}set(n,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const t=findPair(this.items,n);t&&!r?this.items.splice(this.items.indexOf(t),1):!t&&r&&this.items.push(new Pair(n))}toJSON(n,r){return super.toJSON(n,r,Set)}toString(n,r,t){if(!n)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},n,{allNullValues:!0}),r,t);throw new Error("Set items must all have null values")}static from(n,r,t){const{replacer:e}=t,o=new this(n);if(r&&Symbol.iterator in Object(r))for(let s of r)typeof e=="function"&&(s=e.call(r,s,s)),o.items.push(createPair(s,null,t));return o}}YAMLSet.tag="tag:yaml.org,2002:set";const set={collection:"map",identify:i=>i instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(i,n,r)=>YAMLSet.from(i,n,r),resolve(i,n){if(isMap(i)){if(i.hasAllNullValues(!0))return Object.assign(new YAMLSet,i);n("Set items must all have null values")}else n("Expected a mapping for this tag");return i}};function parseSexagesimal(i,n){const r=i[0],t=r==="-"||r==="+"?i.substring(1):i,e=s=>n?BigInt(s):Number(s),o=t.replace(/_/g,"").split(":").reduce((s,a)=>s*e(60)+e(a),e(0));return r==="-"?e(-1)*o:o}function stringifySexagesimal(i){let{value:n}=i,r=s=>s;if(typeof n=="bigint")r=s=>BigInt(s);else if(isNaN(n)||!isFinite(n))return stringifyNumber(i);let t="";n<0&&(t="-",n*=r(-1));const e=r(60),o=[n%e];return n<60?o.unshift(0):(n=(n-o[0])/e,o.unshift(n%e),n>=60&&(n=(n-o[0])/e,o.unshift(n))),t+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const intTime={identify:i=>typeof i=="bigint"||Number.isInteger(i),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(i,n,{intAsBigInt:r})=>parseSexagesimal(i,r),stringify:stringifySexagesimal},floatTime={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:i=>parseSexagesimal(i,!1),stringify:stringifySexagesimal},timestamp={identify:i=>i instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(i){const n=i.match(timestamp.test);if(!n)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,t,e,o,s,a]=n.map(Number),l=n[7]?Number((n[7]+"00").substr(1,3)):0;let c=Date.UTC(r,t-1,e,o||0,s||0,a||0,l);const u=n[8];if(u&&u!=="Z"){let f=parseSexagesimal(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:i})=>i.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},schema=[map,seq,string,nullTag,trueTag,falseTag,intBin,intOct,int,intHex,floatNaN,floatExp,float,binary,omap,pairs,set,intTime,floatTime,timestamp],schemas=new Map([["core",schema$2],["failsafe",[map,seq,string]],["json",schema$1],["yaml11",schema],["yaml-1.1",schema]]),tagsByName={binary,bool:boolTag,float:float$1,floatExp:floatExp$1,floatNaN:floatNaN$1,floatTime,int:int$1,intHex:intHex$1,intOct:intOct$1,intTime,map,null:nullTag,omap,pairs,seq,set,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set,"tag:yaml.org,2002:timestamp":timestamp};function getTags(i,n){let r=schemas.get(n);if(!r)if(Array.isArray(i))r=[];else{const t=Array.from(schemas.keys()).filter(e=>e!=="yaml11").map(e=>JSON.stringify(e)).join(", ");throw new Error(`Unknown schema "${n}"; use one of ${t} or define customTags array`)}if(Array.isArray(i))for(const t of i)r=r.concat(t);else typeof i=="function"&&(r=i(r.slice()));return r.map(t=>{if(typeof t!="string")return t;const e=tagsByName[t];if(e)return e;const o=Object.keys(tagsByName).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${t}"; use one of ${o}`)})}const sortMapEntriesByKey=(i,n)=>i.key<n.key?-1:i.key>n.key?1:0;class Schema{constructor({compat:n,customTags:r,merge:t,resolveKnownTags:e,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(n)?getTags(n,"compat"):n?getTags(null,n):null,this.merge=!!t,this.name=typeof o=="string"&&o||"core",this.knownTags=e?coreKnownTags:{},this.tags=getTags(r,this.name),this.toStringOptions=a??null,Object.defineProperty(this,MAP,{value:map}),Object.defineProperty(this,SCALAR$1,{value:string}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries=typeof s=="function"?s:s===!0?sortMapEntriesByKey:null}clone(){const n=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return n.tags=this.tags.slice(),n}}function stringifyDocument(i,n){var l;const r=[];let t=n.directives===!0;if(n.directives!==!1&&i.directives){const c=i.directives.toString(i);c?(r.push(c),t=!0):i.directives.docStart&&(t=!0)}t&&r.push("---");const e=createStringifyContext(i,n),{commentString:o}=e.options;if(i.commentBefore){r.length!==1&&r.unshift("");const c=o(i.commentBefore);r.unshift(indentComment(c,""))}let s=!1,a=null;if(i.contents){if(isNode(i.contents)){if(i.contents.spaceBefore&&t&&r.push(""),i.contents.commentBefore){const f=o(i.contents.commentBefore);r.push(indentComment(f,""))}e.forceBlockIndent=!!i.comment,a=i.contents.comment}const c=a?void 0:()=>s=!0;let u=stringify$2(i.contents,e,()=>a=null,c);a&&(u+=lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(stringify$2(i.contents,e));if((l=i.directives)!=null&&l.docEnd)if(i.comment){const c=o(i.comment);c.includes(`
`)?(r.push("..."),r.push(indentComment(c,""))):r.push(`... ${c}`)}else r.push("...");else{let c=i.comment;c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(indentComment(o(c),"")))}return r.join(`
`)+`
`}class Document{constructor(n,r,t){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let e=null;typeof r=="function"||Array.isArray(r)?e=r:t===void 0&&r&&(t=r,r=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},t);this.options=o;let{version:s}=o;t!=null&&t._directives?(this.directives=t._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new Directives({version:s}),this.setSchema(s,t),this.contents=n===void 0?null:this.createNode(n,e,t)}clone(){const n=Object.create(Document.prototype,{[NODE_TYPE]:{value:DOC}});return n.commentBefore=this.commentBefore,n.comment=this.comment,n.errors=this.errors.slice(),n.warnings=this.warnings.slice(),n.options=Object.assign({},this.options),this.directives&&(n.directives=this.directives.clone()),n.schema=this.schema.clone(),n.contents=isNode(this.contents)?this.contents.clone(n.schema):this.contents,this.range&&(n.range=this.range.slice()),n}add(n){assertCollection(this.contents)&&this.contents.add(n)}addIn(n,r){assertCollection(this.contents)&&this.contents.addIn(n,r)}createAlias(n,r){if(!n.anchor){const t=anchorNames(this);n.anchor=!r||t.has(r)?findNewAnchor(r||"a",t):r}return new Alias(n.anchor)}createNode(n,r,t){let e;if(typeof r=="function")n=r.call({"":n},"",n),e=r;else if(Array.isArray(r)){const b=w=>typeof w=="number"||w instanceof String||w instanceof Number,m=r.filter(b).map(String);m.length>0&&(r=r.concat(m)),e=r}else t===void 0&&r&&(t=r,r=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:l,onTagObj:c,tag:u}=t??{},{onAnchor:f,setAnchors:p,sourceObjects:h}=createNodeAnchors(this,s||"a"),k={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:e,schema:this.schema,sourceObjects:h},y=createNode(n,u,k);return a&&isCollection$1(y)&&(y.flow=!0),p(),y}createPair(n,r,t={}){const e=this.createNode(n,null,t),o=this.createNode(r,null,t);return new Pair(e,o)}delete(n){return assertCollection(this.contents)?this.contents.delete(n):!1}deleteIn(n){return isEmptyPath(n)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(n):!1}get(n,r){return isCollection$1(this.contents)?this.contents.get(n,r):void 0}getIn(n,r){return isEmptyPath(n)?!r&&isScalar$1(this.contents)?this.contents.value:this.contents:isCollection$1(this.contents)?this.contents.getIn(n,r):void 0}has(n){return isCollection$1(this.contents)?this.contents.has(n):!1}hasIn(n){return isEmptyPath(n)?this.contents!==void 0:isCollection$1(this.contents)?this.contents.hasIn(n):!1}set(n,r){this.contents==null?this.contents=collectionFromPath(this.schema,[n],r):assertCollection(this.contents)&&this.contents.set(n,r)}setIn(n,r){isEmptyPath(n)?this.contents=r:this.contents==null?this.contents=collectionFromPath(this.schema,Array.from(n),r):assertCollection(this.contents)&&this.contents.setIn(n,r)}setSchema(n,r={}){typeof n=="number"&&(n=String(n));let t;switch(n){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),t={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=n:this.directives=new Directives({version:n}),t={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,t=null;break;default:{const e=JSON.stringify(n);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${e}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(t)this.schema=new Schema(Object.assign(t,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:n,jsonArg:r,mapAsMap:t,maxAliasCount:e,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!n,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof e=="number"?e:100},l=toJS(this.contents,r??"",a);if(typeof o=="function")for(const{count:c,res:u}of a.anchors.values())o(u,c);return typeof s=="function"?applyReviver(s,{"":l},"",l):l}toJSON(n,r){return this.toJS({json:!0,jsonArg:n,mapAsMap:!1,onAnchor:r})}toString(n={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in n&&(!Number.isInteger(n.indent)||Number(n.indent)<=0)){const r=JSON.stringify(n.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return stringifyDocument(this,n)}}function assertCollection(i){if(isCollection$1(i))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(n,r,t,e){super(),this.name=n,this.code=t,this.message=e,this.pos=r}}class YAMLParseError extends YAMLError{constructor(n,r,t){super("YAMLParseError",n,r,t)}}class YAMLWarning extends YAMLError{constructor(n,r,t){super("YAMLWarning",n,r,t)}}const prettifyError=(i,n)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>n.linePos(a));const{line:t,col:e}=r.linePos[0];r.message+=` at line ${t}, column ${e}`;let o=e-1,s=i.substring(n.lineStarts[t-1],n.lineStarts[t]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),t>1&&/^ *$/.test(s.substring(0,o))){let a=i.substring(n.lineStarts[t-2],n.lineStarts[t-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const l=r.linePos[1];l&&l.line===t&&l.col>e&&(a=Math.max(1,Math.min(l.col-e,80-o)));const c=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${c}
`}};function resolveProps(i,{flow:n,indicator:r,next:t,offset:e,onError:o,startOnNewline:s}){let a=!1,l=s,c=s,u="",f="",p=!1,h=!1,k=!1,y=null,b=null,m=null,w=null,O=null;for(const T of i)switch(k&&(T.type!=="space"&&T.type!=="newline"&&T.type!=="comma"&&o(T.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),k=!1),T.type){case"space":!n&&l&&r!=="doc-start"&&T.source[0]==="	"&&o(T,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||o(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const x=T.source.substring(1)||" ";u?u+=f+x:u=x,f="",l=!1;break}case"newline":l?u?u+=T.source:a=!0:f+=T.source,l=!0,p=!0,(y||b)&&(h=!0),c=!0;break;case"anchor":y&&o(T,"MULTIPLE_ANCHORS","A node can have at most one anchor"),T.source.endsWith(":")&&o(T.offset+T.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=T,O===null&&(O=T.offset),l=!1,c=!1,k=!0;break;case"tag":{b&&o(T,"MULTIPLE_TAGS","A node can have at most one tag"),b=T,O===null&&(O=T.offset),l=!1,c=!1,k=!0;break}case r:(y||b)&&o(T,"BAD_PROP_ORDER",`Anchors and tags must be after the ${T.source} indicator`),w&&o(T,"UNEXPECTED_TOKEN",`Unexpected ${T.source} in ${n??"collection"}`),w=T,l=!1,c=!1;break;case"comma":if(n){m&&o(T,"UNEXPECTED_TOKEN",`Unexpected , in ${n}`),m=T,l=!1,c=!1;break}default:o(T,"UNEXPECTED_TOKEN",`Unexpected ${T.type} token`),l=!1,c=!1}const g=i[i.length-1],A=g?g.offset+g.source.length:e;return k&&t&&t.type!=="space"&&t.type!=="newline"&&t.type!=="comma"&&(t.type!=="scalar"||t.source!=="")&&o(t.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:m,found:w,spaceBefore:a,comment:u,hasNewline:p,hasNewlineAfterProp:h,anchor:y,tag:b,end:A,start:O??A}}function containsNewline(i){if(!i)return null;switch(i.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(i.source.includes(`
`))return!0;if(i.end){for(const n of i.end)if(n.type==="newline")return!0}return!1;case"flow-collection":for(const n of i.items){for(const r of n.start)if(r.type==="newline")return!0;if(n.sep){for(const r of n.sep)if(r.type==="newline")return!0}if(containsNewline(n.key)||containsNewline(n.value))return!0}return!1;default:return!0}}function flowIndentCheck(i,n,r){if((n==null?void 0:n.type)==="flow-collection"){const t=n.end[0];t.indent===i&&(t.source==="]"||t.source==="}")&&containsNewline(n)&&r(t,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mapIncludes(i,n,r){const{uniqueKeys:t}=i.options;if(t===!1)return!1;const e=typeof t=="function"?t:(o,s)=>o===s||isScalar$1(o)&&isScalar$1(s)&&o.value===s.value&&!(o.value==="<<"&&i.schema.merge);return n.some(o=>e(o.key,r))}const startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode:i,composeEmptyNode:n},r,t,e,o){var u;const s=(o==null?void 0:o.nodeClass)??YAMLMap,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let l=t.offset,c=null;for(const f of t.items){const{start:p,key:h,sep:k,value:y}=f,b=resolveProps(p,{indicator:"explicit-key-ind",next:h??(k==null?void 0:k[0]),offset:l,onError:e,startOnNewline:!0}),m=!b.found;if(m){if(h&&(h.type==="block-seq"?e(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==t.indent&&e(l,"BAD_INDENT",startColMsg)),!b.anchor&&!b.tag&&!k){c=b.end,b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment);continue}(b.hasNewlineAfterProp||containsNewline(h))&&e(h??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=b.found)==null?void 0:u.indent)!==t.indent&&e(l,"BAD_INDENT",startColMsg);const w=b.end,O=h?i(r,h,b,e):n(r,w,p,null,b,e);r.schema.compat&&flowIndentCheck(t.indent,h,e),mapIncludes(r,a.items,O)&&e(w,"DUPLICATE_KEY","Map keys must be unique");const g=resolveProps(k??[],{indicator:"map-value-ind",next:y,offset:O.range[2],onError:e,startOnNewline:!h||h.type==="block-scalar"});if(l=g.end,g.found){m&&((y==null?void 0:y.type)==="block-map"&&!g.hasNewline&&e(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&b.start<g.found.offset-1024&&e(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const A=y?i(r,y,g,e):n(r,l,k,null,g,e);r.schema.compat&&flowIndentCheck(t.indent,y,e),l=A.range[2];const T=new Pair(O,A);r.options.keepSourceTokens&&(T.srcToken=f),a.items.push(T)}else{m&&e(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),g.comment&&(O.comment?O.comment+=`
`+g.comment:O.comment=g.comment);const A=new Pair(O);r.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A)}}return c&&c<l&&e(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[t.offset,l,c??l],a}function resolveBlockSeq({composeNode:i,composeEmptyNode:n},r,t,e,o){const s=(o==null?void 0:o.nodeClass)??YAMLSeq,a=new s(r.schema);r.atRoot&&(r.atRoot=!1);let l=t.offset,c=null;for(const{start:u,value:f}of t.items){const p=resolveProps(u,{indicator:"seq-item-ind",next:f,offset:l,onError:e,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||f)f&&f.type==="block-seq"?e(p.end,"BAD_INDENT","All sequence items must start at the same column"):e(l,"MISSING_CHAR","Sequence item without - indicator");else{c=p.end,p.comment&&(a.comment=p.comment);continue}const h=f?i(r,f,p,e):n(r,p.end,u,null,p,e);r.schema.compat&&flowIndentCheck(t.indent,f,e),l=h.range[2],a.items.push(h)}return a.range=[t.offset,l,c??l],a}function resolveEnd(i,n,r,t){let e="";if(i){let o=!1,s="";for(const a of i){const{source:l,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{r&&!o&&t(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";e?e+=s+u:e=u,s="";break}case"newline":e&&(s+=l),o=!0;break;default:t(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}n+=l.length}}return{comment:e,offset:n}}const blockMsg="Block collections are not allowed within flow collections",isBlock=i=>i&&(i.type==="block-map"||i.type==="block-seq");function resolveFlowCollection({composeNode:i,composeEmptyNode:n},r,t,e,o){const s=t.start.source==="{",a=s?"flow map":"flow sequence",l=(o==null?void 0:o.nodeClass)??(s?YAMLMap:YAMLSeq),c=new l(r.schema);c.flow=!0;const u=r.atRoot;u&&(r.atRoot=!1);let f=t.offset+t.start.source.length;for(let b=0;b<t.items.length;++b){const m=t.items[b],{start:w,key:O,sep:g,value:A}=m,T=resolveProps(w,{flow:a,indicator:"explicit-key-ind",next:O??(g==null?void 0:g[0]),offset:f,onError:e,startOnNewline:!1});if(!T.found){if(!T.anchor&&!T.tag&&!g&&!A){b===0&&T.comma?e(T.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<t.items.length-1&&e(T.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),T.comment&&(c.comment?c.comment+=`
`+T.comment:c.comment=T.comment),f=T.end;continue}!s&&r.options.strict&&containsNewline(O)&&e(O,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)T.comma&&e(T.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(T.comma||e(T.start,"MISSING_CHAR",`Missing , between ${a} items`),T.comment){let x="";e:for(const S of w)switch(S.type){case"comma":case"space":break;case"comment":x=S.source.substring(1);break e;default:break e}if(x){let S=c.items[c.items.length-1];isPair(S)&&(S=S.value??S.key),S.comment?S.comment+=`
`+x:S.comment=x,T.comment=T.comment.substring(x.length+1)}}if(!s&&!g&&!T.found){const x=A?i(r,A,T,e):n(r,T.end,g,null,T,e);c.items.push(x),f=x.range[2],isBlock(A)&&e(x.range,"BLOCK_IN_FLOW",blockMsg)}else{const x=T.end,S=O?i(r,O,T,e):n(r,x,w,null,T,e);isBlock(O)&&e(S.range,"BLOCK_IN_FLOW",blockMsg);const v=resolveProps(g??[],{flow:a,indicator:"map-value-ind",next:A,offset:S.range[2],onError:e,startOnNewline:!1});if(v.found){if(!s&&!T.found&&r.options.strict){if(g)for(const $ of g){if($===v.found)break;if($.type==="newline"){e($,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}T.start<v.found.offset-1024&&e(v.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?e(A,"MISSING_CHAR",`Missing space after : in ${a}`):e(v.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const R=A?i(r,A,v,e):v.found?n(r,v.end,g,null,v,e):null;R?isBlock(A)&&e(R.range,"BLOCK_IN_FLOW",blockMsg):v.comment&&(S.comment?S.comment+=`
`+v.comment:S.comment=v.comment);const D=new Pair(S,R);if(r.options.keepSourceTokens&&(D.srcToken=m),s){const $=c;mapIncludes(r,$.items,S)&&e(x,"DUPLICATE_KEY","Map keys must be unique"),$.items.push(D)}else{const $=new YAMLMap(r.schema);$.flow=!0,$.items.push(D),c.items.push($)}f=R?R.range[2]:v.end}}const p=s?"}":"]",[h,...k]=t.end;let y=f;if(h&&h.source===p)y=h.offset+h.source.length;else{const b=a[0].toUpperCase()+a.substring(1),m=u?`${b} must end with a ${p}`:`${b} in block collection must be sufficiently indented and end with a ${p}`;e(f,u?"MISSING_CHAR":"BAD_INDENT",m),h&&h.source.length!==1&&k.unshift(h)}if(k.length>0){const b=resolveEnd(k,y,r.options.strict,e);b.comment&&(c.comment?c.comment+=`
`+b.comment:c.comment=b.comment),c.range=[t.offset,y,b.offset]}else c.range=[t.offset,y,y];return c}function resolveCollection(i,n,r,t,e,o){const s=r.type==="block-map"?resolveBlockMap(i,n,r,t,o):r.type==="block-seq"?resolveBlockSeq(i,n,r,t,o):resolveFlowCollection(i,n,r,t,o),a=s.constructor;return e==="!"||e===a.tagName?(s.tag=a.tagName,s):(e&&(s.tag=e),s)}function composeCollection(i,n,r,t,e){var f;const o=t?n.directives.tagName(t.source,p=>e(t,"TAG_RESOLVE_FAILED",p)):null,s=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!t||!o||o==="!"||o===YAMLMap.tagName&&s==="map"||o===YAMLSeq.tagName&&s==="seq"||!s)return resolveCollection(i,n,r,e,o);let a=n.schema.tags.find(p=>p.tag===o&&p.collection===s);if(!a){const p=n.schema.knownTags[o];if(p&&p.collection===s)n.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?e(t,"BAD_COLLECTION_TYPE",`${p.tag} used for ${s} collection, but expects ${p.collection}`,!0):e(t,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),resolveCollection(i,n,r,e,o)}const l=resolveCollection(i,n,r,e,o,a),c=((f=a.resolve)==null?void 0:f.call(a,l,p=>e(t,"TAG_RESOLVE_FAILED",p),n.options))??l,u=isNode(c)?c:new Scalar(c);return u.range=l.range,u.tag=o,a!=null&&a.format&&(u.format=a.format),u}function resolveBlockScalar(i,n,r){const t=i.offset,e=parseBlockScalarHeader(i,n,r);if(!e)return{value:"",type:null,comment:"",range:[t,t,t]};const o=e.mode===">"?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,s=i.source?splitLines(i.source):[];let a=s.length;for(let y=s.length-1;y>=0;--y){const b=s[y][1];if(b===""||b==="\r")a=y;else break}if(a===0){const y=e.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let b=t+e.length;return i.source&&(b+=i.source.length),{value:y,type:o,comment:e.comment,range:[t,b,b]}}let l=i.indent+e.indent,c=i.offset+e.length,u=0;for(let y=0;y<a;++y){const[b,m]=s[y];if(m===""||m==="\r")e.indent===0&&b.length>l&&(l=b.length);else{if(b.length<l){const w="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(c+b.length,"MISSING_CHAR",w)}e.indent===0&&(l=b.length),u=y;break}c+=b.length+m.length+1}for(let y=s.length-1;y>=a;--y)s[y][0].length>l&&(a=y+1);let f="",p="",h=!1;for(let y=0;y<u;++y)f+=s[y][0].slice(l)+`
`;for(let y=u;y<a;++y){let[b,m]=s[y];c+=b.length+m.length+1;const w=m[m.length-1]==="\r";if(w&&(m=m.slice(0,-1)),m&&b.length<l){const g=`Block scalar lines must not be less indented than their ${e.indent?"explicit indentation indicator":"first line"}`;r(c-m.length-(w?2:1),"BAD_INDENT",g),b=""}o===Scalar.BLOCK_LITERAL?(f+=p+b.slice(l)+m,p=`
`):b.length>l||m[0]==="	"?(p===" "?p=`
`:!h&&p===`
`&&(p=`

`),f+=p+b.slice(l)+m,p=`
`,h=!0):m===""?p===`
`?f+=`
`:p=`
`:(f+=p+m,p=" ",h=!1)}switch(e.chomp){case"-":break;case"+":for(let y=a;y<s.length;++y)f+=`
`+s[y][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const k=t+e.length+i.source.length;return{value:f,type:o,comment:e.comment,range:[t,k,k]}}function parseBlockScalarHeader({offset:i,props:n},r,t){if(n[0].type!=="block-scalar-header")return t(n[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:e}=n[0],o=e[0];let s=0,a="",l=-1;for(let p=1;p<e.length;++p){const h=e[p];if(!a&&(h==="-"||h==="+"))a=h;else{const k=Number(h);!s&&k?s=k:l===-1&&(l=i+p)}}l!==-1&&t(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${e}`);let c=!1,u="",f=e.length;for(let p=1;p<n.length;++p){const h=n[p];switch(h.type){case"space":c=!0;case"newline":f+=h.source.length;break;case"comment":r&&!c&&t(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=h.source.length,u=h.source.substring(1);break;case"error":t(h,"UNEXPECTED_TOKEN",h.message),f+=h.source.length;break;default:{const k=`Unexpected token in block scalar header: ${h.type}`;t(h,"UNEXPECTED_TOKEN",k);const y=h.source;y&&typeof y=="string"&&(f+=y.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:f}}function splitLines(i){const n=i.split(/\n( *)/),r=n[0],t=r.match(/^( *)/),o=[t!=null&&t[1]?[t[1],r.slice(t[1].length)]:["",r]];for(let s=1;s<n.length;s+=2)o.push([n[s],n[s+1]]);return o}function resolveFlowScalar(i,n,r){const{offset:t,type:e,source:o,end:s}=i;let a,l;const c=(p,h,k)=>r(t+p,h,k);switch(e){case"scalar":a=Scalar.PLAIN,l=plainValue(o,c);break;case"single-quoted-scalar":a=Scalar.QUOTE_SINGLE,l=singleQuotedValue(o,c);break;case"double-quoted-scalar":a=Scalar.QUOTE_DOUBLE,l=doubleQuotedValue(o,c);break;default:return r(i,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${e}`),{value:"",type:null,comment:"",range:[t,t+o.length,t+o.length]}}const u=t+o.length,f=resolveEnd(s,u,n,r);return{value:l,type:a,comment:f.comment,range:[t,u,f.offset]}}function plainValue(i,n){let r="";switch(i[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${i[0]}`;break}case"@":case"`":{r=`reserved character ${i[0]}`;break}}return r&&n(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),foldLines(i)}function singleQuotedValue(i,n){return(i[i.length-1]!=="'"||i.length===1)&&n(i.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(i.slice(1,-1)).replace(/''/g,"'")}function foldLines(i){let n,r;try{n=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{n=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let t=n.exec(i);if(!t)return i;let e=t[1],o=" ",s=n.lastIndex;for(r.lastIndex=s;t=r.exec(i);)t[1]===""?o===`
`?e+=o:o=`
`:(e+=o+t[1],o=" "),s=r.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,t=a.exec(i),e+o+((t==null?void 0:t[1])??"")}function doubleQuotedValue(i,n){let r="";for(let t=1;t<i.length-1;++t){const e=i[t];if(!(e==="\r"&&i[t+1]===`
`))if(e===`
`){const{fold:o,offset:s}=foldNewline(i,t);r+=o,t=s}else if(e==="\\"){let o=i[++t];const s=escapeCodes[o];if(s)r+=s;else if(o===`
`)for(o=i[t+1];o===" "||o==="	";)o=i[++t+1];else if(o==="\r"&&i[t+1]===`
`)for(o=i[++t+1];o===" "||o==="	";)o=i[++t+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];r+=parseCharCode(i,t+1,a,n),t+=a}else{const a=i.substr(t-1,2);n(t-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(e===" "||e==="	"){const o=t;let s=i[t+1];for(;s===" "||s==="	";)s=i[++t+1];s!==`
`&&!(s==="\r"&&i[t+2]===`
`)&&(r+=t>o?i.slice(o,t+1):e)}else r+=e}return(i[i.length-1]!=='"'||i.length===1)&&n(i.length,"MISSING_CHAR",'Missing closing "quote'),r}function foldNewline(i,n){let r="",t=i[n+1];for(;(t===" "||t==="	"||t===`
`||t==="\r")&&!(t==="\r"&&i[n+2]!==`
`);)t===`
`&&(r+=`
`),n+=1,t=i[n+1];return r||(r=" "),{fold:r,offset:n}}const escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(i,n,r,t){const e=i.substr(n,r),s=e.length===r&&/^[0-9a-fA-F]+$/.test(e)?parseInt(e,16):NaN;if(isNaN(s)){const a=i.substr(n-2,r+2);return t(n-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function composeScalar(i,n,r,t){const{value:e,type:o,comment:s,range:a}=n.type==="block-scalar"?resolveBlockScalar(n,i.options.strict,t):resolveFlowScalar(n,i.options.strict,t),l=r?i.directives.tagName(r.source,f=>t(r,"TAG_RESOLVE_FAILED",f)):null,c=r&&l?findScalarTagByName(i.schema,e,l,r,t):n.type==="scalar"?findScalarTagByTest(i,e,n,t):i.schema[SCALAR$1];let u;try{const f=c.resolve(e,p=>t(r??n,"TAG_RESOLVE_FAILED",p),i.options);u=isScalar$1(f)?f:new Scalar(f)}catch(f){const p=f instanceof Error?f.message:String(f);t(r??n,"TAG_RESOLVE_FAILED",p),u=new Scalar(e)}return u.range=a,u.source=e,o&&(u.type=o),l&&(u.tag=l),c.format&&(u.format=c.format),s&&(u.comment=s),u}function findScalarTagByName(i,n,r,t,e){var a;if(r==="!")return i[SCALAR$1];const o=[];for(const l of i.tags)if(!l.collection&&l.tag===r)if(l.default&&l.test)o.push(l);else return l;for(const l of o)if((a=l.test)!=null&&a.test(n))return l;const s=i.knownTags[r];return s&&!s.collection?(i.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(e(t,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),i[SCALAR$1])}function findScalarTagByTest({directives:i,schema:n},r,t,e){const o=n.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(r))})||n[SCALAR$1];if(n.compat){const s=n.compat.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(r))})??n[SCALAR$1];if(o.tag!==s.tag){const a=i.tagString(o.tag),l=i.tagString(s.tag),c=`Value may be parsed as either ${a} or ${l}`;e(t,"TAG_RESOLVE_FAILED",c,!0)}}return o}function emptyScalarPosition(i,n,r){if(n){r===null&&(r=n.length);for(let t=r-1;t>=0;--t){let e=n[t];switch(e.type){case"space":case"comment":case"newline":i-=e.source.length;continue}for(e=n[++t];(e==null?void 0:e.type)==="space";)i+=e.source.length,e=n[++t];break}}return i}const CN={composeNode,composeEmptyNode};function composeNode(i,n,r,t){const{spaceBefore:e,comment:o,anchor:s,tag:a}=r;let l,c=!0;switch(n.type){case"alias":l=composeAlias(i,n,t),(s||a)&&t(n,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=composeScalar(i,n,a,t),s&&(l.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=composeCollection(CN,i,n,a,t),s&&(l.anchor=s.source.substring(1));break;default:{const u=n.type==="error"?n.message:`Unsupported token (type: ${n.type})`;t(n,"UNEXPECTED_TOKEN",u),l=composeEmptyNode(i,n.offset,void 0,null,r,t),c=!1}}return s&&l.anchor===""&&t(s,"BAD_ALIAS","Anchor cannot be an empty string"),e&&(l.spaceBefore=!0),o&&(n.type==="scalar"&&n.source===""?l.comment=o:l.commentBefore=o),i.options.keepSourceTokens&&c&&(l.srcToken=n),l}function composeEmptyNode(i,n,r,t,{spaceBefore:e,comment:o,anchor:s,tag:a,end:l},c){const u={type:"scalar",offset:emptyScalarPosition(n,r,t),indent:-1,source:""},f=composeScalar(i,u,a,c);return s&&(f.anchor=s.source.substring(1),f.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),e&&(f.spaceBefore=!0),o&&(f.comment=o,f.range[2]=l),f}function composeAlias({options:i},{offset:n,source:r,end:t},e){const o=new Alias(r.substring(1));o.source===""&&e(n,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&e(n+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=n+r.length,a=resolveEnd(t,s,i.strict,e);return o.range=[n,s,a.offset],a.comment&&(o.comment=a.comment),o}function composeDoc(i,n,{offset:r,start:t,value:e,end:o},s){const a=Object.assign({_directives:n},i),l=new Document(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=resolveProps(t,{indicator:"doc-start",next:e??(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(l.directives.docStart=!0,e&&(e.type==="block-map"||e.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=e?composeNode(c,e,u,s):composeEmptyNode(c,u.end,t,null,u,s);const f=l.contents.range[2],p=resolveEnd(o,f,!1,s);return p.comment&&(l.comment=p.comment),l.range=[r,f,p.offset],l}function getErrorPos(i){if(typeof i=="number")return[i,i+1];if(Array.isArray(i))return i.length===2?i:[i[0],i[1]];const{offset:n,source:r}=i;return[n,n+(typeof r=="string"?r.length:1)]}function parsePrelude(i){var e;let n="",r=!1,t=!1;for(let o=0;o<i.length;++o){const s=i[o];switch(s[0]){case"#":n+=(n===""?"":t?`

`:`
`)+(s.substring(1)||" "),r=!0,t=!1;break;case"%":((e=i[o+1])==null?void 0:e[0])!=="#"&&(o+=1),r=!1;break;default:r||(t=!0),r=!1}}return{comment:n,afterEmptyLine:t}}class Composer{constructor(n={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,t,e,o)=>{const s=getErrorPos(r);o?this.warnings.push(new YAMLWarning(s,t,e)):this.errors.push(new YAMLParseError(s,t,e))},this.directives=new Directives({version:n.version||"1.2"}),this.options=n}decorate(n,r){const{comment:t,afterEmptyLine:e}=parsePrelude(this.prelude);if(t){const o=n.contents;if(r)n.comment=n.comment?`${n.comment}
${t}`:t;else if(e||n.directives.docStart||!o)n.commentBefore=t;else if(isCollection$1(o)&&!o.flow&&o.items.length>0){let s=o.items[0];isPair(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${t}
${a}`:t}else{const s=o.commentBefore;o.commentBefore=s?`${t}
${s}`:t}}r?(Array.prototype.push.apply(n.errors,this.errors),Array.prototype.push.apply(n.warnings,this.warnings)):(n.errors=this.errors,n.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(n,r=!1,t=-1){for(const e of n)yield*this.next(e);yield*this.end(r,t)}*next(n){switch(n.type){case"directive":this.directives.add(n.source,(r,t,e)=>{const o=getErrorPos(n);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",t,e)}),this.prelude.push(n.source),this.atDirectives=!0;break;case"document":{const r=composeDoc(this.options,this.directives,n,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(n,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(n.source);break;case"error":{const r=n.source?`${n.message}: ${JSON.stringify(n.source)}`:n.message,t=new YAMLParseError(getErrorPos(n),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(t):this.doc.errors.push(t);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new YAMLParseError(getErrorPos(n),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const r=resolveEnd(n.end,n.offset+n.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const t=this.doc.comment;this.doc.comment=t?`${t}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new YAMLParseError(getErrorPos(n),"UNEXPECTED_TOKEN",`Unsupported token ${n.type}`))}}*end(n=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(n){const t=Object.assign({_directives:this.directives},this.options),e=new Document(void 0,t);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),e.range=[0,r,r],this.decorate(e,!1),yield e}}}function resolveAsScalar(i,n=!0,r){if(i){const t=(e,o,s)=>{const a=typeof e=="number"?e:Array.isArray(e)?e[0]:e.offset;if(r)r(a,o,s);else throw new YAMLParseError([a,a+1],o,s)};switch(i.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return resolveFlowScalar(i,n,t);case"block-scalar":return resolveBlockScalar(i,n,t)}}return null}function createScalarToken(i,n){const{implicitKey:r=!1,indent:t,inFlow:e=!1,offset:o=-1,type:s="PLAIN"}=n,a=stringifyString({type:s,value:i},{implicitKey:r,indent:t>0?" ".repeat(t):"",inFlow:e,options:{blockQuote:!0,lineWidth:-1}}),l=n.end??[{type:"newline",offset:-1,indent:t,source:`
`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
`),u=a.substring(0,c),f=a.substring(c+1)+`
`,p=[{type:"block-scalar-header",offset:o,indent:t,source:u}];return addEndtoBlockProps(p,l)||p.push({type:"newline",offset:-1,indent:t,source:`
`}),{type:"block-scalar",offset:o,indent:t,props:p,source:f}}case'"':return{type:"double-quoted-scalar",offset:o,indent:t,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:o,indent:t,source:a,end:l};default:return{type:"scalar",offset:o,indent:t,source:a,end:l}}}function setScalarValue(i,n,r={}){let{afterKey:t=!1,implicitKey:e=!1,inFlow:o=!1,type:s}=r,a="indent"in i?i.indent:null;if(t&&typeof a=="number"&&(a+=2),!s)switch(i.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const c=i.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const l=stringifyString({type:s,value:n},{implicitKey:e||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":setBlockScalarValue(i,l);break;case'"':setFlowScalarValue(i,l,"double-quoted-scalar");break;case"'":setFlowScalarValue(i,l,"single-quoted-scalar");break;default:setFlowScalarValue(i,l,"scalar")}}function setBlockScalarValue(i,n){const r=n.indexOf(`
`),t=n.substring(0,r),e=n.substring(r+1)+`
`;if(i.type==="block-scalar"){const o=i.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=t,i.source=e}else{const{offset:o}=i,s="indent"in i?i.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:t}];addEndtoBlockProps(a,"end"in i?i.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const l of Object.keys(i))l!=="type"&&l!=="offset"&&delete i[l];Object.assign(i,{type:"block-scalar",indent:s,props:a,source:e})}}function addEndtoBlockProps(i,n){if(n)for(const r of n)switch(r.type){case"space":case"comment":i.push(r);break;case"newline":return i.push(r),!0}return!1}function setFlowScalarValue(i,n,r){switch(i.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":i.type=r,i.source=n;break;case"block-scalar":{const t=i.props.slice(1);let e=n.length;i.props[0].type==="block-scalar-header"&&(e-=i.props[0].source.length);for(const o of t)o.offset+=e;delete i.props,Object.assign(i,{type:r,source:n,end:t});break}case"block-map":case"block-seq":{const e={type:"newline",offset:i.offset+n.length,indent:i.indent,source:`
`};delete i.items,Object.assign(i,{type:r,source:n,end:[e]});break}default:{const t="indent"in i?i.indent:-1,e="end"in i&&Array.isArray(i.end)?i.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(i))o!=="type"&&o!=="offset"&&delete i[o];Object.assign(i,{type:r,indent:t,source:n,end:e})}}}const stringify$1=i=>"type"in i?stringifyToken(i):stringifyItem(i);function stringifyToken(i){switch(i.type){case"block-scalar":{let n="";for(const r of i.props)n+=stringifyToken(r);return n+i.source}case"block-map":case"block-seq":{let n="";for(const r of i.items)n+=stringifyItem(r);return n}case"flow-collection":{let n=i.start.source;for(const r of i.items)n+=stringifyItem(r);for(const r of i.end)n+=r.source;return n}case"document":{let n=stringifyItem(i);if(i.end)for(const r of i.end)n+=r.source;return n}default:{let n=i.source;if("end"in i&&i.end)for(const r of i.end)n+=r.source;return n}}}function stringifyItem({start:i,key:n,sep:r,value:t}){let e="";for(const o of i)e+=o.source;if(n&&(e+=stringifyToken(n)),r)for(const o of r)e+=o.source;return t&&(e+=stringifyToken(t)),e}const BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove item");function visit(i,n){"type"in i&&i.type==="document"&&(i={start:i.start,value:i.value}),_visit(Object.freeze([]),i,n)}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;visit.itemAtPath=(i,n)=>{let r=i;for(const[t,e]of n){const o=r==null?void 0:r[t];if(o&&"items"in o)r=o.items[e];else return}return r};visit.parentCollection=(i,n)=>{const r=visit.itemAtPath(i,n.slice(0,-1)),t=n[n.length-1][0],e=r==null?void 0:r[t];if(e&&"items"in e)return e;throw new Error("Parent collection not found")};function _visit(i,n,r){let t=r(n,i);if(typeof t=="symbol")return t;for(const e of["key","value"]){const o=n[e];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=_visit(Object.freeze(i.concat([[e,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===BREAK)return BREAK;a===REMOVE&&(o.items.splice(s,1),s-=1)}}typeof t=="function"&&e==="key"&&(t=t(n,i))}}return typeof t=="function"?t(n,i):t}const BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="",isCollection=i=>!!i&&"items"in i,isScalar=i=>!!i&&(i.type==="scalar"||i.type==="single-quoted-scalar"||i.type==="double-quoted-scalar"||i.type==="block-scalar");function prettyToken(i){switch(i){case BOM:return"<BOM>";case DOCUMENT:return"<DOC>";case FLOW_END:return"<FLOW_END>";case SCALAR:return"<SCALAR>";default:return JSON.stringify(i)}}function tokenType(i){switch(i){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(i[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const cst=Object.freeze(Object.defineProperty({__proto__:null,BOM,DOCUMENT,FLOW_END,SCALAR,createScalarToken,isCollection,isScalar,prettyToken,resolveAsScalar,setScalarValue,stringify:stringify$1,tokenType,visit},Symbol.toStringTag,{value:"Module"}));function isEmpty(i){switch(i){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const hexDigits="0123456789ABCDEFabcdef".split(""),tagChars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),invalidFlowScalarChars=",[]{}".split(""),invalidAnchorChars=` ,[]{}
\r	`.split(""),isNotAnchorChar=i=>!i||invalidAnchorChars.includes(i);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(n,r=!1){n&&(this.buffer=this.buffer?this.buffer+n:n,this.lineEndPos=null),this.atEnd=!r;let t=this.next??"stream";for(;t&&(r||this.hasChars(1));)t=yield*this.parseNext(t)}atLineEnd(){let n=this.pos,r=this.buffer[n];for(;r===" "||r==="	";)r=this.buffer[++n];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[n+1]===`
`:!1}charAt(n){return this.buffer[this.pos+n]}continueScalar(n){let r=this.buffer[n];if(this.indentNext>0){let t=0;for(;r===" ";)r=this.buffer[++t+n];if(r==="\r"){const e=this.buffer[t+n+1];if(e===`
`||!e&&!this.atEnd)return n+t+1}return r===`
`||t>=this.indentNext||!r&&!this.atEnd?n+t:-1}if(r==="-"||r==="."){const t=this.buffer.substr(n,3);if((t==="---"||t==="...")&&isEmpty(this.buffer[n+3]))return-1}return n}getLine(){let n=this.lineEndPos;return(typeof n!="number"||n!==-1&&n<this.pos)&&(n=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=n),n===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[n-1]==="\r"&&(n-=1),this.buffer.substring(this.pos,n))}hasChars(n){return this.pos+n<=this.buffer.length}setNext(n){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=n,null}peek(n){return this.buffer.substr(this.pos,n)}*parseNext(n){switch(n){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let n=this.getLine();if(n===null)return this.setNext("stream");if(n[0]===BOM&&(yield*this.pushCount(1),n=n.substring(1)),n[0]==="%"){let r=n.length;const t=n.indexOf("#");if(t!==-1){const o=n[t-1];(o===" "||o==="	")&&(r=t-1)}for(;;){const o=n[r-1];if(o===" "||o==="	")r-=1;else break}const e=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(n.length-e),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(n.length-r),yield*this.pushNewline(),"stream"}return yield DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const n=this.charAt(0);if(!n&&!this.atEnd)return this.setNext("line-start");if(n==="-"||n==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if(r==="---"&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[n,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((n==="-"||n==="?"||n===":")&&isEmpty(r)){const t=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=t,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const n=this.getLine();if(n===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(n[r]){case"#":yield*this.pushCount(n.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(n.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let n,r,t=-1;do n=yield*this.pushNewline(),n>0?(r=yield*this.pushSpaces(!1),this.indentValue=t=r):r=0,r+=yield*this.pushSpaces(!0);while(n+r>0);const e=this.getLine();if(e===null)return this.setNext("flow");if((t!==-1&&t<this.indentNext&&e[0]!=="#"||t===0&&(e.startsWith("---")||e.startsWith("..."))&&isEmpty(e[3]))&&!(t===this.indentNext-1&&this.flowLevel===1&&(e[0]==="]"||e[0]==="}")))return this.flowLevel=0,yield FLOW_END,yield*this.parseLineStart();let o=0;for(;e[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),e[o]){case void 0:return"flow";case"#":return yield*this.pushCount(e.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||isEmpty(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const n=this.charAt(0);let r=this.buffer.indexOf(n,this.pos+1);if(n==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2===0)break;r=this.buffer.indexOf('"',r+1)}const t=this.buffer.substring(0,r);let e=t.indexOf(`
`,this.pos);if(e!==-1){for(;e!==-1;){const o=this.continueScalar(e+1);if(o===-1)break;e=t.indexOf(`
`,o)}e!==-1&&(r=e-(t[e-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let n=this.pos;for(;;){const r=this.buffer[++n];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>isEmpty(r)||r==="#")}*parseBlockScalar(){let n=this.pos-1,r=0,t;e:for(let e=this.pos;t=this.buffer[e];++e)switch(t){case" ":r+=1;break;case`
`:n=e,r=0;break;case"\r":{const o=this.buffer[e+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!t&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(n+1);if(e===-1)break;n=this.buffer.indexOf(`
`,e)}while(n!==-1);if(n===-1){if(!this.atEnd)return this.setNext("block-scalar");n=this.buffer.length}}if(!this.blockScalarKeep)do{let e=n-1,o=this.buffer[e];o==="\r"&&(o=this.buffer[--e]);const s=e;for(;o===" "||o==="	";)o=this.buffer[--e];if(o===`
`&&e>=this.pos&&e+1+r>s)n=e;else break}while(!0);return yield SCALAR,yield*this.pushToIndex(n+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const n=this.flowLevel>0;let r=this.pos-1,t=this.pos-1,e;for(;e=this.buffer[++t];)if(e===":"){const o=this.buffer[t+1];if(isEmpty(o)||n&&o===",")break;r=t}else if(isEmpty(e)){let o=this.buffer[t+1];if(e==="\r"&&(o===`
`?(t+=1,e=`
`,o=this.buffer[t+1]):r=t),o==="#"||n&&invalidFlowScalarChars.includes(o))break;if(e===`
`){const s=this.continueScalar(t+1);if(s===-1)break;t=Math.max(t,s-2)}}else{if(n&&invalidFlowScalarChars.includes(e))break;r=t}return!e&&!this.atEnd?this.setNext("plain-scalar"):(yield SCALAR,yield*this.pushToIndex(r+1,!0),n?"flow":"doc")}*pushCount(n){return n>0?(yield this.buffer.substr(this.pos,n),this.pos+=n,n):0}*pushToIndex(n,r){const t=this.buffer.slice(this.pos,n);return t?(yield t,this.pos+=t.length,t.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const n=this.flowLevel>0,r=this.charAt(1);if(isEmpty(r)||n&&invalidFlowScalarChars.includes(r))return n?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let n=this.pos+2,r=this.buffer[n];for(;!isEmpty(r)&&r!==">";)r=this.buffer[++n];return yield*this.pushToIndex(r===">"?n+1:n,!1)}else{let n=this.pos+1,r=this.buffer[n];for(;r;)if(tagChars.includes(r))r=this.buffer[++n];else if(r==="%"&&hexDigits.includes(this.buffer[n+1])&&hexDigits.includes(this.buffer[n+2]))r=this.buffer[n+=3];else break;return yield*this.pushToIndex(n,!1)}}*pushNewline(){const n=this.buffer[this.pos];return n===`
`?yield*this.pushCount(1):n==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(n){let r=this.pos-1,t;do t=this.buffer[++r];while(t===" "||n&&t==="	");const e=r-this.pos;return e>0&&(yield this.buffer.substr(this.pos,e),this.pos=r),e}*pushUntil(n){let r=this.pos,t=this.buffer[r];for(;!n(t);)t=this.buffer[++r];return yield*this.pushToIndex(r,!1)}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=n=>this.lineStarts.push(n),this.linePos=n=>{let r=0,t=this.lineStarts.length;for(;r<t;){const o=r+t>>1;this.lineStarts[o]<n?r=o+1:t=o}if(this.lineStarts[r]===n)return{line:r+1,col:1};if(r===0)return{line:0,col:n};const e=this.lineStarts[r-1];return{line:r,col:n-e+1}}}}function includesToken(i,n){for(let r=0;r<i.length;++r)if(i[r].type===n)return!0;return!1}function findNonEmptyIndex(i){for(let n=0;n<i.length;++n)switch(i[n].type){case"space":case"comment":case"newline":break;default:return n}return-1}function isFlowToken(i){switch(i==null?void 0:i.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(i){switch(i.type){case"document":return i.start;case"block-map":{const n=i.items[i.items.length-1];return n.sep??n.start}case"block-seq":return i.items[i.items.length-1].start;default:return[]}}function getFirstKeyStartProps(i){var r;if(i.length===0)return[];let n=i.length;e:for(;--n>=0;)switch(i[n].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=i[++n])==null?void 0:r.type)==="space";);return i.splice(n,i.length)}function fixFlowSeqItems(i){if(i.start.type==="flow-seq-start")for(const n of i.items)n.sep&&!n.value&&!includesToken(n.start,"explicit-key-ind")&&!includesToken(n.sep,"map-value-ind")&&(n.key&&(n.value=n.key),delete n.key,isFlowToken(n.value)?n.value.end?Array.prototype.push.apply(n.value.end,n.sep):n.value.end=n.sep:Array.prototype.push.apply(n.start,n.sep),delete n.sep)}class Parser{constructor(n){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=n}*parse(n,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const t of this.lexer.lex(n,r))yield*this.next(t);r||(yield*this.end())}*next(n){if(this.source=n,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=n.length;return}const r=tokenType(n);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+n.length);break;case"space":this.atNewLine&&n[0]===" "&&(this.indent+=n.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=n.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=n.length}else{const t=`Not a YAML token: ${n}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:n}),this.offset+=n.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const n=this.peek(1);if(this.type==="doc-end"&&(!n||n.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!n)return yield*this.stream();switch(n.type){case"document":return yield*this.document(n);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(n);case"block-scalar":return yield*this.blockScalar(n);case"block-map":return yield*this.blockMap(n);case"block-seq":return yield*this.blockSequence(n);case"flow-collection":return yield*this.flowCollection(n);case"doc-end":return yield*this.documentEnd(n)}yield*this.pop()}peek(n){return this.stack[this.stack.length-n]}*pop(n){const r=n??this.stack.pop();if(r)if(this.stack.length===0)yield r;else{const t=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in t?t.indent:0:r.type==="flow-collection"&&t.type==="document"&&(r.indent=0),r.type==="flow-collection"&&fixFlowSeqItems(r),t.type){case"document":t.value=r;break;case"block-scalar":t.props.push(r);break;case"block-map":{const e=t.items[t.items.length-1];if(e.value){t.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(e.sep)e.value=r;else{Object.assign(e,{key:r,sep:[]}),this.onKeyLine=!includesToken(e.start,"explicit-key-ind");return}break}case"block-seq":{const e=t.items[t.items.length-1];e.value?t.items.push({start:[],value:r}):e.value=r;break}case"flow-collection":{const e=t.items[t.items.length-1];!e||e.value?t.items.push({start:[],key:r,sep:[]}):e.sep?e.value=r:Object.assign(e,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((t.type==="document"||t.type==="block-map"||t.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const e=r.items[r.items.length-1];e&&!e.sep&&!e.value&&e.start.length>0&&findNonEmptyIndex(e.start)===-1&&(r.indent===0||e.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(t.type==="document"?t.end=e.start:t.items.push({start:e.start}),r.items.splice(-1,1))}}else{const t="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:t}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const n={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&n.start.push(this.sourceToken),this.stack.push(n);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(n){if(n.value)return yield*this.lineEnd(n);switch(this.type){case"doc-start":{findNonEmptyIndex(n.start)!==-1?(yield*this.pop(),yield*this.step()):n.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":n.start.push(this.sourceToken);return}const r=this.startBlockValue(n);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(n){if(this.type==="map-value-ind"){const r=getPrevProps(this.peek(2)),t=getFirstKeyStartProps(r);let e;n.end?(e=n.end,e.push(this.sourceToken),delete n.end):e=[this.sourceToken];const o={type:"block-map",offset:n.offset,indent:n.indent,items:[{start:t,key:n,sep:e}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(n)}*blockScalar(n){switch(this.type){case"space":case"comment":case"newline":n.props.push(this.sourceToken);return;case"scalar":if(n.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(n){var t;const r=n.items[n.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const e="end"in r.value?r.value.end:void 0,o=Array.isArray(e)?e[e.length-1]:void 0;(o==null?void 0:o.type)==="comment"?e==null||e.push(this.sourceToken):n.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)n.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,n.indent)){const e=n.items[n.items.length-2],o=(t=e==null?void 0:e.value)==null?void 0:t.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),n.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=n.indent){const e=!this.onKeyLine&&this.indent===n.indent&&r.sep;let o=[];if(e&&r.sep&&!r.value){const s=[];for(let a=0;a<r.sep.length;++a){const l=r.sep[a];switch(l.type){case"newline":s.push(a);break;case"space":break;case"comment":l.indent>n.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=r.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":e||r.value?(o.push(this.sourceToken),n.items.push({start:o}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!includesToken(r.start,"explicit-key-ind")?r.start.push(this.sourceToken):e||r.value?(o.push(this.sourceToken),n.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(includesToken(r.start,"explicit-key-ind"))if(r.sep)if(r.value)n.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(r.key)&&!includesToken(r.sep,"newline")){const s=getFirstKeyStartProps(r.start),a=r.key,l=r.sep;l.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:l}]})}else o.length>0?r.sep=r.sep.concat(o,this.sourceToken):r.sep.push(this.sourceToken);else if(includesToken(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const s=getFirstKeyStartProps(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||e?n.items.push({start:o,key:null,sep:[this.sourceToken]}):includesToken(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);e||r.value?(n.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(s):(Object.assign(r,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(n);if(s){e&&s.type!=="block-seq"&&includesToken(r.start,"explicit-key-ind")&&n.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(n){var t;const r=n.items[n.items.length-1];switch(this.type){case"newline":if(r.value){const e="end"in r.value?r.value.end:void 0,o=Array.isArray(e)?e[e.length-1]:void 0;(o==null?void 0:o.type)==="comment"?e==null||e.push(this.sourceToken):n.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)n.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,n.indent)){const e=n.items[n.items.length-2],o=(t=e==null?void 0:e.value)==null?void 0:t.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),n.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=n.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==n.indent)break;r.value||includesToken(r.start,"seq-item-ind")?n.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>n.indent){const e=this.startBlockValue(n);if(e){this.stack.push(e);return}}yield*this.pop(),yield*this.step()}*flowCollection(n){const r=n.items[n.items.length-1];if(this.type==="flow-error-end"){let t;do yield*this.pop(),t=this.peek(1);while(t&&t.type==="flow-collection")}else if(n.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?n.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?n.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?n.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const e=this.flowScalar(this.type);!r||r.value?n.items.push({start:[],key:e,sep:[]}):r.sep?this.stack.push(e):Object.assign(r,{key:e,sep:[]});return}case"flow-map-end":case"flow-seq-end":n.end.push(this.sourceToken);return}const t=this.startBlockValue(n);t?this.stack.push(t):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if(t.type==="block-map"&&(this.type==="map-value-ind"&&t.indent===n.indent||this.type==="newline"&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&t.type!=="flow-collection"){const e=getPrevProps(t),o=getFirstKeyStartProps(e);fixFlowSeqItems(n);const s=n.end.splice(1,n.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:n.offset,indent:n.indent,items:[{start:o,key:n,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(n)}}flowScalar(n){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:n,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(n){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=getPrevProps(n),t=getFirstKeyStartProps(r);return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const r=getPrevProps(n),t=getFirstKeyStartProps(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(n,r){return this.type!=="comment"||this.indent<=r?!1:n.every(t=>t.type==="newline"||t.type==="space")}*documentEnd(n){this.type!=="doc-mode"&&(n.end?n.end.push(this.sourceToken):n.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(n){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:n.end?n.end.push(this.sourceToken):n.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function parseOptions(i){const n=i.prettyErrors!==!1;return{lineCounter:i.lineCounter||n&&new LineCounter||null,prettyErrors:n}}function parseAllDocuments(i,n={}){const{lineCounter:r,prettyErrors:t}=parseOptions(n),e=new Parser(r==null?void 0:r.addNewLine),o=new Composer(n),s=Array.from(o.compose(e.parse(i)));if(t&&r)for(const a of s)a.errors.forEach(prettifyError(i,r)),a.warnings.forEach(prettifyError(i,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function parseDocument(i,n={}){const{lineCounter:r,prettyErrors:t}=parseOptions(n),e=new Parser(r==null?void 0:r.addNewLine),o=new Composer(n);let s=null;for(const a of o.compose(e.parse(i),!0,i.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return t&&r&&(s.errors.forEach(prettifyError(i,r)),s.warnings.forEach(prettifyError(i,r))),s}function parse(i,n,r){let t;typeof n=="function"?t=n:r===void 0&&n&&typeof n=="object"&&(r=n);const e=parseDocument(i,r);if(!e)return null;if(e.warnings.forEach(o=>warn(e.options.logLevel,o)),e.errors.length>0){if(e.options.logLevel!=="silent")throw e.errors[0];e.errors=[]}return e.toJS(Object.assign({reviver:t},r))}function stringify(i,n,r){let t=null;if(typeof n=="function"||Array.isArray(n)?t=n:r===void 0&&n&&(r=n),typeof r=="string"&&(r=r.length),typeof r=="number"){const e=Math.round(r);r=e<1?void 0:e>8?{indent:8}:{indent:e}}if(i===void 0){const{keepUndefined:e}=r??n??{};if(!e)return}return new Document(i,t,r).toString(r)}const YAML=Object.freeze(Object.defineProperty({__proto__:null,Alias,CST:cst,Composer,Document,Lexer,LineCounter,Pair,Parser,Scalar,Schema,YAMLError,YAMLMap,YAMLParseError,YAMLSeq,YAMLWarning,isAlias,isCollection:isCollection$1,isDocument,isMap,isNode,isPair,isScalar:isScalar$1,isSeq,parse,parseAllDocuments,parseDocument,stringify,visit:visit$1,visitAsync},Symbol.toStringTag,{value:"Module"})),$Reader=protobuf.Reader,$Writer=protobuf.Writer,$util=protobuf.util,$root=protobuf.roots.sbProtos||(protobuf.roots.sbProtos={}),OracleJob=$root.OracleJob=(()=>{function i(n){if(this.tasks=[],n)for(let r=Object.keys(n),t=0;t<r.length;++t)n[r[t]]!=null&&(this[r[t]]=n[r[t]])}return i.prototype.tasks=$util.emptyArray,i.create=function(r){return new i(r)},i.encode=function(r,t){if(t||(t=$Writer.create()),r.tasks!=null&&r.tasks.length)for(let e=0;e<r.tasks.length;++e)$root.OracleJob.Task.encode(r.tasks[e],t.uint32(10).fork()).ldelim();return t},i.encodeDelimited=function(r,t){return this.encode(r,t).ldelim()},i.decode=function(r,t){r instanceof $Reader||(r=$Reader.create(r));let e=t===void 0?r.len:r.pos+t,o=new $root.OracleJob;for(;r.pos<e;){let s=r.uint32();switch(s>>>3){case 1:{o.tasks&&o.tasks.length||(o.tasks=[]),o.tasks.push($root.OracleJob.Task.decode(r,r.uint32()));break}default:r.skipType(s&7);break}}return o},i.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},i.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.tasks!=null&&r.hasOwnProperty("tasks")){if(!Array.isArray(r.tasks))return"tasks: array expected";for(let t=0;t<r.tasks.length;++t){let e=$root.OracleJob.Task.verify(r.tasks[t]);if(e)return"tasks."+e}}return null},i.fromObject=function(r){if(r instanceof $root.OracleJob)return r;let t=new $root.OracleJob;if(r.tasks){if(!Array.isArray(r.tasks))throw TypeError(".OracleJob.tasks: array expected");t.tasks=[];for(let e=0;e<r.tasks.length;++e){if(typeof r.tasks[e]!="object")throw TypeError(".OracleJob.tasks: object expected");t.tasks[e]=$root.OracleJob.Task.fromObject(r.tasks[e])}}return t},i.toObject=function(r,t){t||(t={});let e={};if((t.arrays||t.defaults)&&(e.tasks=[]),r.tasks&&r.tasks.length){e.tasks=[];for(let o=0;o<r.tasks.length;++o)e.tasks[o]=$root.OracleJob.Task.toObject(r.tasks[o],t)}return e},i.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},i.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/OracleJob"},i.fromYaml=function(r){return i.fromObject(YAML.parse(r))},i.prototype.toYaml=function(){return YAML.stringify(this.toJSON())},i.HttpTask=function(){function n(r){if(this.headers=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.url="",n.prototype.method=0,n.prototype.headers=$util.emptyArray,n.prototype.body="",n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&e.uint32(10).string(t.url),t.method!=null&&Object.hasOwnProperty.call(t,"method")&&e.uint32(16).int32(t.method),t.headers!=null&&t.headers.length)for(let o=0;o<t.headers.length;++o)$root.OracleJob.HttpTask.Header.encode(t.headers[o],e.uint32(26).fork()).ldelim();return t.body!=null&&Object.hasOwnProperty.call(t,"body")&&e.uint32(34).string(t.body),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.HttpTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.url=t.string();break}case 2:{s.method=t.int32();break}case 3:{s.headers&&s.headers.length||(s.headers=[]),s.headers.push($root.OracleJob.HttpTask.Header.decode(t,t.uint32()));break}case 4:{s.body=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.url!=null&&t.hasOwnProperty("url")&&!$util.isString(t.url))return"url: string expected";if(t.method!=null&&t.hasOwnProperty("method"))switch(t.method){default:return"method: enum value expected";case 0:case 1:case 2:break}if(t.headers!=null&&t.hasOwnProperty("headers")){if(!Array.isArray(t.headers))return"headers: array expected";for(let e=0;e<t.headers.length;++e){let o=$root.OracleJob.HttpTask.Header.verify(t.headers[e]);if(o)return"headers."+o}}return t.body!=null&&t.hasOwnProperty("body")&&!$util.isString(t.body)?"body: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.HttpTask)return t;let e=new $root.OracleJob.HttpTask;switch(t.url!=null&&(e.url=String(t.url)),t.method){default:if(typeof t.method=="number"){e.method=t.method;break}break;case"METHOD_UNKOWN":case 0:e.method=0;break;case"METHOD_GET":case 1:e.method=1;break;case"METHOD_POST":case 2:e.method=2;break}if(t.headers){if(!Array.isArray(t.headers))throw TypeError(".OracleJob.HttpTask.headers: array expected");e.headers=[];for(let o=0;o<t.headers.length;++o){if(typeof t.headers[o]!="object")throw TypeError(".OracleJob.HttpTask.headers: object expected");e.headers[o]=$root.OracleJob.HttpTask.Header.fromObject(t.headers[o])}}return t.body!=null&&(e.body=String(t.body)),e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.headers=[]),e.defaults&&(o.url="",o.method=e.enums===String?"METHOD_UNKOWN":0,o.body=""),t.url!=null&&t.hasOwnProperty("url")&&(o.url=t.url),t.method!=null&&t.hasOwnProperty("method")&&(o.method=e.enums===String?$root.OracleJob.HttpTask.Method[t.method]===void 0?t.method:$root.OracleJob.HttpTask.Method[t.method]:t.method),t.headers&&t.headers.length){o.headers=[];for(let s=0;s<t.headers.length;++s)o.headers[s]=$root.OracleJob.HttpTask.Header.toObject(t.headers[s],e)}return t.body!=null&&t.hasOwnProperty("body")&&(o.body=t.body),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.HttpTask"},n.Method=function(){const r={},t=Object.create(r);return t[r[0]="METHOD_UNKOWN"]=0,t[r[1]="METHOD_GET"]=1,t[r[2]="METHOD_POST"]=2,t}(),n.Header=function(){function r(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}return r.prototype.key="",r.prototype.value="",r.create=function(e){return new r(e)},r.encode=function(e,o){return o||(o=$Writer.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&o.uint32(10).string(e.key),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&o.uint32(18).string(e.value),o},r.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},r.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.HttpTask.Header;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.key=e.string();break}case 2:{a.value=e.string();break}default:e.skipType(l&7);break}}return a},r.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},r.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!$util.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!$util.isString(e.value)?"value: string expected":null},r.fromObject=function(e){if(e instanceof $root.OracleJob.HttpTask.Header)return e;let o=new $root.OracleJob.HttpTask.Header;return e.key!=null&&(o.key=String(e.key)),e.value!=null&&(o.value=String(e.value)),o},r.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.key="",s.value=""),e.key!=null&&e.hasOwnProperty("key")&&(s.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(s.value=e.value),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.HttpTask.Header"},r}(),n}(),i.JsonParseTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.path="",n.prototype.aggregationMethod=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.path!=null&&Object.hasOwnProperty.call(t,"path")&&e.uint32(10).string(t.path),t.aggregationMethod!=null&&Object.hasOwnProperty.call(t,"aggregationMethod")&&e.uint32(16).int32(t.aggregationMethod),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.JsonParseTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.path=t.string();break}case 2:{s.aggregationMethod=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.path!=null&&t.hasOwnProperty("path")&&!$util.isString(t.path))return"path: string expected";if(t.aggregationMethod!=null&&t.hasOwnProperty("aggregationMethod"))switch(t.aggregationMethod){default:return"aggregationMethod: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.JsonParseTask)return t;let e=new $root.OracleJob.JsonParseTask;switch(t.path!=null&&(e.path=String(t.path)),t.aggregationMethod){default:if(typeof t.aggregationMethod=="number"){e.aggregationMethod=t.aggregationMethod;break}break;case"NONE":case 0:e.aggregationMethod=0;break;case"MIN":case 1:e.aggregationMethod=1;break;case"MAX":case 2:e.aggregationMethod=2;break;case"SUM":case 3:e.aggregationMethod=3;break;case"MEAN":case 4:e.aggregationMethod=4;break;case"MEDIAN":case 5:e.aggregationMethod=5;break}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.path="",o.aggregationMethod=e.enums===String?"NONE":0),t.path!=null&&t.hasOwnProperty("path")&&(o.path=t.path),t.aggregationMethod!=null&&t.hasOwnProperty("aggregationMethod")&&(o.aggregationMethod=e.enums===String?$root.OracleJob.JsonParseTask.AggregationMethod[t.aggregationMethod]===void 0?t.aggregationMethod:$root.OracleJob.JsonParseTask.AggregationMethod[t.aggregationMethod]:t.aggregationMethod),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.JsonParseTask"},n.AggregationMethod=function(){const r={},t=Object.create(r);return t[r[0]="NONE"]=0,t[r[1]="MIN"]=1,t[r[2]="MAX"]=2,t[r[3]="SUM"]=3,t[r[4]="MEAN"]=4,t[r[5]="MEDIAN"]=5,t}(),n}(),i.MedianTask=function(){function n(r){if(this.tasks=[],this.jobs=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.tasks=$util.emptyArray,n.prototype.jobs=$util.emptyArray,n.prototype.minSuccessfulRequired=0,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.tasks!=null&&t.tasks.length)for(let o=0;o<t.tasks.length;++o)$root.OracleJob.Task.encode(t.tasks[o],e.uint32(10).fork()).ldelim();if(t.jobs!=null&&t.jobs.length)for(let o=0;o<t.jobs.length;++o)$root.OracleJob.encode(t.jobs[o],e.uint32(18).fork()).ldelim();return t.minSuccessfulRequired!=null&&Object.hasOwnProperty.call(t,"minSuccessfulRequired")&&e.uint32(24).int32(t.minSuccessfulRequired),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MedianTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.tasks&&s.tasks.length||(s.tasks=[]),s.tasks.push($root.OracleJob.Task.decode(t,t.uint32()));break}case 2:{s.jobs&&s.jobs.length||(s.jobs=[]),s.jobs.push($root.OracleJob.decode(t,t.uint32()));break}case 3:{s.minSuccessfulRequired=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tasks!=null&&t.hasOwnProperty("tasks")){if(!Array.isArray(t.tasks))return"tasks: array expected";for(let e=0;e<t.tasks.length;++e){let o=$root.OracleJob.Task.verify(t.tasks[e]);if(o)return"tasks."+o}}if(t.jobs!=null&&t.hasOwnProperty("jobs")){if(!Array.isArray(t.jobs))return"jobs: array expected";for(let e=0;e<t.jobs.length;++e){let o=$root.OracleJob.verify(t.jobs[e]);if(o)return"jobs."+o}}return t.minSuccessfulRequired!=null&&t.hasOwnProperty("minSuccessfulRequired")&&!$util.isInteger(t.minSuccessfulRequired)?"minSuccessfulRequired: integer expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.MedianTask)return t;let e=new $root.OracleJob.MedianTask;if(t.tasks){if(!Array.isArray(t.tasks))throw TypeError(".OracleJob.MedianTask.tasks: array expected");e.tasks=[];for(let o=0;o<t.tasks.length;++o){if(typeof t.tasks[o]!="object")throw TypeError(".OracleJob.MedianTask.tasks: object expected");e.tasks[o]=$root.OracleJob.Task.fromObject(t.tasks[o])}}if(t.jobs){if(!Array.isArray(t.jobs))throw TypeError(".OracleJob.MedianTask.jobs: array expected");e.jobs=[];for(let o=0;o<t.jobs.length;++o){if(typeof t.jobs[o]!="object")throw TypeError(".OracleJob.MedianTask.jobs: object expected");e.jobs[o]=$root.OracleJob.fromObject(t.jobs[o])}}return t.minSuccessfulRequired!=null&&(e.minSuccessfulRequired=t.minSuccessfulRequired|0),e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.tasks=[],o.jobs=[]),e.defaults&&(o.minSuccessfulRequired=0),t.tasks&&t.tasks.length){o.tasks=[];for(let s=0;s<t.tasks.length;++s)o.tasks[s]=$root.OracleJob.Task.toObject(t.tasks[s],e)}if(t.jobs&&t.jobs.length){o.jobs=[];for(let s=0;s<t.jobs.length;++s)o.jobs[s]=$root.OracleJob.toObject(t.jobs[s],e)}return t.minSuccessfulRequired!=null&&t.hasOwnProperty("minSuccessfulRequired")&&(o.minSuccessfulRequired=t.minSuccessfulRequired),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MedianTask"},n}(),i.MeanTask=function(){function n(r){if(this.tasks=[],this.jobs=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.tasks=$util.emptyArray,n.prototype.jobs=$util.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.tasks!=null&&t.tasks.length)for(let o=0;o<t.tasks.length;++o)$root.OracleJob.Task.encode(t.tasks[o],e.uint32(10).fork()).ldelim();if(t.jobs!=null&&t.jobs.length)for(let o=0;o<t.jobs.length;++o)$root.OracleJob.encode(t.jobs[o],e.uint32(18).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MeanTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.tasks&&s.tasks.length||(s.tasks=[]),s.tasks.push($root.OracleJob.Task.decode(t,t.uint32()));break}case 2:{s.jobs&&s.jobs.length||(s.jobs=[]),s.jobs.push($root.OracleJob.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tasks!=null&&t.hasOwnProperty("tasks")){if(!Array.isArray(t.tasks))return"tasks: array expected";for(let e=0;e<t.tasks.length;++e){let o=$root.OracleJob.Task.verify(t.tasks[e]);if(o)return"tasks."+o}}if(t.jobs!=null&&t.hasOwnProperty("jobs")){if(!Array.isArray(t.jobs))return"jobs: array expected";for(let e=0;e<t.jobs.length;++e){let o=$root.OracleJob.verify(t.jobs[e]);if(o)return"jobs."+o}}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.MeanTask)return t;let e=new $root.OracleJob.MeanTask;if(t.tasks){if(!Array.isArray(t.tasks))throw TypeError(".OracleJob.MeanTask.tasks: array expected");e.tasks=[];for(let o=0;o<t.tasks.length;++o){if(typeof t.tasks[o]!="object")throw TypeError(".OracleJob.MeanTask.tasks: object expected");e.tasks[o]=$root.OracleJob.Task.fromObject(t.tasks[o])}}if(t.jobs){if(!Array.isArray(t.jobs))throw TypeError(".OracleJob.MeanTask.jobs: array expected");e.jobs=[];for(let o=0;o<t.jobs.length;++o){if(typeof t.jobs[o]!="object")throw TypeError(".OracleJob.MeanTask.jobs: object expected");e.jobs[o]=$root.OracleJob.fromObject(t.jobs[o])}}return e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.tasks=[],o.jobs=[]),t.tasks&&t.tasks.length){o.tasks=[];for(let s=0;s<t.tasks.length;++s)o.tasks[s]=$root.OracleJob.Task.toObject(t.tasks[s],e)}if(t.jobs&&t.jobs.length){o.jobs=[];for(let s=0;s<t.jobs.length;++s)o.jobs[s]=$root.OracleJob.toObject(t.jobs[s],e)}return o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MeanTask"},n}(),i.MaxTask=function(){function n(r){if(this.tasks=[],this.jobs=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.tasks=$util.emptyArray,n.prototype.jobs=$util.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.tasks!=null&&t.tasks.length)for(let o=0;o<t.tasks.length;++o)$root.OracleJob.Task.encode(t.tasks[o],e.uint32(10).fork()).ldelim();if(t.jobs!=null&&t.jobs.length)for(let o=0;o<t.jobs.length;++o)$root.OracleJob.encode(t.jobs[o],e.uint32(18).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MaxTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.tasks&&s.tasks.length||(s.tasks=[]),s.tasks.push($root.OracleJob.Task.decode(t,t.uint32()));break}case 2:{s.jobs&&s.jobs.length||(s.jobs=[]),s.jobs.push($root.OracleJob.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tasks!=null&&t.hasOwnProperty("tasks")){if(!Array.isArray(t.tasks))return"tasks: array expected";for(let e=0;e<t.tasks.length;++e){let o=$root.OracleJob.Task.verify(t.tasks[e]);if(o)return"tasks."+o}}if(t.jobs!=null&&t.hasOwnProperty("jobs")){if(!Array.isArray(t.jobs))return"jobs: array expected";for(let e=0;e<t.jobs.length;++e){let o=$root.OracleJob.verify(t.jobs[e]);if(o)return"jobs."+o}}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.MaxTask)return t;let e=new $root.OracleJob.MaxTask;if(t.tasks){if(!Array.isArray(t.tasks))throw TypeError(".OracleJob.MaxTask.tasks: array expected");e.tasks=[];for(let o=0;o<t.tasks.length;++o){if(typeof t.tasks[o]!="object")throw TypeError(".OracleJob.MaxTask.tasks: object expected");e.tasks[o]=$root.OracleJob.Task.fromObject(t.tasks[o])}}if(t.jobs){if(!Array.isArray(t.jobs))throw TypeError(".OracleJob.MaxTask.jobs: array expected");e.jobs=[];for(let o=0;o<t.jobs.length;++o){if(typeof t.jobs[o]!="object")throw TypeError(".OracleJob.MaxTask.jobs: object expected");e.jobs[o]=$root.OracleJob.fromObject(t.jobs[o])}}return e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.tasks=[],o.jobs=[]),t.tasks&&t.tasks.length){o.tasks=[];for(let s=0;s<t.tasks.length;++s)o.tasks[s]=$root.OracleJob.Task.toObject(t.tasks[s],e)}if(t.jobs&&t.jobs.length){o.jobs=[];for(let s=0;s<t.jobs.length;++s)o.jobs[s]=$root.OracleJob.toObject(t.jobs[s],e)}return o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MaxTask"},n}(),i.MinTask=function(){function n(r){if(this.tasks=[],this.jobs=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.tasks=$util.emptyArray,n.prototype.jobs=$util.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.tasks!=null&&t.tasks.length)for(let o=0;o<t.tasks.length;++o)$root.OracleJob.Task.encode(t.tasks[o],e.uint32(10).fork()).ldelim();if(t.jobs!=null&&t.jobs.length)for(let o=0;o<t.jobs.length;++o)$root.OracleJob.encode(t.jobs[o],e.uint32(18).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MinTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.tasks&&s.tasks.length||(s.tasks=[]),s.tasks.push($root.OracleJob.Task.decode(t,t.uint32()));break}case 2:{s.jobs&&s.jobs.length||(s.jobs=[]),s.jobs.push($root.OracleJob.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tasks!=null&&t.hasOwnProperty("tasks")){if(!Array.isArray(t.tasks))return"tasks: array expected";for(let e=0;e<t.tasks.length;++e){let o=$root.OracleJob.Task.verify(t.tasks[e]);if(o)return"tasks."+o}}if(t.jobs!=null&&t.hasOwnProperty("jobs")){if(!Array.isArray(t.jobs))return"jobs: array expected";for(let e=0;e<t.jobs.length;++e){let o=$root.OracleJob.verify(t.jobs[e]);if(o)return"jobs."+o}}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.MinTask)return t;let e=new $root.OracleJob.MinTask;if(t.tasks){if(!Array.isArray(t.tasks))throw TypeError(".OracleJob.MinTask.tasks: array expected");e.tasks=[];for(let o=0;o<t.tasks.length;++o){if(typeof t.tasks[o]!="object")throw TypeError(".OracleJob.MinTask.tasks: object expected");e.tasks[o]=$root.OracleJob.Task.fromObject(t.tasks[o])}}if(t.jobs){if(!Array.isArray(t.jobs))throw TypeError(".OracleJob.MinTask.jobs: array expected");e.jobs=[];for(let o=0;o<t.jobs.length;++o){if(typeof t.jobs[o]!="object")throw TypeError(".OracleJob.MinTask.jobs: object expected");e.jobs[o]=$root.OracleJob.fromObject(t.jobs[o])}}return e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.tasks=[],o.jobs=[]),t.tasks&&t.tasks.length){o.tasks=[];for(let s=0;s<t.tasks.length;++s)o.tasks[s]=$root.OracleJob.Task.toObject(t.tasks[s],e)}if(t.jobs&&t.jobs.length){o.jobs=[];for(let s=0;s<t.jobs.length;++s)o.jobs[s]=$root.OracleJob.toObject(t.jobs[s],e)}return o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MinTask"},n}(),i.ValueTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.value=null,n.prototype.aggregatorPubkey=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Value",{get:$util.oneOfGetter(r=["value","aggregatorPubkey","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&o.uint32(9).double(e.value),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(26).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.ValueTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.value=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.value!=null&&e.hasOwnProperty("value")&&(o.Value=1,typeof e.value!="number"))return"value: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Value===1)return"Value: multiple values";if(o.Value=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Value===1)return"Value: multiple values";if(o.Value=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.ValueTask)return e;let o=new $root.OracleJob.ValueTask;return e.value!=null&&(o.value=Number(e.value)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.value!=null&&e.hasOwnProperty("value")&&(s.value=o.json&&!isFinite(e.value)?String(e.value):e.value,o.oneofs&&(s.Value="value")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Value="aggregatorPubkey")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Value="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.ValueTask"},n}(),i.WebsocketTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.url="",n.prototype.subscription="",n.prototype.maxDataAgeSeconds=0,n.prototype.filter="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.url!=null&&Object.hasOwnProperty.call(t,"url")&&e.uint32(10).string(t.url),t.subscription!=null&&Object.hasOwnProperty.call(t,"subscription")&&e.uint32(18).string(t.subscription),t.maxDataAgeSeconds!=null&&Object.hasOwnProperty.call(t,"maxDataAgeSeconds")&&e.uint32(24).int32(t.maxDataAgeSeconds),t.filter!=null&&Object.hasOwnProperty.call(t,"filter")&&e.uint32(34).string(t.filter),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.WebsocketTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.url=t.string();break}case 2:{s.subscription=t.string();break}case 3:{s.maxDataAgeSeconds=t.int32();break}case 4:{s.filter=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.url!=null&&t.hasOwnProperty("url")&&!$util.isString(t.url)?"url: string expected":t.subscription!=null&&t.hasOwnProperty("subscription")&&!$util.isString(t.subscription)?"subscription: string expected":t.maxDataAgeSeconds!=null&&t.hasOwnProperty("maxDataAgeSeconds")&&!$util.isInteger(t.maxDataAgeSeconds)?"maxDataAgeSeconds: integer expected":t.filter!=null&&t.hasOwnProperty("filter")&&!$util.isString(t.filter)?"filter: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.WebsocketTask)return t;let e=new $root.OracleJob.WebsocketTask;return t.url!=null&&(e.url=String(t.url)),t.subscription!=null&&(e.subscription=String(t.subscription)),t.maxDataAgeSeconds!=null&&(e.maxDataAgeSeconds=t.maxDataAgeSeconds|0),t.filter!=null&&(e.filter=String(t.filter)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.url="",o.subscription="",o.maxDataAgeSeconds=0,o.filter=""),t.url!=null&&t.hasOwnProperty("url")&&(o.url=t.url),t.subscription!=null&&t.hasOwnProperty("subscription")&&(o.subscription=t.subscription),t.maxDataAgeSeconds!=null&&t.hasOwnProperty("maxDataAgeSeconds")&&(o.maxDataAgeSeconds=t.maxDataAgeSeconds),t.filter!=null&&t.hasOwnProperty("filter")&&(o.filter=t.filter),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.WebsocketTask"},n}(),i.ConditionalTask=function(){function n(r){if(this.attempt=[],this.onFailure=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.attempt=$util.emptyArray,n.prototype.onFailure=$util.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.attempt!=null&&t.attempt.length)for(let o=0;o<t.attempt.length;++o)$root.OracleJob.Task.encode(t.attempt[o],e.uint32(10).fork()).ldelim();if(t.onFailure!=null&&t.onFailure.length)for(let o=0;o<t.onFailure.length;++o)$root.OracleJob.Task.encode(t.onFailure[o],e.uint32(18).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.ConditionalTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.attempt&&s.attempt.length||(s.attempt=[]),s.attempt.push($root.OracleJob.Task.decode(t,t.uint32()));break}case 2:{s.onFailure&&s.onFailure.length||(s.onFailure=[]),s.onFailure.push($root.OracleJob.Task.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attempt!=null&&t.hasOwnProperty("attempt")){if(!Array.isArray(t.attempt))return"attempt: array expected";for(let e=0;e<t.attempt.length;++e){let o=$root.OracleJob.Task.verify(t.attempt[e]);if(o)return"attempt."+o}}if(t.onFailure!=null&&t.hasOwnProperty("onFailure")){if(!Array.isArray(t.onFailure))return"onFailure: array expected";for(let e=0;e<t.onFailure.length;++e){let o=$root.OracleJob.Task.verify(t.onFailure[e]);if(o)return"onFailure."+o}}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.ConditionalTask)return t;let e=new $root.OracleJob.ConditionalTask;if(t.attempt){if(!Array.isArray(t.attempt))throw TypeError(".OracleJob.ConditionalTask.attempt: array expected");e.attempt=[];for(let o=0;o<t.attempt.length;++o){if(typeof t.attempt[o]!="object")throw TypeError(".OracleJob.ConditionalTask.attempt: object expected");e.attempt[o]=$root.OracleJob.Task.fromObject(t.attempt[o])}}if(t.onFailure){if(!Array.isArray(t.onFailure))throw TypeError(".OracleJob.ConditionalTask.onFailure: array expected");e.onFailure=[];for(let o=0;o<t.onFailure.length;++o){if(typeof t.onFailure[o]!="object")throw TypeError(".OracleJob.ConditionalTask.onFailure: object expected");e.onFailure[o]=$root.OracleJob.Task.fromObject(t.onFailure[o])}}return e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.attempt=[],o.onFailure=[]),t.attempt&&t.attempt.length){o.attempt=[];for(let s=0;s<t.attempt.length;++s)o.attempt[s]=$root.OracleJob.Task.toObject(t.attempt[s],e)}if(t.onFailure&&t.onFailure.length){o.onFailure=[];for(let s=0;s<t.onFailure.length;++s)o.onFailure[s]=$root.OracleJob.Task.toObject(t.onFailure[s],e)}return o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.ConditionalTask"},n}(),i.DivideTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.scalar=null,n.prototype.aggregatorPubkey=null,n.prototype.job=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Denominator",{get:$util.oneOfGetter(r=["scalar","aggregatorPubkey","job","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.scalar!=null&&Object.hasOwnProperty.call(e,"scalar")&&o.uint32(9).double(e.scalar),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.job!=null&&Object.hasOwnProperty.call(e,"job")&&$root.OracleJob.encode(e.job,o.uint32(26).fork()).ldelim(),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(34).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.DivideTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.scalar=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.job=$root.OracleJob.decode(e,e.uint32());break}case 4:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.scalar!=null&&e.hasOwnProperty("scalar")&&(o.Denominator=1,typeof e.scalar!="number"))return"scalar: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Denominator===1)return"Denominator: multiple values";if(o.Denominator=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.job!=null&&e.hasOwnProperty("job")){if(o.Denominator===1)return"Denominator: multiple values";o.Denominator=1;{let s=$root.OracleJob.verify(e.job);if(s)return"job."+s}}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Denominator===1)return"Denominator: multiple values";if(o.Denominator=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.DivideTask)return e;let o=new $root.OracleJob.DivideTask;if(e.scalar!=null&&(o.scalar=Number(e.scalar)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.job!=null){if(typeof e.job!="object")throw TypeError(".OracleJob.DivideTask.job: object expected");o.job=$root.OracleJob.fromObject(e.job)}return e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.scalar!=null&&e.hasOwnProperty("scalar")&&(s.scalar=o.json&&!isFinite(e.scalar)?String(e.scalar):e.scalar,o.oneofs&&(s.Denominator="scalar")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Denominator="aggregatorPubkey")),e.job!=null&&e.hasOwnProperty("job")&&(s.job=$root.OracleJob.toObject(e.job,o),o.oneofs&&(s.Denominator="job")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Denominator="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.DivideTask"},n}(),i.MultiplyTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.scalar=null,n.prototype.aggregatorPubkey=null,n.prototype.job=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Multiple",{get:$util.oneOfGetter(r=["scalar","aggregatorPubkey","job","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.scalar!=null&&Object.hasOwnProperty.call(e,"scalar")&&o.uint32(9).double(e.scalar),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.job!=null&&Object.hasOwnProperty.call(e,"job")&&$root.OracleJob.encode(e.job,o.uint32(26).fork()).ldelim(),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(34).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.MultiplyTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.scalar=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.job=$root.OracleJob.decode(e,e.uint32());break}case 4:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.scalar!=null&&e.hasOwnProperty("scalar")&&(o.Multiple=1,typeof e.scalar!="number"))return"scalar: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Multiple===1)return"Multiple: multiple values";if(o.Multiple=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.job!=null&&e.hasOwnProperty("job")){if(o.Multiple===1)return"Multiple: multiple values";o.Multiple=1;{let s=$root.OracleJob.verify(e.job);if(s)return"job."+s}}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Multiple===1)return"Multiple: multiple values";if(o.Multiple=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.MultiplyTask)return e;let o=new $root.OracleJob.MultiplyTask;if(e.scalar!=null&&(o.scalar=Number(e.scalar)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.job!=null){if(typeof e.job!="object")throw TypeError(".OracleJob.MultiplyTask.job: object expected");o.job=$root.OracleJob.fromObject(e.job)}return e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.scalar!=null&&e.hasOwnProperty("scalar")&&(s.scalar=o.json&&!isFinite(e.scalar)?String(e.scalar):e.scalar,o.oneofs&&(s.Multiple="scalar")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Multiple="aggregatorPubkey")),e.job!=null&&e.hasOwnProperty("job")&&(s.job=$root.OracleJob.toObject(e.job,o),o.oneofs&&(s.Multiple="job")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Multiple="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.MultiplyTask"},n}(),i.AddTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.scalar=null,n.prototype.aggregatorPubkey=null,n.prototype.job=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Addition",{get:$util.oneOfGetter(r=["scalar","aggregatorPubkey","job","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.scalar!=null&&Object.hasOwnProperty.call(e,"scalar")&&o.uint32(9).double(e.scalar),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.job!=null&&Object.hasOwnProperty.call(e,"job")&&$root.OracleJob.encode(e.job,o.uint32(26).fork()).ldelim(),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(34).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.AddTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.scalar=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.job=$root.OracleJob.decode(e,e.uint32());break}case 4:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.scalar!=null&&e.hasOwnProperty("scalar")&&(o.Addition=1,typeof e.scalar!="number"))return"scalar: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Addition===1)return"Addition: multiple values";if(o.Addition=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.job!=null&&e.hasOwnProperty("job")){if(o.Addition===1)return"Addition: multiple values";o.Addition=1;{let s=$root.OracleJob.verify(e.job);if(s)return"job."+s}}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Addition===1)return"Addition: multiple values";if(o.Addition=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.AddTask)return e;let o=new $root.OracleJob.AddTask;if(e.scalar!=null&&(o.scalar=Number(e.scalar)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.job!=null){if(typeof e.job!="object")throw TypeError(".OracleJob.AddTask.job: object expected");o.job=$root.OracleJob.fromObject(e.job)}return e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.scalar!=null&&e.hasOwnProperty("scalar")&&(s.scalar=o.json&&!isFinite(e.scalar)?String(e.scalar):e.scalar,o.oneofs&&(s.Addition="scalar")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Addition="aggregatorPubkey")),e.job!=null&&e.hasOwnProperty("job")&&(s.job=$root.OracleJob.toObject(e.job,o),o.oneofs&&(s.Addition="job")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Addition="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.AddTask"},n}(),i.SubtractTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.scalar=null,n.prototype.aggregatorPubkey=null,n.prototype.job=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Subtraction",{get:$util.oneOfGetter(r=["scalar","aggregatorPubkey","job","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.scalar!=null&&Object.hasOwnProperty.call(e,"scalar")&&o.uint32(9).double(e.scalar),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.job!=null&&Object.hasOwnProperty.call(e,"job")&&$root.OracleJob.encode(e.job,o.uint32(26).fork()).ldelim(),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(34).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.SubtractTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.scalar=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.job=$root.OracleJob.decode(e,e.uint32());break}case 4:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.scalar!=null&&e.hasOwnProperty("scalar")&&(o.Subtraction=1,typeof e.scalar!="number"))return"scalar: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Subtraction===1)return"Subtraction: multiple values";if(o.Subtraction=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.job!=null&&e.hasOwnProperty("job")){if(o.Subtraction===1)return"Subtraction: multiple values";o.Subtraction=1;{let s=$root.OracleJob.verify(e.job);if(s)return"job."+s}}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Subtraction===1)return"Subtraction: multiple values";if(o.Subtraction=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.SubtractTask)return e;let o=new $root.OracleJob.SubtractTask;if(e.scalar!=null&&(o.scalar=Number(e.scalar)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.job!=null){if(typeof e.job!="object")throw TypeError(".OracleJob.SubtractTask.job: object expected");o.job=$root.OracleJob.fromObject(e.job)}return e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.scalar!=null&&e.hasOwnProperty("scalar")&&(s.scalar=o.json&&!isFinite(e.scalar)?String(e.scalar):e.scalar,o.oneofs&&(s.Subtraction="scalar")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Subtraction="aggregatorPubkey")),e.job!=null&&e.hasOwnProperty("job")&&(s.job=$root.OracleJob.toObject(e.job,o),o.oneofs&&(s.Subtraction="job")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Subtraction="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.SubtractTask"},n}(),i.LpTokenPriceTask=function(){function n(t){if(this.priceFeedAddresses=[],this.priceFeedJobs=[],t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.mercurialPoolAddress=null,n.prototype.saberPoolAddress=null,n.prototype.orcaPoolAddress=null,n.prototype.raydiumPoolAddress=null,n.prototype.priceFeedAddresses=$util.emptyArray,n.prototype.priceFeedJobs=$util.emptyArray,n.prototype.useFairPrice=!1;let r;return Object.defineProperty(n.prototype,"PoolAddress",{get:$util.oneOfGetter(r=["mercurialPoolAddress","saberPoolAddress","orcaPoolAddress","raydiumPoolAddress"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){if(o||(o=$Writer.create()),e.mercurialPoolAddress!=null&&Object.hasOwnProperty.call(e,"mercurialPoolAddress")&&o.uint32(10).string(e.mercurialPoolAddress),e.saberPoolAddress!=null&&Object.hasOwnProperty.call(e,"saberPoolAddress")&&o.uint32(18).string(e.saberPoolAddress),e.orcaPoolAddress!=null&&Object.hasOwnProperty.call(e,"orcaPoolAddress")&&o.uint32(26).string(e.orcaPoolAddress),e.raydiumPoolAddress!=null&&Object.hasOwnProperty.call(e,"raydiumPoolAddress")&&o.uint32(34).string(e.raydiumPoolAddress),e.priceFeedAddresses!=null&&e.priceFeedAddresses.length)for(let s=0;s<e.priceFeedAddresses.length;++s)o.uint32(42).string(e.priceFeedAddresses[s]);if(e.priceFeedJobs!=null&&e.priceFeedJobs.length)for(let s=0;s<e.priceFeedJobs.length;++s)$root.OracleJob.encode(e.priceFeedJobs[s],o.uint32(50).fork()).ldelim();return e.useFairPrice!=null&&Object.hasOwnProperty.call(e,"useFairPrice")&&o.uint32(56).bool(e.useFairPrice),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.LpTokenPriceTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.mercurialPoolAddress=e.string();break}case 2:{a.saberPoolAddress=e.string();break}case 3:{a.orcaPoolAddress=e.string();break}case 4:{a.raydiumPoolAddress=e.string();break}case 5:{a.priceFeedAddresses&&a.priceFeedAddresses.length||(a.priceFeedAddresses=[]),a.priceFeedAddresses.push(e.string());break}case 6:{a.priceFeedJobs&&a.priceFeedJobs.length||(a.priceFeedJobs=[]),a.priceFeedJobs.push($root.OracleJob.decode(e,e.uint32()));break}case 7:{a.useFairPrice=e.bool();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.mercurialPoolAddress!=null&&e.hasOwnProperty("mercurialPoolAddress")&&(o.PoolAddress=1,!$util.isString(e.mercurialPoolAddress)))return"mercurialPoolAddress: string expected";if(e.saberPoolAddress!=null&&e.hasOwnProperty("saberPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.saberPoolAddress))return"saberPoolAddress: string expected"}if(e.orcaPoolAddress!=null&&e.hasOwnProperty("orcaPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.orcaPoolAddress))return"orcaPoolAddress: string expected"}if(e.raydiumPoolAddress!=null&&e.hasOwnProperty("raydiumPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.raydiumPoolAddress))return"raydiumPoolAddress: string expected"}if(e.priceFeedAddresses!=null&&e.hasOwnProperty("priceFeedAddresses")){if(!Array.isArray(e.priceFeedAddresses))return"priceFeedAddresses: array expected";for(let s=0;s<e.priceFeedAddresses.length;++s)if(!$util.isString(e.priceFeedAddresses[s]))return"priceFeedAddresses: string[] expected"}if(e.priceFeedJobs!=null&&e.hasOwnProperty("priceFeedJobs")){if(!Array.isArray(e.priceFeedJobs))return"priceFeedJobs: array expected";for(let s=0;s<e.priceFeedJobs.length;++s){let a=$root.OracleJob.verify(e.priceFeedJobs[s]);if(a)return"priceFeedJobs."+a}}return e.useFairPrice!=null&&e.hasOwnProperty("useFairPrice")&&typeof e.useFairPrice!="boolean"?"useFairPrice: boolean expected":null},n.fromObject=function(e){if(e instanceof $root.OracleJob.LpTokenPriceTask)return e;let o=new $root.OracleJob.LpTokenPriceTask;if(e.mercurialPoolAddress!=null&&(o.mercurialPoolAddress=String(e.mercurialPoolAddress)),e.saberPoolAddress!=null&&(o.saberPoolAddress=String(e.saberPoolAddress)),e.orcaPoolAddress!=null&&(o.orcaPoolAddress=String(e.orcaPoolAddress)),e.raydiumPoolAddress!=null&&(o.raydiumPoolAddress=String(e.raydiumPoolAddress)),e.priceFeedAddresses){if(!Array.isArray(e.priceFeedAddresses))throw TypeError(".OracleJob.LpTokenPriceTask.priceFeedAddresses: array expected");o.priceFeedAddresses=[];for(let s=0;s<e.priceFeedAddresses.length;++s)o.priceFeedAddresses[s]=String(e.priceFeedAddresses[s])}if(e.priceFeedJobs){if(!Array.isArray(e.priceFeedJobs))throw TypeError(".OracleJob.LpTokenPriceTask.priceFeedJobs: array expected");o.priceFeedJobs=[];for(let s=0;s<e.priceFeedJobs.length;++s){if(typeof e.priceFeedJobs[s]!="object")throw TypeError(".OracleJob.LpTokenPriceTask.priceFeedJobs: object expected");o.priceFeedJobs[s]=$root.OracleJob.fromObject(e.priceFeedJobs[s])}}return e.useFairPrice!=null&&(o.useFairPrice=!!e.useFairPrice),o},n.toObject=function(e,o){o||(o={});let s={};if((o.arrays||o.defaults)&&(s.priceFeedAddresses=[],s.priceFeedJobs=[]),o.defaults&&(s.useFairPrice=!1),e.mercurialPoolAddress!=null&&e.hasOwnProperty("mercurialPoolAddress")&&(s.mercurialPoolAddress=e.mercurialPoolAddress,o.oneofs&&(s.PoolAddress="mercurialPoolAddress")),e.saberPoolAddress!=null&&e.hasOwnProperty("saberPoolAddress")&&(s.saberPoolAddress=e.saberPoolAddress,o.oneofs&&(s.PoolAddress="saberPoolAddress")),e.orcaPoolAddress!=null&&e.hasOwnProperty("orcaPoolAddress")&&(s.orcaPoolAddress=e.orcaPoolAddress,o.oneofs&&(s.PoolAddress="orcaPoolAddress")),e.raydiumPoolAddress!=null&&e.hasOwnProperty("raydiumPoolAddress")&&(s.raydiumPoolAddress=e.raydiumPoolAddress,o.oneofs&&(s.PoolAddress="raydiumPoolAddress")),e.priceFeedAddresses&&e.priceFeedAddresses.length){s.priceFeedAddresses=[];for(let a=0;a<e.priceFeedAddresses.length;++a)s.priceFeedAddresses[a]=e.priceFeedAddresses[a]}if(e.priceFeedJobs&&e.priceFeedJobs.length){s.priceFeedJobs=[];for(let a=0;a<e.priceFeedJobs.length;++a)s.priceFeedJobs[a]=$root.OracleJob.toObject(e.priceFeedJobs[a],o)}return e.useFairPrice!=null&&e.hasOwnProperty("useFairPrice")&&(s.useFairPrice=e.useFairPrice),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.LpTokenPriceTask"},n}(),i.LpExchangeRateTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.inTokenAddress="",n.prototype.outTokenAddress="",n.prototype.mercurialPoolAddress=null,n.prototype.saberPoolAddress=null,n.prototype.orcaPoolTokenMintAddress=null,n.prototype.raydiumPoolAddress=null,n.prototype.orcaPoolAddress=null,n.prototype.portReserveAddress=null;let r;return Object.defineProperty(n.prototype,"PoolAddress",{get:$util.oneOfGetter(r=["mercurialPoolAddress","saberPoolAddress","orcaPoolTokenMintAddress","raydiumPoolAddress","orcaPoolAddress","portReserveAddress"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.inTokenAddress!=null&&Object.hasOwnProperty.call(e,"inTokenAddress")&&o.uint32(10).string(e.inTokenAddress),e.outTokenAddress!=null&&Object.hasOwnProperty.call(e,"outTokenAddress")&&o.uint32(18).string(e.outTokenAddress),e.mercurialPoolAddress!=null&&Object.hasOwnProperty.call(e,"mercurialPoolAddress")&&o.uint32(26).string(e.mercurialPoolAddress),e.saberPoolAddress!=null&&Object.hasOwnProperty.call(e,"saberPoolAddress")&&o.uint32(34).string(e.saberPoolAddress),e.orcaPoolTokenMintAddress!=null&&Object.hasOwnProperty.call(e,"orcaPoolTokenMintAddress")&&o.uint32(42).string(e.orcaPoolTokenMintAddress),e.raydiumPoolAddress!=null&&Object.hasOwnProperty.call(e,"raydiumPoolAddress")&&o.uint32(50).string(e.raydiumPoolAddress),e.orcaPoolAddress!=null&&Object.hasOwnProperty.call(e,"orcaPoolAddress")&&o.uint32(58).string(e.orcaPoolAddress),e.portReserveAddress!=null&&Object.hasOwnProperty.call(e,"portReserveAddress")&&o.uint32(66).string(e.portReserveAddress),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.LpExchangeRateTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.inTokenAddress=e.string();break}case 2:{a.outTokenAddress=e.string();break}case 3:{a.mercurialPoolAddress=e.string();break}case 4:{a.saberPoolAddress=e.string();break}case 5:{a.orcaPoolTokenMintAddress=e.string();break}case 6:{a.raydiumPoolAddress=e.string();break}case 7:{a.orcaPoolAddress=e.string();break}case 8:{a.portReserveAddress=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.inTokenAddress!=null&&e.hasOwnProperty("inTokenAddress")&&!$util.isString(e.inTokenAddress))return"inTokenAddress: string expected";if(e.outTokenAddress!=null&&e.hasOwnProperty("outTokenAddress")&&!$util.isString(e.outTokenAddress))return"outTokenAddress: string expected";if(e.mercurialPoolAddress!=null&&e.hasOwnProperty("mercurialPoolAddress")&&(o.PoolAddress=1,!$util.isString(e.mercurialPoolAddress)))return"mercurialPoolAddress: string expected";if(e.saberPoolAddress!=null&&e.hasOwnProperty("saberPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.saberPoolAddress))return"saberPoolAddress: string expected"}if(e.orcaPoolTokenMintAddress!=null&&e.hasOwnProperty("orcaPoolTokenMintAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.orcaPoolTokenMintAddress))return"orcaPoolTokenMintAddress: string expected"}if(e.raydiumPoolAddress!=null&&e.hasOwnProperty("raydiumPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.raydiumPoolAddress))return"raydiumPoolAddress: string expected"}if(e.orcaPoolAddress!=null&&e.hasOwnProperty("orcaPoolAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.orcaPoolAddress))return"orcaPoolAddress: string expected"}if(e.portReserveAddress!=null&&e.hasOwnProperty("portReserveAddress")){if(o.PoolAddress===1)return"PoolAddress: multiple values";if(o.PoolAddress=1,!$util.isString(e.portReserveAddress))return"portReserveAddress: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.LpExchangeRateTask)return e;let o=new $root.OracleJob.LpExchangeRateTask;return e.inTokenAddress!=null&&(o.inTokenAddress=String(e.inTokenAddress)),e.outTokenAddress!=null&&(o.outTokenAddress=String(e.outTokenAddress)),e.mercurialPoolAddress!=null&&(o.mercurialPoolAddress=String(e.mercurialPoolAddress)),e.saberPoolAddress!=null&&(o.saberPoolAddress=String(e.saberPoolAddress)),e.orcaPoolTokenMintAddress!=null&&(o.orcaPoolTokenMintAddress=String(e.orcaPoolTokenMintAddress)),e.raydiumPoolAddress!=null&&(o.raydiumPoolAddress=String(e.raydiumPoolAddress)),e.orcaPoolAddress!=null&&(o.orcaPoolAddress=String(e.orcaPoolAddress)),e.portReserveAddress!=null&&(o.portReserveAddress=String(e.portReserveAddress)),o},n.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.inTokenAddress="",s.outTokenAddress=""),e.inTokenAddress!=null&&e.hasOwnProperty("inTokenAddress")&&(s.inTokenAddress=e.inTokenAddress),e.outTokenAddress!=null&&e.hasOwnProperty("outTokenAddress")&&(s.outTokenAddress=e.outTokenAddress),e.mercurialPoolAddress!=null&&e.hasOwnProperty("mercurialPoolAddress")&&(s.mercurialPoolAddress=e.mercurialPoolAddress,o.oneofs&&(s.PoolAddress="mercurialPoolAddress")),e.saberPoolAddress!=null&&e.hasOwnProperty("saberPoolAddress")&&(s.saberPoolAddress=e.saberPoolAddress,o.oneofs&&(s.PoolAddress="saberPoolAddress")),e.orcaPoolTokenMintAddress!=null&&e.hasOwnProperty("orcaPoolTokenMintAddress")&&(s.orcaPoolTokenMintAddress=e.orcaPoolTokenMintAddress,o.oneofs&&(s.PoolAddress="orcaPoolTokenMintAddress")),e.raydiumPoolAddress!=null&&e.hasOwnProperty("raydiumPoolAddress")&&(s.raydiumPoolAddress=e.raydiumPoolAddress,o.oneofs&&(s.PoolAddress="raydiumPoolAddress")),e.orcaPoolAddress!=null&&e.hasOwnProperty("orcaPoolAddress")&&(s.orcaPoolAddress=e.orcaPoolAddress,o.oneofs&&(s.PoolAddress="orcaPoolAddress")),e.portReserveAddress!=null&&e.hasOwnProperty("portReserveAddress")&&(s.portReserveAddress=e.portReserveAddress,o.oneofs&&(s.PoolAddress="portReserveAddress")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.LpExchangeRateTask"},n}(),i.RegexExtractTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.pattern="",n.prototype.groupNumber=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.pattern!=null&&Object.hasOwnProperty.call(t,"pattern")&&e.uint32(10).string(t.pattern),t.groupNumber!=null&&Object.hasOwnProperty.call(t,"groupNumber")&&e.uint32(16).int32(t.groupNumber),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.RegexExtractTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.pattern=t.string();break}case 2:{s.groupNumber=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.pattern!=null&&t.hasOwnProperty("pattern")&&!$util.isString(t.pattern)?"pattern: string expected":t.groupNumber!=null&&t.hasOwnProperty("groupNumber")&&!$util.isInteger(t.groupNumber)?"groupNumber: integer expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.RegexExtractTask)return t;let e=new $root.OracleJob.RegexExtractTask;return t.pattern!=null&&(e.pattern=String(t.pattern)),t.groupNumber!=null&&(e.groupNumber=t.groupNumber|0),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.pattern="",o.groupNumber=0),t.pattern!=null&&t.hasOwnProperty("pattern")&&(o.pattern=t.pattern),t.groupNumber!=null&&t.hasOwnProperty("groupNumber")&&(o.groupNumber=t.groupNumber),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.RegexExtractTask"},n}(),i.XStepPriceTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.stepJob=null,n.prototype.stepAggregatorPubkey=null;let r;return Object.defineProperty(n.prototype,"StepSource",{get:$util.oneOfGetter(r=["stepJob","stepAggregatorPubkey"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.stepJob!=null&&Object.hasOwnProperty.call(e,"stepJob")&&$root.OracleJob.MedianTask.encode(e.stepJob,o.uint32(10).fork()).ldelim(),e.stepAggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"stepAggregatorPubkey")&&o.uint32(18).string(e.stepAggregatorPubkey),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.XStepPriceTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.stepJob=$root.OracleJob.MedianTask.decode(e,e.uint32());break}case 2:{a.stepAggregatorPubkey=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.stepJob!=null&&e.hasOwnProperty("stepJob")){o.StepSource=1;{let s=$root.OracleJob.MedianTask.verify(e.stepJob);if(s)return"stepJob."+s}}if(e.stepAggregatorPubkey!=null&&e.hasOwnProperty("stepAggregatorPubkey")){if(o.StepSource===1)return"StepSource: multiple values";if(o.StepSource=1,!$util.isString(e.stepAggregatorPubkey))return"stepAggregatorPubkey: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.XStepPriceTask)return e;let o=new $root.OracleJob.XStepPriceTask;if(e.stepJob!=null){if(typeof e.stepJob!="object")throw TypeError(".OracleJob.XStepPriceTask.stepJob: object expected");o.stepJob=$root.OracleJob.MedianTask.fromObject(e.stepJob)}return e.stepAggregatorPubkey!=null&&(o.stepAggregatorPubkey=String(e.stepAggregatorPubkey)),o},n.toObject=function(e,o){o||(o={});let s={};return e.stepJob!=null&&e.hasOwnProperty("stepJob")&&(s.stepJob=$root.OracleJob.MedianTask.toObject(e.stepJob,o),o.oneofs&&(s.StepSource="stepJob")),e.stepAggregatorPubkey!=null&&e.hasOwnProperty("stepAggregatorPubkey")&&(s.stepAggregatorPubkey=e.stepAggregatorPubkey,o.oneofs&&(s.StepSource="stepAggregatorPubkey")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.XStepPriceTask"},n}(),i.TwapTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.aggregatorPubkey="",n.prototype.period=0,n.prototype.weightByPropagationTime=!1,n.prototype.minSamples=0,n.prototype.endingUnixTimestamp=0,n.prototype.endingUnixTimestampTask=null,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.aggregatorPubkey!=null&&Object.hasOwnProperty.call(t,"aggregatorPubkey")&&e.uint32(10).string(t.aggregatorPubkey),t.period!=null&&Object.hasOwnProperty.call(t,"period")&&e.uint32(16).int32(t.period),t.weightByPropagationTime!=null&&Object.hasOwnProperty.call(t,"weightByPropagationTime")&&e.uint32(24).bool(t.weightByPropagationTime),t.minSamples!=null&&Object.hasOwnProperty.call(t,"minSamples")&&e.uint32(32).uint32(t.minSamples),t.endingUnixTimestamp!=null&&Object.hasOwnProperty.call(t,"endingUnixTimestamp")&&e.uint32(40).int32(t.endingUnixTimestamp),t.endingUnixTimestampTask!=null&&Object.hasOwnProperty.call(t,"endingUnixTimestampTask")&&$root.OracleJob.CronParseTask.encode(t.endingUnixTimestampTask,e.uint32(50).fork()).ldelim(),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.TwapTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.aggregatorPubkey=t.string();break}case 2:{s.period=t.int32();break}case 3:{s.weightByPropagationTime=t.bool();break}case 4:{s.minSamples=t.uint32();break}case 5:{s.endingUnixTimestamp=t.int32();break}case 6:{s.endingUnixTimestampTask=$root.OracleJob.CronParseTask.decode(t,t.uint32());break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.aggregatorPubkey!=null&&t.hasOwnProperty("aggregatorPubkey")&&!$util.isString(t.aggregatorPubkey))return"aggregatorPubkey: string expected";if(t.period!=null&&t.hasOwnProperty("period")&&!$util.isInteger(t.period))return"period: integer expected";if(t.weightByPropagationTime!=null&&t.hasOwnProperty("weightByPropagationTime")&&typeof t.weightByPropagationTime!="boolean")return"weightByPropagationTime: boolean expected";if(t.minSamples!=null&&t.hasOwnProperty("minSamples")&&!$util.isInteger(t.minSamples))return"minSamples: integer expected";if(t.endingUnixTimestamp!=null&&t.hasOwnProperty("endingUnixTimestamp")&&!$util.isInteger(t.endingUnixTimestamp))return"endingUnixTimestamp: integer expected";if(t.endingUnixTimestampTask!=null&&t.hasOwnProperty("endingUnixTimestampTask")){let e=$root.OracleJob.CronParseTask.verify(t.endingUnixTimestampTask);if(e)return"endingUnixTimestampTask."+e}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.TwapTask)return t;let e=new $root.OracleJob.TwapTask;if(t.aggregatorPubkey!=null&&(e.aggregatorPubkey=String(t.aggregatorPubkey)),t.period!=null&&(e.period=t.period|0),t.weightByPropagationTime!=null&&(e.weightByPropagationTime=!!t.weightByPropagationTime),t.minSamples!=null&&(e.minSamples=t.minSamples>>>0),t.endingUnixTimestamp!=null&&(e.endingUnixTimestamp=t.endingUnixTimestamp|0),t.endingUnixTimestampTask!=null){if(typeof t.endingUnixTimestampTask!="object")throw TypeError(".OracleJob.TwapTask.endingUnixTimestampTask: object expected");e.endingUnixTimestampTask=$root.OracleJob.CronParseTask.fromObject(t.endingUnixTimestampTask)}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.aggregatorPubkey="",o.period=0,o.weightByPropagationTime=!1,o.minSamples=0,o.endingUnixTimestamp=0,o.endingUnixTimestampTask=null),t.aggregatorPubkey!=null&&t.hasOwnProperty("aggregatorPubkey")&&(o.aggregatorPubkey=t.aggregatorPubkey),t.period!=null&&t.hasOwnProperty("period")&&(o.period=t.period),t.weightByPropagationTime!=null&&t.hasOwnProperty("weightByPropagationTime")&&(o.weightByPropagationTime=t.weightByPropagationTime),t.minSamples!=null&&t.hasOwnProperty("minSamples")&&(o.minSamples=t.minSamples),t.endingUnixTimestamp!=null&&t.hasOwnProperty("endingUnixTimestamp")&&(o.endingUnixTimestamp=t.endingUnixTimestamp),t.endingUnixTimestampTask!=null&&t.hasOwnProperty("endingUnixTimestampTask")&&(o.endingUnixTimestampTask=$root.OracleJob.CronParseTask.toObject(t.endingUnixTimestampTask,e)),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.TwapTask"},n}(),i.SerumSwapTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.serumPoolAddress="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.serumPoolAddress!=null&&Object.hasOwnProperty.call(t,"serumPoolAddress")&&e.uint32(10).string(t.serumPoolAddress),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.SerumSwapTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.serumPoolAddress=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.serumPoolAddress!=null&&t.hasOwnProperty("serumPoolAddress")&&!$util.isString(t.serumPoolAddress)?"serumPoolAddress: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.SerumSwapTask)return t;let e=new $root.OracleJob.SerumSwapTask;return t.serumPoolAddress!=null&&(e.serumPoolAddress=String(t.serumPoolAddress)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.serumPoolAddress=""),t.serumPoolAddress!=null&&t.hasOwnProperty("serumPoolAddress")&&(o.serumPoolAddress=t.serumPoolAddress),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.SerumSwapTask"},n}(),i.PowTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.scalar=null,n.prototype.aggregatorPubkey=null,n.prototype.big=null;let r;return Object.defineProperty(n.prototype,"Exponent",{get:$util.oneOfGetter(r=["scalar","aggregatorPubkey","big"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.scalar!=null&&Object.hasOwnProperty.call(e,"scalar")&&o.uint32(9).double(e.scalar),e.aggregatorPubkey!=null&&Object.hasOwnProperty.call(e,"aggregatorPubkey")&&o.uint32(18).string(e.aggregatorPubkey),e.big!=null&&Object.hasOwnProperty.call(e,"big")&&o.uint32(26).string(e.big),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.PowTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.scalar=e.double();break}case 2:{a.aggregatorPubkey=e.string();break}case 3:{a.big=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.scalar!=null&&e.hasOwnProperty("scalar")&&(o.Exponent=1,typeof e.scalar!="number"))return"scalar: number expected";if(e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")){if(o.Exponent===1)return"Exponent: multiple values";if(o.Exponent=1,!$util.isString(e.aggregatorPubkey))return"aggregatorPubkey: string expected"}if(e.big!=null&&e.hasOwnProperty("big")){if(o.Exponent===1)return"Exponent: multiple values";if(o.Exponent=1,!$util.isString(e.big))return"big: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.PowTask)return e;let o=new $root.OracleJob.PowTask;return e.scalar!=null&&(o.scalar=Number(e.scalar)),e.aggregatorPubkey!=null&&(o.aggregatorPubkey=String(e.aggregatorPubkey)),e.big!=null&&(o.big=String(e.big)),o},n.toObject=function(e,o){o||(o={});let s={};return e.scalar!=null&&e.hasOwnProperty("scalar")&&(s.scalar=o.json&&!isFinite(e.scalar)?String(e.scalar):e.scalar,o.oneofs&&(s.Exponent="scalar")),e.aggregatorPubkey!=null&&e.hasOwnProperty("aggregatorPubkey")&&(s.aggregatorPubkey=e.aggregatorPubkey,o.oneofs&&(s.Exponent="aggregatorPubkey")),e.big!=null&&e.hasOwnProperty("big")&&(s.big=e.big,o.oneofs&&(s.Exponent="big")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.PowTask"},n}(),i.LendingRateTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.protocol="",n.prototype.assetMint="",n.prototype.field=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.protocol!=null&&Object.hasOwnProperty.call(t,"protocol")&&e.uint32(10).string(t.protocol),t.assetMint!=null&&Object.hasOwnProperty.call(t,"assetMint")&&e.uint32(18).string(t.assetMint),t.field!=null&&Object.hasOwnProperty.call(t,"field")&&e.uint32(24).int32(t.field),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.LendingRateTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.protocol=t.string();break}case 2:{s.assetMint=t.string();break}case 3:{s.field=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.protocol!=null&&t.hasOwnProperty("protocol")&&!$util.isString(t.protocol))return"protocol: string expected";if(t.assetMint!=null&&t.hasOwnProperty("assetMint")&&!$util.isString(t.assetMint))return"assetMint: string expected";if(t.field!=null&&t.hasOwnProperty("field"))switch(t.field){default:return"field: enum value expected";case 0:case 1:break}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.LendingRateTask)return t;let e=new $root.OracleJob.LendingRateTask;switch(t.protocol!=null&&(e.protocol=String(t.protocol)),t.assetMint!=null&&(e.assetMint=String(t.assetMint)),t.field){default:if(typeof t.field=="number"){e.field=t.field;break}break;case"FIELD_DEPOSIT_RATE":case 0:e.field=0;break;case"FIELD_BORROW_RATE":case 1:e.field=1;break}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.protocol="",o.assetMint="",o.field=e.enums===String?"FIELD_DEPOSIT_RATE":0),t.protocol!=null&&t.hasOwnProperty("protocol")&&(o.protocol=t.protocol),t.assetMint!=null&&t.hasOwnProperty("assetMint")&&(o.assetMint=t.assetMint),t.field!=null&&t.hasOwnProperty("field")&&(o.field=e.enums===String?$root.OracleJob.LendingRateTask.Field[t.field]===void 0?t.field:$root.OracleJob.LendingRateTask.Field[t.field]:t.field),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.LendingRateTask"},n.Field=function(){const r={},t=Object.create(r);return t[r[0]="FIELD_DEPOSIT_RATE"]=0,t[r[1]="FIELD_BORROW_RATE"]=1,t}(),n}(),i.MangoPerpMarketTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.perpMarketAddress="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.perpMarketAddress!=null&&Object.hasOwnProperty.call(t,"perpMarketAddress")&&e.uint32(10).string(t.perpMarketAddress),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MangoPerpMarketTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.perpMarketAddress=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.perpMarketAddress!=null&&t.hasOwnProperty("perpMarketAddress")&&!$util.isString(t.perpMarketAddress)?"perpMarketAddress: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.MangoPerpMarketTask)return t;let e=new $root.OracleJob.MangoPerpMarketTask;return t.perpMarketAddress!=null&&(e.perpMarketAddress=String(t.perpMarketAddress)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.perpMarketAddress=""),t.perpMarketAddress!=null&&t.hasOwnProperty("perpMarketAddress")&&(o.perpMarketAddress=t.perpMarketAddress),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MangoPerpMarketTask"},n}(),i.JupiterSwapTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.inTokenAddress="",n.prototype.outTokenAddress="",n.prototype.allowList=null,n.prototype.denyList=null,n.prototype.baseAmount=null,n.prototype.quoteAmount=null,n.prototype.baseAmountString=null,n.prototype.quoteAmountString=null,n.prototype.slippage=0;let r;return Object.defineProperty(n.prototype,"RoutesFilters",{get:$util.oneOfGetter(r=["allowList","denyList"]),set:$util.oneOfSetter(r)}),Object.defineProperty(n.prototype,"SwapAmount",{get:$util.oneOfGetter(r=["baseAmount","quoteAmount","baseAmountString","quoteAmountString"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.inTokenAddress!=null&&Object.hasOwnProperty.call(e,"inTokenAddress")&&o.uint32(10).string(e.inTokenAddress),e.outTokenAddress!=null&&Object.hasOwnProperty.call(e,"outTokenAddress")&&o.uint32(18).string(e.outTokenAddress),e.baseAmount!=null&&Object.hasOwnProperty.call(e,"baseAmount")&&o.uint32(25).double(e.baseAmount),e.allowList!=null&&Object.hasOwnProperty.call(e,"allowList")&&$root.OracleJob.JupiterSwapTask.FilterList.encode(e.allowList,o.uint32(34).fork()).ldelim(),e.denyList!=null&&Object.hasOwnProperty.call(e,"denyList")&&$root.OracleJob.JupiterSwapTask.FilterList.encode(e.denyList,o.uint32(42).fork()).ldelim(),e.quoteAmount!=null&&Object.hasOwnProperty.call(e,"quoteAmount")&&o.uint32(49).double(e.quoteAmount),e.baseAmountString!=null&&Object.hasOwnProperty.call(e,"baseAmountString")&&o.uint32(58).string(e.baseAmountString),e.quoteAmountString!=null&&Object.hasOwnProperty.call(e,"quoteAmountString")&&o.uint32(66).string(e.quoteAmountString),e.slippage!=null&&Object.hasOwnProperty.call(e,"slippage")&&o.uint32(73).double(e.slippage),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.JupiterSwapTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.inTokenAddress=e.string();break}case 2:{a.outTokenAddress=e.string();break}case 4:{a.allowList=$root.OracleJob.JupiterSwapTask.FilterList.decode(e,e.uint32());break}case 5:{a.denyList=$root.OracleJob.JupiterSwapTask.FilterList.decode(e,e.uint32());break}case 3:{a.baseAmount=e.double();break}case 6:{a.quoteAmount=e.double();break}case 7:{a.baseAmountString=e.string();break}case 8:{a.quoteAmountString=e.string();break}case 9:{a.slippage=e.double();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.inTokenAddress!=null&&e.hasOwnProperty("inTokenAddress")&&!$util.isString(e.inTokenAddress))return"inTokenAddress: string expected";if(e.outTokenAddress!=null&&e.hasOwnProperty("outTokenAddress")&&!$util.isString(e.outTokenAddress))return"outTokenAddress: string expected";if(e.allowList!=null&&e.hasOwnProperty("allowList")){o.RoutesFilters=1;{let s=$root.OracleJob.JupiterSwapTask.FilterList.verify(e.allowList);if(s)return"allowList."+s}}if(e.denyList!=null&&e.hasOwnProperty("denyList")){if(o.RoutesFilters===1)return"RoutesFilters: multiple values";o.RoutesFilters=1;{let s=$root.OracleJob.JupiterSwapTask.FilterList.verify(e.denyList);if(s)return"denyList."+s}}if(e.baseAmount!=null&&e.hasOwnProperty("baseAmount")&&(o.SwapAmount=1,typeof e.baseAmount!="number"))return"baseAmount: number expected";if(e.quoteAmount!=null&&e.hasOwnProperty("quoteAmount")){if(o.SwapAmount===1)return"SwapAmount: multiple values";if(o.SwapAmount=1,typeof e.quoteAmount!="number")return"quoteAmount: number expected"}if(e.baseAmountString!=null&&e.hasOwnProperty("baseAmountString")){if(o.SwapAmount===1)return"SwapAmount: multiple values";if(o.SwapAmount=1,!$util.isString(e.baseAmountString))return"baseAmountString: string expected"}if(e.quoteAmountString!=null&&e.hasOwnProperty("quoteAmountString")){if(o.SwapAmount===1)return"SwapAmount: multiple values";if(o.SwapAmount=1,!$util.isString(e.quoteAmountString))return"quoteAmountString: string expected"}return e.slippage!=null&&e.hasOwnProperty("slippage")&&typeof e.slippage!="number"?"slippage: number expected":null},n.fromObject=function(e){if(e instanceof $root.OracleJob.JupiterSwapTask)return e;let o=new $root.OracleJob.JupiterSwapTask;if(e.inTokenAddress!=null&&(o.inTokenAddress=String(e.inTokenAddress)),e.outTokenAddress!=null&&(o.outTokenAddress=String(e.outTokenAddress)),e.allowList!=null){if(typeof e.allowList!="object")throw TypeError(".OracleJob.JupiterSwapTask.allowList: object expected");o.allowList=$root.OracleJob.JupiterSwapTask.FilterList.fromObject(e.allowList)}if(e.denyList!=null){if(typeof e.denyList!="object")throw TypeError(".OracleJob.JupiterSwapTask.denyList: object expected");o.denyList=$root.OracleJob.JupiterSwapTask.FilterList.fromObject(e.denyList)}return e.baseAmount!=null&&(o.baseAmount=Number(e.baseAmount)),e.quoteAmount!=null&&(o.quoteAmount=Number(e.quoteAmount)),e.baseAmountString!=null&&(o.baseAmountString=String(e.baseAmountString)),e.quoteAmountString!=null&&(o.quoteAmountString=String(e.quoteAmountString)),e.slippage!=null&&(o.slippage=Number(e.slippage)),o},n.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.inTokenAddress="",s.outTokenAddress="",s.slippage=0),e.inTokenAddress!=null&&e.hasOwnProperty("inTokenAddress")&&(s.inTokenAddress=e.inTokenAddress),e.outTokenAddress!=null&&e.hasOwnProperty("outTokenAddress")&&(s.outTokenAddress=e.outTokenAddress),e.baseAmount!=null&&e.hasOwnProperty("baseAmount")&&(s.baseAmount=o.json&&!isFinite(e.baseAmount)?String(e.baseAmount):e.baseAmount,o.oneofs&&(s.SwapAmount="baseAmount")),e.allowList!=null&&e.hasOwnProperty("allowList")&&(s.allowList=$root.OracleJob.JupiterSwapTask.FilterList.toObject(e.allowList,o),o.oneofs&&(s.RoutesFilters="allowList")),e.denyList!=null&&e.hasOwnProperty("denyList")&&(s.denyList=$root.OracleJob.JupiterSwapTask.FilterList.toObject(e.denyList,o),o.oneofs&&(s.RoutesFilters="denyList")),e.quoteAmount!=null&&e.hasOwnProperty("quoteAmount")&&(s.quoteAmount=o.json&&!isFinite(e.quoteAmount)?String(e.quoteAmount):e.quoteAmount,o.oneofs&&(s.SwapAmount="quoteAmount")),e.baseAmountString!=null&&e.hasOwnProperty("baseAmountString")&&(s.baseAmountString=e.baseAmountString,o.oneofs&&(s.SwapAmount="baseAmountString")),e.quoteAmountString!=null&&e.hasOwnProperty("quoteAmountString")&&(s.quoteAmountString=e.quoteAmountString,o.oneofs&&(s.SwapAmount="quoteAmountString")),e.slippage!=null&&e.hasOwnProperty("slippage")&&(s.slippage=o.json&&!isFinite(e.slippage)?String(e.slippage):e.slippage),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.JupiterSwapTask"},n.FilterList=function(){function t(e){if(this.labels=[],e)for(let o=Object.keys(e),s=0;s<o.length;++s)e[o[s]]!=null&&(this[o[s]]=e[o[s]])}return t.prototype.labels=$util.emptyArray,t.create=function(o){return new t(o)},t.encode=function(o,s){if(s||(s=$Writer.create()),o.labels!=null&&o.labels.length)for(let a=0;a<o.labels.length;++a)s.uint32(10).string(o.labels[a]);return s},t.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},t.decode=function(o,s){o instanceof $Reader||(o=$Reader.create(o));let a=s===void 0?o.len:o.pos+s,l=new $root.OracleJob.JupiterSwapTask.FilterList;for(;o.pos<a;){let c=o.uint32();switch(c>>>3){case 1:{l.labels&&l.labels.length||(l.labels=[]),l.labels.push(o.string());break}default:o.skipType(c&7);break}}return l},t.decodeDelimited=function(o){return o instanceof $Reader||(o=new $Reader(o)),this.decode(o,o.uint32())},t.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.labels!=null&&o.hasOwnProperty("labels")){if(!Array.isArray(o.labels))return"labels: array expected";for(let s=0;s<o.labels.length;++s)if(!$util.isString(o.labels[s]))return"labels: string[] expected"}return null},t.fromObject=function(o){if(o instanceof $root.OracleJob.JupiterSwapTask.FilterList)return o;let s=new $root.OracleJob.JupiterSwapTask.FilterList;if(o.labels){if(!Array.isArray(o.labels))throw TypeError(".OracleJob.JupiterSwapTask.FilterList.labels: array expected");s.labels=[];for(let a=0;a<o.labels.length;++a)s.labels[a]=String(o.labels[a])}return s},t.toObject=function(o,s){s||(s={});let a={};if((s.arrays||s.defaults)&&(a.labels=[]),o.labels&&o.labels.length){a.labels=[];for(let l=0;l<o.labels.length;++l)a.labels[l]=o.labels[l]}return a},t.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},t.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/OracleJob.JupiterSwapTask.FilterList"},t}(),n}(),i.PerpMarketTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.mangoMarketAddress=null,n.prototype.driftMarketAddress=null,n.prototype.zetaMarketAddress=null,n.prototype.zoMarketAddress=null;let r;return Object.defineProperty(n.prototype,"MarketAddress",{get:$util.oneOfGetter(r=["mangoMarketAddress","driftMarketAddress","zetaMarketAddress","zoMarketAddress"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.mangoMarketAddress!=null&&Object.hasOwnProperty.call(e,"mangoMarketAddress")&&o.uint32(10).string(e.mangoMarketAddress),e.driftMarketAddress!=null&&Object.hasOwnProperty.call(e,"driftMarketAddress")&&o.uint32(18).string(e.driftMarketAddress),e.zetaMarketAddress!=null&&Object.hasOwnProperty.call(e,"zetaMarketAddress")&&o.uint32(26).string(e.zetaMarketAddress),e.zoMarketAddress!=null&&Object.hasOwnProperty.call(e,"zoMarketAddress")&&o.uint32(34).string(e.zoMarketAddress),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.PerpMarketTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.mangoMarketAddress=e.string();break}case 2:{a.driftMarketAddress=e.string();break}case 3:{a.zetaMarketAddress=e.string();break}case 4:{a.zoMarketAddress=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.mangoMarketAddress!=null&&e.hasOwnProperty("mangoMarketAddress")&&(o.MarketAddress=1,!$util.isString(e.mangoMarketAddress)))return"mangoMarketAddress: string expected";if(e.driftMarketAddress!=null&&e.hasOwnProperty("driftMarketAddress")){if(o.MarketAddress===1)return"MarketAddress: multiple values";if(o.MarketAddress=1,!$util.isString(e.driftMarketAddress))return"driftMarketAddress: string expected"}if(e.zetaMarketAddress!=null&&e.hasOwnProperty("zetaMarketAddress")){if(o.MarketAddress===1)return"MarketAddress: multiple values";if(o.MarketAddress=1,!$util.isString(e.zetaMarketAddress))return"zetaMarketAddress: string expected"}if(e.zoMarketAddress!=null&&e.hasOwnProperty("zoMarketAddress")){if(o.MarketAddress===1)return"MarketAddress: multiple values";if(o.MarketAddress=1,!$util.isString(e.zoMarketAddress))return"zoMarketAddress: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.PerpMarketTask)return e;let o=new $root.OracleJob.PerpMarketTask;return e.mangoMarketAddress!=null&&(o.mangoMarketAddress=String(e.mangoMarketAddress)),e.driftMarketAddress!=null&&(o.driftMarketAddress=String(e.driftMarketAddress)),e.zetaMarketAddress!=null&&(o.zetaMarketAddress=String(e.zetaMarketAddress)),e.zoMarketAddress!=null&&(o.zoMarketAddress=String(e.zoMarketAddress)),o},n.toObject=function(e,o){o||(o={});let s={};return e.mangoMarketAddress!=null&&e.hasOwnProperty("mangoMarketAddress")&&(s.mangoMarketAddress=e.mangoMarketAddress,o.oneofs&&(s.MarketAddress="mangoMarketAddress")),e.driftMarketAddress!=null&&e.hasOwnProperty("driftMarketAddress")&&(s.driftMarketAddress=e.driftMarketAddress,o.oneofs&&(s.MarketAddress="driftMarketAddress")),e.zetaMarketAddress!=null&&e.hasOwnProperty("zetaMarketAddress")&&(s.zetaMarketAddress=e.zetaMarketAddress,o.oneofs&&(s.MarketAddress="zetaMarketAddress")),e.zoMarketAddress!=null&&e.hasOwnProperty("zoMarketAddress")&&(s.zoMarketAddress=e.zoMarketAddress,o.oneofs&&(s.MarketAddress="zoMarketAddress")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.PerpMarketTask"},n}(),i.OracleTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.switchboardAddress=null,n.prototype.pythAddress=null,n.prototype.chainlinkAddress=null,n.prototype.pythAllowedConfidenceInterval=0;let r;return Object.defineProperty(n.prototype,"AggregatorAddress",{get:$util.oneOfGetter(r=["switchboardAddress","pythAddress","chainlinkAddress"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.switchboardAddress!=null&&Object.hasOwnProperty.call(e,"switchboardAddress")&&o.uint32(10).string(e.switchboardAddress),e.pythAddress!=null&&Object.hasOwnProperty.call(e,"pythAddress")&&o.uint32(18).string(e.pythAddress),e.chainlinkAddress!=null&&Object.hasOwnProperty.call(e,"chainlinkAddress")&&o.uint32(26).string(e.chainlinkAddress),e.pythAllowedConfidenceInterval!=null&&Object.hasOwnProperty.call(e,"pythAllowedConfidenceInterval")&&o.uint32(33).double(e.pythAllowedConfidenceInterval),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.OracleTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.switchboardAddress=e.string();break}case 2:{a.pythAddress=e.string();break}case 3:{a.chainlinkAddress=e.string();break}case 4:{a.pythAllowedConfidenceInterval=e.double();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.switchboardAddress!=null&&e.hasOwnProperty("switchboardAddress")&&(o.AggregatorAddress=1,!$util.isString(e.switchboardAddress)))return"switchboardAddress: string expected";if(e.pythAddress!=null&&e.hasOwnProperty("pythAddress")){if(o.AggregatorAddress===1)return"AggregatorAddress: multiple values";if(o.AggregatorAddress=1,!$util.isString(e.pythAddress))return"pythAddress: string expected"}if(e.chainlinkAddress!=null&&e.hasOwnProperty("chainlinkAddress")){if(o.AggregatorAddress===1)return"AggregatorAddress: multiple values";if(o.AggregatorAddress=1,!$util.isString(e.chainlinkAddress))return"chainlinkAddress: string expected"}return e.pythAllowedConfidenceInterval!=null&&e.hasOwnProperty("pythAllowedConfidenceInterval")&&typeof e.pythAllowedConfidenceInterval!="number"?"pythAllowedConfidenceInterval: number expected":null},n.fromObject=function(e){if(e instanceof $root.OracleJob.OracleTask)return e;let o=new $root.OracleJob.OracleTask;return e.switchboardAddress!=null&&(o.switchboardAddress=String(e.switchboardAddress)),e.pythAddress!=null&&(o.pythAddress=String(e.pythAddress)),e.chainlinkAddress!=null&&(o.chainlinkAddress=String(e.chainlinkAddress)),e.pythAllowedConfidenceInterval!=null&&(o.pythAllowedConfidenceInterval=Number(e.pythAllowedConfidenceInterval)),o},n.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.pythAllowedConfidenceInterval=0),e.switchboardAddress!=null&&e.hasOwnProperty("switchboardAddress")&&(s.switchboardAddress=e.switchboardAddress,o.oneofs&&(s.AggregatorAddress="switchboardAddress")),e.pythAddress!=null&&e.hasOwnProperty("pythAddress")&&(s.pythAddress=e.pythAddress,o.oneofs&&(s.AggregatorAddress="pythAddress")),e.chainlinkAddress!=null&&e.hasOwnProperty("chainlinkAddress")&&(s.chainlinkAddress=e.chainlinkAddress,o.oneofs&&(s.AggregatorAddress="chainlinkAddress")),e.pythAllowedConfidenceInterval!=null&&e.hasOwnProperty("pythAllowedConfidenceInterval")&&(s.pythAllowedConfidenceInterval=o.json&&!isFinite(e.pythAllowedConfidenceInterval)?String(e.pythAllowedConfidenceInterval):e.pythAllowedConfidenceInterval),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.OracleTask"},n}(),i.AnchorFetchTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.programId="",n.prototype.accountAddress="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.programId!=null&&Object.hasOwnProperty.call(t,"programId")&&e.uint32(10).string(t.programId),t.accountAddress!=null&&Object.hasOwnProperty.call(t,"accountAddress")&&e.uint32(18).string(t.accountAddress),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.AnchorFetchTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.programId=t.string();break}case 2:{s.accountAddress=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.programId!=null&&t.hasOwnProperty("programId")&&!$util.isString(t.programId)?"programId: string expected":t.accountAddress!=null&&t.hasOwnProperty("accountAddress")&&!$util.isString(t.accountAddress)?"accountAddress: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.AnchorFetchTask)return t;let e=new $root.OracleJob.AnchorFetchTask;return t.programId!=null&&(e.programId=String(t.programId)),t.accountAddress!=null&&(e.accountAddress=String(t.accountAddress)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.programId="",o.accountAddress=""),t.programId!=null&&t.hasOwnProperty("programId")&&(o.programId=t.programId),t.accountAddress!=null&&t.hasOwnProperty("accountAddress")&&(o.accountAddress=t.accountAddress),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.AnchorFetchTask"},n}(),i.TpsTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.TpsTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":null},n.fromObject=function(t){return t instanceof $root.OracleJob.TpsTask?t:new $root.OracleJob.TpsTask},n.toObject=function(){return{}},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.TpsTask"},n}(),i.SplStakePoolTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.pubkey="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.pubkey!=null&&Object.hasOwnProperty.call(t,"pubkey")&&e.uint32(10).string(t.pubkey),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.SplStakePoolTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.pubkey=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.pubkey!=null&&t.hasOwnProperty("pubkey")&&!$util.isString(t.pubkey)?"pubkey: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.SplStakePoolTask)return t;let e=new $root.OracleJob.SplStakePoolTask;return t.pubkey!=null&&(e.pubkey=String(t.pubkey)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.pubkey=""),t.pubkey!=null&&t.hasOwnProperty("pubkey")&&(o.pubkey=t.pubkey),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.SplStakePoolTask"},n}(),i.SplTokenParseTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.tokenAccountAddress=null,n.prototype.mintAddress=null;let r;return Object.defineProperty(n.prototype,"AccountAddress",{get:$util.oneOfGetter(r=["tokenAccountAddress","mintAddress"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.tokenAccountAddress!=null&&Object.hasOwnProperty.call(e,"tokenAccountAddress")&&o.uint32(10).string(e.tokenAccountAddress),e.mintAddress!=null&&Object.hasOwnProperty.call(e,"mintAddress")&&o.uint32(18).string(e.mintAddress),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.SplTokenParseTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.tokenAccountAddress=e.string();break}case 2:{a.mintAddress=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.tokenAccountAddress!=null&&e.hasOwnProperty("tokenAccountAddress")&&(o.AccountAddress=1,!$util.isString(e.tokenAccountAddress)))return"tokenAccountAddress: string expected";if(e.mintAddress!=null&&e.hasOwnProperty("mintAddress")){if(o.AccountAddress===1)return"AccountAddress: multiple values";if(o.AccountAddress=1,!$util.isString(e.mintAddress))return"mintAddress: string expected"}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.SplTokenParseTask)return e;let o=new $root.OracleJob.SplTokenParseTask;return e.tokenAccountAddress!=null&&(o.tokenAccountAddress=String(e.tokenAccountAddress)),e.mintAddress!=null&&(o.mintAddress=String(e.mintAddress)),o},n.toObject=function(e,o){o||(o={});let s={};return e.tokenAccountAddress!=null&&e.hasOwnProperty("tokenAccountAddress")&&(s.tokenAccountAddress=e.tokenAccountAddress,o.oneofs&&(s.AccountAddress="tokenAccountAddress")),e.mintAddress!=null&&e.hasOwnProperty("mintAddress")&&(s.mintAddress=e.mintAddress,o.oneofs&&(s.AccountAddress="mintAddress")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.SplTokenParseTask"},n}(),i.DefiKingdomsTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.provider="",n.prototype.inToken=null,n.prototype.outToken=null,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.provider!=null&&Object.hasOwnProperty.call(t,"provider")&&e.uint32(10).string(t.provider),t.inToken!=null&&Object.hasOwnProperty.call(t,"inToken")&&$root.OracleJob.DefiKingdomsTask.Token.encode(t.inToken,e.uint32(18).fork()).ldelim(),t.outToken!=null&&Object.hasOwnProperty.call(t,"outToken")&&$root.OracleJob.DefiKingdomsTask.Token.encode(t.outToken,e.uint32(26).fork()).ldelim(),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.DefiKingdomsTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.provider=t.string();break}case 2:{s.inToken=$root.OracleJob.DefiKingdomsTask.Token.decode(t,t.uint32());break}case 3:{s.outToken=$root.OracleJob.DefiKingdomsTask.Token.decode(t,t.uint32());break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.provider!=null&&t.hasOwnProperty("provider")&&!$util.isString(t.provider))return"provider: string expected";if(t.inToken!=null&&t.hasOwnProperty("inToken")){let e=$root.OracleJob.DefiKingdomsTask.Token.verify(t.inToken);if(e)return"inToken."+e}if(t.outToken!=null&&t.hasOwnProperty("outToken")){let e=$root.OracleJob.DefiKingdomsTask.Token.verify(t.outToken);if(e)return"outToken."+e}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.DefiKingdomsTask)return t;let e=new $root.OracleJob.DefiKingdomsTask;if(t.provider!=null&&(e.provider=String(t.provider)),t.inToken!=null){if(typeof t.inToken!="object")throw TypeError(".OracleJob.DefiKingdomsTask.inToken: object expected");e.inToken=$root.OracleJob.DefiKingdomsTask.Token.fromObject(t.inToken)}if(t.outToken!=null){if(typeof t.outToken!="object")throw TypeError(".OracleJob.DefiKingdomsTask.outToken: object expected");e.outToken=$root.OracleJob.DefiKingdomsTask.Token.fromObject(t.outToken)}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.provider="",o.inToken=null,o.outToken=null),t.provider!=null&&t.hasOwnProperty("provider")&&(o.provider=t.provider),t.inToken!=null&&t.hasOwnProperty("inToken")&&(o.inToken=$root.OracleJob.DefiKingdomsTask.Token.toObject(t.inToken,e)),t.outToken!=null&&t.hasOwnProperty("outToken")&&(o.outToken=$root.OracleJob.DefiKingdomsTask.Token.toObject(t.outToken,e)),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.DefiKingdomsTask"},n.Token=function(){function r(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}return r.prototype.address="",r.prototype.decimals=0,r.create=function(e){return new r(e)},r.encode=function(e,o){return o||(o=$Writer.create()),e.address!=null&&Object.hasOwnProperty.call(e,"address")&&o.uint32(10).string(e.address),e.decimals!=null&&Object.hasOwnProperty.call(e,"decimals")&&o.uint32(16).int32(e.decimals),o},r.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},r.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.DefiKingdomsTask.Token;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.address=e.string();break}case 2:{a.decimals=e.int32();break}default:e.skipType(l&7);break}}return a},r.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},r.verify=function(e){return typeof e!="object"||e===null?"object expected":e.address!=null&&e.hasOwnProperty("address")&&!$util.isString(e.address)?"address: string expected":e.decimals!=null&&e.hasOwnProperty("decimals")&&!$util.isInteger(e.decimals)?"decimals: integer expected":null},r.fromObject=function(e){if(e instanceof $root.OracleJob.DefiKingdomsTask.Token)return e;let o=new $root.OracleJob.DefiKingdomsTask.Token;return e.address!=null&&(o.address=String(e.address)),e.decimals!=null&&(o.decimals=e.decimals|0),o},r.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.address="",s.decimals=0),e.address!=null&&e.hasOwnProperty("address")&&(s.address=e.address),e.decimals!=null&&e.hasOwnProperty("decimals")&&(s.decimals=e.decimals),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.DefiKingdomsTask.Token"},r}(),n}(),i.UniswapExchangeRateTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.inTokenAddress="",n.prototype.outTokenAddress="",n.prototype.inTokenAmount=0,n.prototype.slippage=0,n.prototype.provider="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.inTokenAddress!=null&&Object.hasOwnProperty.call(t,"inTokenAddress")&&e.uint32(10).string(t.inTokenAddress),t.outTokenAddress!=null&&Object.hasOwnProperty.call(t,"outTokenAddress")&&e.uint32(18).string(t.outTokenAddress),t.inTokenAmount!=null&&Object.hasOwnProperty.call(t,"inTokenAmount")&&e.uint32(25).double(t.inTokenAmount),t.slippage!=null&&Object.hasOwnProperty.call(t,"slippage")&&e.uint32(33).double(t.slippage),t.provider!=null&&Object.hasOwnProperty.call(t,"provider")&&e.uint32(42).string(t.provider),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.UniswapExchangeRateTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.inTokenAddress=t.string();break}case 2:{s.outTokenAddress=t.string();break}case 3:{s.inTokenAmount=t.double();break}case 4:{s.slippage=t.double();break}case 5:{s.provider=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&!$util.isString(t.inTokenAddress)?"inTokenAddress: string expected":t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&!$util.isString(t.outTokenAddress)?"outTokenAddress: string expected":t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&typeof t.inTokenAmount!="number"?"inTokenAmount: number expected":t.slippage!=null&&t.hasOwnProperty("slippage")&&typeof t.slippage!="number"?"slippage: number expected":t.provider!=null&&t.hasOwnProperty("provider")&&!$util.isString(t.provider)?"provider: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.UniswapExchangeRateTask)return t;let e=new $root.OracleJob.UniswapExchangeRateTask;return t.inTokenAddress!=null&&(e.inTokenAddress=String(t.inTokenAddress)),t.outTokenAddress!=null&&(e.outTokenAddress=String(t.outTokenAddress)),t.inTokenAmount!=null&&(e.inTokenAmount=Number(t.inTokenAmount)),t.slippage!=null&&(e.slippage=Number(t.slippage)),t.provider!=null&&(e.provider=String(t.provider)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.inTokenAddress="",o.outTokenAddress="",o.inTokenAmount=0,o.slippage=0,o.provider=""),t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&(o.inTokenAddress=t.inTokenAddress),t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&(o.outTokenAddress=t.outTokenAddress),t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&(o.inTokenAmount=e.json&&!isFinite(t.inTokenAmount)?String(t.inTokenAmount):t.inTokenAmount),t.slippage!=null&&t.hasOwnProperty("slippage")&&(o.slippage=e.json&&!isFinite(t.slippage)?String(t.slippage):t.slippage),t.provider!=null&&t.hasOwnProperty("provider")&&(o.provider=t.provider),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.UniswapExchangeRateTask"},n}(),i.SushiswapExchangeRateTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.inTokenAddress="",n.prototype.outTokenAddress="",n.prototype.inTokenAmount=0,n.prototype.slippage=0,n.prototype.provider="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.inTokenAddress!=null&&Object.hasOwnProperty.call(t,"inTokenAddress")&&e.uint32(10).string(t.inTokenAddress),t.outTokenAddress!=null&&Object.hasOwnProperty.call(t,"outTokenAddress")&&e.uint32(18).string(t.outTokenAddress),t.inTokenAmount!=null&&Object.hasOwnProperty.call(t,"inTokenAmount")&&e.uint32(25).double(t.inTokenAmount),t.slippage!=null&&Object.hasOwnProperty.call(t,"slippage")&&e.uint32(33).double(t.slippage),t.provider!=null&&Object.hasOwnProperty.call(t,"provider")&&e.uint32(42).string(t.provider),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.SushiswapExchangeRateTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.inTokenAddress=t.string();break}case 2:{s.outTokenAddress=t.string();break}case 3:{s.inTokenAmount=t.double();break}case 4:{s.slippage=t.double();break}case 5:{s.provider=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&!$util.isString(t.inTokenAddress)?"inTokenAddress: string expected":t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&!$util.isString(t.outTokenAddress)?"outTokenAddress: string expected":t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&typeof t.inTokenAmount!="number"?"inTokenAmount: number expected":t.slippage!=null&&t.hasOwnProperty("slippage")&&typeof t.slippage!="number"?"slippage: number expected":t.provider!=null&&t.hasOwnProperty("provider")&&!$util.isString(t.provider)?"provider: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.SushiswapExchangeRateTask)return t;let e=new $root.OracleJob.SushiswapExchangeRateTask;return t.inTokenAddress!=null&&(e.inTokenAddress=String(t.inTokenAddress)),t.outTokenAddress!=null&&(e.outTokenAddress=String(t.outTokenAddress)),t.inTokenAmount!=null&&(e.inTokenAmount=Number(t.inTokenAmount)),t.slippage!=null&&(e.slippage=Number(t.slippage)),t.provider!=null&&(e.provider=String(t.provider)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.inTokenAddress="",o.outTokenAddress="",o.inTokenAmount=0,o.slippage=0,o.provider=""),t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&(o.inTokenAddress=t.inTokenAddress),t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&(o.outTokenAddress=t.outTokenAddress),t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&(o.inTokenAmount=e.json&&!isFinite(t.inTokenAmount)?String(t.inTokenAmount):t.inTokenAmount),t.slippage!=null&&t.hasOwnProperty("slippage")&&(o.slippage=e.json&&!isFinite(t.slippage)?String(t.slippage):t.slippage),t.provider!=null&&t.hasOwnProperty("provider")&&(o.provider=t.provider),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.SushiswapExchangeRateTask"},n}(),i.PancakeswapExchangeRateTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.inTokenAddress="",n.prototype.outTokenAddress="",n.prototype.inTokenAmount=0,n.prototype.slippage=0,n.prototype.provider="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.inTokenAddress!=null&&Object.hasOwnProperty.call(t,"inTokenAddress")&&e.uint32(10).string(t.inTokenAddress),t.outTokenAddress!=null&&Object.hasOwnProperty.call(t,"outTokenAddress")&&e.uint32(18).string(t.outTokenAddress),t.inTokenAmount!=null&&Object.hasOwnProperty.call(t,"inTokenAmount")&&e.uint32(25).double(t.inTokenAmount),t.slippage!=null&&Object.hasOwnProperty.call(t,"slippage")&&e.uint32(33).double(t.slippage),t.provider!=null&&Object.hasOwnProperty.call(t,"provider")&&e.uint32(42).string(t.provider),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.PancakeswapExchangeRateTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.inTokenAddress=t.string();break}case 2:{s.outTokenAddress=t.string();break}case 3:{s.inTokenAmount=t.double();break}case 4:{s.slippage=t.double();break}case 5:{s.provider=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&!$util.isString(t.inTokenAddress)?"inTokenAddress: string expected":t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&!$util.isString(t.outTokenAddress)?"outTokenAddress: string expected":t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&typeof t.inTokenAmount!="number"?"inTokenAmount: number expected":t.slippage!=null&&t.hasOwnProperty("slippage")&&typeof t.slippage!="number"?"slippage: number expected":t.provider!=null&&t.hasOwnProperty("provider")&&!$util.isString(t.provider)?"provider: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.PancakeswapExchangeRateTask)return t;let e=new $root.OracleJob.PancakeswapExchangeRateTask;return t.inTokenAddress!=null&&(e.inTokenAddress=String(t.inTokenAddress)),t.outTokenAddress!=null&&(e.outTokenAddress=String(t.outTokenAddress)),t.inTokenAmount!=null&&(e.inTokenAmount=Number(t.inTokenAmount)),t.slippage!=null&&(e.slippage=Number(t.slippage)),t.provider!=null&&(e.provider=String(t.provider)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.inTokenAddress="",o.outTokenAddress="",o.inTokenAmount=0,o.slippage=0,o.provider=""),t.inTokenAddress!=null&&t.hasOwnProperty("inTokenAddress")&&(o.inTokenAddress=t.inTokenAddress),t.outTokenAddress!=null&&t.hasOwnProperty("outTokenAddress")&&(o.outTokenAddress=t.outTokenAddress),t.inTokenAmount!=null&&t.hasOwnProperty("inTokenAmount")&&(o.inTokenAmount=e.json&&!isFinite(t.inTokenAmount)?String(t.inTokenAmount):t.inTokenAmount),t.slippage!=null&&t.hasOwnProperty("slippage")&&(o.slippage=e.json&&!isFinite(t.slippage)?String(t.slippage):t.slippage),t.provider!=null&&t.hasOwnProperty("provider")&&(o.provider=t.provider),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.PancakeswapExchangeRateTask"},n}(),i.CacheTask=function(){function n(r){if(this.cacheItems=[],r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.cacheItems=$util.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=$Writer.create()),t.cacheItems!=null&&t.cacheItems.length)for(let o=0;o<t.cacheItems.length;++o)$root.OracleJob.CacheTask.CacheItem.encode(t.cacheItems[o],e.uint32(10).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.CacheTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.cacheItems&&s.cacheItems.length||(s.cacheItems=[]),s.cacheItems.push($root.OracleJob.CacheTask.CacheItem.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.cacheItems!=null&&t.hasOwnProperty("cacheItems")){if(!Array.isArray(t.cacheItems))return"cacheItems: array expected";for(let e=0;e<t.cacheItems.length;++e){let o=$root.OracleJob.CacheTask.CacheItem.verify(t.cacheItems[e]);if(o)return"cacheItems."+o}}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.CacheTask)return t;let e=new $root.OracleJob.CacheTask;if(t.cacheItems){if(!Array.isArray(t.cacheItems))throw TypeError(".OracleJob.CacheTask.cacheItems: array expected");e.cacheItems=[];for(let o=0;o<t.cacheItems.length;++o){if(typeof t.cacheItems[o]!="object")throw TypeError(".OracleJob.CacheTask.cacheItems: object expected");e.cacheItems[o]=$root.OracleJob.CacheTask.CacheItem.fromObject(t.cacheItems[o])}}return e},n.toObject=function(t,e){e||(e={});let o={};if((e.arrays||e.defaults)&&(o.cacheItems=[]),t.cacheItems&&t.cacheItems.length){o.cacheItems=[];for(let s=0;s<t.cacheItems.length;++s)o.cacheItems[s]=$root.OracleJob.CacheTask.CacheItem.toObject(t.cacheItems[s],e)}return o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.CacheTask"},n.CacheItem=function(){function r(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}return r.prototype.variableName="",r.prototype.job=null,r.create=function(e){return new r(e)},r.encode=function(e,o){return o||(o=$Writer.create()),e.variableName!=null&&Object.hasOwnProperty.call(e,"variableName")&&o.uint32(10).string(e.variableName),e.job!=null&&Object.hasOwnProperty.call(e,"job")&&$root.OracleJob.encode(e.job,o.uint32(18).fork()).ldelim(),o},r.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},r.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.CacheTask.CacheItem;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.variableName=e.string();break}case 2:{a.job=$root.OracleJob.decode(e,e.uint32());break}default:e.skipType(l&7);break}}return a},r.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.variableName!=null&&e.hasOwnProperty("variableName")&&!$util.isString(e.variableName))return"variableName: string expected";if(e.job!=null&&e.hasOwnProperty("job")){let o=$root.OracleJob.verify(e.job);if(o)return"job."+o}return null},r.fromObject=function(e){if(e instanceof $root.OracleJob.CacheTask.CacheItem)return e;let o=new $root.OracleJob.CacheTask.CacheItem;if(e.variableName!=null&&(o.variableName=String(e.variableName)),e.job!=null){if(typeof e.job!="object")throw TypeError(".OracleJob.CacheTask.CacheItem.job: object expected");o.job=$root.OracleJob.fromObject(e.job)}return o},r.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.variableName="",s.job=null),e.variableName!=null&&e.hasOwnProperty("variableName")&&(s.variableName=e.variableName),e.job!=null&&e.hasOwnProperty("job")&&(s.job=$root.OracleJob.toObject(e.job,o)),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.CacheTask.CacheItem"},r}(),n}(),i.SysclockOffsetTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.SysclockOffsetTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":null},n.fromObject=function(t){return t instanceof $root.OracleJob.SysclockOffsetTask?t:new $root.OracleJob.SysclockOffsetTask},n.toObject=function(){return{}},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.SysclockOffsetTask"},n}(),i.MarinadeStateTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.MarinadeStateTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":null},n.fromObject=function(t){return t instanceof $root.OracleJob.MarinadeStateTask?t:new $root.OracleJob.MarinadeStateTask},n.toObject=function(){return{}},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.MarinadeStateTask"},n}(),i.SolanaAccountDataFetchTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.pubkey="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.pubkey!=null&&Object.hasOwnProperty.call(t,"pubkey")&&e.uint32(10).string(t.pubkey),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.SolanaAccountDataFetchTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.pubkey=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.pubkey!=null&&t.hasOwnProperty("pubkey")&&!$util.isString(t.pubkey)?"pubkey: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.SolanaAccountDataFetchTask)return t;let e=new $root.OracleJob.SolanaAccountDataFetchTask;return t.pubkey!=null&&(e.pubkey=String(t.pubkey)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.pubkey=""),t.pubkey!=null&&t.hasOwnProperty("pubkey")&&(o.pubkey=t.pubkey),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.SolanaAccountDataFetchTask"},n}(),i.CronParseTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.cronPattern="",n.prototype.clockOffset=0,n.prototype.clock=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.cronPattern!=null&&Object.hasOwnProperty.call(t,"cronPattern")&&e.uint32(10).string(t.cronPattern),t.clockOffset!=null&&Object.hasOwnProperty.call(t,"clockOffset")&&e.uint32(16).int32(t.clockOffset),t.clock!=null&&Object.hasOwnProperty.call(t,"clock")&&e.uint32(24).int32(t.clock),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.CronParseTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.cronPattern=t.string();break}case 2:{s.clockOffset=t.int32();break}case 3:{s.clock=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.cronPattern!=null&&t.hasOwnProperty("cronPattern")&&!$util.isString(t.cronPattern))return"cronPattern: string expected";if(t.clockOffset!=null&&t.hasOwnProperty("clockOffset")&&!$util.isInteger(t.clockOffset))return"clockOffset: integer expected";if(t.clock!=null&&t.hasOwnProperty("clock"))switch(t.clock){default:return"clock: enum value expected";case 0:case 1:break}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.CronParseTask)return t;let e=new $root.OracleJob.CronParseTask;switch(t.cronPattern!=null&&(e.cronPattern=String(t.cronPattern)),t.clockOffset!=null&&(e.clockOffset=t.clockOffset|0),t.clock){default:if(typeof t.clock=="number"){e.clock=t.clock;break}break;case"ORACLE":case 0:e.clock=0;break;case"SYSCLOCK":case 1:e.clock=1;break}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.cronPattern="",o.clockOffset=0,o.clock=e.enums===String?"ORACLE":0),t.cronPattern!=null&&t.hasOwnProperty("cronPattern")&&(o.cronPattern=t.cronPattern),t.clockOffset!=null&&t.hasOwnProperty("clockOffset")&&(o.clockOffset=t.clockOffset),t.clock!=null&&t.hasOwnProperty("clock")&&(o.clock=e.enums===String?$root.OracleJob.CronParseTask.ClockType[t.clock]===void 0?t.clock:$root.OracleJob.CronParseTask.ClockType[t.clock]:t.clock),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.CronParseTask"},n.ClockType=function(){const r={},t=Object.create(r);return t[r[0]="ORACLE"]=0,t[r[1]="SYSCLOCK"]=1,t}(),n}(),i.BufferLayoutParseTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.offset=0,n.prototype.endian=0,n.prototype.type=1,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.offset!=null&&Object.hasOwnProperty.call(t,"offset")&&e.uint32(8).uint32(t.offset),t.endian!=null&&Object.hasOwnProperty.call(t,"endian")&&e.uint32(16).int32(t.endian),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(24).int32(t.type),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.BufferLayoutParseTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.offset=t.uint32();break}case 2:{s.endian=t.int32();break}case 3:{s.type=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.offset!=null&&t.hasOwnProperty("offset")&&!$util.isInteger(t.offset))return"offset: integer expected";if(t.endian!=null&&t.hasOwnProperty("endian"))switch(t.endian){default:return"endian: enum value expected";case 0:case 1:break}if(t.type!=null&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break}return null},n.fromObject=function(t){if(t instanceof $root.OracleJob.BufferLayoutParseTask)return t;let e=new $root.OracleJob.BufferLayoutParseTask;switch(t.offset!=null&&(e.offset=t.offset>>>0),t.endian){default:if(typeof t.endian=="number"){e.endian=t.endian;break}break;case"LITTLE_ENDIAN":case 0:e.endian=0;break;case"BIG_ENDIAN":case 1:e.endian=1;break}switch(t.type){default:if(typeof t.type=="number"){e.type=t.type;break}break;case"pubkey":case 1:e.type=1;break;case"bool":case 2:e.type=2;break;case"u8":case 3:e.type=3;break;case"i8":case 4:e.type=4;break;case"u16":case 5:e.type=5;break;case"i16":case 6:e.type=6;break;case"u32":case 7:e.type=7;break;case"i32":case 8:e.type=8;break;case"f32":case 9:e.type=9;break;case"u64":case 10:e.type=10;break;case"i64":case 11:e.type=11;break;case"f64":case 12:e.type=12;break;case"u128":case 13:e.type=13;break;case"i128":case 14:e.type=14;break}return e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.offset=0,o.endian=e.enums===String?"LITTLE_ENDIAN":0,o.type=e.enums===String?"pubkey":1),t.offset!=null&&t.hasOwnProperty("offset")&&(o.offset=t.offset),t.endian!=null&&t.hasOwnProperty("endian")&&(o.endian=e.enums===String?$root.OracleJob.BufferLayoutParseTask.Endian[t.endian]===void 0?t.endian:$root.OracleJob.BufferLayoutParseTask.Endian[t.endian]:t.endian),t.type!=null&&t.hasOwnProperty("type")&&(o.type=e.enums===String?$root.OracleJob.BufferLayoutParseTask.BufferParseType[t.type]===void 0?t.type:$root.OracleJob.BufferLayoutParseTask.BufferParseType[t.type]:t.type),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.BufferLayoutParseTask"},n.Endian=function(){const r={},t=Object.create(r);return t[r[0]="LITTLE_ENDIAN"]=0,t[r[1]="BIG_ENDIAN"]=1,t}(),n.BufferParseType=function(){const r={},t=Object.create(r);return t[r[1]="pubkey"]=1,t[r[2]="bool"]=2,t[r[3]="u8"]=3,t[r[4]="i8"]=4,t[r[5]="u16"]=5,t[r[6]="i16"]=6,t[r[7]="u32"]=7,t[r[8]="i32"]=8,t[r[9]="f32"]=9,t[r[10]="u64"]=10,t[r[11]="i64"]=11,t[r[12]="f64"]=12,t[r[13]="u128"]=13,t[r[14]="i128"]=14,t}(),n}(),i.HistoryFunctionTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.method=0,n.prototype.aggregatorAddress="",n.prototype.period=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.method!=null&&Object.hasOwnProperty.call(t,"method")&&e.uint32(8).int32(t.method),t.aggregatorAddress!=null&&Object.hasOwnProperty.call(t,"aggregatorAddress")&&e.uint32(18).string(t.aggregatorAddress),t.period!=null&&Object.hasOwnProperty.call(t,"period")&&e.uint32(24).uint32(t.period),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.HistoryFunctionTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.method=t.int32();break}case 2:{s.aggregatorAddress=t.string();break}case 3:{s.period=t.uint32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.method!=null&&t.hasOwnProperty("method"))switch(t.method){default:return"method: enum value expected";case 0:case 1:break}return t.aggregatorAddress!=null&&t.hasOwnProperty("aggregatorAddress")&&!$util.isString(t.aggregatorAddress)?"aggregatorAddress: string expected":t.period!=null&&t.hasOwnProperty("period")&&!$util.isInteger(t.period)?"period: integer expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.HistoryFunctionTask)return t;let e=new $root.OracleJob.HistoryFunctionTask;switch(t.method){default:if(typeof t.method=="number"){e.method=t.method;break}break;case"METHOD_MIN":case 0:e.method=0;break;case"METHOD_MAX":case 1:e.method=1;break}return t.aggregatorAddress!=null&&(e.aggregatorAddress=String(t.aggregatorAddress)),t.period!=null&&(e.period=t.period>>>0),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.method=e.enums===String?"METHOD_MIN":0,o.aggregatorAddress="",o.period=0),t.method!=null&&t.hasOwnProperty("method")&&(o.method=e.enums===String?$root.OracleJob.HistoryFunctionTask.Method[t.method]===void 0?t.method:$root.OracleJob.HistoryFunctionTask.Method[t.method]:t.method),t.aggregatorAddress!=null&&t.hasOwnProperty("aggregatorAddress")&&(o.aggregatorAddress=t.aggregatorAddress),t.period!=null&&t.hasOwnProperty("period")&&(o.period=t.period),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.HistoryFunctionTask"},n.Method=function(){const r={},t=Object.create(r);return t[r[0]="METHOD_MIN"]=0,t[r[1]="METHOD_MAX"]=1,t}(),n}(),i.VwapTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.priceAggregatorAddress="",n.prototype.volumeAggregatorAddress="",n.prototype.period=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.priceAggregatorAddress!=null&&Object.hasOwnProperty.call(t,"priceAggregatorAddress")&&e.uint32(10).string(t.priceAggregatorAddress),t.volumeAggregatorAddress!=null&&Object.hasOwnProperty.call(t,"volumeAggregatorAddress")&&e.uint32(18).string(t.volumeAggregatorAddress),t.period!=null&&Object.hasOwnProperty.call(t,"period")&&e.uint32(24).uint32(t.period),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.VwapTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.priceAggregatorAddress=t.string();break}case 2:{s.volumeAggregatorAddress=t.string();break}case 3:{s.period=t.uint32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.priceAggregatorAddress!=null&&t.hasOwnProperty("priceAggregatorAddress")&&!$util.isString(t.priceAggregatorAddress)?"priceAggregatorAddress: string expected":t.volumeAggregatorAddress!=null&&t.hasOwnProperty("volumeAggregatorAddress")&&!$util.isString(t.volumeAggregatorAddress)?"volumeAggregatorAddress: string expected":t.period!=null&&t.hasOwnProperty("period")&&!$util.isInteger(t.period)?"period: integer expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.VwapTask)return t;let e=new $root.OracleJob.VwapTask;return t.priceAggregatorAddress!=null&&(e.priceAggregatorAddress=String(t.priceAggregatorAddress)),t.volumeAggregatorAddress!=null&&(e.volumeAggregatorAddress=String(t.volumeAggregatorAddress)),t.period!=null&&(e.period=t.period>>>0),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.priceAggregatorAddress="",o.volumeAggregatorAddress="",o.period=0),t.priceAggregatorAddress!=null&&t.hasOwnProperty("priceAggregatorAddress")&&(o.priceAggregatorAddress=t.priceAggregatorAddress),t.volumeAggregatorAddress!=null&&t.hasOwnProperty("volumeAggregatorAddress")&&(o.volumeAggregatorAddress=t.volumeAggregatorAddress),t.period!=null&&t.hasOwnProperty("period")&&(o.period=t.period),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.VwapTask"},n}(),i.EwmaTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.aggregatorAddress="",n.prototype.period=0,n.prototype.lambda=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.aggregatorAddress!=null&&Object.hasOwnProperty.call(t,"aggregatorAddress")&&e.uint32(10).string(t.aggregatorAddress),t.period!=null&&Object.hasOwnProperty.call(t,"period")&&e.uint32(16).int32(t.period),t.lambda!=null&&Object.hasOwnProperty.call(t,"lambda")&&e.uint32(25).double(t.lambda),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.EwmaTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.aggregatorAddress=t.string();break}case 2:{s.period=t.int32();break}case 3:{s.lambda=t.double();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.aggregatorAddress!=null&&t.hasOwnProperty("aggregatorAddress")&&!$util.isString(t.aggregatorAddress)?"aggregatorAddress: string expected":t.period!=null&&t.hasOwnProperty("period")&&!$util.isInteger(t.period)?"period: integer expected":t.lambda!=null&&t.hasOwnProperty("lambda")&&typeof t.lambda!="number"?"lambda: number expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.EwmaTask)return t;let e=new $root.OracleJob.EwmaTask;return t.aggregatorAddress!=null&&(e.aggregatorAddress=String(t.aggregatorAddress)),t.period!=null&&(e.period=t.period|0),t.lambda!=null&&(e.lambda=Number(t.lambda)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.aggregatorAddress="",o.period=0,o.lambda=0),t.aggregatorAddress!=null&&t.hasOwnProperty("aggregatorAddress")&&(o.aggregatorAddress=t.aggregatorAddress),t.period!=null&&t.hasOwnProperty("period")&&(o.period=t.period),t.lambda!=null&&t.hasOwnProperty("lambda")&&(o.lambda=e.json&&!isFinite(t.lambda)?String(t.lambda):t.lambda),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.EwmaTask"},n}(),i.ComparisonTask=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.op=0,n.prototype.lhs=null,n.prototype.lhsValue=null,n.prototype.rhs=null,n.prototype.rhsValue=null,n.prototype.onTrue=null,n.prototype.onTrueValue="",n.prototype.onFalse=null,n.prototype.onFalseValue="",n.prototype.onFailure=null,n.prototype.onFailureValue="";let r;return Object.defineProperty(n.prototype,"LHS",{get:$util.oneOfGetter(r=["lhs","lhsValue"]),set:$util.oneOfSetter(r)}),Object.defineProperty(n.prototype,"RHS",{get:$util.oneOfGetter(r=["rhs","rhsValue"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.op!=null&&Object.hasOwnProperty.call(e,"op")&&o.uint32(8).int32(e.op),e.lhs!=null&&Object.hasOwnProperty.call(e,"lhs")&&$root.OracleJob.encode(e.lhs,o.uint32(18).fork()).ldelim(),e.lhsValue!=null&&Object.hasOwnProperty.call(e,"lhsValue")&&o.uint32(26).string(e.lhsValue),e.rhs!=null&&Object.hasOwnProperty.call(e,"rhs")&&$root.OracleJob.encode(e.rhs,o.uint32(34).fork()).ldelim(),e.rhsValue!=null&&Object.hasOwnProperty.call(e,"rhsValue")&&o.uint32(42).string(e.rhsValue),e.onTrue!=null&&Object.hasOwnProperty.call(e,"onTrue")&&$root.OracleJob.encode(e.onTrue,o.uint32(50).fork()).ldelim(),e.onTrueValue!=null&&Object.hasOwnProperty.call(e,"onTrueValue")&&o.uint32(58).string(e.onTrueValue),e.onFalse!=null&&Object.hasOwnProperty.call(e,"onFalse")&&$root.OracleJob.encode(e.onFalse,o.uint32(66).fork()).ldelim(),e.onFalseValue!=null&&Object.hasOwnProperty.call(e,"onFalseValue")&&o.uint32(74).string(e.onFalseValue),e.onFailure!=null&&Object.hasOwnProperty.call(e,"onFailure")&&$root.OracleJob.encode(e.onFailure,o.uint32(82).fork()).ldelim(),e.onFailureValue!=null&&Object.hasOwnProperty.call(e,"onFailureValue")&&o.uint32(90).string(e.onFailureValue),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.ComparisonTask;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.op=e.int32();break}case 2:{a.lhs=$root.OracleJob.decode(e,e.uint32());break}case 3:{a.lhsValue=e.string();break}case 4:{a.rhs=$root.OracleJob.decode(e,e.uint32());break}case 5:{a.rhsValue=e.string();break}case 6:{a.onTrue=$root.OracleJob.decode(e,e.uint32());break}case 7:{a.onTrueValue=e.string();break}case 8:{a.onFalse=$root.OracleJob.decode(e,e.uint32());break}case 9:{a.onFalseValue=e.string();break}case 10:{a.onFailure=$root.OracleJob.decode(e,e.uint32());break}case 11:{a.onFailureValue=e.string();break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.op!=null&&e.hasOwnProperty("op"))switch(e.op){default:return"op: enum value expected";case 0:case 1:case 2:break}if(e.lhs!=null&&e.hasOwnProperty("lhs")){o.LHS=1;{let s=$root.OracleJob.verify(e.lhs);if(s)return"lhs."+s}}if(e.lhsValue!=null&&e.hasOwnProperty("lhsValue")){if(o.LHS===1)return"LHS: multiple values";if(o.LHS=1,!$util.isString(e.lhsValue))return"lhsValue: string expected"}if(e.rhs!=null&&e.hasOwnProperty("rhs")){o.RHS=1;{let s=$root.OracleJob.verify(e.rhs);if(s)return"rhs."+s}}if(e.rhsValue!=null&&e.hasOwnProperty("rhsValue")){if(o.RHS===1)return"RHS: multiple values";if(o.RHS=1,!$util.isString(e.rhsValue))return"rhsValue: string expected"}if(e.onTrue!=null&&e.hasOwnProperty("onTrue")){let s=$root.OracleJob.verify(e.onTrue);if(s)return"onTrue."+s}if(e.onTrueValue!=null&&e.hasOwnProperty("onTrueValue")&&!$util.isString(e.onTrueValue))return"onTrueValue: string expected";if(e.onFalse!=null&&e.hasOwnProperty("onFalse")){let s=$root.OracleJob.verify(e.onFalse);if(s)return"onFalse."+s}if(e.onFalseValue!=null&&e.hasOwnProperty("onFalseValue")&&!$util.isString(e.onFalseValue))return"onFalseValue: string expected";if(e.onFailure!=null&&e.hasOwnProperty("onFailure")){let s=$root.OracleJob.verify(e.onFailure);if(s)return"onFailure."+s}return e.onFailureValue!=null&&e.hasOwnProperty("onFailureValue")&&!$util.isString(e.onFailureValue)?"onFailureValue: string expected":null},n.fromObject=function(e){if(e instanceof $root.OracleJob.ComparisonTask)return e;let o=new $root.OracleJob.ComparisonTask;switch(e.op){default:if(typeof e.op=="number"){o.op=e.op;break}break;case"OPERATION_EQ":case 0:o.op=0;break;case"OPERATION_GT":case 1:o.op=1;break;case"OPERATION_LT":case 2:o.op=2;break}if(e.lhs!=null){if(typeof e.lhs!="object")throw TypeError(".OracleJob.ComparisonTask.lhs: object expected");o.lhs=$root.OracleJob.fromObject(e.lhs)}if(e.lhsValue!=null&&(o.lhsValue=String(e.lhsValue)),e.rhs!=null){if(typeof e.rhs!="object")throw TypeError(".OracleJob.ComparisonTask.rhs: object expected");o.rhs=$root.OracleJob.fromObject(e.rhs)}if(e.rhsValue!=null&&(o.rhsValue=String(e.rhsValue)),e.onTrue!=null){if(typeof e.onTrue!="object")throw TypeError(".OracleJob.ComparisonTask.onTrue: object expected");o.onTrue=$root.OracleJob.fromObject(e.onTrue)}if(e.onTrueValue!=null&&(o.onTrueValue=String(e.onTrueValue)),e.onFalse!=null){if(typeof e.onFalse!="object")throw TypeError(".OracleJob.ComparisonTask.onFalse: object expected");o.onFalse=$root.OracleJob.fromObject(e.onFalse)}if(e.onFalseValue!=null&&(o.onFalseValue=String(e.onFalseValue)),e.onFailure!=null){if(typeof e.onFailure!="object")throw TypeError(".OracleJob.ComparisonTask.onFailure: object expected");o.onFailure=$root.OracleJob.fromObject(e.onFailure)}return e.onFailureValue!=null&&(o.onFailureValue=String(e.onFailureValue)),o},n.toObject=function(e,o){o||(o={});let s={};return o.defaults&&(s.op=o.enums===String?"OPERATION_EQ":0,s.onTrue=null,s.onTrueValue="",s.onFalse=null,s.onFalseValue="",s.onFailure=null,s.onFailureValue=""),e.op!=null&&e.hasOwnProperty("op")&&(s.op=o.enums===String?$root.OracleJob.ComparisonTask.Operation[e.op]===void 0?e.op:$root.OracleJob.ComparisonTask.Operation[e.op]:e.op),e.lhs!=null&&e.hasOwnProperty("lhs")&&(s.lhs=$root.OracleJob.toObject(e.lhs,o),o.oneofs&&(s.LHS="lhs")),e.lhsValue!=null&&e.hasOwnProperty("lhsValue")&&(s.lhsValue=e.lhsValue,o.oneofs&&(s.LHS="lhsValue")),e.rhs!=null&&e.hasOwnProperty("rhs")&&(s.rhs=$root.OracleJob.toObject(e.rhs,o),o.oneofs&&(s.RHS="rhs")),e.rhsValue!=null&&e.hasOwnProperty("rhsValue")&&(s.rhsValue=e.rhsValue,o.oneofs&&(s.RHS="rhsValue")),e.onTrue!=null&&e.hasOwnProperty("onTrue")&&(s.onTrue=$root.OracleJob.toObject(e.onTrue,o)),e.onTrueValue!=null&&e.hasOwnProperty("onTrueValue")&&(s.onTrueValue=e.onTrueValue),e.onFalse!=null&&e.hasOwnProperty("onFalse")&&(s.onFalse=$root.OracleJob.toObject(e.onFalse,o)),e.onFalseValue!=null&&e.hasOwnProperty("onFalseValue")&&(s.onFalseValue=e.onFalseValue),e.onFailure!=null&&e.hasOwnProperty("onFailure")&&(s.onFailure=$root.OracleJob.toObject(e.onFailure,o)),e.onFailureValue!=null&&e.hasOwnProperty("onFailureValue")&&(s.onFailureValue=e.onFailureValue),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.ComparisonTask"},n.Operation=function(){const t={},e=Object.create(t);return e[t[0]="OPERATION_EQ"]=0,e[t[1]="OPERATION_GT"]=1,e[t[2]="OPERATION_LT"]=2,e}(),n}(),i.RoundTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.method=0,n.prototype.decimals=0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.method!=null&&Object.hasOwnProperty.call(t,"method")&&e.uint32(8).int32(t.method),t.decimals!=null&&Object.hasOwnProperty.call(t,"decimals")&&e.uint32(16).int32(t.decimals),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.RoundTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.method=t.int32();break}case 2:{s.decimals=t.int32();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.method!=null&&t.hasOwnProperty("method"))switch(t.method){default:return"method: enum value expected";case 0:case 1:break}return t.decimals!=null&&t.hasOwnProperty("decimals")&&!$util.isInteger(t.decimals)?"decimals: integer expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.RoundTask)return t;let e=new $root.OracleJob.RoundTask;switch(t.method){default:if(typeof t.method=="number"){e.method=t.method;break}break;case"METHOD_ROUND_UP":case 0:e.method=0;break;case"METHOD_ROUND_DOWN":case 1:e.method=1;break}return t.decimals!=null&&(e.decimals=t.decimals|0),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.method=e.enums===String?"METHOD_ROUND_UP":0,o.decimals=0),t.method!=null&&t.hasOwnProperty("method")&&(o.method=e.enums===String?$root.OracleJob.RoundTask.Method[t.method]===void 0?t.method:$root.OracleJob.RoundTask.Method[t.method]:t.method),t.decimals!=null&&t.hasOwnProperty("decimals")&&(o.decimals=t.decimals),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.RoundTask"},n.Method=function(){const r={},t=Object.create(r);return t[r[0]="METHOD_ROUND_UP"]=0,t[r[1]="METHOD_ROUND_DOWN"]=1,t}(),n}(),i.BoundTask=function(){function n(r){if(r)for(let t=Object.keys(r),e=0;e<t.length;++e)r[t[e]]!=null&&(this[t[e]]=r[t[e]])}return n.prototype.lowerBound=null,n.prototype.lowerBoundValue="",n.prototype.upperBound=null,n.prototype.upperBoundValue="",n.prototype.onExceedsUpperBound=null,n.prototype.onExceedsUpperBoundValue="",n.prototype.onExceedsLowerBound=null,n.prototype.onExceedsLowerBoundValue="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=$Writer.create()),t.lowerBound!=null&&Object.hasOwnProperty.call(t,"lowerBound")&&$root.OracleJob.encode(t.lowerBound,e.uint32(10).fork()).ldelim(),t.lowerBoundValue!=null&&Object.hasOwnProperty.call(t,"lowerBoundValue")&&e.uint32(18).string(t.lowerBoundValue),t.upperBound!=null&&Object.hasOwnProperty.call(t,"upperBound")&&$root.OracleJob.encode(t.upperBound,e.uint32(26).fork()).ldelim(),t.upperBoundValue!=null&&Object.hasOwnProperty.call(t,"upperBoundValue")&&e.uint32(34).string(t.upperBoundValue),t.onExceedsUpperBound!=null&&Object.hasOwnProperty.call(t,"onExceedsUpperBound")&&$root.OracleJob.encode(t.onExceedsUpperBound,e.uint32(42).fork()).ldelim(),t.onExceedsUpperBoundValue!=null&&Object.hasOwnProperty.call(t,"onExceedsUpperBoundValue")&&e.uint32(50).string(t.onExceedsUpperBoundValue),t.onExceedsLowerBound!=null&&Object.hasOwnProperty.call(t,"onExceedsLowerBound")&&$root.OracleJob.encode(t.onExceedsLowerBound,e.uint32(58).fork()).ldelim(),t.onExceedsLowerBoundValue!=null&&Object.hasOwnProperty.call(t,"onExceedsLowerBoundValue")&&e.uint32(66).string(t.onExceedsLowerBoundValue),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));let o=e===void 0?t.len:t.pos+e,s=new $root.OracleJob.BoundTask;for(;t.pos<o;){let a=t.uint32();switch(a>>>3){case 1:{s.lowerBound=$root.OracleJob.decode(t,t.uint32());break}case 2:{s.lowerBoundValue=t.string();break}case 3:{s.upperBound=$root.OracleJob.decode(t,t.uint32());break}case 4:{s.upperBoundValue=t.string();break}case 5:{s.onExceedsUpperBound=$root.OracleJob.decode(t,t.uint32());break}case 6:{s.onExceedsUpperBoundValue=t.string();break}case 7:{s.onExceedsLowerBound=$root.OracleJob.decode(t,t.uint32());break}case 8:{s.onExceedsLowerBoundValue=t.string();break}default:t.skipType(a&7);break}}return s},n.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.lowerBound!=null&&t.hasOwnProperty("lowerBound")){let e=$root.OracleJob.verify(t.lowerBound);if(e)return"lowerBound."+e}if(t.lowerBoundValue!=null&&t.hasOwnProperty("lowerBoundValue")&&!$util.isString(t.lowerBoundValue))return"lowerBoundValue: string expected";if(t.upperBound!=null&&t.hasOwnProperty("upperBound")){let e=$root.OracleJob.verify(t.upperBound);if(e)return"upperBound."+e}if(t.upperBoundValue!=null&&t.hasOwnProperty("upperBoundValue")&&!$util.isString(t.upperBoundValue))return"upperBoundValue: string expected";if(t.onExceedsUpperBound!=null&&t.hasOwnProperty("onExceedsUpperBound")){let e=$root.OracleJob.verify(t.onExceedsUpperBound);if(e)return"onExceedsUpperBound."+e}if(t.onExceedsUpperBoundValue!=null&&t.hasOwnProperty("onExceedsUpperBoundValue")&&!$util.isString(t.onExceedsUpperBoundValue))return"onExceedsUpperBoundValue: string expected";if(t.onExceedsLowerBound!=null&&t.hasOwnProperty("onExceedsLowerBound")){let e=$root.OracleJob.verify(t.onExceedsLowerBound);if(e)return"onExceedsLowerBound."+e}return t.onExceedsLowerBoundValue!=null&&t.hasOwnProperty("onExceedsLowerBoundValue")&&!$util.isString(t.onExceedsLowerBoundValue)?"onExceedsLowerBoundValue: string expected":null},n.fromObject=function(t){if(t instanceof $root.OracleJob.BoundTask)return t;let e=new $root.OracleJob.BoundTask;if(t.lowerBound!=null){if(typeof t.lowerBound!="object")throw TypeError(".OracleJob.BoundTask.lowerBound: object expected");e.lowerBound=$root.OracleJob.fromObject(t.lowerBound)}if(t.lowerBoundValue!=null&&(e.lowerBoundValue=String(t.lowerBoundValue)),t.upperBound!=null){if(typeof t.upperBound!="object")throw TypeError(".OracleJob.BoundTask.upperBound: object expected");e.upperBound=$root.OracleJob.fromObject(t.upperBound)}if(t.upperBoundValue!=null&&(e.upperBoundValue=String(t.upperBoundValue)),t.onExceedsUpperBound!=null){if(typeof t.onExceedsUpperBound!="object")throw TypeError(".OracleJob.BoundTask.onExceedsUpperBound: object expected");e.onExceedsUpperBound=$root.OracleJob.fromObject(t.onExceedsUpperBound)}if(t.onExceedsUpperBoundValue!=null&&(e.onExceedsUpperBoundValue=String(t.onExceedsUpperBoundValue)),t.onExceedsLowerBound!=null){if(typeof t.onExceedsLowerBound!="object")throw TypeError(".OracleJob.BoundTask.onExceedsLowerBound: object expected");e.onExceedsLowerBound=$root.OracleJob.fromObject(t.onExceedsLowerBound)}return t.onExceedsLowerBoundValue!=null&&(e.onExceedsLowerBoundValue=String(t.onExceedsLowerBoundValue)),e},n.toObject=function(t,e){e||(e={});let o={};return e.defaults&&(o.lowerBound=null,o.lowerBoundValue="",o.upperBound=null,o.upperBoundValue="",o.onExceedsUpperBound=null,o.onExceedsUpperBoundValue="",o.onExceedsLowerBound=null,o.onExceedsLowerBoundValue=""),t.lowerBound!=null&&t.hasOwnProperty("lowerBound")&&(o.lowerBound=$root.OracleJob.toObject(t.lowerBound,e)),t.lowerBoundValue!=null&&t.hasOwnProperty("lowerBoundValue")&&(o.lowerBoundValue=t.lowerBoundValue),t.upperBound!=null&&t.hasOwnProperty("upperBound")&&(o.upperBound=$root.OracleJob.toObject(t.upperBound,e)),t.upperBoundValue!=null&&t.hasOwnProperty("upperBoundValue")&&(o.upperBoundValue=t.upperBoundValue),t.onExceedsUpperBound!=null&&t.hasOwnProperty("onExceedsUpperBound")&&(o.onExceedsUpperBound=$root.OracleJob.toObject(t.onExceedsUpperBound,e)),t.onExceedsUpperBoundValue!=null&&t.hasOwnProperty("onExceedsUpperBoundValue")&&(o.onExceedsUpperBoundValue=t.onExceedsUpperBoundValue),t.onExceedsLowerBound!=null&&t.hasOwnProperty("onExceedsLowerBound")&&(o.onExceedsLowerBound=$root.OracleJob.toObject(t.onExceedsLowerBound,e)),t.onExceedsLowerBoundValue!=null&&t.hasOwnProperty("onExceedsLowerBoundValue")&&(o.onExceedsLowerBoundValue=t.onExceedsLowerBoundValue),o},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OracleJob.BoundTask"},n}(),i.Task=function(){function n(t){if(t)for(let e=Object.keys(t),o=0;o<e.length;++o)t[e[o]]!=null&&(this[e[o]]=t[e[o]])}n.prototype.httpTask=null,n.prototype.jsonParseTask=null,n.prototype.medianTask=null,n.prototype.meanTask=null,n.prototype.websocketTask=null,n.prototype.divideTask=null,n.prototype.multiplyTask=null,n.prototype.lpTokenPriceTask=null,n.prototype.lpExchangeRateTask=null,n.prototype.conditionalTask=null,n.prototype.valueTask=null,n.prototype.maxTask=null,n.prototype.regexExtractTask=null,n.prototype.xstepPriceTask=null,n.prototype.addTask=null,n.prototype.subtractTask=null,n.prototype.twapTask=null,n.prototype.serumSwapTask=null,n.prototype.powTask=null,n.prototype.lendingRateTask=null,n.prototype.mangoPerpMarketTask=null,n.prototype.jupiterSwapTask=null,n.prototype.perpMarketTask=null,n.prototype.oracleTask=null,n.prototype.anchorFetchTask=null,n.prototype.defiKingdomsTask=null,n.prototype.tpsTask=null,n.prototype.splStakePoolTask=null,n.prototype.splTokenParseTask=null,n.prototype.uniswapExchangeRateTask=null,n.prototype.sushiswapExchangeRateTask=null,n.prototype.pancakeswapExchangeRateTask=null,n.prototype.cacheTask=null,n.prototype.sysclockOffsetTask=null,n.prototype.marinadeStateTask=null,n.prototype.solanaAccountDataFetchTask=null,n.prototype.bufferLayoutParseTask=null,n.prototype.cronParseTask=null,n.prototype.minTask=null,n.prototype.historyFunctionTask=null,n.prototype.vwapTask=null,n.prototype.ewmaTask=null,n.prototype.comparisonTask=null,n.prototype.roundTask=null,n.prototype.boundTask=null;let r;return Object.defineProperty(n.prototype,"Task",{get:$util.oneOfGetter(r=["httpTask","jsonParseTask","medianTask","meanTask","websocketTask","divideTask","multiplyTask","lpTokenPriceTask","lpExchangeRateTask","conditionalTask","valueTask","maxTask","regexExtractTask","xstepPriceTask","addTask","subtractTask","twapTask","serumSwapTask","powTask","lendingRateTask","mangoPerpMarketTask","jupiterSwapTask","perpMarketTask","oracleTask","anchorFetchTask","defiKingdomsTask","tpsTask","splStakePoolTask","splTokenParseTask","uniswapExchangeRateTask","sushiswapExchangeRateTask","pancakeswapExchangeRateTask","cacheTask","sysclockOffsetTask","marinadeStateTask","solanaAccountDataFetchTask","bufferLayoutParseTask","cronParseTask","minTask","historyFunctionTask","vwapTask","ewmaTask","comparisonTask","roundTask","boundTask"]),set:$util.oneOfSetter(r)}),n.create=function(e){return new n(e)},n.encode=function(e,o){return o||(o=$Writer.create()),e.httpTask!=null&&Object.hasOwnProperty.call(e,"httpTask")&&$root.OracleJob.HttpTask.encode(e.httpTask,o.uint32(10).fork()).ldelim(),e.jsonParseTask!=null&&Object.hasOwnProperty.call(e,"jsonParseTask")&&$root.OracleJob.JsonParseTask.encode(e.jsonParseTask,o.uint32(18).fork()).ldelim(),e.medianTask!=null&&Object.hasOwnProperty.call(e,"medianTask")&&$root.OracleJob.MedianTask.encode(e.medianTask,o.uint32(34).fork()).ldelim(),e.meanTask!=null&&Object.hasOwnProperty.call(e,"meanTask")&&$root.OracleJob.MeanTask.encode(e.meanTask,o.uint32(42).fork()).ldelim(),e.websocketTask!=null&&Object.hasOwnProperty.call(e,"websocketTask")&&$root.OracleJob.WebsocketTask.encode(e.websocketTask,o.uint32(50).fork()).ldelim(),e.divideTask!=null&&Object.hasOwnProperty.call(e,"divideTask")&&$root.OracleJob.DivideTask.encode(e.divideTask,o.uint32(58).fork()).ldelim(),e.multiplyTask!=null&&Object.hasOwnProperty.call(e,"multiplyTask")&&$root.OracleJob.MultiplyTask.encode(e.multiplyTask,o.uint32(66).fork()).ldelim(),e.lpTokenPriceTask!=null&&Object.hasOwnProperty.call(e,"lpTokenPriceTask")&&$root.OracleJob.LpTokenPriceTask.encode(e.lpTokenPriceTask,o.uint32(74).fork()).ldelim(),e.lpExchangeRateTask!=null&&Object.hasOwnProperty.call(e,"lpExchangeRateTask")&&$root.OracleJob.LpExchangeRateTask.encode(e.lpExchangeRateTask,o.uint32(82).fork()).ldelim(),e.conditionalTask!=null&&Object.hasOwnProperty.call(e,"conditionalTask")&&$root.OracleJob.ConditionalTask.encode(e.conditionalTask,o.uint32(90).fork()).ldelim(),e.valueTask!=null&&Object.hasOwnProperty.call(e,"valueTask")&&$root.OracleJob.ValueTask.encode(e.valueTask,o.uint32(98).fork()).ldelim(),e.maxTask!=null&&Object.hasOwnProperty.call(e,"maxTask")&&$root.OracleJob.MaxTask.encode(e.maxTask,o.uint32(106).fork()).ldelim(),e.regexExtractTask!=null&&Object.hasOwnProperty.call(e,"regexExtractTask")&&$root.OracleJob.RegexExtractTask.encode(e.regexExtractTask,o.uint32(114).fork()).ldelim(),e.xstepPriceTask!=null&&Object.hasOwnProperty.call(e,"xstepPriceTask")&&$root.OracleJob.XStepPriceTask.encode(e.xstepPriceTask,o.uint32(122).fork()).ldelim(),e.addTask!=null&&Object.hasOwnProperty.call(e,"addTask")&&$root.OracleJob.AddTask.encode(e.addTask,o.uint32(130).fork()).ldelim(),e.subtractTask!=null&&Object.hasOwnProperty.call(e,"subtractTask")&&$root.OracleJob.SubtractTask.encode(e.subtractTask,o.uint32(138).fork()).ldelim(),e.twapTask!=null&&Object.hasOwnProperty.call(e,"twapTask")&&$root.OracleJob.TwapTask.encode(e.twapTask,o.uint32(146).fork()).ldelim(),e.serumSwapTask!=null&&Object.hasOwnProperty.call(e,"serumSwapTask")&&$root.OracleJob.SerumSwapTask.encode(e.serumSwapTask,o.uint32(154).fork()).ldelim(),e.powTask!=null&&Object.hasOwnProperty.call(e,"powTask")&&$root.OracleJob.PowTask.encode(e.powTask,o.uint32(162).fork()).ldelim(),e.lendingRateTask!=null&&Object.hasOwnProperty.call(e,"lendingRateTask")&&$root.OracleJob.LendingRateTask.encode(e.lendingRateTask,o.uint32(170).fork()).ldelim(),e.mangoPerpMarketTask!=null&&Object.hasOwnProperty.call(e,"mangoPerpMarketTask")&&$root.OracleJob.MangoPerpMarketTask.encode(e.mangoPerpMarketTask,o.uint32(178).fork()).ldelim(),e.jupiterSwapTask!=null&&Object.hasOwnProperty.call(e,"jupiterSwapTask")&&$root.OracleJob.JupiterSwapTask.encode(e.jupiterSwapTask,o.uint32(186).fork()).ldelim(),e.perpMarketTask!=null&&Object.hasOwnProperty.call(e,"perpMarketTask")&&$root.OracleJob.PerpMarketTask.encode(e.perpMarketTask,o.uint32(194).fork()).ldelim(),e.oracleTask!=null&&Object.hasOwnProperty.call(e,"oracleTask")&&$root.OracleJob.OracleTask.encode(e.oracleTask,o.uint32(202).fork()).ldelim(),e.anchorFetchTask!=null&&Object.hasOwnProperty.call(e,"anchorFetchTask")&&$root.OracleJob.AnchorFetchTask.encode(e.anchorFetchTask,o.uint32(210).fork()).ldelim(),e.defiKingdomsTask!=null&&Object.hasOwnProperty.call(e,"defiKingdomsTask")&&$root.OracleJob.DefiKingdomsTask.encode(e.defiKingdomsTask,o.uint32(218).fork()).ldelim(),e.tpsTask!=null&&Object.hasOwnProperty.call(e,"tpsTask")&&$root.OracleJob.TpsTask.encode(e.tpsTask,o.uint32(226).fork()).ldelim(),e.splStakePoolTask!=null&&Object.hasOwnProperty.call(e,"splStakePoolTask")&&$root.OracleJob.SplStakePoolTask.encode(e.splStakePoolTask,o.uint32(234).fork()).ldelim(),e.splTokenParseTask!=null&&Object.hasOwnProperty.call(e,"splTokenParseTask")&&$root.OracleJob.SplTokenParseTask.encode(e.splTokenParseTask,o.uint32(242).fork()).ldelim(),e.uniswapExchangeRateTask!=null&&Object.hasOwnProperty.call(e,"uniswapExchangeRateTask")&&$root.OracleJob.UniswapExchangeRateTask.encode(e.uniswapExchangeRateTask,o.uint32(250).fork()).ldelim(),e.sushiswapExchangeRateTask!=null&&Object.hasOwnProperty.call(e,"sushiswapExchangeRateTask")&&$root.OracleJob.SushiswapExchangeRateTask.encode(e.sushiswapExchangeRateTask,o.uint32(258).fork()).ldelim(),e.pancakeswapExchangeRateTask!=null&&Object.hasOwnProperty.call(e,"pancakeswapExchangeRateTask")&&$root.OracleJob.PancakeswapExchangeRateTask.encode(e.pancakeswapExchangeRateTask,o.uint32(266).fork()).ldelim(),e.cacheTask!=null&&Object.hasOwnProperty.call(e,"cacheTask")&&$root.OracleJob.CacheTask.encode(e.cacheTask,o.uint32(274).fork()).ldelim(),e.sysclockOffsetTask!=null&&Object.hasOwnProperty.call(e,"sysclockOffsetTask")&&$root.OracleJob.SysclockOffsetTask.encode(e.sysclockOffsetTask,o.uint32(282).fork()).ldelim(),e.marinadeStateTask!=null&&Object.hasOwnProperty.call(e,"marinadeStateTask")&&$root.OracleJob.MarinadeStateTask.encode(e.marinadeStateTask,o.uint32(290).fork()).ldelim(),e.solanaAccountDataFetchTask!=null&&Object.hasOwnProperty.call(e,"solanaAccountDataFetchTask")&&$root.OracleJob.SolanaAccountDataFetchTask.encode(e.solanaAccountDataFetchTask,o.uint32(298).fork()).ldelim(),e.bufferLayoutParseTask!=null&&Object.hasOwnProperty.call(e,"bufferLayoutParseTask")&&$root.OracleJob.BufferLayoutParseTask.encode(e.bufferLayoutParseTask,o.uint32(306).fork()).ldelim(),e.cronParseTask!=null&&Object.hasOwnProperty.call(e,"cronParseTask")&&$root.OracleJob.CronParseTask.encode(e.cronParseTask,o.uint32(314).fork()).ldelim(),e.minTask!=null&&Object.hasOwnProperty.call(e,"minTask")&&$root.OracleJob.MinTask.encode(e.minTask,o.uint32(322).fork()).ldelim(),e.historyFunctionTask!=null&&Object.hasOwnProperty.call(e,"historyFunctionTask")&&$root.OracleJob.HistoryFunctionTask.encode(e.historyFunctionTask,o.uint32(330).fork()).ldelim(),e.vwapTask!=null&&Object.hasOwnProperty.call(e,"vwapTask")&&$root.OracleJob.VwapTask.encode(e.vwapTask,o.uint32(338).fork()).ldelim(),e.ewmaTask!=null&&Object.hasOwnProperty.call(e,"ewmaTask")&&$root.OracleJob.EwmaTask.encode(e.ewmaTask,o.uint32(346).fork()).ldelim(),e.comparisonTask!=null&&Object.hasOwnProperty.call(e,"comparisonTask")&&$root.OracleJob.ComparisonTask.encode(e.comparisonTask,o.uint32(354).fork()).ldelim(),e.roundTask!=null&&Object.hasOwnProperty.call(e,"roundTask")&&$root.OracleJob.RoundTask.encode(e.roundTask,o.uint32(362).fork()).ldelim(),e.boundTask!=null&&Object.hasOwnProperty.call(e,"boundTask")&&$root.OracleJob.BoundTask.encode(e.boundTask,o.uint32(370).fork()).ldelim(),o},n.encodeDelimited=function(e,o){return this.encode(e,o).ldelim()},n.decode=function(e,o){e instanceof $Reader||(e=$Reader.create(e));let s=o===void 0?e.len:e.pos+o,a=new $root.OracleJob.Task;for(;e.pos<s;){let l=e.uint32();switch(l>>>3){case 1:{a.httpTask=$root.OracleJob.HttpTask.decode(e,e.uint32());break}case 2:{a.jsonParseTask=$root.OracleJob.JsonParseTask.decode(e,e.uint32());break}case 4:{a.medianTask=$root.OracleJob.MedianTask.decode(e,e.uint32());break}case 5:{a.meanTask=$root.OracleJob.MeanTask.decode(e,e.uint32());break}case 6:{a.websocketTask=$root.OracleJob.WebsocketTask.decode(e,e.uint32());break}case 7:{a.divideTask=$root.OracleJob.DivideTask.decode(e,e.uint32());break}case 8:{a.multiplyTask=$root.OracleJob.MultiplyTask.decode(e,e.uint32());break}case 9:{a.lpTokenPriceTask=$root.OracleJob.LpTokenPriceTask.decode(e,e.uint32());break}case 10:{a.lpExchangeRateTask=$root.OracleJob.LpExchangeRateTask.decode(e,e.uint32());break}case 11:{a.conditionalTask=$root.OracleJob.ConditionalTask.decode(e,e.uint32());break}case 12:{a.valueTask=$root.OracleJob.ValueTask.decode(e,e.uint32());break}case 13:{a.maxTask=$root.OracleJob.MaxTask.decode(e,e.uint32());break}case 14:{a.regexExtractTask=$root.OracleJob.RegexExtractTask.decode(e,e.uint32());break}case 15:{a.xstepPriceTask=$root.OracleJob.XStepPriceTask.decode(e,e.uint32());break}case 16:{a.addTask=$root.OracleJob.AddTask.decode(e,e.uint32());break}case 17:{a.subtractTask=$root.OracleJob.SubtractTask.decode(e,e.uint32());break}case 18:{a.twapTask=$root.OracleJob.TwapTask.decode(e,e.uint32());break}case 19:{a.serumSwapTask=$root.OracleJob.SerumSwapTask.decode(e,e.uint32());break}case 20:{a.powTask=$root.OracleJob.PowTask.decode(e,e.uint32());break}case 21:{a.lendingRateTask=$root.OracleJob.LendingRateTask.decode(e,e.uint32());break}case 22:{a.mangoPerpMarketTask=$root.OracleJob.MangoPerpMarketTask.decode(e,e.uint32());break}case 23:{a.jupiterSwapTask=$root.OracleJob.JupiterSwapTask.decode(e,e.uint32());break}case 24:{a.perpMarketTask=$root.OracleJob.PerpMarketTask.decode(e,e.uint32());break}case 25:{a.oracleTask=$root.OracleJob.OracleTask.decode(e,e.uint32());break}case 26:{a.anchorFetchTask=$root.OracleJob.AnchorFetchTask.decode(e,e.uint32());break}case 27:{a.defiKingdomsTask=$root.OracleJob.DefiKingdomsTask.decode(e,e.uint32());break}case 28:{a.tpsTask=$root.OracleJob.TpsTask.decode(e,e.uint32());break}case 29:{a.splStakePoolTask=$root.OracleJob.SplStakePoolTask.decode(e,e.uint32());break}case 30:{a.splTokenParseTask=$root.OracleJob.SplTokenParseTask.decode(e,e.uint32());break}case 31:{a.uniswapExchangeRateTask=$root.OracleJob.UniswapExchangeRateTask.decode(e,e.uint32());break}case 32:{a.sushiswapExchangeRateTask=$root.OracleJob.SushiswapExchangeRateTask.decode(e,e.uint32());break}case 33:{a.pancakeswapExchangeRateTask=$root.OracleJob.PancakeswapExchangeRateTask.decode(e,e.uint32());break}case 34:{a.cacheTask=$root.OracleJob.CacheTask.decode(e,e.uint32());break}case 35:{a.sysclockOffsetTask=$root.OracleJob.SysclockOffsetTask.decode(e,e.uint32());break}case 36:{a.marinadeStateTask=$root.OracleJob.MarinadeStateTask.decode(e,e.uint32());break}case 37:{a.solanaAccountDataFetchTask=$root.OracleJob.SolanaAccountDataFetchTask.decode(e,e.uint32());break}case 38:{a.bufferLayoutParseTask=$root.OracleJob.BufferLayoutParseTask.decode(e,e.uint32());break}case 39:{a.cronParseTask=$root.OracleJob.CronParseTask.decode(e,e.uint32());break}case 40:{a.minTask=$root.OracleJob.MinTask.decode(e,e.uint32());break}case 41:{a.historyFunctionTask=$root.OracleJob.HistoryFunctionTask.decode(e,e.uint32());break}case 42:{a.vwapTask=$root.OracleJob.VwapTask.decode(e,e.uint32());break}case 43:{a.ewmaTask=$root.OracleJob.EwmaTask.decode(e,e.uint32());break}case 44:{a.comparisonTask=$root.OracleJob.ComparisonTask.decode(e,e.uint32());break}case 45:{a.roundTask=$root.OracleJob.RoundTask.decode(e,e.uint32());break}case 46:{a.boundTask=$root.OracleJob.BoundTask.decode(e,e.uint32());break}default:e.skipType(l&7);break}}return a},n.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";let o={};if(e.httpTask!=null&&e.hasOwnProperty("httpTask")){o.Task=1;{let s=$root.OracleJob.HttpTask.verify(e.httpTask);if(s)return"httpTask."+s}}if(e.jsonParseTask!=null&&e.hasOwnProperty("jsonParseTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.JsonParseTask.verify(e.jsonParseTask);if(s)return"jsonParseTask."+s}}if(e.medianTask!=null&&e.hasOwnProperty("medianTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MedianTask.verify(e.medianTask);if(s)return"medianTask."+s}}if(e.meanTask!=null&&e.hasOwnProperty("meanTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MeanTask.verify(e.meanTask);if(s)return"meanTask."+s}}if(e.websocketTask!=null&&e.hasOwnProperty("websocketTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.WebsocketTask.verify(e.websocketTask);if(s)return"websocketTask."+s}}if(e.divideTask!=null&&e.hasOwnProperty("divideTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.DivideTask.verify(e.divideTask);if(s)return"divideTask."+s}}if(e.multiplyTask!=null&&e.hasOwnProperty("multiplyTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MultiplyTask.verify(e.multiplyTask);if(s)return"multiplyTask."+s}}if(e.lpTokenPriceTask!=null&&e.hasOwnProperty("lpTokenPriceTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.LpTokenPriceTask.verify(e.lpTokenPriceTask);if(s)return"lpTokenPriceTask."+s}}if(e.lpExchangeRateTask!=null&&e.hasOwnProperty("lpExchangeRateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.LpExchangeRateTask.verify(e.lpExchangeRateTask);if(s)return"lpExchangeRateTask."+s}}if(e.conditionalTask!=null&&e.hasOwnProperty("conditionalTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.ConditionalTask.verify(e.conditionalTask);if(s)return"conditionalTask."+s}}if(e.valueTask!=null&&e.hasOwnProperty("valueTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.ValueTask.verify(e.valueTask);if(s)return"valueTask."+s}}if(e.maxTask!=null&&e.hasOwnProperty("maxTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MaxTask.verify(e.maxTask);if(s)return"maxTask."+s}}if(e.regexExtractTask!=null&&e.hasOwnProperty("regexExtractTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.RegexExtractTask.verify(e.regexExtractTask);if(s)return"regexExtractTask."+s}}if(e.xstepPriceTask!=null&&e.hasOwnProperty("xstepPriceTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.XStepPriceTask.verify(e.xstepPriceTask);if(s)return"xstepPriceTask."+s}}if(e.addTask!=null&&e.hasOwnProperty("addTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.AddTask.verify(e.addTask);if(s)return"addTask."+s}}if(e.subtractTask!=null&&e.hasOwnProperty("subtractTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SubtractTask.verify(e.subtractTask);if(s)return"subtractTask."+s}}if(e.twapTask!=null&&e.hasOwnProperty("twapTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.TwapTask.verify(e.twapTask);if(s)return"twapTask."+s}}if(e.serumSwapTask!=null&&e.hasOwnProperty("serumSwapTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SerumSwapTask.verify(e.serumSwapTask);if(s)return"serumSwapTask."+s}}if(e.powTask!=null&&e.hasOwnProperty("powTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.PowTask.verify(e.powTask);if(s)return"powTask."+s}}if(e.lendingRateTask!=null&&e.hasOwnProperty("lendingRateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.LendingRateTask.verify(e.lendingRateTask);if(s)return"lendingRateTask."+s}}if(e.mangoPerpMarketTask!=null&&e.hasOwnProperty("mangoPerpMarketTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MangoPerpMarketTask.verify(e.mangoPerpMarketTask);if(s)return"mangoPerpMarketTask."+s}}if(e.jupiterSwapTask!=null&&e.hasOwnProperty("jupiterSwapTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.JupiterSwapTask.verify(e.jupiterSwapTask);if(s)return"jupiterSwapTask."+s}}if(e.perpMarketTask!=null&&e.hasOwnProperty("perpMarketTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.PerpMarketTask.verify(e.perpMarketTask);if(s)return"perpMarketTask."+s}}if(e.oracleTask!=null&&e.hasOwnProperty("oracleTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.OracleTask.verify(e.oracleTask);if(s)return"oracleTask."+s}}if(e.anchorFetchTask!=null&&e.hasOwnProperty("anchorFetchTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.AnchorFetchTask.verify(e.anchorFetchTask);if(s)return"anchorFetchTask."+s}}if(e.defiKingdomsTask!=null&&e.hasOwnProperty("defiKingdomsTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.DefiKingdomsTask.verify(e.defiKingdomsTask);if(s)return"defiKingdomsTask."+s}}if(e.tpsTask!=null&&e.hasOwnProperty("tpsTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.TpsTask.verify(e.tpsTask);if(s)return"tpsTask."+s}}if(e.splStakePoolTask!=null&&e.hasOwnProperty("splStakePoolTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SplStakePoolTask.verify(e.splStakePoolTask);if(s)return"splStakePoolTask."+s}}if(e.splTokenParseTask!=null&&e.hasOwnProperty("splTokenParseTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SplTokenParseTask.verify(e.splTokenParseTask);if(s)return"splTokenParseTask."+s}}if(e.uniswapExchangeRateTask!=null&&e.hasOwnProperty("uniswapExchangeRateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.UniswapExchangeRateTask.verify(e.uniswapExchangeRateTask);if(s)return"uniswapExchangeRateTask."+s}}if(e.sushiswapExchangeRateTask!=null&&e.hasOwnProperty("sushiswapExchangeRateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SushiswapExchangeRateTask.verify(e.sushiswapExchangeRateTask);if(s)return"sushiswapExchangeRateTask."+s}}if(e.pancakeswapExchangeRateTask!=null&&e.hasOwnProperty("pancakeswapExchangeRateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.PancakeswapExchangeRateTask.verify(e.pancakeswapExchangeRateTask);if(s)return"pancakeswapExchangeRateTask."+s}}if(e.cacheTask!=null&&e.hasOwnProperty("cacheTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.CacheTask.verify(e.cacheTask);if(s)return"cacheTask."+s}}if(e.sysclockOffsetTask!=null&&e.hasOwnProperty("sysclockOffsetTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SysclockOffsetTask.verify(e.sysclockOffsetTask);if(s)return"sysclockOffsetTask."+s}}if(e.marinadeStateTask!=null&&e.hasOwnProperty("marinadeStateTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MarinadeStateTask.verify(e.marinadeStateTask);if(s)return"marinadeStateTask."+s}}if(e.solanaAccountDataFetchTask!=null&&e.hasOwnProperty("solanaAccountDataFetchTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.SolanaAccountDataFetchTask.verify(e.solanaAccountDataFetchTask);if(s)return"solanaAccountDataFetchTask."+s}}if(e.bufferLayoutParseTask!=null&&e.hasOwnProperty("bufferLayoutParseTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.BufferLayoutParseTask.verify(e.bufferLayoutParseTask);if(s)return"bufferLayoutParseTask."+s}}if(e.cronParseTask!=null&&e.hasOwnProperty("cronParseTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.CronParseTask.verify(e.cronParseTask);if(s)return"cronParseTask."+s}}if(e.minTask!=null&&e.hasOwnProperty("minTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.MinTask.verify(e.minTask);if(s)return"minTask."+s}}if(e.historyFunctionTask!=null&&e.hasOwnProperty("historyFunctionTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.HistoryFunctionTask.verify(e.historyFunctionTask);if(s)return"historyFunctionTask."+s}}if(e.vwapTask!=null&&e.hasOwnProperty("vwapTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.VwapTask.verify(e.vwapTask);if(s)return"vwapTask."+s}}if(e.ewmaTask!=null&&e.hasOwnProperty("ewmaTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.EwmaTask.verify(e.ewmaTask);if(s)return"ewmaTask."+s}}if(e.comparisonTask!=null&&e.hasOwnProperty("comparisonTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.ComparisonTask.verify(e.comparisonTask);if(s)return"comparisonTask."+s}}if(e.roundTask!=null&&e.hasOwnProperty("roundTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.RoundTask.verify(e.roundTask);if(s)return"roundTask."+s}}if(e.boundTask!=null&&e.hasOwnProperty("boundTask")){if(o.Task===1)return"Task: multiple values";o.Task=1;{let s=$root.OracleJob.BoundTask.verify(e.boundTask);if(s)return"boundTask."+s}}return null},n.fromObject=function(e){if(e instanceof $root.OracleJob.Task)return e;let o=new $root.OracleJob.Task;if(e.httpTask!=null){if(typeof e.httpTask!="object")throw TypeError(".OracleJob.Task.httpTask: object expected");o.httpTask=$root.OracleJob.HttpTask.fromObject(e.httpTask)}if(e.jsonParseTask!=null){if(typeof e.jsonParseTask!="object")throw TypeError(".OracleJob.Task.jsonParseTask: object expected");o.jsonParseTask=$root.OracleJob.JsonParseTask.fromObject(e.jsonParseTask)}if(e.medianTask!=null){if(typeof e.medianTask!="object")throw TypeError(".OracleJob.Task.medianTask: object expected");o.medianTask=$root.OracleJob.MedianTask.fromObject(e.medianTask)}if(e.meanTask!=null){if(typeof e.meanTask!="object")throw TypeError(".OracleJob.Task.meanTask: object expected");o.meanTask=$root.OracleJob.MeanTask.fromObject(e.meanTask)}if(e.websocketTask!=null){if(typeof e.websocketTask!="object")throw TypeError(".OracleJob.Task.websocketTask: object expected");o.websocketTask=$root.OracleJob.WebsocketTask.fromObject(e.websocketTask)}if(e.divideTask!=null){if(typeof e.divideTask!="object")throw TypeError(".OracleJob.Task.divideTask: object expected");o.divideTask=$root.OracleJob.DivideTask.fromObject(e.divideTask)}if(e.multiplyTask!=null){if(typeof e.multiplyTask!="object")throw TypeError(".OracleJob.Task.multiplyTask: object expected");o.multiplyTask=$root.OracleJob.MultiplyTask.fromObject(e.multiplyTask)}if(e.lpTokenPriceTask!=null){if(typeof e.lpTokenPriceTask!="object")throw TypeError(".OracleJob.Task.lpTokenPriceTask: object expected");o.lpTokenPriceTask=$root.OracleJob.LpTokenPriceTask.fromObject(e.lpTokenPriceTask)}if(e.lpExchangeRateTask!=null){if(typeof e.lpExchangeRateTask!="object")throw TypeError(".OracleJob.Task.lpExchangeRateTask: object expected");o.lpExchangeRateTask=$root.OracleJob.LpExchangeRateTask.fromObject(e.lpExchangeRateTask)}if(e.conditionalTask!=null){if(typeof e.conditionalTask!="object")throw TypeError(".OracleJob.Task.conditionalTask: object expected");o.conditionalTask=$root.OracleJob.ConditionalTask.fromObject(e.conditionalTask)}if(e.valueTask!=null){if(typeof e.valueTask!="object")throw TypeError(".OracleJob.Task.valueTask: object expected");o.valueTask=$root.OracleJob.ValueTask.fromObject(e.valueTask)}if(e.maxTask!=null){if(typeof e.maxTask!="object")throw TypeError(".OracleJob.Task.maxTask: object expected");o.maxTask=$root.OracleJob.MaxTask.fromObject(e.maxTask)}if(e.regexExtractTask!=null){if(typeof e.regexExtractTask!="object")throw TypeError(".OracleJob.Task.regexExtractTask: object expected");o.regexExtractTask=$root.OracleJob.RegexExtractTask.fromObject(e.regexExtractTask)}if(e.xstepPriceTask!=null){if(typeof e.xstepPriceTask!="object")throw TypeError(".OracleJob.Task.xstepPriceTask: object expected");o.xstepPriceTask=$root.OracleJob.XStepPriceTask.fromObject(e.xstepPriceTask)}if(e.addTask!=null){if(typeof e.addTask!="object")throw TypeError(".OracleJob.Task.addTask: object expected");o.addTask=$root.OracleJob.AddTask.fromObject(e.addTask)}if(e.subtractTask!=null){if(typeof e.subtractTask!="object")throw TypeError(".OracleJob.Task.subtractTask: object expected");o.subtractTask=$root.OracleJob.SubtractTask.fromObject(e.subtractTask)}if(e.twapTask!=null){if(typeof e.twapTask!="object")throw TypeError(".OracleJob.Task.twapTask: object expected");o.twapTask=$root.OracleJob.TwapTask.fromObject(e.twapTask)}if(e.serumSwapTask!=null){if(typeof e.serumSwapTask!="object")throw TypeError(".OracleJob.Task.serumSwapTask: object expected");o.serumSwapTask=$root.OracleJob.SerumSwapTask.fromObject(e.serumSwapTask)}if(e.powTask!=null){if(typeof e.powTask!="object")throw TypeError(".OracleJob.Task.powTask: object expected");o.powTask=$root.OracleJob.PowTask.fromObject(e.powTask)}if(e.lendingRateTask!=null){if(typeof e.lendingRateTask!="object")throw TypeError(".OracleJob.Task.lendingRateTask: object expected");o.lendingRateTask=$root.OracleJob.LendingRateTask.fromObject(e.lendingRateTask)}if(e.mangoPerpMarketTask!=null){if(typeof e.mangoPerpMarketTask!="object")throw TypeError(".OracleJob.Task.mangoPerpMarketTask: object expected");o.mangoPerpMarketTask=$root.OracleJob.MangoPerpMarketTask.fromObject(e.mangoPerpMarketTask)}if(e.jupiterSwapTask!=null){if(typeof e.jupiterSwapTask!="object")throw TypeError(".OracleJob.Task.jupiterSwapTask: object expected");o.jupiterSwapTask=$root.OracleJob.JupiterSwapTask.fromObject(e.jupiterSwapTask)}if(e.perpMarketTask!=null){if(typeof e.perpMarketTask!="object")throw TypeError(".OracleJob.Task.perpMarketTask: object expected");o.perpMarketTask=$root.OracleJob.PerpMarketTask.fromObject(e.perpMarketTask)}if(e.oracleTask!=null){if(typeof e.oracleTask!="object")throw TypeError(".OracleJob.Task.oracleTask: object expected");o.oracleTask=$root.OracleJob.OracleTask.fromObject(e.oracleTask)}if(e.anchorFetchTask!=null){if(typeof e.anchorFetchTask!="object")throw TypeError(".OracleJob.Task.anchorFetchTask: object expected");o.anchorFetchTask=$root.OracleJob.AnchorFetchTask.fromObject(e.anchorFetchTask)}if(e.defiKingdomsTask!=null){if(typeof e.defiKingdomsTask!="object")throw TypeError(".OracleJob.Task.defiKingdomsTask: object expected");o.defiKingdomsTask=$root.OracleJob.DefiKingdomsTask.fromObject(e.defiKingdomsTask)}if(e.tpsTask!=null){if(typeof e.tpsTask!="object")throw TypeError(".OracleJob.Task.tpsTask: object expected");o.tpsTask=$root.OracleJob.TpsTask.fromObject(e.tpsTask)}if(e.splStakePoolTask!=null){if(typeof e.splStakePoolTask!="object")throw TypeError(".OracleJob.Task.splStakePoolTask: object expected");o.splStakePoolTask=$root.OracleJob.SplStakePoolTask.fromObject(e.splStakePoolTask)}if(e.splTokenParseTask!=null){if(typeof e.splTokenParseTask!="object")throw TypeError(".OracleJob.Task.splTokenParseTask: object expected");o.splTokenParseTask=$root.OracleJob.SplTokenParseTask.fromObject(e.splTokenParseTask)}if(e.uniswapExchangeRateTask!=null){if(typeof e.uniswapExchangeRateTask!="object")throw TypeError(".OracleJob.Task.uniswapExchangeRateTask: object expected");o.uniswapExchangeRateTask=$root.OracleJob.UniswapExchangeRateTask.fromObject(e.uniswapExchangeRateTask)}if(e.sushiswapExchangeRateTask!=null){if(typeof e.sushiswapExchangeRateTask!="object")throw TypeError(".OracleJob.Task.sushiswapExchangeRateTask: object expected");o.sushiswapExchangeRateTask=$root.OracleJob.SushiswapExchangeRateTask.fromObject(e.sushiswapExchangeRateTask)}if(e.pancakeswapExchangeRateTask!=null){if(typeof e.pancakeswapExchangeRateTask!="object")throw TypeError(".OracleJob.Task.pancakeswapExchangeRateTask: object expected");o.pancakeswapExchangeRateTask=$root.OracleJob.PancakeswapExchangeRateTask.fromObject(e.pancakeswapExchangeRateTask)}if(e.cacheTask!=null){if(typeof e.cacheTask!="object")throw TypeError(".OracleJob.Task.cacheTask: object expected");o.cacheTask=$root.OracleJob.CacheTask.fromObject(e.cacheTask)}if(e.sysclockOffsetTask!=null){if(typeof e.sysclockOffsetTask!="object")throw TypeError(".OracleJob.Task.sysclockOffsetTask: object expected");o.sysclockOffsetTask=$root.OracleJob.SysclockOffsetTask.fromObject(e.sysclockOffsetTask)}if(e.marinadeStateTask!=null){if(typeof e.marinadeStateTask!="object")throw TypeError(".OracleJob.Task.marinadeStateTask: object expected");o.marinadeStateTask=$root.OracleJob.MarinadeStateTask.fromObject(e.marinadeStateTask)}if(e.solanaAccountDataFetchTask!=null){if(typeof e.solanaAccountDataFetchTask!="object")throw TypeError(".OracleJob.Task.solanaAccountDataFetchTask: object expected");o.solanaAccountDataFetchTask=$root.OracleJob.SolanaAccountDataFetchTask.fromObject(e.solanaAccountDataFetchTask)}if(e.bufferLayoutParseTask!=null){if(typeof e.bufferLayoutParseTask!="object")throw TypeError(".OracleJob.Task.bufferLayoutParseTask: object expected");o.bufferLayoutParseTask=$root.OracleJob.BufferLayoutParseTask.fromObject(e.bufferLayoutParseTask)}if(e.cronParseTask!=null){if(typeof e.cronParseTask!="object")throw TypeError(".OracleJob.Task.cronParseTask: object expected");o.cronParseTask=$root.OracleJob.CronParseTask.fromObject(e.cronParseTask)}if(e.minTask!=null){if(typeof e.minTask!="object")throw TypeError(".OracleJob.Task.minTask: object expected");o.minTask=$root.OracleJob.MinTask.fromObject(e.minTask)}if(e.historyFunctionTask!=null){if(typeof e.historyFunctionTask!="object")throw TypeError(".OracleJob.Task.historyFunctionTask: object expected");o.historyFunctionTask=$root.OracleJob.HistoryFunctionTask.fromObject(e.historyFunctionTask)}if(e.vwapTask!=null){if(typeof e.vwapTask!="object")throw TypeError(".OracleJob.Task.vwapTask: object expected");o.vwapTask=$root.OracleJob.VwapTask.fromObject(e.vwapTask)}if(e.ewmaTask!=null){if(typeof e.ewmaTask!="object")throw TypeError(".OracleJob.Task.ewmaTask: object expected");o.ewmaTask=$root.OracleJob.EwmaTask.fromObject(e.ewmaTask)}if(e.comparisonTask!=null){if(typeof e.comparisonTask!="object")throw TypeError(".OracleJob.Task.comparisonTask: object expected");o.comparisonTask=$root.OracleJob.ComparisonTask.fromObject(e.comparisonTask)}if(e.roundTask!=null){if(typeof e.roundTask!="object")throw TypeError(".OracleJob.Task.roundTask: object expected");o.roundTask=$root.OracleJob.RoundTask.fromObject(e.roundTask)}if(e.boundTask!=null){if(typeof e.boundTask!="object")throw TypeError(".OracleJob.Task.boundTask: object expected");o.boundTask=$root.OracleJob.BoundTask.fromObject(e.boundTask)}return o},n.toObject=function(e,o){o||(o={});let s={};return e.httpTask!=null&&e.hasOwnProperty("httpTask")&&(s.httpTask=$root.OracleJob.HttpTask.toObject(e.httpTask,o),o.oneofs&&(s.Task="httpTask")),e.jsonParseTask!=null&&e.hasOwnProperty("jsonParseTask")&&(s.jsonParseTask=$root.OracleJob.JsonParseTask.toObject(e.jsonParseTask,o),o.oneofs&&(s.Task="jsonParseTask")),e.medianTask!=null&&e.hasOwnProperty("medianTask")&&(s.medianTask=$root.OracleJob.MedianTask.toObject(e.medianTask,o),o.oneofs&&(s.Task="medianTask")),e.meanTask!=null&&e.hasOwnProperty("meanTask")&&(s.meanTask=$root.OracleJob.MeanTask.toObject(e.meanTask,o),o.oneofs&&(s.Task="meanTask")),e.websocketTask!=null&&e.hasOwnProperty("websocketTask")&&(s.websocketTask=$root.OracleJob.WebsocketTask.toObject(e.websocketTask,o),o.oneofs&&(s.Task="websocketTask")),e.divideTask!=null&&e.hasOwnProperty("divideTask")&&(s.divideTask=$root.OracleJob.DivideTask.toObject(e.divideTask,o),o.oneofs&&(s.Task="divideTask")),e.multiplyTask!=null&&e.hasOwnProperty("multiplyTask")&&(s.multiplyTask=$root.OracleJob.MultiplyTask.toObject(e.multiplyTask,o),o.oneofs&&(s.Task="multiplyTask")),e.lpTokenPriceTask!=null&&e.hasOwnProperty("lpTokenPriceTask")&&(s.lpTokenPriceTask=$root.OracleJob.LpTokenPriceTask.toObject(e.lpTokenPriceTask,o),o.oneofs&&(s.Task="lpTokenPriceTask")),e.lpExchangeRateTask!=null&&e.hasOwnProperty("lpExchangeRateTask")&&(s.lpExchangeRateTask=$root.OracleJob.LpExchangeRateTask.toObject(e.lpExchangeRateTask,o),o.oneofs&&(s.Task="lpExchangeRateTask")),e.conditionalTask!=null&&e.hasOwnProperty("conditionalTask")&&(s.conditionalTask=$root.OracleJob.ConditionalTask.toObject(e.conditionalTask,o),o.oneofs&&(s.Task="conditionalTask")),e.valueTask!=null&&e.hasOwnProperty("valueTask")&&(s.valueTask=$root.OracleJob.ValueTask.toObject(e.valueTask,o),o.oneofs&&(s.Task="valueTask")),e.maxTask!=null&&e.hasOwnProperty("maxTask")&&(s.maxTask=$root.OracleJob.MaxTask.toObject(e.maxTask,o),o.oneofs&&(s.Task="maxTask")),e.regexExtractTask!=null&&e.hasOwnProperty("regexExtractTask")&&(s.regexExtractTask=$root.OracleJob.RegexExtractTask.toObject(e.regexExtractTask,o),o.oneofs&&(s.Task="regexExtractTask")),e.xstepPriceTask!=null&&e.hasOwnProperty("xstepPriceTask")&&(s.xstepPriceTask=$root.OracleJob.XStepPriceTask.toObject(e.xstepPriceTask,o),o.oneofs&&(s.Task="xstepPriceTask")),e.addTask!=null&&e.hasOwnProperty("addTask")&&(s.addTask=$root.OracleJob.AddTask.toObject(e.addTask,o),o.oneofs&&(s.Task="addTask")),e.subtractTask!=null&&e.hasOwnProperty("subtractTask")&&(s.subtractTask=$root.OracleJob.SubtractTask.toObject(e.subtractTask,o),o.oneofs&&(s.Task="subtractTask")),e.twapTask!=null&&e.hasOwnProperty("twapTask")&&(s.twapTask=$root.OracleJob.TwapTask.toObject(e.twapTask,o),o.oneofs&&(s.Task="twapTask")),e.serumSwapTask!=null&&e.hasOwnProperty("serumSwapTask")&&(s.serumSwapTask=$root.OracleJob.SerumSwapTask.toObject(e.serumSwapTask,o),o.oneofs&&(s.Task="serumSwapTask")),e.powTask!=null&&e.hasOwnProperty("powTask")&&(s.powTask=$root.OracleJob.PowTask.toObject(e.powTask,o),o.oneofs&&(s.Task="powTask")),e.lendingRateTask!=null&&e.hasOwnProperty("lendingRateTask")&&(s.lendingRateTask=$root.OracleJob.LendingRateTask.toObject(e.lendingRateTask,o),o.oneofs&&(s.Task="lendingRateTask")),e.mangoPerpMarketTask!=null&&e.hasOwnProperty("mangoPerpMarketTask")&&(s.mangoPerpMarketTask=$root.OracleJob.MangoPerpMarketTask.toObject(e.mangoPerpMarketTask,o),o.oneofs&&(s.Task="mangoPerpMarketTask")),e.jupiterSwapTask!=null&&e.hasOwnProperty("jupiterSwapTask")&&(s.jupiterSwapTask=$root.OracleJob.JupiterSwapTask.toObject(e.jupiterSwapTask,o),o.oneofs&&(s.Task="jupiterSwapTask")),e.perpMarketTask!=null&&e.hasOwnProperty("perpMarketTask")&&(s.perpMarketTask=$root.OracleJob.PerpMarketTask.toObject(e.perpMarketTask,o),o.oneofs&&(s.Task="perpMarketTask")),e.oracleTask!=null&&e.hasOwnProperty("oracleTask")&&(s.oracleTask=$root.OracleJob.OracleTask.toObject(e.oracleTask,o),o.oneofs&&(s.Task="oracleTask")),e.anchorFetchTask!=null&&e.hasOwnProperty("anchorFetchTask")&&(s.anchorFetchTask=$root.OracleJob.AnchorFetchTask.toObject(e.anchorFetchTask,o),o.oneofs&&(s.Task="anchorFetchTask")),e.defiKingdomsTask!=null&&e.hasOwnProperty("defiKingdomsTask")&&(s.defiKingdomsTask=$root.OracleJob.DefiKingdomsTask.toObject(e.defiKingdomsTask,o),o.oneofs&&(s.Task="defiKingdomsTask")),e.tpsTask!=null&&e.hasOwnProperty("tpsTask")&&(s.tpsTask=$root.OracleJob.TpsTask.toObject(e.tpsTask,o),o.oneofs&&(s.Task="tpsTask")),e.splStakePoolTask!=null&&e.hasOwnProperty("splStakePoolTask")&&(s.splStakePoolTask=$root.OracleJob.SplStakePoolTask.toObject(e.splStakePoolTask,o),o.oneofs&&(s.Task="splStakePoolTask")),e.splTokenParseTask!=null&&e.hasOwnProperty("splTokenParseTask")&&(s.splTokenParseTask=$root.OracleJob.SplTokenParseTask.toObject(e.splTokenParseTask,o),o.oneofs&&(s.Task="splTokenParseTask")),e.uniswapExchangeRateTask!=null&&e.hasOwnProperty("uniswapExchangeRateTask")&&(s.uniswapExchangeRateTask=$root.OracleJob.UniswapExchangeRateTask.toObject(e.uniswapExchangeRateTask,o),o.oneofs&&(s.Task="uniswapExchangeRateTask")),e.sushiswapExchangeRateTask!=null&&e.hasOwnProperty("sushiswapExchangeRateTask")&&(s.sushiswapExchangeRateTask=$root.OracleJob.SushiswapExchangeRateTask.toObject(e.sushiswapExchangeRateTask,o),o.oneofs&&(s.Task="sushiswapExchangeRateTask")),e.pancakeswapExchangeRateTask!=null&&e.hasOwnProperty("pancakeswapExchangeRateTask")&&(s.pancakeswapExchangeRateTask=$root.OracleJob.PancakeswapExchangeRateTask.toObject(e.pancakeswapExchangeRateTask,o),o.oneofs&&(s.Task="pancakeswapExchangeRateTask")),e.cacheTask!=null&&e.hasOwnProperty("cacheTask")&&(s.cacheTask=$root.OracleJob.CacheTask.toObject(e.cacheTask,o),o.oneofs&&(s.Task="cacheTask")),e.sysclockOffsetTask!=null&&e.hasOwnProperty("sysclockOffsetTask")&&(s.sysclockOffsetTask=$root.OracleJob.SysclockOffsetTask.toObject(e.sysclockOffsetTask,o),o.oneofs&&(s.Task="sysclockOffsetTask")),e.marinadeStateTask!=null&&e.hasOwnProperty("marinadeStateTask")&&(s.marinadeStateTask=$root.OracleJob.MarinadeStateTask.toObject(e.marinadeStateTask,o),o.oneofs&&(s.Task="marinadeStateTask")),e.solanaAccountDataFetchTask!=null&&e.hasOwnProperty("solanaAccountDataFetchTask")&&(s.solanaAccountDataFetchTask=$root.OracleJob.SolanaAccountDataFetchTask.toObject(e.solanaAccountDataFetchTask,o),o.oneofs&&(s.Task="solanaAccountDataFetchTask")),e.bufferLayoutParseTask!=null&&e.hasOwnProperty("bufferLayoutParseTask")&&(s.bufferLayoutParseTask=$root.OracleJob.BufferLayoutParseTask.toObject(e.bufferLayoutParseTask,o),o.oneofs&&(s.Task="bufferLayoutParseTask")),e.cronParseTask!=null&&e.hasOwnProperty("cronParseTask")&&(s.cronParseTask=$root.OracleJob.CronParseTask.toObject(e.cronParseTask,o),o.oneofs&&(s.Task="cronParseTask")),e.minTask!=null&&e.hasOwnProperty("minTask")&&(s.minTask=$root.OracleJob.MinTask.toObject(e.minTask,o),o.oneofs&&(s.Task="minTask")),e.historyFunctionTask!=null&&e.hasOwnProperty("historyFunctionTask")&&(s.historyFunctionTask=$root.OracleJob.HistoryFunctionTask.toObject(e.historyFunctionTask,o),o.oneofs&&(s.Task="historyFunctionTask")),e.vwapTask!=null&&e.hasOwnProperty("vwapTask")&&(s.vwapTask=$root.OracleJob.VwapTask.toObject(e.vwapTask,o),o.oneofs&&(s.Task="vwapTask")),e.ewmaTask!=null&&e.hasOwnProperty("ewmaTask")&&(s.ewmaTask=$root.OracleJob.EwmaTask.toObject(e.ewmaTask,o),o.oneofs&&(s.Task="ewmaTask")),e.comparisonTask!=null&&e.hasOwnProperty("comparisonTask")&&(s.comparisonTask=$root.OracleJob.ComparisonTask.toObject(e.comparisonTask,o),o.oneofs&&(s.Task="comparisonTask")),e.roundTask!=null&&e.hasOwnProperty("roundTask")&&(s.roundTask=$root.OracleJob.RoundTask.toObject(e.roundTask,o),o.oneofs&&(s.Task="roundTask")),e.boundTask!=null&&e.hasOwnProperty("boundTask")&&(s.boundTask=$root.OracleJob.BoundTask.toObject(e.boundTask,o),o.oneofs&&(s.Task="boundTask")),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,protobuf.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/OracleJob.Task"},n}(),i})();protobuf.util.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};OracleJob.Task;OracleJob.HttpTask;OracleJob.JsonParseTask;OracleJob.MedianTask;OracleJob.MeanTask;OracleJob.WebsocketTask;OracleJob.DivideTask;OracleJob.MultiplyTask;OracleJob.LpTokenPriceTask;OracleJob.LpExchangeRateTask;OracleJob.ConditionalTask;OracleJob.ValueTask;OracleJob.MaxTask;OracleJob.RegexExtractTask;OracleJob.XStepPriceTask;OracleJob.AddTask;OracleJob.SubtractTask;OracleJob.TwapTask;OracleJob.SerumSwapTask;OracleJob.PowTask;OracleJob.LendingRateTask;OracleJob.MangoPerpMarketTask;OracleJob.JupiterSwapTask;OracleJob.PerpMarketTask;OracleJob.OracleTask;OracleJob.AnchorFetchTask;OracleJob.DefiKingdomsTask;OracleJob.TpsTask;OracleJob.SplStakePoolTask;OracleJob.SplTokenParseTask;OracleJob.UniswapExchangeRateTask;OracleJob.SushiswapExchangeRateTask;OracleJob.PancakeswapExchangeRateTask;OracleJob.CacheTask;OracleJob.SysclockOffsetTask;OracleJob.MarinadeStateTask;OracleJob.SolanaAccountDataFetchTask;OracleJob.BufferLayoutParseTask;OracleJob.CronParseTask;OracleJob.MinTask;OracleJob.HistoryFunctionTask;OracleJob.VwapTask;OracleJob.EwmaTask;OracleJob.ComparisonTask;OracleJob.RoundTask;OracleJob.BoundTask;function base(i){if(i.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var t=0;t<i.length;t++){var e=i.charAt(t),o=e.charCodeAt(0);if(n[o]!==255)throw new TypeError(e+" is ambiguous");n[o]=t}var s=i.length,a=i.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var k=0,y=0,b=0,m=h.length;b!==m&&h[b]===0;)b++,k++;for(var w=(m-b)*c+1>>>0,O=new Uint8Array(w);b!==m;){for(var g=h[b],A=0,T=w-1;(g!==0||A<y)&&T!==-1;T--,A++)g+=256*O[T]>>>0,O[T]=g%s>>>0,g=g/s>>>0;if(g!==0)throw new Error("Non-zero carry");y=A,b++}for(var x=w-y;x!==w&&O[x]===0;)x++;for(var S=a.repeat(k);x<w;++x)S+=i.charAt(O[x]);return S}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var k=0,y=0,b=0;h[k]===a;)y++,k++;for(var m=(h.length-k)*l+1>>>0,w=new Uint8Array(m);h[k];){var O=n[h.charCodeAt(k)];if(O===255)return;for(var g=0,A=m-1;(O!==0||g<b)&&A!==-1;A--,g++)O+=s*w[A]>>>0,w[A]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");b=g,k++}for(var T=m-b;T!==m&&w[T]===0;)T++;for(var x=new Uint8Array(y+(m-T)),S=y;T!==m;)x[S++]=w[T++];return x}function p(h){var k=f(h);if(k)return k;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var src=base;const basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";basex(ALPHABET);var lib={},__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(i){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}return i},__assign.apply(this,arguments)};Object.defineProperty(lib,"__esModule",{value:!0});lib.isValidCron=void 0;var safeParseInt=function(i){return/^\d+$/.test(i)?Number(i):NaN},isWildcard=function(i){return i==="*"},isQuestionMark=function(i){return i==="?"},isInRange=function(i,n,r){return i>=n&&i<=r},isValidRange=function(i,n,r){var t=i.split("-");switch(t.length){case 1:return isWildcard(i)||isInRange(safeParseInt(i),n,r);case 2:var e=t.map(function(a){return safeParseInt(a)}),o=e[0],s=e[1];return o<=s&&isInRange(o,n,r)&&isInRange(s,n,r);default:return!1}},isValidStep=function(i){return i===void 0||i.search(/[^\d]/)===-1&&safeParseInt(i)>0},validateForRange=function(i,n,r){if(i.search(/[^\d-,\/*]/)!==-1)return!1;var t=i.split(",");return t.every(function(e){var o=e.split("/");if(e.trim().endsWith("/")||o.length>2)return!1;var s=o[0],a=o[1];return isValidRange(s,n,r)&&isValidStep(a)})},hasValidSeconds=function(i){return validateForRange(i,0,59)},hasValidMinutes=function(i){return validateForRange(i,0,59)},hasValidHours=function(i){return validateForRange(i,0,23)},hasValidDays=function(i,n){return n&&isQuestionMark(i)||validateForRange(i,1,31)},monthAlias={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},hasValidMonths=function(i,n){if(i.search(/\/[a-zA-Z]/)!==-1)return!1;if(n){var r=i.toLowerCase().replace(/[a-z]{3}/g,function(t){return monthAlias[t]===void 0?t:monthAlias[t]});return validateForRange(r,1,12)}return validateForRange(i,1,12)},weekdaysAlias={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},hasValidWeekdays=function(i,n,r,t){if(r&&isQuestionMark(i))return!0;if(!r&&isQuestionMark(i)||i.search(/\/[a-zA-Z]/)!==-1)return!1;if(n){var e=i.toLowerCase().replace(/[a-z]{3}/g,function(o){return weekdaysAlias[o]===void 0?o:weekdaysAlias[o]});return validateForRange(e,0,t?7:6)}return validateForRange(i,0,t?7:6)},hasCompatibleDayFormat=function(i,n,r){return!(r&&isQuestionMark(i)&&isQuestionMark(n))},split=function(i){return i.trim().split(/\s+/)},defaultOptions={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};lib.isValidCron=function(i,n){n=__assign(__assign({},defaultOptions),n);var r=split(i);if(r.length>(n.seconds?6:5)||r.length<5)return!1;var t=[];if(r.length===6){var e=r.shift();e&&t.push(hasValidSeconds(e))}var o=r[0],s=r[1],a=r[2],l=r[3],c=r[4];return t.push(hasValidMinutes(o)),t.push(hasValidHours(s)),t.push(hasValidDays(a,n.allowBlankDay)),t.push(hasValidMonths(l,n.alias)),t.push(hasValidWeekdays(c,n.alias,n.allowBlankDay,n.allowSevenAsSunday)),t.push(hasCompatibleDayFormat(a,c,n.allowBlankDay)),t.every(Boolean)};protobuf.util.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};class AptosDecimal{constructor(n,r,t){this.mantissa=n,this.scale=r,this.neg=t}toBig(){const n=Big.DP;Big.DP=18;let r=new Big(this.mantissa);this.neg===!0&&(r=r.mul(-1));const t=new Big(10);return r=safeDiv(r,t.pow(this.scale)),Big.DP=n,r}static fromBig(n){const r=n.c.slice();let t=n.e+1;for(;r.length-t>9;)r.pop();for(;r.length-t<0;)r.push(0);return new AptosDecimal(r.join(""),r.length-t,n.s===-1)}static fromObj(n){return["mantissa","scale","neg"].forEach(t=>{if(!(t in n))throw new Error(`Object is missing property ${t}`)}),new AptosDecimal(n.mantissa,n.scale,n.neg)}}var SwitchboardPermission;(function(i){i[i.PERMIT_ORACLE_HEARTBEAT=0]="PERMIT_ORACLE_HEARTBEAT",i[i.PERMIT_ORACLE_QUEUE_USAGE=1]="PERMIT_ORACLE_QUEUE_USAGE",i[i.PERMIT_VRF_REQUESTS=2]="PERMIT_VRF_REQUESTS"})(SwitchboardPermission||(SwitchboardPermission={}));async function sendAptosTx(i,n,r,t,e=[],o=2e3){const s={type:"entry_function_payload",function:r,type_arguments:e,arguments:t};let a=await i.generateTransaction(n.address(),s);const l=(await i.simulateTransaction(n,a,{estimateGasUnitPrice:!0,estimateMaxGasAmount:!0,estimatePrioritizedGasUnitPrice:!0}))[0];if(Number(l.gas_unit_price)>o)throw Error(`Estimated gas price from simulation ${l.gas_unit_price} above maximum (${o}).`);if(a=await i.generateTransaction(n.address(),s,{gas_unit_price:l.gas_unit_price}),l.success===!1)throw console.error(l),new Error(`TxFailure: ${l.vm_status}`);const c=await i.signTransaction(n,a),u=await i.submitTransaction(c);return await i.waitForTransaction(u.hash),u.hash}function getAptosTx(i,n,r=[]){return{type:"entry_function_payload",function:i,type_arguments:r,arguments:n}}async function sendRawAptosTx(i,n,r,t,e=[],o=2e3){const s=r.split("::"),a=new aptos_types_exports.TransactionPayloadEntryFunction(aptos_types_exports.EntryFunction.natural(`${s[0]}::${s[1]}`,s[2],e,t));let l=await i.generateRawTransaction(n.address(),a);const c=(await i.simulateTransaction(n,l,{estimateGasUnitPrice:!0,estimateMaxGasAmount:!0,estimatePrioritizedGasUnitPrice:!0}))[0];if(Number(c.gas_unit_price)>o)throw Error(`Estimated gas price from simulation ${c.gas_unit_price} above maximum (${o}).`);l=await i.generateRawTransaction(n.address(),a,{gasUnitPrice:BigInt(c.gas_unit_price)});const u=AptosClient.generateBCSTransaction(n,l);if(c.success===!1)throw console.error(c),new Error(`TxFailure: ${c.vm_status}`);const f=await i.submitSignedBCSTransaction(u);return await i.waitForTransaction(f.hash),f.hash}class AptosEvent{constructor(n,r,t,e,o=1e3){this.client=n,this.eventHandlerOwner=r,this.eventOwnerStruct=t,this.eventHandlerName=e,this.pollIntervalMs=o}async onTrigger(n,r){let t="0";const e=await this.client.getAccountResource(this.eventHandlerOwner.hex(),this.eventOwnerStruct);try{t=(Number(e.data[this.eventHandlerName].counter)-1).toString()}catch(o){console.error(JSON.stringify(e,void 0,2),o)}return Number(e.data[this.eventHandlerName].counter)===-1&&(t="0"),this.intervalId=setInterval(async()=>{try{const o=await this.client.getEventsByEventHandle(this.eventHandlerOwner,this.eventOwnerStruct,this.eventHandlerName,{start:BigInt(Number(t)+1),limit:500});o.length!==0&&(t=o.at(-1).sequence_number);for(let s of o)n(s).catch(a=>{if(r)r(a);else throw a})}catch(o){r&&r(o)}},this.pollIntervalMs),this.intervalId}stop(){clearInterval(this.intervalId)}}class AggregatorAccount{constructor(n,r,t,e="0x1::aptos_coin::AptosCoin"){this.client=n,this.address=r,this.switchboardAddress=t,this.coinType=e}async loadData(){const n=await this.client.getAccountResources(HexString.ensure(this.address).hex()),r=n.reduce((o,s)=>({...o,...s.data}),{}),t=n.filter(o=>o.type===`${this.switchboardAddress}::aggregator::AggregatorRound<${this.switchboardAddress}::aggregator::LatestConfirmedRound>`).pop().data,e=n.filter(o=>o.type===`${this.switchboardAddress}::aggregator::AggregatorRound<${this.switchboardAddress}::aggregator::CurrentRound>`).pop().data;return e.current_payout=[],t.current_payout=[],r.current_round=e,r.latest_confirmed_round=t,Aggregator.fromMoveStruct(r)}async loadJobs(){const r=(await this.loadData()).jobKeys.map(e=>new JobAccount(this.client,e,HexString.ensure(this.switchboardAddress).hex())),t=[];for(let e of r)t.push(e.loadJob());return await Promise.all(t)}static async init(n,r,t,e){var o,s,a,l,c,u,f,p,h,k,y,b,m;const{mantissa:w,scale:O}=AptosDecimal.fromBig((o=t.varianceThreshold)!==null&&o!==void 0?o:new Big(0)),g=t.seed?HexString.ensure(HexString.ensure(t.seed)):new AptosAccount().address(),A=generateResourceAccountAddress(HexString.ensure(r.address()),bcsAddressToBytes(HexString.ensure(g))),T=await sendAptosTx(n,r,`${e}::aggregator_init_action::run`,[(s=t.name)!==null&&s!==void 0?s:"",(a=t.metadata)!==null&&a!==void 0?a:"",HexString.ensure(t.queueAddress).hex(),HexString.ensure(t.crankAddress).hex(),t.batchSize,t.minOracleResults,t.minJobResults,t.minUpdateDelaySeconds,(l=t.startAfter)!==null&&l!==void 0?l:0,Number(w),Number(O),(c=t.forceReportPeriod)!==null&&c!==void 0?c:0,(u=t.expiration)!==null&&u!==void 0?u:0,(f=t.disableCrank)!==null&&f!==void 0?f:!1,(p=t.historySize)!==null&&p!==void 0?p:0,(h=t.readCharge)!==null&&h!==void 0?h:0,t.rewardEscrow?HexString.ensure(t.rewardEscrow).hex():r.address().hex(),(k=t.readWhitelist)!==null&&k!==void 0?k:[],(y=t.limitReadsToWhitelist)!==null&&y!==void 0?y:!1,HexString.ensure(t.authority).hex(),HexString.ensure(g).hex()],[(b=t.coinType)!==null&&b!==void 0?b:"0x1::aptos_coin::AptosCoin"]);return[new AggregatorAccount(n,A,e,(m=t.coinType)!==null&&m!==void 0?m:"0x1::aptos_coin::AptosCoin"),T]}async latestValue(){const n=await this.loadData();return new AptosDecimal(n.latestConfirmedRound.result.value.toString(),n.latestConfirmedRound.result.dec,!!n.latestConfirmedRound.result.neg).toBig().toNumber()}async addJob(n,r){return await sendAptosTx(this.client,n,`${this.switchboardAddress}::aggregator_add_job_action::run`,[HexString.ensure(this.address).hex(),HexString.ensure(r.job).hex(),r.weight||1])}addJobTx(n){return getAptosTx(`${this.switchboardAddress}::aggregator_add_job_action::run`,[HexString.ensure(this.address).hex(),HexString.ensure(n.job).hex(),n.weight||1])}removeJobTx(n){return getAptosTx(`${this.switchboardAddress}::aggregator_remove_job_action::run`,[HexString.ensure(this.address).hex(),HexString.ensure(n.job).hex()])}async saveResult(n,r){var t;const{mantissa:e,scale:o,neg:s}=AptosDecimal.fromBig(r.value),{mantissa:a,scale:l,neg:c}=AptosDecimal.fromBig(r.minResponse),{mantissa:u,scale:f,neg:p}=AptosDecimal.fromBig(r.maxResponse);return sendRawAptosTx(this.client,n,`${this.switchboardAddress}::aggregator_save_result_action::run`,[bcs_exports.bcsToBytes(aptos_types_exports.AccountAddress.fromHex(r.oracleAddress)),bcs_exports.bcsToBytes(aptos_types_exports.AccountAddress.fromHex(this.address)),bcs_exports.bcsSerializeUint64(r.oracleIdx),bcs_exports.bcsSerializeBool(r.error),bcs_exports.bcsSerializeU128(Number(e)),bcs_exports.bcsSerializeU8(o),bcs_exports.bcsSerializeBool(s),bcs_exports.bcsSerializeBytes(HexString.ensure(r.jobsChecksum).toUint8Array()),bcs_exports.bcsSerializeU128(Number(a)),bcs_exports.bcsSerializeU8(l),bcs_exports.bcsSerializeBool(c),bcs_exports.bcsSerializeU128(Number(u)),bcs_exports.bcsSerializeU8(f),bcs_exports.bcsSerializeBool(p)],[new aptos_types_exports.TypeTagStruct(aptos_types_exports.StructTag.fromString((t=this.coinType)!==null&&t!==void 0?t:"0x1::aptos_coin::AptosCoin"))],200)}async openRound(n,r){return await sendAptosTx(this.client,n,`${this.switchboardAddress}::aggregator_open_round_action::run`,[HexString.ensure(this.address).hex(),r??1],[this.coinType],200)}static async openRoundN(n,r,t,e,o,s){return await sendAptosTx(n,r,`${e}::aggregator_open_round_action::run_many`,[t.map(a=>HexString.ensure(a).hex()),o??1],[s??"0x1::aptos_coin::AptosCoin"],200)}openRoundTx(){var n;return getAptosTx(`${this.switchboardAddress}::aggregator_open_round_action::run`,[HexString.ensure(this.address).hex(),1],[(n=this.coinType)!==null&&n!==void 0?n:"0x1::aptos_coin::AptosCoin"])}async setConfigTx(n){var r,t,e,o,s,a,l,c,u,f,p,h,k,y,b,m,w,O,g;const A=await this.loadData(),{mantissa:T,scale:x}=AptosDecimal.fromBig((r=n.varianceThreshold)!==null&&r!==void 0?r:new Big(0));return getAptosTx(`${this.switchboardAddress}::aggregator_set_configs_action::run`,[HexString.ensure(this.address).hex(),(t=n.name)!==null&&t!==void 0?t:A.name,(e=n.metadata)!==null&&e!==void 0?e:A.metadata,HexString.ensure((o=n.queueAddress)!==null&&o!==void 0?o:A.queueAddr).hex(),HexString.ensure((s=n.crankAddress)!==null&&s!==void 0?s:A.crankAddr).hex(),(a=n.batchSize)!==null&&a!==void 0?a:A.batchSize.toNumber(),(l=n.minOracleResults)!==null&&l!==void 0?l:A.minOracleResults.toNumber(),(c=n.minJobResults)!==null&&c!==void 0?c:A.minJobResults.toNumber(),(u=n.minUpdateDelaySeconds)!==null&&u!==void 0?u:A.minUpdateDelaySeconds.toNumber(),(f=n.startAfter)!==null&&f!==void 0?f:A.startAfter.toNumber(),n.varianceThreshold?Number(T):A.varianceThreshold.value.toNumber(),n.varianceThreshold?x:A.varianceThreshold.dec,(p=n.forceReportPeriod)!==null&&p!==void 0?p:A.forceReportPeriod.toNumber(),(h=n.expiration)!==null&&h!==void 0?h:A.expiration.toNumber(),(k=n.disableCrank)!==null&&k!==void 0?k:!1,(y=n.historySize)!==null&&y!==void 0?y:0,(b=n.readCharge)!==null&&b!==void 0?b:A.readCharge.toNumber(),n.rewardEscrow?HexString.ensure(n.rewardEscrow).hex():HexString.ensure(A.rewardEscrow).hex(),(m=n.readWhitelist)!==null&&m!==void 0?m:A.readWhitelist,(w=n.limitReadsToWhitelist)!==null&&w!==void 0?w:A.limitReadsToWhitelist,(O=n.authority)!==null&&O!==void 0?O:A.authority],[(g=n.coinType)!==null&&g!==void 0?g:"0x1::aptos_coin::AptosCoin"])}async setConfig(n,r){var t,e,o,s,a,l,c,u,f,p,h,k,y,b,m,w,O,g,A;const T=await this.loadData(),{mantissa:x,scale:S}=AptosDecimal.fromBig((t=r.varianceThreshold)!==null&&t!==void 0?t:new Big(0)),v=[HexString.ensure(this.address).hex(),(e=r.name)!==null&&e!==void 0?e:T.name,(o=r.metadata)!==null&&o!==void 0?o:T.metadata,HexString.ensure((s=r.queueAddress)!==null&&s!==void 0?s:T.queueAddr).hex(),HexString.ensure((a=r.crankAddress)!==null&&a!==void 0?a:T.crankAddr).hex(),(l=r.batchSize)!==null&&l!==void 0?l:T.batchSize.toNumber(),(c=r.minOracleResults)!==null&&c!==void 0?c:T.minOracleResults.toNumber(),(u=r.minJobResults)!==null&&u!==void 0?u:T.minJobResults.toNumber(),(f=r.minUpdateDelaySeconds)!==null&&f!==void 0?f:T.minUpdateDelaySeconds.toNumber(),(p=r.startAfter)!==null&&p!==void 0?p:T.startAfter.toNumber(),r.varianceThreshold?Number(x):T.varianceThreshold.value.toNumber(),r.varianceThreshold?S:T.varianceThreshold.dec,(h=r.forceReportPeriod)!==null&&h!==void 0?h:T.forceReportPeriod.toNumber(),(k=r.expiration)!==null&&k!==void 0?k:T.expiration.toNumber(),(y=r.disableCrank)!==null&&y!==void 0?y:!1,(b=r.historySize)!==null&&b!==void 0?b:0,(m=r.readCharge)!==null&&m!==void 0?m:T.readCharge.toNumber(),r.rewardEscrow?HexString.ensure(r.rewardEscrow).hex():HexString.ensure(T.rewardEscrow).hex(),(w=r.readWhitelist)!==null&&w!==void 0?w:T.readWhitelist,(O=r.limitReadsToWhitelist)!==null&&O!==void 0?O:T.limitReadsToWhitelist,(g=r.authority)!==null&&g!==void 0?g:T.authority];return await sendAptosTx(this.client,n,`${this.switchboardAddress}::aggregator_set_configs_action::run`,v,[(A=r.coinType)!==null&&A!==void 0?A:"0x1::aptos_coin::AptosCoin"])}static watch(n,r,t,e=1e3){const o=HexString.ensure(r),s=new AptosEvent(n,o,`${o.hex()}::switchboard::State`,"aggregator_update_events",e);return s.onTrigger(t),s}static async shouldReportValue(n,r){var t,e;if(((e=(t=r.latestConfirmedRound)===null||t===void 0?void 0:t.numSuccess)!==null&&e!==void 0?e:0)===0)return!0;const o=new BN(Math.round(Date.now()/1e3),10);if(new BN(r.startAfter,10).gt(o))return!1;const a=new AptosDecimal(r.varianceThreshold.value.toString(10),r.varianceThreshold.dec,!!r.varianceThreshold.neg).toBig(),l=new AptosDecimal(r.latestConfirmedRound.result.value.toString(),r.latestConfirmedRound.result.dec,!!r.latestConfirmedRound.result.neg).toBig(),c=new BN(r.forceReportPeriod,10);if(new BN(r.latestConfirmedRound.roundOpenTimestamp,10).add(c).lt(o))return!0;let f=safeDiv(l,n);return f.abs().gt(1)&&(f=safeDiv(n,l)),f.lt(0)?!0:new Big(1).minus(f).gt(a)}}class JobAccount{constructor(n,r,t){this.client=n,this.address=r,this.switchboardAddress=t}async loadData(){const n=(await this.client.getAccountResource(this.address,`${HexString.ensure(this.switchboardAddress).hex()}::job::Job`)).data;return Job.fromMoveStruct(n)}async loadJob(){const n=await this.loadData();return OracleJob.decodeDelimited(buffer.Buffer.from(buffer.Buffer.from(n.data).toString(),"base64"))}static async init(n,r,t,e){const o=await sendAptosTx(n,r,`${e}::job_init_action::run`,[t.name,t.metadata,HexString.ensure(t.authority).hex(),t.data]);return[new JobAccount(n,r.address(),e),o]}static initTx(n,r,t,e){const o=getAptosTx(`${e}::job_init_action::run`,[t.name,t.metadata,HexString.ensure(t.authority).hex(),t.data]);return[new JobAccount(n,r,e),o]}}function safeDiv(i,n,r=20){const t=Big.DP;Big.DP=r;const e=i.div(n);return Big.DP=t,e}function bcsAddressToBytes(i){return bcs_exports.bcsToBytes(aptos_types_exports.AccountAddress.fromHex(i))}function generateResourceAccountAddress(i,n){const r=sha3Exports.sha3_256.create(),t=bcsAddressToBytes(i);return r.update(t),r.update(new Uint8Array([...n,255])),`0x${r.hex()}`}const createAsset=(i,n)=>({...i,...getPrice(n),...getFormatUtils(i.decimals,new Decimal(n),i.symbol)}),getPrice=(i=1)=>({price:d(i),priceUSD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:7,minimumSignificantDigits:5,maximumFractionDigits:4}).format(i),priceUSDNum:i}),getFormatUtils=(i,n,r)=>{const t=10**i,e={toUSDValue:o=>o.mul(n).div(t).toNumber(),toUSDValueStr:o=>{const s=o.mul(n).div(t).toNumber();return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)},toAmount:o=>d(o.div(t).toFixed(i)),toAmountStr:(o,s)=>{const a=o.div(t).toNumber();return`${new Intl.NumberFormat("en-US",{maximumSignificantDigits:i-2,minimumSignificantDigits:1,style:"decimal",maximumFractionDigits:0,...s}).format(a)}${s!=null&&s.hideSymbol?"":` ${r}`}`},toLamports:o=>d(o).mul(t),formatAmount:(o,s)=>`${new Intl.NumberFormat("en-US",{maximumSignificantDigits:i,minimumSignificantDigits:1,...s}).format(o)}${s!=null&&s.hideSymbol?"":` ${r}`}`,amountToUSD:o=>n.mul(o).toNumber(),amountToUSDStr:(o,s)=>`${new Intl.NumberFormat("en-US",{maximumSignificantDigits:2,minimumSignificantDigits:1,maximumFractionDigits:3,style:"decimal",currency:"USD",...s}).format(o)}`,toBalance:o=>{const s=new Decimal(t).mul(o);return{amount:e.toAmountStr(s),amountNum:e.toAmount(s).toNumber(),valueUSD:e.toUSDValueStr(s),lamports:s,valueUSDNum:e.toUSDValue(s)}},lamportsToBalance:o=>({amount:e.toAmountStr(o),amountNum:e.toAmount(o).toNumber(),valueUSD:e.toUSDValueStr(o),lamports:o,valueUSDNum:e.toUSDValue(o)})};return e},EMPTY_ASSET={name:"Unknown",symbol:"Unknown",decimals:8,logoURI:"",id:"",priceUSDNum:0,priceUSD:"0",price:d(0),toUSDValue:()=>0,toUSDValueStr:()=>"0",toAmount:()=>d(0),toAmountStr:()=>"0",toLamports:()=>d(0),formatAmount:()=>"0",amountToUSD:()=>0,amountToUSDStr:()=>"0",toBalance:()=>({amount:"0",amountNum:0,valueUSD:"0",lamports:d(0),valueUSDNum:0}),lamportsToBalance:()=>({amount:"0",amountNum:0,valueUSD:"0",lamports:d(0),valueUSDNum:0})},EMPTY_TOKEN={...EMPTY_ASSET,address:""},useTokenBaseInfo=()=>{const{useStore:i}=useDappContext(),n=i("coin.isReady"),r=i("coin.coinList"),t=i("coin.info"),e=lodashExports.keyBy(lodashExports.compact(r).map(o=>{var s,a,l,c;return{id:o,symbol:(s=t==null?void 0:t[o])==null?void 0:s.symbol,name:(a=t==null?void 0:t[o])==null?void 0:a.name,decimals:(l=t==null?void 0:t[o])==null?void 0:l.decimals,logoURI:(c=t==null?void 0:t[o])==null?void 0:c.logoUrl}}),o=>o.id);return{tokenMap:new Proxy(e,{get:(o,s)=>o[s]??EMPTY_ASSET}),emptyableTokenMap:e,isLoading:!n}},useTokenHub=()=>{const i=useAptosClient(),{useStore:n}=useDappContext(),[r,t]=reactExports.useState({}),{tokenMap:e,isLoading:o}=useTokenBaseInfo(),s=n("coin.price");reactExports.useEffect(()=>{const f=new AggregatorAccount(i,"0x638b524fa794b1fba6cbe0e1af088d8dbbaaab48523ac9baab285587af318a8d",MAINNET_PROGRAM_ID),p=async()=>{const k=await f.loadData(),y=lodashExports.meanBy(k.currentRound.medians,b=>Number(b==null?void 0:b.toBig().toFixed(4))??0);y&&!Number.isNaN(y)&&t({["0x84d7aeef42d38a5ffc3ccef853e1b82e4958659d16a7de736a29c55fbbeb0114::staked_aptos_coin::StakedAptosCoin"]:y})};p();const h=setInterval(()=>{p()},15e3);return()=>clearInterval(h)},[i]);const{tokenMap:a,emptyableTokenMap:l}=reactExports.useMemo(()=>{const f=lodashExports.mapValues(e,(h,k)=>{var y;return createAsset(h,r[k]??((y=s==null?void 0:s[k])==null?void 0:y.price)??1)}),p=new Proxy(f,{get:(h,k)=>h[k]??EMPTY_TOKEN});return{emptyableTokenMap:f,tokenMap:p}},[s,e,r]),c=reactExports.useRef(a);c.current=a;const u=reactExports.useMemo(()=>lodashExports.compact(Object.values(l)),[l]);return{tokenMap:a,tokenMapRef:c,emptyableTokenMap:l,tokenList:u,tokensLoading:o,setCustomizedPriceMap:t}},useClient=()=>reactExports.useMemo(()=>axios.create({baseURL:BASE_API_URL}),[]),CAKE_ADDRESS="0x159df6b7689437016108a019fd5bef736bac692b6d4a1f10c941f6fbb9a74ca6::oft::CakeOFT",useRawReserves=()=>{var o;const{data:i={stats:[],farms:[]},refetch:n,isLoading:r}=useQueryReserves(),t=(o=useTokenHub())==null?void 0:o.tokenMapRef,e=reactExports.useMemo(()=>i.stats.map(s=>{const a=getReserveDetail(s);return{coinAddress:s.coinAddress,rawReserve:s,rawFarms:i.farms.filter(l=>l.reserveCoinAddress===s.coinAddress),...a,...getReserveRewardDetails(a,i.farms.filter(l=>l.reserveCoinAddress===s.coinAddress),t.current)}}),[i.farms,i.stats]);return{reserves:e,reserveMap:lodashExports.keyBy(e,s=>s.coinAddress),refreshReserves:n,reservesLoading:r,reservesEmpty:!i.stats.length}},getReserveDetail=i=>{const{reserveConfig:{loanToValue:n,liquidationThreshold:r,borrowFeeHundredthBips:t,depositLimit:e,borrowLimit:o,borrowFactor:s},totalBorrowedShare:a,totalBorrowed:l,reserveAmount:c,interestRateConfig:u,totalLpSupply:f,totalCashAvailable:p}=i,h=l,k=h.plus(p),y=h.plus(p).minus(c),b=p.minus(c).mul(.95),m=n/100,w=r/100,O=f.eq(0)?d(0):k.div(f),g=a.eq(0)?d(1):h.div(a),A=getMax(d(0),e.minus(y)),T=getMin(getMax(d(0),o.minus(h)),b),x=b,S=()=>{const I=k.eq(0)?d(0):h.div(k),F=u.optimalUtilization.div(100);if(F.eq(1)||I.lt(F)){const{optimalBorrowRate:Y,minBorrowRate:Q}=u,te=I.div(F),ne=Y.minus(Q).div(100);return te.mul(ne).plus(Q.div(100))}const W=I.minus(F).div(d(1).minus(F)),{maxBorrowRate:K,optimalBorrowRate:G}=u,ee=K.minus(G).div(100);return W.mul(ee).plus(G.div(100))},v=()=>{const I=k.eq(0)?d(0):h.div(k);return S().mul(I)},R=I=>I.mul(g),D=I=>I.mul(O),$=I=>I*m,z=I=>I*w;return{borrowApyPct:S().mul(100),supplyApyPct:v().mul(100),borrowFeePct:t.div(10**4),shareToDeposit:D,shareToBorrow:R,depositToMargin:$,depositToCollateralThreshold:z,liquidationThresholdRatio:w,loanToValueRatio:m,marketCap:k,totalBorrowed:h,totalDeposited:y,reserveConfig:i.reserveConfig,maxDepositableLamports:A,maxBorrowableLamports:T,maxWithdrableLamports:x,availableLiquidity:b,optimalInterestRatePct:u.optimalBorrowRate.toNumber(),optimalUtilizationPct:u.optimalUtilization.toNumber(),maxInterestRatePct:u.maxBorrowRate.toNumber(),borrowFactorPct:s}},getReserveRewardDetails=(i,n,r)=>{if(n.length===0)return{borrowRewardApyPct:d(0),supplyRewardApyPct:d(0)};const t=r==null?void 0:r[n[0].reserveCoinAddress],e=a=>a.reduce((l,c)=>{const u=r==null?void 0:r[c.rewardCoinAddress];if(!u||!t)return l;const f=u.toUSDValue(bigMin(c.rewardConfig.rewardPerDay,c.remainingReward)),p=t.toUSDValue(c.rewardCondition==="DepositFarming"?i.shareToDeposit(c.totalShares):i.shareToBorrow(c.totalShares)),h=p>0?f/p:f/1;return l.plus(h)},d(0)),[o,s]=lodashExports.partition(n,a=>a.rewardCondition==="DepositFarming");return{borrowRewardApyPct:e(s).mul(365*100),supplyRewardApyPct:e(o).mul(365*100)}},useQueryReserves=()=>{const i=useClient(),{useStore:n}=useDappContext(),r=n("networks.currentNetwork.chainId");return useQuery([queryKey.dapps.Aries.reservesMeta,r],async()=>{var s,a,l,c,u,f,p,h,k;const t=await i.get("reserve.find",{params:{input:JSON.stringify({realtime:!0})}});let e=[],o=[];try{e=((u=(c=(l=(a=(s=t.data)==null?void 0:s.result)==null?void 0:a.data)==null?void 0:l.stats)==null?void 0:c.map(({key:y,value:b})=>({coinAddress:y,totalLpSupply:d(b.total_lp_supply),totalCashAvailable:d(b.total_cash_available),initialExchangeRate:d(b.initial_exchange_rate),reserveAmount:d(b.reserve_amount),totalBorrowedShare:d(b.total_borrowed_share),totalBorrowed:d(b.total_borrowed),reserveConfig:{loanToValue:b.reserve_config.loan_to_value,liquidationThreshold:b.reserve_config.liquidation_threshold,borrowFactor:b.reserve_config.borrow_factor,depositLimit:d(b.reserve_config.deposit_limit),borrowLimit:d(b.reserve_config.borrow_limit),borrowFeeHundredthBips:d(b.reserve_config.borrow_fee_hundredth_bips),withdrawFeeHundredthBips:d(b.reserve_config.withdraw_fee_hundredth_bips)},interestRateConfig:{minBorrowRate:d(b.interest_rate_config.min_borrow_rate),optimalBorrowRate:d(b.interest_rate_config.optimal_borrow_rate),maxBorrowRate:d(b.interest_rate_config.max_borrow_rate),optimalUtilization:d(b.interest_rate_config.optimal_utilization)}})))==null?void 0:u.filter(y=>y.coinAddress!==CAKE_ADDRESS))??[]}catch{}try{o=((k=(h=(p=(f=t.data)==null?void 0:f.result)==null?void 0:p.data)==null?void 0:h.farms)==null?void 0:k.map(y=>({rewardConfig:{rewardPerDay:y.reward_config.reward_per_day},remainingReward:d(y.remaining_reward),rewardPerShare:d(y.reward_per_share),reserveCoinAddress:y.reserve_coin_address,rewardCoinAddress:y.reward_coin_address,rewardCondition:y.reward_condition,totalShares:d(y.total_shares),updatedTimestamp:d(0)})))??[]}catch{}return{stats:e,farms:o}},{refetchInterval:30*1e3,staleTime:1/0})},useProfileByAddress=i=>{const n=useClient(),{useStore:r}=useDappContext(),t=r("networks.currentNetwork.chainId"),{reserveMap:e}=useRawReserves(),{tokenMap:o}=useTokenHub(),[s,a]=reactExports.useState(void 0),{setTx:l}=useDraftTx(),c=useNavigate(),[u,f]=reactExports.useState(!1);reactExports.useEffect(()=>{a("Main Account")},[a,i]);const{data:p={},refetch:h,isFetching:k}=useQuery([queryKey.dapps.Aries.profiles,t,i],async()=>{try{const O=await n.get("profile.find",{params:{input:JSON.stringify({owner:i,realtime:!0})}});return f(!1),O.data.result.data.profiles}catch{return{}}},{staleTime:1/0,enabled:!!i}),y=reactExports.useMemo(()=>lodashExports.compact(Object.entries(p).map(([O,g])=>{const A=O.replace(/^profile/,""),T=g.meta.owner;if(!g)return null;const{deposits:x,borrows:S}=g,v=lodashExports.sortBy(lodashExports.compact(Object.entries(x).map(([_,E])=>{const{collateral_amount:j}=E,N=e[_],C=o[_];if(!N||!C)return null;const J=N.shareToDeposit(d(j)),q=C.toUSDValue(J);return{asset:C,lamports:J,depositedValueUSD:q,amount:C.toAmountStr(J),valueUSDStr:C.toUSDValueStr(J),amountNum:C.toAmount(J).toNumber(),marginValueUSD:N.depositToMargin(q),collateralThreshold:N.depositToCollateralThreshold(q)}})),_=>-_.depositedValueUSD),R=lodashExports.sortBy(lodashExports.compact(Object.entries(S).map(([_,E])=>{const{borrowed_share:j}=E,N=e[_],C=o[_];if(!N||!C)return null;const J=N.shareToBorrow(d(j));return{asset:C,lamports:J,amount:C.toAmountStr(J),valueUSD:C.toUSDValue(J),valueUSDWithFactor:C.toUSDValue(J.div(N.borrowFactorPct===100?1:N.borrowFactorPct/100*.99)),valueUSDStr:C.toUSDValueStr(J)}})),_=>-_.valueUSD),D=v.reduce((_,E)=>_.plus(E.depositedValueUSD),d(0)),$=R.reduce((_,E)=>_.plus(E.valueUSD),d(0)),z=R.reduce((_,E)=>_.add(E.valueUSDWithFactor),d(0)),I=v.reduce((_,E)=>_.plus(E.marginValueUSD),d(0)),F=v.reduce((_,E)=>_.plus(E.collateralThreshold),d(0)),W=I.eq(0)?100:$.div(I).mul(100).toNumber(),K=F.eq(0)?0:$.div(F).toNumber(),G=v.reduce((_,E)=>{const j=e[E.asset.id];if(!j)return _;const N=j.supplyApyPct.div(100).toNumber(),C=j.supplyRewardApyPct.div(100).toNumber();return _+E.depositedValueUSD*(N+C)},0),ee=R.reduce((_,E)=>{const j=e[E.asset.id];if(!j)return _;const N=j==null?void 0:j.borrowApyPct.div(100).toNumber(),C=j.borrowRewardApyPct.div(100).toNumber();return _+E.valueUSD*(N-C)},0),Y=D.minus($).toNumber(),Q=(Y===0?0:(G-ee)/Y)*100,te=_=>{const E=v.find(H=>H.asset.id===_),j=e[_],N=o[_];if(!E||!j||!N)return d(0);const{maxWithdrableLamports:C,loanToValueRatio:J}=j,q=J===0?0:z.minus(lodashExports.sumBy(v.filter(H=>H.asset.id!==_),H=>H.marginValueUSD)).div(J).toNumber(),re=q<=0?E.amountNum:Math.max(0,(E.amountNum-q/N.priceUSDNum)*.95),de=N.toLamports(re);return getMin(de,C)},ne=_=>{const E=e[_],j=o[_];if(!E||!j)return d(0);const{borrowFeePct:N,maxBorrowableLamports:C,borrowFactorPct:J}=E,q=(v??[]).reduce((dt,ft)=>dt.plus(ft.marginValueUSD),d(0)).minus(z??d(0)).minus(10**(5-j.decimals)),re=N.div(100).plus(1),de=J/100,fe=j.price.mul(re),H=fe.eq(0)?d(0):q.div(fe).mul(de)??d(0),ut=H.mul(re),be=j.toAmount(C);return getMax(d(0),ut.gte(be)?be.div(re):H).mul(.95).toDecimalPlaces(j.decimals,Decimal.ROUND_DOWN)},ie=(_,E)=>{const j=e[_],N=o[_];if(!j||!N)return d(0);const C=E.minus(N.symbol==="APT"?MAX_GAS_PER_TX:0);return getMax(d(0),getMin(N.toAmount(C),N.toAmount(j.maxDepositableLamports)))},U=lodashExports.keyBy(v,_=>_.asset.id),M=lodashExports.keyBy(R,_=>_.asset.id),V=_=>{var E;return((E=U[_])==null?void 0:E.lamports)??d(0)},ct=_=>{var E;return((E=M[_])==null?void 0:E.lamports)??d(0)};return{name:A,address:T,depositList:v,loanList:R,totalLoanUSD:$,totalDepositedUSD:D,totalMarginUSD:I,availableMarginUSD:I.minus($),usedBorrowPowerPct:Number(W.toFixed(2)),borrowPower:W>100?0:Number((100-W).toFixed(2)),riskFactorPct:Number(((K>1?1:K)*100).toFixed(2)),totalApyPct:Q,getWithdrawableAmount:te,getBorrowableAmount:ne,getDepositableAmount:ie,getDepositedLamports:V,getBorrowedLamports:ct}})),[p,e,o]),b=reactExports.useMemo(()=>(y==null?void 0:y.find(O=>O.name===s))??void 0,[y,s]),m=reactExports.useCallback(({payload:O})=>{l({isInternal:!0,type:"AriesLending",payload:O,gas:d(DEFAULT_GAS),gasPrice:d(DEFAULT_GAS_PRICE),onCancel:()=>{c(DAPPS_ARIES)},onComplete:()=>{setTimeout(()=>{h()},2e3),f(!0),c(DAPPS_ARIES_ACCOUNT)}}),c(TX_CONFIRM)},[c,h,f,l]),w=async O=>{const g=await getAriesSDK().controller.registerUser({default_profile_name:O}).execute();m(g)};return{initialized:y.length>0,currentProfileId:s,currentProfile:b,currentProfileLoading:k||u,list:y,changeProfile:a,refreshProfile:h,initProfile:w}},useLendingAppImpl=i=>{const{setTx:n}=useDraftTx(),r=useNavigate(),{tokenMap:t,tokensLoading:e}=useTokenHub(),o=useProfileByAddress(i),{balanceMap:s,refreshBalance:a}=useBalanceByAddress(i),{currentProfile:l,refreshProfile:c}=o,{reserves:u,refreshReserves:f,reservesLoading:p,reservesEmpty:h}=useRawReserves(),k=reactExports.useCallback(({payload:w})=>{n({isInternal:!0,type:"AriesLending",payload:w,gas:d(DEFAULT_GAS),gasPrice:d(DEFAULT_GAS_PRICE),onCancel:()=>{r(DAPPS_ARIES)},onComplete:()=>{setTimeout(()=>{a(),f(),c()},2e3),r(DAPPS_ARIES_ACCOUNT)}}),r(TX_CONFIRM)},[r,a,c,f,n]),y=reactExports.useMemo(()=>u.map(({coinAddress:w,...O})=>{const g=t[w]??EMPTY_TOKEN,A=getReservesActions({coinAddress:w}),T={withdraw:async U=>{const M=await A.withdraw(g.toLamports(U),l);k(M)},repay:async(U,M)=>{const V=await A.repay(g.toLamports(U),l,M);k(V)},deposit:async U=>{const M=await A.deposit(g.toLamports(U),l);k(M)},borrow:async U=>{const M=await A.borrow(g.toLamports(U),l);k(M)}},x=(U,M)=>{const V=U.plus(M);return{baseApy:{base:`${U.toFixed(2)}%`,isPositive:U.gte(0)},rewardApy:M.eq(0)?void 0:{base:formatPercentage(M),isPositive:M.gte(0)},totalApy:{base:formatPercentage(V),isPositive:V.gte(0)}}},{reserveConfig:{liquidationThreshold:S,borrowLimit:v,depositLimit:R,loanToValue:D},totalBorrowed:$,supplyApyPct:z,borrowApyPct:I,supplyRewardApyPct:F,borrowRewardApyPct:W,borrowFeePct:K,totalDeposited:G,marketCap:ee,maxInterestRatePct:Y,optimalInterestRatePct:Q,optimalUtilizationPct:te}=O,ne=getLPTokenAddress(w),ie=U=>lodashExports.compact(O.rawFarms.filter(({reserveCoinAddress:M,rewardCondition:V})=>M===w&&V===U).map(({rewardCoinAddress:M})=>t[M]));return{coinAddress:w,id:w,rawReserve:O,meta:{loanToValue:`${D}%`,loanToValuePct:D,liquidationThreshold:`${S}%`,lpCoinAddress:ne,coinAddress:w,borrowLimit:g.toAmountStr(v),depositLimit:g.toAmountStr(R),maxInterestRatePct:Y,optimalInterestRatePct:Q,borrowFeePct:K.toNumber(),optimalUtilizationPct:te},status:{marketCap:g.lamportsToBalance(ee)},asset:g,deposit:{...x(z,F),rewardAssets:ie("DepositFarming"),balance:g.lamportsToBalance(G)},borrow:{...x(I,W),rewardAssets:ie("BorrowFarming"),balance:g.lamportsToBalance($)},actions:T}}),[u,t,l,k]),b=reactExports.useMemo(()=>y.map(({coinAddress:w,status:O,...g})=>{var $,z;const A=g.asset,T=A.lamportsToBalance((($=s[w])==null?void 0:$.amount)??d(0)),x=(l==null?void 0:l.getDepositedLamports(w))??d(0),S=(l==null?void 0:l.getBorrowedLamports(w))??d(0),v=(l==null?void 0:l.getWithdrawableAmount(w))??d(0),R=(l==null?void 0:l.getBorrowableAmount(w))??d(0),D=(l==null?void 0:l.getDepositableAmount(w,T.lamports))??d(0);return{...g,wallet:T,summary:{marketCap:O.marketCap,ofUser:{totalMarginValueUSD:l!=null&&l.totalMarginUSD?`$${(z=l==null?void 0:l.totalMarginUSD)==null?void 0:z.toFixed(3)}`:""}},deposit:{...g.deposit,ofUser:{deposited:A.lamportsToBalance(x),withdrawable:A.toAmount(v),depositable:A.toBalance(D)}},borrow:{...g.borrow,ofUser:{available:A.toBalance(R),borrowed:A.lamportsToBalance(S)}}}}).sort((w,O)=>w.asset.symbol.localeCompare(O.asset.symbol)),[y,l,s]),m=o.list.map(w=>{const{availableMarginUSD:O,totalDepositedUSD:g,totalLoanUSD:A,loanList:T,borrowPower:x,depositList:S,riskFactorPct:v,totalApyPct:R}=w;return{...w,summary:{apy:R,isApyPositive:R>0,depositedValueUSD:`$${g.toFixed(2)}`,borrowedValueUSD:`$${A.toFixed(2)}`,availableMarginUSD:`$${O.lt(0)?0:O.toFixed(2)}`,borrowingPowerPct:x,loans:T,deposits:S,riskFactorPct:v}}});return{reserves:b,refreshReserves:f,reservesLoading:p,reservesEmpty:h,tokensLoading:e,profile:{...o,list:m,currentProfile:m.find(w=>w.name===o.currentProfileId)}}},LendingAppCtx=reactExports.createContext({reserves:[],reservesEmpty:!0,refreshReserves:lodashExports.noop,reservesLoading:!0,tokensLoading:!0,profile:{initialized:!1,currentProfileId:"",currentProfile:void 0,currentProfileLoading:!1,list:[],initProfile:()=>Promise.resolve(),changeProfile:lodashExports.noop,refreshProfile:lodashExports.noop}}),LendingAppProvider=({children:i})=>{const{useStore:n}=useDappContext(),r=n("wallets.currentAccount.address"),t=useLendingAppImpl(r);return jsxRuntimeExports.jsx(LendingAppCtx.Provider,{value:t,children:i})},useLendingApp=()=>reactExports.useContext(LendingAppCtx),useReserveById=i=>{const{reserves:n,reservesLoading:r,reservesEmpty:t}=useLendingApp();return reactExports.useMemo(()=>({reserve:n.find(e=>e.id===i),reservesLoading:r,reserveEmpty:t}),[i,n,r,t])},title$1="_title_1agxa_12",tip="_tip_1agxa_16",initProfile="_initProfile_1agxa_20",initBtn="_initBtn_1agxa_24",divider="_divider_1agxa_28",itemText="_itemText_1agxa_32",itemTitle="_itemTitle_1agxa_40",itemChip="_itemChip_1agxa_44",userLogo="_userLogo_1agxa_48",style={title:title$1,tip,initProfile,initBtn,divider,itemText,itemTitle,itemChip,userLogo};var bind={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var s=typeof o;if(s==="string"||s==="number")t.push(this&&this[o]||o);else if(Array.isArray(o))t.push(r.apply(this,o));else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){t.push(o.toString());continue}for(var a in o)n.call(o,a)&&o[a]&&t.push(this&&this[a]||a)}}}return t.join(" ")}i.exports?(r.default=r,i.exports=r):window.classNames=r})()})(bind);var bindExports=bind.exports;const classNames=getDefaultExportFromCjs(bindExports),styles$5={"text-color--c1":"_text-color--c1_n7ani_12","text-color--c2":"_text-color--c2_n7ani_15","text-color--c3":"_text-color--c3_n7ani_18","text-color--c4":"_text-color--c4_n7ani_21","text-color--info":"_text-color--info_n7ani_24","text-color--success":"_text-color--success_n7ani_27","text-color--warning":"_text-color--warning_n7ani_30","text-color--critical":"_text-color--critical_n7ani_33","text-size--h1":"_text-size--h1_n7ani_36","text-size--h2":"_text-size--h2_n7ani_39","text-size--h3":"_text-size--h3_n7ani_42","text-size--h4":"_text-size--h4_n7ani_45","text-size--h5":"_text-size--h5_n7ani_48","text-bold":"_text-bold_n7ani_51"},cx$7=classNames.bind(styles$5),Txt=({style:i,children:n,className:r,bold:t,...e})=>{const o=getColorClass(e),s=getSizeCls(e);return jsxRuntimeExports.jsx("span",{className:cx$7(o,s,r,{"text-bold":t}),style:{...i},...lodashExports.omit(e,TxtBasePropsKeys),children:n})},getColorClass=i=>{const n=Object.keys(i);let r="";for(const t of n)/c[1-4]|info|success|warning|critical/.test(t)&&i[t]&&(r=`text-color--${t}`);return r??"text-color--c1"},getSizeCls=i=>{const n=Object.keys(i);let r="";for(const t of n)/h[1-5]/.test(t)&&i[t]&&(r=`text-size--${t}`);return r??"text-size--h2"},TxtBasePropsKeys=["h1","h2","h3","h4","h5","c1","c2","c3","c4","info","success","warning","critical","bigger","smaller","bold"],withEnoughGas=i=>n=>{var f;const{useStore:r}=useDappContext(),{t}=useTranslation(),[e,o]=reactExports.useState(!1),s=r("coin.nativeCoin"),a=r(`coin.info.${s}`),l=r(`coin.balance.${s}`),c=(f=d((l==null?void 0:l.amount)||0))==null?void 0:f.greaterThan(MAX_GAS_PER_TX),u=()=>{var p;c?(p=n==null?void 0:n.onClick)==null||p.call(n):o(!0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(i,{...n,onClick:u}),jsxRuntimeExports.jsx(Snackbar,{open:e,autoHideDuration:6e3,onClose:()=>o(!1),children:jsxRuntimeExports.jsx(Alert,{onClose:()=>o(!1),severity:"error",sx:{width:"100%"},children:t(`You need to have 0.05 ${a==null?void 0:a.symbol} at least to send transaction.`)})})]})},ProfileMenu=({containerStyle:i,anchorEl:n,handleClose:r})=>{const{t}=useTranslation(),e=!!n,{list:o,currentProfileId:s,changeProfile:a,initProfile:l}=useLendingApp().profile;return jsxRuntimeExports.jsxs(Menu,{style:i,open:e,anchorEl:n,onClose:r,PaperProps:{style:{width:"320px",backgroundColor:"var(--brand-bg-dark)",color:"var(--input-text)",padding:8,marginTop:8}},children:[jsxRuntimeExports.jsx("div",{className:style.title,children:jsxRuntimeExports.jsx(Txt,{h4:!0,children:t("Account Center")})}),jsxRuntimeExports.jsx("div",{className:style.tip,children:jsxRuntimeExports.jsx(Txt,{c2:!0,children:t("Multiple accounts can help you spread risk.")})}),jsxRuntimeExports.jsx("div",{className:style.tip,children:jsxRuntimeExports.jsxs(Txt,{c2:!0,children:[t("Go to "),jsxRuntimeExports.jsx("a",{href:"https://app.ariesmarkets.xyz/",target:"_blank",rel:"noreferrer",children:"Aries Market"}),t(" to create sub account")]})}),jsxRuntimeExports.jsx(Divider,{className:style.divider}),o.length===0?jsxRuntimeExports.jsxs("div",{className:style.initProfile,children:[jsxRuntimeExports.jsx(Txt,{c2:!0,children:t`You have no account on Aries now,`}),jsxRuntimeExports.jsx(Txt,{c2:!0,children:t`click to create your first account!`}),jsxRuntimeExports.jsx(InitProfileButton,{color:"primary",fullWidth:!0,onClick:()=>l("Main Account"),className:style.initBtn,children:t`Initialize Account`})]}):jsxRuntimeExports.jsx("div",{className:style.profileList,children:o.map((c,u,f)=>{const p=f.length-1;return jsxRuntimeExports.jsx("div",{id:p===u?"lastAddressInList":"",children:jsxRuntimeExports.jsxs(MenuItem,{sx:{},onClick:()=>{a(c.name),r()},children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:c.name===s&&jsxRuntimeExports.jsx(CheckIcon,{})}),jsxRuntimeExports.jsx("div",{className:style.userLogo,children:jsxRuntimeExports.jsx(IdentificationIcon,{address:c.address,size:34})}),jsxRuntimeExports.jsx("div",{className:style.itemTitle,children:c.name})]})},c.address)})})]})},InitProfileButton=withEnoughGas(MuiButton),ProfileSelect=({showLoading:i=!0,style:n})=>{const[r,t]=reactExports.useState(null),{currentProfileId:e,initialized:o,currentProfileLoading:s}=useLendingApp().profile;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.profile,onClick:a=>t(a.currentTarget),style:n,children:[jsxRuntimeExports.jsx(Txt,{h3:!0,c1:!0,children:o?e:"No Account"}),jsxRuntimeExports.jsx("div",{style:{width:24,height:24},children:s&&i&&!o?jsxRuntimeExports.jsx(CircularProgress,{style:{width:24,height:24}}):jsxRuntimeExports.jsx(ConnectIcon,{})})]}),jsxRuntimeExports.jsx(ProfileMenu,{anchorEl:r,handleClose:()=>{t(null)}})]})},container$1="_container_1q596_12",bar="_bar_1q596_22",mymove="_mymove_1q596_1",styles$4={container:container$1,bar,mymove},ProgressBar=({pct:i,align:n="left",style:r})=>{const[t,e]=reactExports.useState(0);return reactExports.useEffect(()=>{e(i)},[i]),jsxRuntimeExports.jsx("div",{style:{justifyContent:n==="left"?"flex-start":n==="right"?"flex-end":"center",...r},className:styles$4.container,children:jsxRuntimeExports.jsx("div",{style:{width:`${t}%`},className:styles$4.bar})})};function TokenIcon$1({asset:i,size:n=20,style:r,className:t=""}){return i?jsxRuntimeExports.jsx("img",{style:{width:n,height:n,backgroundColor:i.symbol==="APT"?"#ccc":void 0,borderRadius:"50%",...r},src:i.logoURI,alt:i.symbol,className:t}):null}const Account=()=>{const{currentProfile:i,currentProfileLoading:n}=useLendingApp().profile,r=useNavigate(),t=(i==null?void 0:i.summary)??{apy:0,isApyPositive:!0,depositedValueUSD:"-",borrowedValueUSD:"-",availableMarginUSD:"-",borrowingPowerPct:0,deposits:[],loans:[],rewards:[],riskFactorPct:0};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Section,{title:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[jsxRuntimeExports.jsx(Txt,{h4:!0,children:"Account"}),n&&jsxRuntimeExports.jsx(CircularProgress,{style:{width:18,height:18}})]}),headerRight:jsxRuntimeExports.jsx(ProfileSelect,{showLoading:!1,style:{background:"transparent",padding:0}}),style:{position:"relative"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,padding:0,margin:2,display:"flex"},children:[{title:"APY",value:t.apy,critical:!t.isApyPositive},{title:"Borrowed",value:`${t.borrowedValueUSD}`,critical:!0},{title:"Risk Factor",value:t.riskFactorPct,critical:t.riskFactorPct>50}].map(({title:e,value:o,critical:s})=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid #141929",borderRadius:8,flex:1,margin:2,padding:8,justifyContent:"center"},children:[jsxRuntimeExports.jsx(Txt,{h1:!0,c2:!0,children:e}),jsxRuntimeExports.jsx(Txt,{h4:!0,success:!0,critical:s,children:lodashExports.isNumber(o)?`${o.toFixed(2)}%`:o})]},e))}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:"Borrowing Power"}),jsxRuntimeExports.jsxs(Txt,{h3:!0,critical:!0,success:t.borrowingPowerPct>50,children:[t.borrowingPowerPct,"%"]})]}),jsxRuntimeExports.jsx(ProgressBar,{pct:t.borrowingPowerPct,align:"left"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[{title:"Available",value:t.availableMarginUSD},{title:"Risk Factor",value:`${t.riskFactorPct}%`,critical:t.riskFactorPct>50}].map(({title:e,value:o,critical:s})=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Txt,{c2:!0,h2:!0,style:{marginBottom:4},children:e}),jsxRuntimeExports.jsx(Txt,{h3:!0,critical:s,children:o})]},e))})]}),jsxRuntimeExports.jsx(Section,{title:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[jsxRuntimeExports.jsx(Txt,{h4:!0,children:"Deposits"}),n&&jsxRuntimeExports.jsx(CircularProgress,{style:{width:18,height:18}})]}),containerStyle:{marginTop:24},style:{padding:0},headerRight:t.depositedValueUSD,children:t.deposits.length>0?t.deposits.map(e=>jsxRuntimeExports.jsxs("div",{onClick:()=>{r(`${DAPPS_ARIES_RESERVE}/${e.asset.id}`)},className:styles$7.assetItem,children:[jsxRuntimeExports.jsx(TokenIcon$1,{size:34,asset:e.asset}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Txt,{h3:!0,children:e.asset.symbol})}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:e.asset.priceUSD})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.assetAmount,children:[jsxRuntimeExports.jsx(Txt,{h3:!0,children:e.amount}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:e.valueUSDStr})]})]})]},e.asset.id)):jsxRuntimeExports.jsx("div",{style:{margin:16},children:jsxRuntimeExports.jsx(Txt,{h3:!0,children:"No Deposit"})})}),jsxRuntimeExports.jsx(Section,{title:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[jsxRuntimeExports.jsx(Txt,{h4:!0,children:"Borrow"}),n&&jsxRuntimeExports.jsx(CircularProgress,{style:{width:18,height:18}})]}),containerStyle:{marginTop:24},style:{padding:0},headerRight:t.borrowedValueUSD,children:t.loans.length>0?t.loans.map(e=>jsxRuntimeExports.jsxs("div",{onClick:()=>{r(`${DAPPS_ARIES_RESERVE}/${e.asset.id}`)},className:styles$7.assetItem,children:[jsxRuntimeExports.jsx(TokenIcon$1,{size:34,asset:e.asset}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Txt,{h3:!0,children:e.asset.symbol})}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:e.asset.priceUSD})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.assetAmount,children:[jsxRuntimeExports.jsx(Txt,{h3:!0,children:e.amount}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:e.valueUSDStr})]})]})]},e.asset.id)):jsxRuntimeExports.jsx("div",{style:{margin:16},children:jsxRuntimeExports.jsx(Txt,{children:"No Borrow"})})})]})},Section=({title:i,children:n,style:r,headerRight:t,containerStyle:e})=>jsxRuntimeExports.jsxs("div",{style:{...e,borderRadius:8,border:"1px solid #141929"},children:[jsxRuntimeExports.jsxs("div",{className:styles$7.sectionHeader,children:[lodashExports.isString(i)?jsxRuntimeExports.jsx(Txt,{h4:!0,bold:!0,children:i}):i,jsxRuntimeExports.jsx(Txt,{h4:!0,children:t})]}),jsxRuntimeExports.jsx("div",{style:{padding:16,...r},children:n})]}),tabsWrapper="_tabsWrapper_7pcr7_44",styles$3={"search-bar":"_search-bar_7pcr7_12","skeleton-item":"_skeleton-item_7pcr7_28","skeleton-header":"_skeleton-header_7pcr7_34","skeleton-content__li":"_skeleton-content__li_7pcr7_38",tabsWrapper},styles$2={"asset-card-container":"_asset-card-container_tfa18_12","asset-card-header":"_asset-card-header_tfa18_22","asset-card-header__icon":"_asset-card-header__icon_tfa18_27","asset-card-header__info":"_asset-card-header__info_tfa18_32","asset-card-header__info-price":"_asset-card-header__info-price_tfa18_36"},CssPrefix$2="asset-card",cx$6=classNames.bind(styles$2),Card=({titleIcon:i,children:n,title:r,subTitle:t,onClick:e})=>jsxRuntimeExports.jsxs("div",{onClick:e,className:cx$6(`${CssPrefix$2}-container`),children:[jsxRuntimeExports.jsx(Header,{icon:i,title:r,subTitle:t}),n]}),Header=({icon:i,title:n,subTitle:r})=>jsxRuntimeExports.jsxs("div",{className:cx$6(`${CssPrefix$2}-header`),children:[jsxRuntimeExports.jsx("div",{className:cx$6(`${CssPrefix$2}-header__icon`),children:i}),jsxRuntimeExports.jsxs("div",{className:cx$6(`${CssPrefix$2}-header__info`),children:[jsxRuntimeExports.jsx(Txt,{h4:!0,bold:!0,children:n}),r?jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:r}):null]})]}),InfoItem=({title:i,subTitle:n,color:r})=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[jsxRuntimeExports.jsx(Txt,{c2:!0,h3:!0,children:i}),lodashExports.isString(n)?jsxRuntimeExports.jsx(Txt,{style:{textAlign:"right"},success:r==="success",critical:r==="critical",h3:!0,children:n}):n]}),useSearchList=(i,n)=>{const[r,t]=reactExports.useState("");return{filteredList:reactExports.useMemo(()=>{if(r==="")return i;const o=r.toLowerCase();return i.filter(s=>n(s).some(a=>{const l=a.toLowerCase();return l.includes(o)||o.includes(l)}))},[i,r]),search:r,setSearch:t}},Assets=()=>{const i=useNavigate(),{reserves:n,reservesLoading:r,tokensLoading:t}=useLendingApp(),{filteredList:e,search:o,setSearch:s}=useSearchList(n,l=>[l.asset.name,l.asset.symbol]);if(r||t)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("ul",{className:styles$3.skeleton,children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Skeleton,{width:"100%",height:74})},-1),arrayOfNumbers(5).map(l=>jsxRuntimeExports.jsxs("li",{className:styles$3["skeleton-item"],style:{},children:[jsxRuntimeExports.jsxs("div",{style:{},className:styles$3["skeleton-header"],children:[jsxRuntimeExports.jsx(Skeleton,{variant:"circular",width:44,height:44}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Skeleton,{width:50,height:28}),jsxRuntimeExports.jsx(Skeleton,{width:50,height:16})]})]}),arrayOfNumbers(5).map(c=>jsxRuntimeExports.jsxs("div",{className:styles$3["skeleton-content__li"],children:[jsxRuntimeExports.jsx(Skeleton,{width:200,height:44}),jsxRuntimeExports.jsx(Skeleton,{width:60,height:44})]},c))]},l))]})});const a=e.map(l=>{var c,u,f,p,h,k,y,b,m,w,O,g,A,T,x,S,v,R;return{onClick:()=>{i(`${DAPPS_ARIES_RESERVE}/${l.asset.id}`)},icon:jsxRuntimeExports.jsx(TokenIcon$1,{asset:l.asset,size:36}),title:l.asset.symbol,subTitle:l.asset.priceUSD,info:[{title:"LTV:",subTitle:l.meta.loanToValue},{title:"Deposit APY:",subTitle:l.deposit.totalApy.base,color:l.borrow.totalApy.isPositive?"success":"critical"},{title:"Market Size:",subTitle:l.deposit.balance.valueUSD},{title:"Borrow APY:",subTitle:l.borrow.totalApy.base,color:l.borrow.totalApy.isPositive?"critical":"success"},{title:"Total Borrowed:",subTitle:l.borrow.balance.valueUSD},{title:"Your Deposits:",subTitle:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[jsxRuntimeExports.jsx(Txt,{h3:!0,children:`${(f=(u=(c=l.deposit.ofUser)==null?void 0:c.deposited)==null?void 0:u.amountNum)==null?void 0:f.toFixed(2)} ${l.asset.symbol}`}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:(h=(p=l.deposit.ofUser)==null?void 0:p.deposited)==null?void 0:h.valueUSD})]}),hidden:!((y=(k=l.deposit.ofUser)==null?void 0:k.deposited)!=null&&y.amountNum)},{title:"Your Loans:",subTitle:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[jsxRuntimeExports.jsx(Txt,{h3:!0,children:`${(w=(m=(b=l.borrow.ofUser)==null?void 0:b.borrowed)==null?void 0:m.amountNum)==null?void 0:w.toFixed(2)} ${l.asset.symbol}`}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:(g=(O=l.borrow.ofUser)==null?void 0:O.borrowed)==null?void 0:g.valueUSD})]}),hidden:!((T=(A=l.borrow.ofUser)==null?void 0:A.borrowed)!=null&&T.amountNum)},{title:"Reward Deposit APY:",subTitle:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[jsxRuntimeExports.jsx(Txt,{h3:!0,success:!0,children:(x=l.deposit.rewardApy)==null?void 0:x.base}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:`${l.deposit.rewardAssets.length} reward assets`})]}),hidden:!((S=l.deposit.rewardApy)!=null&&S.base)},{title:"Reward Borrow APY:",subTitle:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[jsxRuntimeExports.jsx(Txt,{h3:!0,success:!0,children:(v=l.borrow.rewardApy)==null?void 0:v.base}),jsxRuntimeExports.jsx(Txt,{h2:!0,c2:!0,children:`${l.borrow.rewardAssets.length} reward assets`})]}),hidden:!((R=l.borrow.rewardApy)!=null&&R.base)}]}});return jsxRuntimeExports.jsxs("div",{className:styles$3["reserves-container"],children:[jsxRuntimeExports.jsx("input",{value:o,onChange:l=>s(l.target.value),placeholder:"Search",style:{marginBottom:12},className:styles$3["search-bar"]}),a.map((l,c)=>{const{onClick:u,title:f,subTitle:p,icon:h,info:k}=l;return jsxRuntimeExports.jsx(Card,{title:f,subTitle:p,titleIcon:h,onClick:u,children:k.filter(y=>!y.hidden).map(({title:y,color:b,subTitle:m},w)=>jsxRuntimeExports.jsx(InfoItem,{title:y,color:b,subTitle:m},y+w))},f+c)})]})},container="_container_8c8y1_12",button="_button_8c8y1_20",image="_image_8c8y1_29",close="_close_8c8y1_38",content="_content_8c8y1_41",title="_title_8c8y1_44",desc="_desc_8c8y1_48",styles$1={container,button,image,close,content,title,desc},DappHeader=i=>{const{title:n,description:r,image:t,onBack:e,onClose:o,hasBack:s=!1,hasClose:a=!0}=i,l=useNavigate(),c=reactExports.useCallback(()=>{e?e():l(-1)},[e,l]),u=reactExports.useCallback(()=>{o?o():l(DAPPS)},[o,l]);return jsxRuntimeExports.jsxs("div",{className:styles$1.container,children:[s&&jsxRuntimeExports.jsx("button",{onClick:c,className:cn(styles$1.button,styles$1.back),children:jsxRuntimeExports.jsx(SvgArrowBack,{})}),jsxRuntimeExports.jsx("div",{className:styles$1.image,children:jsxRuntimeExports.jsx("img",{src:t,alt:"Topaz"})}),jsxRuntimeExports.jsxs("div",{className:styles$1.content,children:[jsxRuntimeExports.jsx("div",{className:styles$1.title,children:n}),r&&jsxRuntimeExports.jsx("div",{className:styles$1.desc,children:r})]}),a&&jsxRuntimeExports.jsx("button",{onClick:u,className:cn(styles$1.button,styles$1.close),children:jsxRuntimeExports.jsx(SvgClose,{width:18,height:18})})]})},FirstPageWrapper=({children:i,hasBack:n=!1,onBack:r})=>jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(DappHeader,{title:"Aries Market",description:jsxRuntimeExports.jsx(Txt,{h1:!0,style:{letterSpacing:"0"},children:"Lend, Borrow and Margin Trade"}),image:AriesMarketIcon,hasBack:n,onBack:r}),i]})});var TabKey=(i=>(i[i.ASSETS=0]="ASSETS",i[i.ACCOUNT=1]="ACCOUNT",i))(TabKey||{});const AssetsIndex=({initialTab:i=0})=>{const n=useNavigate(),[r,t]=reactExports.useState(i);return jsxRuntimeExports.jsxs(FirstPageWrapper,{hasBack:!0,onBack:()=>{n(DAPPS)},children:[jsxRuntimeExports.jsx("div",{className:styles$3.tabsWrapper,children:jsxRuntimeExports.jsxs(Tabs,{value:r,onChange:(e,o)=>t(o),"aria-label":"NFT Tabs",variant:"fullWidth",children:[jsxRuntimeExports.jsx(Tab,{className:styles$3.tab,label:"Assets"}),jsxRuntimeExports.jsx(Tab,{className:styles$3.tab,label:"Account"})]})}),jsxRuntimeExports.jsx(TabPanel,{value:r,index:0,children:jsxRuntimeExports.jsx(Assets,{})}),jsxRuntimeExports.jsx(TabPanel,{value:r,index:1,children:jsxRuntimeExports.jsx(Account,{})})]})},styles={"reserve-actions-header":"_reserve-actions-header_dzefb_12","reserve-actions-header__icon":"_reserve-actions-header__icon_dzefb_16","reserve-actions-content__extra":"_reserve-actions-content__extra_dzefb_19","reserve-actions-footer":"_reserve-actions-footer_dzefb_23","reserve-actions-footer__fold":"_reserve-actions-footer__fold_dzefb_26","reserve-actions-footer__fold-divider":"_reserve-actions-footer__fold-divider_dzefb_32","reserve-actions-footer__fold-title":"_reserve-actions-footer__fold-title_dzefb_37","reserve-actions-footer__faqs-item":"_reserve-actions-footer__faqs-item_dzefb_45","reserve-actions__max-button":"_reserve-actions__max-button_dzefb_50","reserve-actions__half-button":"_reserve-actions__half-button_dzefb_50","reserve-actions__warning-wrap":"_reserve-actions__warning-wrap_dzefb_61","reserve-actions__warning-container":"_reserve-actions__warning-container_dzefb_64"},CssPrefix$1="reserve-actions",cx$5=classNames.bind(styles),ConfirmButtonInner=({onClick:i,disabled:n,reason:r,title:t})=>{var b;const{useStore:e}=useDappContext(),[o,s]=reactExports.useState(!1),{t:a}=useTranslation(),{initProfile:l,initialized:c}=useLendingApp().profile,u=e("coin.isReady"),f=e("coin.nativeCoin"),p=e(`coin.info.${f}`),h=e(`coin.balance.${f}`),k=(b=d((h==null?void 0:h.amount)||0))==null?void 0:b.greaterThan(MAX_GAS_PER_TX),y=()=>{if(!k)s(!0);else return c?i():l("Main Account")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MuiButton,{onClick:y,disabled:!!(u&&c&&n),style:{background:"",width:"100%"},children:c?n?r??a("Please input a valid number"):t:a(`Create Profile to ${t}!`)}),jsxRuntimeExports.jsx(Snackbar,{open:o,autoHideDuration:6e3,onClose:()=>s(!1),children:jsxRuntimeExports.jsx(Alert,{onClose:()=>s(!1),severity:"error",sx:{width:"100%"},children:a(`You need to have 0.1 ${p==null?void 0:p.symbol} at least to send transaction.`)})})]})},ConfirmButton=withEnoughGas(ConfirmButtonInner),MaxValueRow=({max:i,maxTitle:n,asset:r,onSetValue:t})=>{const{t:e}=useTranslation(),o=i===0;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[jsxRuntimeExports.jsxs(Txt,{c3:!0,h2:!0,children:[n??e`Max`,": ",d(i).toString()??"-"," ",r.symbol??"-"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(MuiButton,{variant:"secondary",color:"secondary",onClick:()=>{t(d(i/2),!1)},disabled:o,className:cx$5(`${CssPrefix$1}__half-button`),children:e`half`}),jsxRuntimeExports.jsx(MuiButton,{variant:"secondary",color:"secondary",onClick:()=>{t(d(i),!0)},disabled:o,className:cx$5(`${CssPrefix$1}__max-button`),children:e`max`})]})]})},useCommonMeta=i=>{var t;const{reserve:n}=useReserveById(i),{t:r}=useTranslation();return n?[{label:r`Wallet`,value:((t=n.wallet)==null?void 0:t.amount)??"-",tooltip:void 0}]:[]},Warning=({children:i})=>jsxRuntimeExports.jsx("div",{className:cx$5(`${CssPrefix$1}__warning-wrap`),children:jsxRuntimeExports.jsx("div",{className:cx$5(`${CssPrefix$1}__warning-container`),children:i})}),CssPrefix="reserve-actions",cx$4=classNames.bind(styles),ExtraConfig=({items:i,reserveId:n})=>{const r=useCommonMeta(n);return jsxRuntimeExports.jsx("div",{className:cx$4(`${CssPrefix}-content__extra`),children:[...i,...r].map(({label:t,value:e})=>jsxRuntimeExports.jsxs("div",{className:cx$4(`${CssPrefix}-footer__faqs-item`),children:[jsxRuntimeExports.jsx(Txt,{h3:!0,c2:!0,children:t}),jsxRuntimeExports.jsx(Txt,{h3:!0,children:e})]},t))})},TabView=({pages:i,activeIndex:n,onChange:r,tabStyle:t,containerStyle:e={marginTop:16},initPage:o})=>{var f,p;const[s,a]=reactExports.useState(()=>o?i.findIndex(h=>h.title===o):0),l=n??s,c=h=>{lodashExports.isNil(n)?a(h):r==null||r(h)},u=reactExports.useMemo(()=>({changeTab:c}),[]);return jsxRuntimeExports.jsxs(TabContext.Provider,{value:u,children:[jsxRuntimeExports.jsx(StyledTabs,{value:l,onChange:(h,k)=>{c(k)},TabIndicatorProps:{style:{backgroundColor:((f=i.find((h,k)=>k===l))==null?void 0:f.color)??"#946bec"}},children:i.map(({title:h},k)=>jsxRuntimeExports.jsx(Tab,{label:jsxRuntimeExports.jsx(Txt,{h3:!0,style:{...t},c1:!0,c2:k!==l,children:h})},h))}),jsxRuntimeExports.jsx("div",{style:e,children:(p=i.find((h,k)=>k===l))==null?void 0:p.view})]})},TabContext=React99.createContext({changeTab:lodashExports.noop}),useTabViewCtx=()=>reactExports.useContext(TabContext),StyledTabs=styled(Tabs)`
  .MuiTabs-root {
    margin-right: 0;
    padding: 0;
    text-transform: none !important;
    width: 100%;
  }

  .MuiTabs-fixed {
    height: 52px;
    border-bottom: 1px solid #14192a;
  }
  .MuiTabs-scroller {
    height: 52px;
  }
  .MuiTabs-flexContainer {
    width: 100%;
  }
  .MuiButtonBase-root {
    flex: 1;
    text-transform: none !important;
  }
`,useTokenAmountInput=(i,n,r,t)=>{const[e,o]=reactExports.useState("coin"),[s,a]=reactExports.useState(d(0)),l={type:e,amount:r?e==="coin"?r:r.mul(n):s,isEmpty:(r||s).eq(0)},c=({type:g,amount:A})=>{if(o(g),r){const T=g==="coin"?A:n.eq(0)?d(0):A.div(n);t==null||t(T)}else a(A)},u=reactExports.useMemo(()=>l.type==="coin"?l.amount:n.eq(0)?d(0):l.amount.div(n),[l.type,l.amount]),f=reactExports.useMemo(()=>l.type==="usd"?l.amount:l.amount.mul(n),[l.type,l.amount]),p=reactExports.useMemo(()=>i.mul(n),[i,n]),h=Math.round(100*(i.lte(0)?0:u.div(i).toNumber())),k=g=>{l.type==="coin"?c({type:"coin",amount:i.mul(g/100)}):c({type:"usd",amount:p.mul(g/100)})},y=()=>{k(100)},b=g=>{c({type:"usd",amount:d(g)})},m=g=>{c({type:"coin",amount:d(g)})},w=g=>{c(g==="coin"?{type:"coin",amount:u}:{type:"usd",amount:f})},O=()=>{c({type:l.type,amount:d(0)})};return reactExports.useMemo(()=>({mode:l.type,valueByCoin:u,valueByUSD:f,pct:h,setMax:y,setPct:k,setValueByCoin:m,setValueByUSD:b,changeMode:w,clear:O}),[l,i,n])},TokenInputCtx=({children:i,onAmountChange:n,value:r,maxAmount:t,tokenInfo:e})=>{const o=d(t),s=useTokenAmountInput(o,d(e.priceUSDNum),r,n);reactExports.useEffect(()=>{n==null||n(s.valueByCoin)},[s.valueByCoin.toString()]);const a=reactExports.useMemo(()=>({...s,tokenPrice:d(e.priceUSDNum),tokenInfo:e,maxAmount:o}),[s,e.priceUSDNum,o]);return jsxRuntimeExports.jsx(TokenInputContext.Provider,{value:a,children:i})},TokenInputContext=React99.createContext({}),useTokenInputContext=()=>reactExports.useContext(TokenInputContext),SvgSwitchLeftOutlined=i=>reactExports.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"SwitchLeftOutlinedIcon",...i},reactExports.createElement("path",{d:"M8.5 8.62v6.76L5.12 12 8.5 8.62M10 5l-7 7 7 7V5zm4 0v14l7-7-7-7z"})),encodeNumber=i=>i.toString(),numberHelper={decode:i=>Number(i),encode:encodeNumber,lt:(i,n)=>i<n,gt:(i,n)=>i>n},BigHelper={decode:i=>new Decimal(i),encode:i=>i.toFixed(),lt:(i,n)=>i.lt(n),gt:(i,n)=>i.gt(n)},getNumberTypeHelper=i=>i==="big"?BigHelper:numberHelper,intermediateInput=/^-?\d+\.0*$/,numberStringToFixed=(i,n)=>{const r=RegExp(String.raw`^(-?\d+)((\.\d{1,${n}})\d*)?$`),t=i.match(r);if(!t)return"";const e=t[1],o=t[3]??"";return e+o};function useParseNumberInput({value:i,onChange:n,min:r,max:t,stringify:e,precision:o=6,valueType:s}){const a=reactExports.useMemo(()=>getNumberTypeHelper(s),[s]);e&&(a.encode=e);const[l,c]=reactExports.useState(),[u,f]=reactExports.useState(),p=typeof r=="string"?a.decode(r):r,h=typeof t=="string"?a.decode(t):t,k=b=>{if(b===""){n(-1);return}if(intermediateInput.test(b)){c(b);return}try{const m=a.decode(b);if(Number.isNaN(m))return;p&&a.lt(m,p)?n(p):h&&a.gt(m,h)?n(h):n(m)}catch(m){console.warn(`Cannot parse input number ${b}: ${m}`),f(m instanceof Error?m:Error(String(m)))}};reactExports.useEffect(()=>{l&&c(void 0),u&&f(void 0)},[u,i]);const y=i.toString()==="-1";return{value:lodashExports.isUndefined(i)||y?"":l??numberStringToFixed(a.encode(i),o),onChange:k,error:u}}function NumeralInput({value:i,onChange:n,max:r,min:t,valueType:e,precision:o,...s}){const{value:a,onChange:l,error:c}=useParseNumberInput({value:i,onChange:n,min:t,max:r,valueType:e,precision:o});return jsxRuntimeExports.jsx(InputNumber,{value:a,onChange:l,error:c==null?void 0:c.message,...s})}const Slider$1=({value:i,onChange:n,min:r=0,max:t=100,marks:e=!1,style:o,disabled:s})=>jsxRuntimeExports.jsx(StyledSlider,{value:i,min:r,max:t,onChange:(a,l)=>{n(l)},components:{Thumb:a=>jsxRuntimeExports.jsx("span",{className:"MuiSlider-thumb",...a})},marks:e,style:{...o},disabled:s}),StyledSlider=styled(SliderImpl)`
  .MuiSlider-root {
    padding: 1px 2px !important;
    height: 6px !important;
  }

  .MuiSlider-rail {
    background-color: #43395b !important;
    height: 6px;
    border-radius: 6px;
    margin-right: 1px;
  }

  .MuiSlider-track {
    background: linear-gradient(90deg, #6e42ca 0%, #8d29c1 100%);
    border: none !important;
    margin-left: 1px;
    .MuiSlider-markLabel {
      background-color: red;
    }
  }

  .MuiSlider-thumb {
    position: absolute;
    width: 16px;
    height: 16px;
    right: 81px;
    background: #ffffff;
    box-shadow: 0px 0px 0px 1px rgba(7, 7, 29, 0.03), 0px 1px 10px -2px rgba(0, 0, 0, 0.12) !important;
    border-radius: 8px;
    margin-left: -8px;
    margin-top: -5px;
    display: flex;
    align-items: center;
  }

  .MuiSlider-mark {
    width: 6px !important;
    height: 6px !important;
    border-radius: 20px !important;
    background-color: #ffffff !important;
  }

  .MuiSlider-markLabel {
    color: #adb8d8 !important;
    top: 32px;
    margin-left: 3px;
  }

  .MuiSlider-thumb-line {
    width: 8px;
    height: 0px;
    left: 7px;
    top: 14px;

    border: 1px solid #ffffff;
    transform: rotate(-90deg);
  }
`,Input=({label:i,name:n,autoFocus:r,placeholder:t,precision:e=6})=>{const{maxAmount:o,valueByCoin:s,valueByUSD:a,mode:l,tokenInfo:c,setValueByCoin:u,setValueByUSD:f}=useTokenInputContext(),p=l==="usd",h=p?a:s,k=p?f:u,y=o;return jsxRuntimeExports.jsx(NumeralInput,{value:h,valueType:"big",label:i,onChange:b=>{k(b)},min:d(0),max:y,autoFocus:r,placeholder:t,name:n??c.symbol,mode:"decimal",precision:e})},Slider=({onPctChange:i,value:n})=>{const{pct:r,setPct:t}=useTokenInputContext(),e=n??r,o=[{label:"0%",value:0},{label:"25%",value:25},{label:"50%",value:50},{label:"75%",value:75},{label:"100%",value:100}];return o.some(s=>s.value===e)||o.push({label:jsxRuntimeExports.jsx("div",{style:{borderRadius:3,position:"relative",top:-48},children:jsxRuntimeExports.jsxs(Txt,{c1:!0,children:[e.toFixed(0),"%"]})}),value:e}),jsxRuntimeExports.jsx(Slider$1,{min:0,max:100,value:e,onChange:s=>{t==null||t(s),i==null||i(s)},marks:o,style:{margin:"5% 20px",width:"90%"}})},TokenIcon=({size:i=35})=>{const{tokenInfo:n}=useTokenInputContext();return jsxRuntimeExports.jsx(TokenIcon$1,{size:i,asset:n})},SetMax=()=>{const{setMax:i}=useTokenInputContext();return jsxRuntimeExports.jsx("div",{onClick:()=>i(),children:"max"})},ChangeMode=({size:i="40px",onClick:n,style:r})=>{const{changeMode:t,mode:e}=useTokenInputContext();return jsxRuntimeExports.jsx(SvgSwitchLeftOutlined,{onClick:()=>n?n():t(e==="coin"?"usd":"coin"),width:i,height:i,style:r})},TokenName=()=>{const{tokenInfo:i}=useTokenInputContext();return(i==null?void 0:i.name)??"Unknown"},CurrentValueUSD=()=>{const{valueByUSD:i}=useTokenInputContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i.toString()})},CurrentValueCoin=()=>{const{valueByCoin:i}=useTokenInputContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i.toString()})},TokenInput=Object.assign(TokenInputCtx,{TokenIcon,Input,ChangeMode,SetMax,Slider,CurrentValueCoin,CurrentValueUSD,TokenName}),useDisableInput=()=>{const{currentProfile:i}=useLendingApp().profile;return!i},useDeposit=i=>{var y,b,m,w;const{reserve:n}=useReserveById(i),[r,t]=reactExports.useState(d(-1)),[e,o]=reactExports.useState(!1),s=useDisableInput();if(!n)return null;const a=async()=>{o(!0),await n.actions.deposit(r.toNumber()),o(!1),t(d(0))},l=(y=n.deposit.ofUser)==null?void 0:y.depositable,c=(l==null?void 0:l.amountNum)??0,u=r.lte(0),f=(((m=(b=n.borrow.ofUser)==null?void 0:b.borrowed)==null?void 0:m.amountNum)??0)>0,p=((w=n.deposit.ofUser)==null?void 0:w.deposited.amount)??"-",h=n.deposit.totalApy.base,k=n.deposit.totalApy.isPositive;return{amount:r,max:c,loading:e,disableConfirm:u,reserve:n,shouldRepayFirst:f,depositedAmount:p,depositApy:h,isApyPositive:k,onConfirm:a,onChange:t,disableInput:s}},useWithdraw=i=>{var h,k;const{reserve:n}=useReserveById(i),[r,t]=reactExports.useState(d(-1)),[e,o]=reactExports.useState(!1),s=reactExports.useRef(!1),a=useDisableInput(),l=(((k=(h=useLendingApp().profile.currentProfile)==null?void 0:h.loanList)==null?void 0:k.length)??0)>0;if(!n)return null;const c=async()=>{o(!0),await n.actions.withdraw(r.toNumber()),o(!1),t(d(0))},{ofUser:u}=n.deposit,f=(u==null?void 0:u.withdrawable)??d(0),p=r.lte(0);return{amount:r,reserve:n,loading:e,max:f,isMaxRef:s,onConfirm:c,onChange:t,disableConfirm:p,disableInput:a,shouldRepayALL:l}},useBorrow=i=>{var f,p;const{reserve:n}=useReserveById(i),[r,t]=reactExports.useState(d(-1)),[e,o]=reactExports.useState(!1),s=useDisableInput();if(!n)return null;const a=async()=>{o(!0),await n.actions.borrow(r.toNumber()),o(!1),t(d(0))},l=((f=n.borrow.ofUser)==null?void 0:f.available.amountNum)??0,c=(((p=n.deposit.ofUser)==null?void 0:p.withdrawable)??0)>0,u=c||r.lte(0);return{amount:r,reserve:n,loading:e,max:l,onConfirm:a,onChange:t,shouldWithdrawFirst:c,disableConfirm:u,disableInput:s}},useRepay=i=>{var y,b;const{reserve:n}=useReserveById(i),[r,t]=reactExports.useState(d(-1)),[e,o]=reactExports.useState(!1),s=reactExports.useRef(!1),a=useDisableInput();if(!n)return null;const l=async()=>{o(!0),await n.actions.repay(r.toNumber(),s.current),o(!1),t(d(0))},{ofUser:c}=n.borrow,u=Math.min((c==null?void 0:c.borrowed.amountNum)??0,Math.max((((y=n.wallet)==null?void 0:y.amountNum)??0)*1,0)),f=(c==null?void 0:c.borrowed.amountNum)??0,p=r.lte(0),h=m=>{t(m.gte(u)?d(u):m),(m.gt(u)||m.lt(f))&&(s.current=!1)},k=(b=n.wallet)==null?void 0:b.lamports.lessThanOrEqualTo(0);return{reserve:n,amount:r,loading:e,borrowed:f,max:u,isMaxRef:s,onChange:h,onConfirm:l,disableConfirm:p,disableInput:a,noBalance:k}},cx$3=classNames.bind(styles),BorrowPanel=({reserveId:i,footerComponents:n})=>{var k;const{t:r}=useTranslation(),t=useNavigate(),e=useBorrow(i);if(!e)return null;const{reserve:o,shouldWithdrawFirst:s,max:a,amount:l,loading:c,disableConfirm:u,disableInput:f,onChange:p,onConfirm:h}=e;return o?jsxRuntimeExports.jsxs("div",{className:cx$3(`${CssPrefix$1}__tab-body`,`${CssPrefix$1}__tab--borrow`),children:[s&&jsxRuntimeExports.jsx(RepayNotification$2,{}),jsxRuntimeExports.jsxs(TokenInput,{tokenInfo:o.asset,value:l,onAmountChange:y=>p(y),maxAmount:d(a),children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TokenInput.Input,{autoFocus:!0,disabled:f,precision:o.asset.decimals})}),jsxRuntimeExports.jsx(MaxValueRow,{maxTitle:r`Available`,max:a,onSetValue:p,asset:o.asset}),jsxRuntimeExports.jsx(TokenInput.Slider,{})]}),jsxRuntimeExports.jsx(ExtraConfig,{reserveId:o.id,items:[{label:r`APY`,value:jsxRuntimeExports.jsx(Txt,{h3:!0,color:o.borrow.totalApy.isPositive?"colorTextCritical":"colorTextSuccess",children:o.borrow.totalApy.base})},{label:r`Borrow Fee`,value:jsxRuntimeExports.jsxs(Txt,{h3:!0,critical:!0,children:[`${l.mul(o.meta.borrowFeePct/100).toFixed(2)}`," ",o.asset.symbol]})},{label:r`Your Margin`,value:jsxRuntimeExports.jsxs(Txt,{h3:!0,children:[((k=o.summary.ofUser)==null?void 0:k.totalMarginValueUSD)||"-"," "]})}]}),jsxRuntimeExports.jsx(ConfirmButton,{onClick:async()=>{await h(),t(TX_CONFIRM)},loading:c,disabled:u,reason:s?r`Please withdraw ALL to borrow`:r`Please input a valid number`,title:r`Borrow`}),n]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},RepayNotification$2=()=>{const{t:i}=useTranslation(),{changeTab:n}=useTabViewCtx();return jsxRuntimeExports.jsx(Warning,{children:jsxRuntimeExports.jsxs("div",{children:[i`You should`," ",jsxRuntimeExports.jsx(Txt,{onClick:()=>{n(1)},style:{textDecorationLine:"underline",cursor:"pointer"},children:i`withdraw ALL`})," ",i` of your current asset deposit to borrow the same asset.`]})})},cx$2=classNames.bind(styles),DepositPanel=({reserveId:i,footerComponents:n})=>{const{t:r}=useTranslation(),t=useDeposit(i),e=useNavigate();if(!t)return null;const{reserve:o,amount:s,loading:a,disableConfirm:l,disableInput:c,max:u,shouldRepayFirst:f,depositedAmount:p,depositApy:h,isApyPositive:k,onChange:y,onConfirm:b}=t;return o?jsxRuntimeExports.jsxs("div",{className:cx$2(`${CssPrefix$1}__tab-body`),children:[f&&jsxRuntimeExports.jsx(RepayNotification$1,{}),jsxRuntimeExports.jsxs(TokenInput,{tokenInfo:o.asset,value:s,onAmountChange:m=>y(m),maxAmount:u,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TokenInput.Input,{autoFocus:!0,disabled:c,precision:o.asset.decimals})}),jsxRuntimeExports.jsx(MaxValueRow,{asset:o.asset,onSetValue:y,max:u}),jsxRuntimeExports.jsx(TokenInput.Slider,{})]}),jsxRuntimeExports.jsx(ExtraConfig,{reserveId:o.id,items:[{label:r("Deposited"),value:jsxRuntimeExports.jsx(Txt,{h2:!0,children:p})},{label:r("APY"),value:jsxRuntimeExports.jsx(Txt,{h2:!0,color:k?"Text/Success":"Text/Critical",children:h})}]}),jsxRuntimeExports.jsx(ConfirmButton,{onClick:async()=>{await b(),e(TX_CONFIRM)},loading:a,title:r`Deposit`,reason:f?r`Please repay your debt first`:r`Please input a valid number`,disabled:l}),n]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},RepayNotification$1=()=>{const{t:i}=useTranslation(),{changeTab:n}=useTabViewCtx();return jsxRuntimeExports.jsx(Warning,{children:jsxRuntimeExports.jsxs("span",{children:[i`You have to`," ",jsxRuntimeExports.jsx("span",{onClick:()=>{n(3)},style:{textDecorationLine:"underline",cursor:"pointer"},children:i`repay ALL`})," ",i` of your debt to enable deposit.`]})})},RepayPanel=({reserveId:i,footerComponents:n})=>{const{t:r}=useTranslation(),t=useNavigate(),e=useRepay(i);if(!e)return null;const{loading:o,isMaxRef:s,amount:a,reserve:l,borrowed:c,disableConfirm:u,disableInput:f,onChange:p,onConfirm:h,noBalance:k}=e;return l?jsxRuntimeExports.jsxs("div",{children:[k&&jsxRuntimeExports.jsx(Warning,{children:jsxRuntimeExports.jsx("div",{children:r(`You don't have ${l.asset.symbol} in your wallet to repay.`)})}),jsxRuntimeExports.jsxs(TokenInput,{tokenInfo:l.asset,value:a,onAmountChange:y=>p(y),maxAmount:d(c??0),children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TokenInput.Input,{autoFocus:!0,disabled:f,precision:l.asset.decimals})}),jsxRuntimeExports.jsx(MaxValueRow,{maxTitle:r`Borrowed`,asset:l.asset,onSetValue:(y,b)=>{p(y),s.current=b},max:c??0}),jsxRuntimeExports.jsx(TokenInput.Slider,{onPctChange:y=>{s.current=y===100}})]}),jsxRuntimeExports.jsx(ExtraConfig,{reserveId:l.id,items:[]}),jsxRuntimeExports.jsx(ConfirmButton,{onClick:async()=>{await h(),t(TX_CONFIRM)},loading:o,disabled:u,reason:k?r(`Please transfer ${l.asset.symbol} to wallet first`):r`Please input a valid number`,title:r`Repay`}),n]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},cx$1=classNames.bind(styles),WithdrawPanel=({reserveId:i,footerComponents:n})=>{const{t:r}=useTranslation(),t=useNavigate(),e=useWithdraw(i);if(!e)return null;const{amount:o,reserve:s,loading:a,max:l,isMaxRef:c,disableConfirm:u,disableInput:f,onConfirm:p,onChange:h,shouldRepayALL:k}=e;return s?jsxRuntimeExports.jsxs("div",{className:cx$1(`${CssPrefix$1}__tab-body`),children:[k&&jsxRuntimeExports.jsx(RepayNotification,{}),jsxRuntimeExports.jsxs(TokenInput,{tokenInfo:s.asset,value:o,onAmountChange:y=>{h(y),y.eq(l)||(c.current=!1)},maxAmount:l,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TokenInput.Input,{autoFocus:!0,disabled:f,precision:s.asset.decimals})}),jsxRuntimeExports.jsx(MaxValueRow,{maxTitle:r`Withdrawable`,max:l.toNumber(),onSetValue:(y,b)=>{c.current=b,h(y)},asset:s.asset}),jsxRuntimeExports.jsx(TokenInput.Slider,{onPctChange:y=>{c.current=y===100}})]}),jsxRuntimeExports.jsx(ExtraConfig,{reserveId:s.id,items:[]}),jsxRuntimeExports.jsx(ConfirmButton,{onClick:async()=>{await p(),t(TX_CONFIRM)},loading:a,disabled:u,title:r`Withdraw`}),n]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},RepayNotification=()=>{const{t:i}=useTranslation();return jsxRuntimeExports.jsx(Warning,{children:jsxRuntimeExports.jsx("span",{children:i`You have to repay ALL of your borrow assets to withdraw all your margin, only part of your margin is withdrawable now`})})};function CopiableAddress(i){const{address:n,chars:r=6,style:t}=i,[e,o]=reactExports.useState(!1),[s,a]=reactExports.useState(0),l=Math.floor(r/2);return jsxRuntimeExports.jsxs("span",{className:"reserve-account-address",style:{color:"#946bec",cursor:"pointer",display:"flex",alignItems:"center",...t},onClick:()=>{navigator.clipboard.writeText(n).then(()=>{s>0&&(window.clearTimeout(s),a(0)),o(!0),a(window.setTimeout(()=>o(!1),1500))})},children:[jsxRuntimeExports.jsx(Txt,{h3:!0,style:{marginRight:4},children:shortAddress(n,l,l)}),e?jsxRuntimeExports.jsx(SvgCheck,{width:12}):jsxRuntimeExports.jsx(SvgCopy,{width:12})]})}const cx=classNames.bind(styles),Reserve=({reserveId:i})=>{const{reserve:n}=useReserveById(i),r=jsxRuntimeExports.jsx(Footer,{reserve:n});return n?jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-container`),children:[jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-header`),children:[jsxRuntimeExports.jsx(TokenIcon$1,{asset:n.asset,size:25,className:cx(`${CssPrefix$1}-header__icon`)}),jsxRuntimeExports.jsx(Txt,{h3:!0,children:n.asset.name})]}),jsxRuntimeExports.jsx(TabView,{pages:[{title:"Deposit",view:jsxRuntimeExports.jsx(DepositPanel,{reserveId:i,footerComponents:r})},{title:"Withdraw",view:jsxRuntimeExports.jsx(WithdrawPanel,{reserveId:i,footerComponents:r})},{title:"Borrow",view:jsxRuntimeExports.jsx(BorrowPanel,{reserveId:i,footerComponents:r})},{title:"Repay",view:jsxRuntimeExports.jsx(RepayPanel,{reserveId:i,footerComponents:r})}],containerStyle:{padding:12}})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},Footer=({reserve:i})=>{const{t:n}=useTranslation();return jsxRuntimeExports.jsx(FAQs,{style:{marginTop:"12px 16px"},data:lodashExports.compact([{question:n("Deposit Limit"),answer:i.meta.depositLimit??"-"},{question:n("Borrow Limit"),answer:i.meta.borrowLimit??"-"},{question:n("Maximum LTV"),answer:`${i.meta.loanToValue}`},{question:n("Liquidation threshold"),answer:`${i.meta.liquidationThreshold}`},{question:n("Coin Address"),answer:jsxRuntimeExports.jsx(CopiableAddress,{address:i.meta.coinAddress})},{question:n("LP Address"),answer:jsxRuntimeExports.jsx(CopiableAddress,{address:i.meta.lpCoinAddress})}]),direction:"horizontal",title:n`More Info`})},FAQs=({data:i,direction:n,title:r="FAQs",style:t})=>{const[e,o]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{style:t,className:cx(`${CssPrefix$1}-footer`),children:[jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-footer__fold`),children:[jsxRuntimeExports.jsx("div",{className:cx(`${CssPrefix$1}-footer__fold-divider`)}),jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-footer__fold-title`),onClick:()=>o(s=>!s),children:[jsxRuntimeExports.jsx(Txt,{h2:!0,bold:!0,c3:!0,children:r}),jsxRuntimeExports.jsx(SvgChevronDown,{style:e?{}:{transform:"rotateZ(180deg)"}})]}),jsxRuntimeExports.jsx("div",{className:cx(`${CssPrefix$1}-footer__fold-divider`)})]}),jsxRuntimeExports.jsx("div",{style:{display:e?"none":"block"},className:cx(`${CssPrefix$1}-footer__faqs`),children:i.map(({question:s,answer:a},l)=>jsxRuntimeExports.jsx(reactExports.Fragment,{children:n==="horizontal"?jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-footer__faqs-item`),children:[jsxRuntimeExports.jsx(Txt,{c2:!0,h3:!0,children:s}),jsxRuntimeExports.jsx(Txt,{h3:!0,children:a})]}):jsxRuntimeExports.jsxs("div",{className:cx(`${CssPrefix$1}-footer__faqs-item`),children:[jsxRuntimeExports.jsxs(Txt,{c2:!0,h3:!0,children:[l+1,".",s]}),jsxRuntimeExports.jsx(Txt,{h3:!0,children:a})]})},s))})]})},ReserveIndex=()=>{const i=useNavigate(),{id:n}=useParams();return n?jsxRuntimeExports.jsx(FirstPageWrapper,{hasBack:!0,onBack:()=>i(DAPPS_ARIES),children:jsxRuntimeExports.jsx(Reserve,{reserveId:n})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},AriesRoutes=()=>jsxRuntimeExports.jsx(LendingAppProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(AssetsIndex,{})}),jsxRuntimeExports.jsx(Route,{path:"account",element:jsxRuntimeExports.jsx(AssetsIndex,{initialTab:TabKey.ACCOUNT})}),jsxRuntimeExports.jsx(Route,{path:"reserve/:id",element:jsxRuntimeExports.jsx(ReserveIndex,{})})]})});export{AriesRoutes as default};
