var _pe=Object.defineProperty;var Epe=(t,e,r)=>e in t?_pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Oe=(t,e,r)=>(Epe(t,typeof e!="symbol"?e+"":e,r),r);import{s as kr,c as He,p as mt,e as Of,a as Re,r as nh,i as ir,d as fR,n as YM,j as Mr,u as Bf,f as vs,g as wV,l as X2,m as hd,o as Spe,q as Pf,t as hi,v as mi,w as _V,x as EV,S as Ape,y as Od,z as SV,A as xpe,B as AV,C as XN,D as xV,F as $m,G as Mpe,H as Cm,I as Ipe,J as Y2,K as Rpe,L as YN,M as Tpe,N as $pe,O as Cpe,P as Ope,Q as MV,R as uR,T as eE,k as Vu}from"./index.js";function Bpe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Tr={},e8={exports:{}},_3=65536,Ppe=4294967295;function Npe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var kpe=kr.Buffer,I_=He.crypto||He.msCrypto;I_&&I_.getRandomValues?e8.exports=Lpe:e8.exports=Npe;function Lpe(t,e){if(t>Ppe)throw new RangeError("requested too many random bytes");var r=kpe.allocUnsafe(t);if(t>0)if(t>_3)for(var n=0;n<t;n+=_3)I_.getRandomValues(r.slice(n,n+_3));else I_.getRandomValues(r);return typeof e=="function"?mt.nextTick(function(){e(null,r)}):r}var lg=e8.exports,t8={exports:{}},IV=Of.EventEmitter,E3,e7;function Dpe(){if(e7)return E3;e7=1;function t(R,C){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);C&&($=$.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),T.push.apply(T,$)}return T}function e(R){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?t(Object(T),!0).forEach(function($){r(R,$,T[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):t(Object(T)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(T,$))})}return R}function r(R,C,T){return C=o(C),C in R?Object.defineProperty(R,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[C]=T,R}function n(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function s(R,C){for(var T=0;T<C.length;T++){var $=C[T];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,o($.key),$)}}function i(R,C,T){return C&&s(R.prototype,C),T&&s(R,T),Object.defineProperty(R,"prototype",{writable:!1}),R}function o(R){var C=c(R,"string");return typeof C=="symbol"?C:String(C)}function c(R,C){if(typeof R!="object"||R===null)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var $=T.call(R,C||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(R)}var l=Re,d=l.Buffer,v=nh,b=v.inspect,A=b&&b.custom||"inspect";function x(R,C,T){d.prototype.copy.call(R,C,T)}return E3=function(){function R(){n(this,R),this.head=null,this.tail=null,this.length=0}return i(R,[{key:"push",value:function(T){var $={data:T,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}},{key:"unshift",value:function(T){var $={data:T,next:this.head};this.length===0&&(this.tail=$),this.head=$,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var $=this.head,O=""+$.data;$=$.next;)O+=T+$.data;return O}},{key:"concat",value:function(T){if(this.length===0)return d.alloc(0);for(var $=d.allocUnsafe(T>>>0),O=this.head,D=0;O;)x(O.data,$,D),D+=O.data.length,O=O.next;return $}},{key:"consume",value:function(T,$){var O;return T<this.head.data.length?(O=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?O=this.shift():O=$?this._getString(T):this._getBuffer(T),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var $=this.head,O=1,D=$.data;for(T-=D.length;$=$.next;){var L=$.data,F=T>L.length?L.length:T;if(F===L.length?D+=L:D+=L.slice(0,T),T-=F,T===0){F===L.length?(++O,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=L.slice(F));break}++O}return this.length-=O,D}},{key:"_getBuffer",value:function(T){var $=d.allocUnsafe(T),O=this.head,D=1;for(O.data.copy($),T-=O.data.length;O=O.next;){var L=O.data,F=T>L.length?L.length:T;if(L.copy($,$.length-T,0,F),T-=F,T===0){F===L.length?(++D,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=L.slice(F));break}++D}return this.length-=D,$}},{key:A,value:function(T,$){return b(this,e(e({},$),{},{depth:0,customInspect:!1}))}}]),R}(),E3}function Upe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,mt.nextTick(r8,this,t)):mt.nextTick(r8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted?mt.nextTick(Lw,r):(r._writableState.errorEmitted=!0,mt.nextTick(t7,r,i)):mt.nextTick(t7,r,i):e?(mt.nextTick(Lw,r),e(i)):mt.nextTick(Lw,r)}),this)}function t7(t,e){r8(t,e),Lw(t)}function Lw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Fpe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r8(t,e){t.emit("error",e)}function jpe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var RV={destroy:Upe,undestroy:Fpe,errorOrDestroy:jpe},Bd={};function qpe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var TV={};function Na(t,e,r){r||(r=Error);function n(i,o,c){return typeof e=="string"?e:e(i,o,c)}var s=function(i){qpe(o,i);function o(c,l,d){return i.call(this,n(c,l,d))||this}return o}(r);s.prototype.name=r.name,s.prototype.code=t,TV[t]=s}function r7(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function zpe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Hpe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Vpe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Na("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Na("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&zpe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var s;if(Hpe(t," argument"))s="The ".concat(t," ").concat(n," ").concat(r7(e,"type"));else{var i=Vpe(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(i," ").concat(n," ").concat(r7(e,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError);Na("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Na("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Na("ERR_STREAM_PREMATURE_CLOSE","Premature close");Na("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Na("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Na("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Na("ERR_STREAM_WRITE_AFTER_END","write after end");Na("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Na("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Na("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Bd.codes=TV;var Kpe=Bd.codes.ERR_INVALID_OPT_VALUE;function Gpe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Wpe(t,e,r,n){var s=Gpe(e,n,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var i=n?r:"highWaterMark";throw new Kpe(i,s)}return Math.floor(s)}return t.objectMode?16:16*1024}var $V={getHighWaterMark:Wpe},S3,n7;function lR(){if(n7)return S3;n7=1,S3=J;function t(z){var B=this;this.next=null,this.entry=null,this.finish=function(){k(B,z)}}var e;J.WritableState=H;var r={deprecate:fR},n=IV,s=Re.Buffer,i=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(z){return s.from(z)}function c(z){return s.isBuffer(z)||z instanceof i}var l=RV,d=$V,v=d.getHighWaterMark,b=Bd.codes,A=b.ERR_INVALID_ARG_TYPE,x=b.ERR_METHOD_NOT_IMPLEMENTED,R=b.ERR_MULTIPLE_CALLBACK,C=b.ERR_STREAM_CANNOT_PIPE,T=b.ERR_STREAM_DESTROYED,$=b.ERR_STREAM_NULL_VALUES,O=b.ERR_STREAM_WRITE_AFTER_END,D=b.ERR_UNKNOWN_ENCODING,L=l.errorOrDestroy;ir(J,n);function F(){}function H(z,B,U){e=e||dd(),z=z||{},typeof U!="boolean"&&(U=B instanceof e),this.objectMode=!!z.objectMode,U&&(this.objectMode=this.objectMode||!!z.writableObjectMode),this.highWaterMark=v(this,z,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=z.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){y(B,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}H.prototype.getBuffer=function(){for(var B=this.bufferedRequest,U=[];B;)U.push(B),B=B.next;return U},function(){try{Object.defineProperty(H.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(B){return V.call(this,B)?!0:this!==J?!1:B&&B._writableState instanceof H}})):V=function(B){return B instanceof this};function J(z){e=e||dd();var B=this instanceof e;if(!B&&!V.call(J,this))return new J(z);this._writableState=new H(z,this,B),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),n.call(this)}J.prototype.pipe=function(){L(this,new C)};function Z(z,B){var U=new O;L(z,U),mt.nextTick(B,U)}function se(z,B,U,K){var Y;return U===null?Y=new $:typeof U!="string"&&!B.objectMode&&(Y=new A("chunk",["string","Buffer"],U)),Y?(L(z,Y),mt.nextTick(K,Y),!1):!0}J.prototype.write=function(z,B,U){var K=this._writableState,Y=!1,X=!K.objectMode&&c(z);return X&&!s.isBuffer(z)&&(z=o(z)),typeof B=="function"&&(U=B,B=null),X?B="buffer":B||(B=K.defaultEncoding),typeof U!="function"&&(U=F),K.ending?Z(this,U):(X||se(this,K,z,U))&&(K.pendingcb++,Y=a(this,K,X,z,B,U)),Y},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&g(this,z))},J.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new D(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function S(z,B,U){return!z.objectMode&&z.decodeStrings!==!1&&typeof B=="string"&&(B=s.from(B,U)),B}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function a(z,B,U,K,Y,X){if(!U){var G=S(B,K,Y);K!==G&&(U=!0,Y="buffer",K=G)}var ne=B.objectMode?1:K.length;B.length+=ne;var le=B.length<B.highWaterMark;if(le||(B.needDrain=!0),B.writing||B.corked){var de=B.lastBufferedRequest;B.lastBufferedRequest={chunk:K,encoding:Y,isBuf:U,callback:X,next:null},de?de.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else u(z,B,!1,ne,K,Y,X);return le}function u(z,B,U,K,Y,X,G){B.writelen=K,B.writecb=G,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new T("write")):U?z._writev(Y,B.onwrite):z._write(Y,X,B.onwrite),B.sync=!1}function h(z,B,U,K,Y){--B.pendingcb,U?(mt.nextTick(Y,K),mt.nextTick(P,z,B),z._writableState.errorEmitted=!0,L(z,K)):(Y(K),z._writableState.errorEmitted=!0,L(z,K),P(z,B))}function p(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function y(z,B){var U=z._writableState,K=U.sync,Y=U.writecb;if(typeof Y!="function")throw new R;if(p(U),B)h(z,U,K,B,Y);else{var X=f(U)||z.destroyed;!X&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&g(z,U),K?mt.nextTick(w,z,U,X,Y):w(z,U,X,Y)}}function w(z,B,U,K){U||_(z,B),B.pendingcb--,K(),P(z,B)}function _(z,B){B.length===0&&B.needDrain&&(B.needDrain=!1,z.emit("drain"))}function g(z,B){B.bufferProcessing=!0;var U=B.bufferedRequest;if(z._writev&&U&&U.next){var K=B.bufferedRequestCount,Y=new Array(K),X=B.corkedRequestsFree;X.entry=U;for(var G=0,ne=!0;U;)Y[G]=U,U.isBuf||(ne=!1),U=U.next,G+=1;Y.allBuffers=ne,u(z,B,!0,B.length,Y,"",X.finish),B.pendingcb++,B.lastBufferedRequest=null,X.next?(B.corkedRequestsFree=X.next,X.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;U;){var le=U.chunk,de=U.encoding,me=U.callback,rt=B.objectMode?1:le.length;if(u(z,B,!1,rt,le,de,me),U=U.next,B.bufferedRequestCount--,B.writing)break}U===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=U,B.bufferProcessing=!1}J.prototype._write=function(z,B,U){U(new x("_write()"))},J.prototype._writev=null,J.prototype.end=function(z,B,U){var K=this._writableState;return typeof z=="function"?(U=z,z=null,B=null):typeof B=="function"&&(U=B,B=null),z!=null&&this.write(z,B),K.corked&&(K.corked=1,this.uncork()),K.ending||j(this,K,U),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function m(z,B){z._final(function(U){B.pendingcb--,U&&L(z,U),B.prefinished=!0,z.emit("prefinish"),P(z,B)})}function I(z,B){!B.prefinished&&!B.finalCalled&&(typeof z._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,mt.nextTick(m,z,B)):(B.prefinished=!0,z.emit("prefinish")))}function P(z,B){var U=f(B);if(U&&(I(z,B),B.pendingcb===0&&(B.finished=!0,z.emit("finish"),B.autoDestroy))){var K=z._readableState;(!K||K.autoDestroy&&K.endEmitted)&&z.destroy()}return U}function j(z,B,U){B.ending=!0,P(z,B),U&&(B.finished?mt.nextTick(U):z.once("finish",U)),B.ended=!0,z.writable=!1}function k(z,B,U){var K=z.entry;for(z.entry=null;K;){var Y=K.callback;B.pendingcb--,Y(U),K=K.next}B.corkedRequestsFree.next=z}return Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(z,B){B(z)},S3}var A3,i7;function dd(){if(i7)return A3;i7=1;var t=Object.keys||function(d){var v=[];for(var b in d)v.push(b);return v};A3=o;var e=hR(),r=lR();ir(o,e);for(var n=t(r.prototype),s=0;s<n.length;s++){var i=n[s];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(d){if(!(this instanceof o))return new o(d);e.call(this,d),r.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||mt.nextTick(l,this)}function l(d){d.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),A3}var s7=Bd.codes.ERR_STREAM_PREMATURE_CLOSE;function Jpe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];t.apply(this,n)}}}function Qpe(){}function Zpe(t){return t.setHeader&&typeof t.abort=="function"}function CV(t,e,r){if(typeof e=="function")return CV(t,null,e);e||(e={}),r=Jpe(r||Qpe);var n=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,i=function(){t.writable||c()},o=t._writableState&&t._writableState.finished,c=function(){s=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,l=!0,s||r.call(t)},v=function(R){r.call(t,R)},b=function(){var R;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(R=new s7),r.call(t,R);if(s&&!o)return(!t._writableState||!t._writableState.ended)&&(R=new s7),r.call(t,R)},A=function(){t.req.on("finish",c)};return Zpe(t)?(t.on("complete",c),t.on("abort",b),t.req?A():t.on("request",A)):s&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",d),t.on("finish",c),e.error!==!1&&t.on("error",v),t.on("close",b),function(){t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",A),t.req&&t.req.removeListener("finish",c),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",v),t.removeListener("close",b)}}var tE=CV,x3,o7;function Xpe(){if(o7)return x3;o7=1;var t;function e(D,L,F){return L=r(L),L in D?Object.defineProperty(D,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[L]=F,D}function r(D){var L=n(D,"string");return typeof L=="symbol"?L:String(L)}function n(D,L){if(typeof D!="object"||D===null)return D;var F=D[Symbol.toPrimitive];if(F!==void 0){var H=F.call(D,L||"default");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(D)}var s=tE,i=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),v=Symbol("handlePromise"),b=Symbol("stream");function A(D,L){return{value:D,done:L}}function x(D){var L=D[i];if(L!==null){var F=D[b].read();F!==null&&(D[d]=null,D[i]=null,D[o]=null,L(A(F,!1)))}}function R(D){mt.nextTick(x,D)}function C(D,L){return function(F,H){D.then(function(){if(L[l]){F(A(void 0,!0));return}L[v](F,H)},H)}}var T=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((t={get stream(){return this[b]},next:function(){var L=this,F=this[c];if(F!==null)return Promise.reject(F);if(this[l])return Promise.resolve(A(void 0,!0));if(this[b].destroyed)return new Promise(function(Z,se){mt.nextTick(function(){L[c]?se(L[c]):Z(A(void 0,!0))})});var H=this[d],V;if(H)V=new Promise(C(H,this));else{var J=this[b].read();if(J!==null)return Promise.resolve(A(J,!1));V=new Promise(this[v])}return this[d]=V,V}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var L=this;return new Promise(function(F,H){L[b].destroy(null,function(V){if(V){H(V);return}F(A(void 0,!0))})})}),t),T),O=function(L){var F,H=Object.create($,(F={},e(F,b,{value:L,writable:!0}),e(F,i,{value:null,writable:!0}),e(F,o,{value:null,writable:!0}),e(F,c,{value:null,writable:!0}),e(F,l,{value:L._readableState.endEmitted,writable:!0}),e(F,v,{value:function(J,Z){var se=H[b].read();se?(H[d]=null,H[i]=null,H[o]=null,J(A(se,!1))):(H[i]=J,H[o]=Z)},writable:!0}),F));return H[d]=null,s(L,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=H[o];J!==null&&(H[d]=null,H[i]=null,H[o]=null,J(V)),H[c]=V;return}var Z=H[i];Z!==null&&(H[d]=null,H[i]=null,H[o]=null,Z(A(void 0,!0))),H[l]=!0}),L.on("readable",R.bind(null,H)),H};return x3=O,x3}var M3,a7;function Ype(){return a7||(a7=1,M3=function(){throw new Error("Readable.from is not available in the browser")}),M3}var I3,c7;function hR(){if(c7)return I3;c7=1,I3=Z;var t;Z.ReadableState=J,Of.EventEmitter;var e=function(G,ne){return G.listeners(ne).length},r=IV,n=Re.Buffer,s=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(X){return n.from(X)}function o(X){return n.isBuffer(X)||X instanceof s}var c=nh,l;c&&c.debuglog?l=c.debuglog("stream"):l=function(){};var d=Dpe(),v=RV,b=$V,A=b.getHighWaterMark,x=Bd.codes,R=x.ERR_INVALID_ARG_TYPE,C=x.ERR_STREAM_PUSH_AFTER_EOF,T=x.ERR_METHOD_NOT_IMPLEMENTED,$=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,D,L;ir(Z,r);var F=v.errorOrDestroy,H=["error","close","destroy","pause","resume"];function V(X,G,ne){if(typeof X.prependListener=="function")return X.prependListener(G,ne);!X._events||!X._events[G]?X.on(G,ne):Array.isArray(X._events[G])?X._events[G].unshift(ne):X._events[G]=[ne,X._events[G]]}function J(X,G,ne){t=t||dd(),X=X||{},typeof ne!="boolean"&&(ne=G instanceof t),this.objectMode=!!X.objectMode,ne&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=A(this,X,"readableHighWaterMark",ne),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(O||(O=YM.StringDecoder),this.decoder=new O(X.encoding),this.encoding=X.encoding)}function Z(X){if(t=t||dd(),!(this instanceof Z))return new Z(X);var G=this instanceof t;this._readableState=new J(X,this,G),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),Z.prototype.destroy=v.destroy,Z.prototype._undestroy=v.undestroy,Z.prototype._destroy=function(X,G){G(X)},Z.prototype.push=function(X,G){var ne=this._readableState,le;return ne.objectMode?le=!0:typeof X=="string"&&(G=G||ne.defaultEncoding,G!==ne.encoding&&(X=n.from(X,G),G=""),le=!0),se(this,X,G,!1,le)},Z.prototype.unshift=function(X){return se(this,X,null,!0,!1)};function se(X,G,ne,le,de){l("readableAddChunk",G);var me=X._readableState;if(G===null)me.reading=!1,y(X,me);else{var rt;if(de||(rt=a(me,G)),rt)F(X,rt);else if(me.objectMode||G&&G.length>0)if(typeof G!="string"&&!me.objectMode&&Object.getPrototypeOf(G)!==n.prototype&&(G=i(G)),le)me.endEmitted?F(X,new $):S(X,me,G,!0);else if(me.ended)F(X,new C);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!ne?(G=me.decoder.write(G),me.objectMode||G.length!==0?S(X,me,G,!1):g(X,me)):S(X,me,G,!1)}else le||(me.reading=!1,g(X,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function S(X,G,ne,le){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,X.emit("data",ne)):(G.length+=G.objectMode?1:ne.length,le?G.buffer.unshift(ne):G.buffer.push(ne),G.needReadable&&w(X)),g(X,G)}function a(X,G){var ne;return!o(G)&&typeof G!="string"&&G!==void 0&&!X.objectMode&&(ne=new R("chunk",["string","Buffer","Uint8Array"],G)),ne}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(X){O||(O=YM.StringDecoder);var G=new O(X);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,le="";ne!==null;)le+=G.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),le!==""&&this._readableState.buffer.push(le),this._readableState.length=le.length,this};var u=1073741824;function h(X){return X>=u?X=u:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function p(X,G){return X<=0||G.length===0&&G.ended?0:G.objectMode?1:X!==X?G.flowing&&G.length?G.buffer.head.data.length:G.length:(X>G.highWaterMark&&(G.highWaterMark=h(X)),X<=G.length?X:G.ended?G.length:(G.needReadable=!0,0))}Z.prototype.read=function(X){l("read",X),X=parseInt(X,10);var G=this._readableState,ne=X;if(X!==0&&(G.emittedReadable=!1),X===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return l("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?U(this):w(this),null;if(X=p(X,G),X===0&&G.ended)return G.length===0&&U(this),null;var le=G.needReadable;l("need readable",le),(G.length===0||G.length-X<G.highWaterMark)&&(le=!0,l("length less than watermark",le)),G.ended||G.reading?(le=!1,l("reading or ended",le)):le&&(l("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(X=p(ne,G)));var de;return X>0?de=B(X,G):de=null,de===null?(G.needReadable=G.length<=G.highWaterMark,X=0):(G.length-=X,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),ne!==X&&G.ended&&U(this)),de!==null&&this.emit("data",de),de};function y(X,G){if(l("onEofChunk"),!G.ended){if(G.decoder){var ne=G.decoder.end();ne&&ne.length&&(G.buffer.push(ne),G.length+=G.objectMode?1:ne.length)}G.ended=!0,G.sync?w(X):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,_(X)))}}function w(X){var G=X._readableState;l("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(l("emitReadable",G.flowing),G.emittedReadable=!0,mt.nextTick(_,X))}function _(X){var G=X._readableState;l("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(X.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,z(X)}function g(X,G){G.readingMore||(G.readingMore=!0,mt.nextTick(f,X,G))}function f(X,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var ne=G.length;if(l("maybeReadMore read 0"),X.read(0),ne===G.length)break}G.readingMore=!1}Z.prototype._read=function(X){F(this,new T("_read()"))},Z.prototype.pipe=function(X,G){var ne=this,le=this._readableState;switch(le.pipesCount){case 0:le.pipes=X;break;case 1:le.pipes=[le.pipes,X];break;default:le.pipes.push(X);break}le.pipesCount+=1,l("pipe count=%d opts=%j",le.pipesCount,G);var de=(!G||G.end!==!1)&&X!==mt.stdout&&X!==mt.stderr,me=de?Ae:je;le.endEmitted?mt.nextTick(me):ne.once("end",me),X.on("unpipe",rt);function rt(ge,we){l("onunpipe"),ge===ne&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,Ie())}function Ae(){l("onend"),X.end()}var he=m(ne);X.on("drain",he);var Rt=!1;function Ie(){l("cleanup"),X.removeListener("close",ae),X.removeListener("finish",ue),X.removeListener("drain",he),X.removeListener("error",$t),X.removeListener("unpipe",rt),ne.removeListener("end",Ae),ne.removeListener("end",je),ne.removeListener("data",ke),Rt=!0,le.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&he()}ne.on("data",ke);function ke(ge){l("ondata");var we=X.write(ge);l("dest.write",we),we===!1&&((le.pipesCount===1&&le.pipes===X||le.pipesCount>1&&Y(le.pipes,X)!==-1)&&!Rt&&(l("false write response, pause",le.awaitDrain),le.awaitDrain++),ne.pause())}function $t(ge){l("onerror",ge),je(),X.removeListener("error",$t),e(X,"error")===0&&F(X,ge)}V(X,"error",$t);function ae(){X.removeListener("finish",ue),je()}X.once("close",ae);function ue(){l("onfinish"),X.removeListener("close",ae),je()}X.once("finish",ue);function je(){l("unpipe"),ne.unpipe(X)}return X.emit("pipe",ne),le.flowing||(l("pipe resume"),ne.resume()),X};function m(X){return function(){var ne=X._readableState;l("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&e(X,"data")&&(ne.flowing=!0,z(X))}}Z.prototype.unpipe=function(X){var G=this._readableState,ne={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return X&&X!==G.pipes?this:(X||(X=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,X&&X.emit("unpipe",this,ne),this);if(!X){var le=G.pipes,de=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var me=0;me<de;me++)le[me].emit("unpipe",this,{hasUnpiped:!1});return this}var rt=Y(G.pipes,X);return rt===-1?this:(G.pipes.splice(rt,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),X.emit("unpipe",this,ne),this)},Z.prototype.on=function(X,G){var ne=r.prototype.on.call(this,X,G),le=this._readableState;return X==="data"?(le.readableListening=this.listenerCount("readable")>0,le.flowing!==!1&&this.resume()):X==="readable"&&!le.endEmitted&&!le.readableListening&&(le.readableListening=le.needReadable=!0,le.flowing=!1,le.emittedReadable=!1,l("on readable",le.length,le.reading),le.length?w(this):le.reading||mt.nextTick(P,this)),ne},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(X,G){var ne=r.prototype.removeListener.call(this,X,G);return X==="readable"&&mt.nextTick(I,this),ne},Z.prototype.removeAllListeners=function(X){var G=r.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&mt.nextTick(I,this),G};function I(X){var G=X._readableState;G.readableListening=X.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:X.listenerCount("data")>0&&X.resume()}function P(X){l("readable nexttick read 0"),X.read(0)}Z.prototype.resume=function(){var X=this._readableState;return X.flowing||(l("resume"),X.flowing=!X.readableListening,j(this,X)),X.paused=!1,this};function j(X,G){G.resumeScheduled||(G.resumeScheduled=!0,mt.nextTick(k,X,G))}function k(X,G){l("resume",G.reading),G.reading||X.read(0),G.resumeScheduled=!1,X.emit("resume"),z(X),G.flowing&&!G.reading&&X.read(0)}Z.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function z(X){var G=X._readableState;for(l("flow",G.flowing);G.flowing&&X.read()!==null;);}Z.prototype.wrap=function(X){var G=this,ne=this._readableState,le=!1;X.on("end",function(){if(l("wrapped end"),ne.decoder&&!ne.ended){var rt=ne.decoder.end();rt&&rt.length&&G.push(rt)}G.push(null)}),X.on("data",function(rt){if(l("wrapped data"),ne.decoder&&(rt=ne.decoder.write(rt)),!(ne.objectMode&&rt==null)&&!(!ne.objectMode&&(!rt||!rt.length))){var Ae=G.push(rt);Ae||(le=!0,X.pause())}});for(var de in X)this[de]===void 0&&typeof X[de]=="function"&&(this[de]=function(Ae){return function(){return X[Ae].apply(X,arguments)}}(de));for(var me=0;me<H.length;me++)X.on(H[me],this.emit.bind(this,H[me]));return this._read=function(rt){l("wrapped _read",rt),le&&(le=!1,X.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=Xpe()),D(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),Z._fromList=B,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(X,G){if(G.length===0)return null;var ne;return G.objectMode?ne=G.buffer.shift():!X||X>=G.length?(G.decoder?ne=G.buffer.join(""):G.buffer.length===1?ne=G.buffer.first():ne=G.buffer.concat(G.length),G.buffer.clear()):ne=G.buffer.consume(X,G.decoder),ne}function U(X){var G=X._readableState;l("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,mt.nextTick(K,G,X))}function K(X,G){if(l("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,G.readable=!1,G.emit("end"),X.autoDestroy)){var ne=G._writableState;(!ne||ne.autoDestroy&&ne.finished)&&G.destroy()}}typeof Symbol=="function"&&(Z.from=function(X,G){return L===void 0&&(L=Ype()),L(Z,X,G)});function Y(X,G){for(var ne=0,le=X.length;ne<le;ne++)if(X[ne]===G)return ne;return-1}return I3}var dR=Pu,rE=Bd.codes,ege=rE.ERR_METHOD_NOT_IMPLEMENTED,tge=rE.ERR_MULTIPLE_CALLBACK,rge=rE.ERR_TRANSFORM_ALREADY_TRANSFORMING,nge=rE.ERR_TRANSFORM_WITH_LENGTH_0,nE=dd();ir(Pu,nE);function ige(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new tge);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function Pu(t){if(!(this instanceof Pu))return new Pu(t);nE.call(this,t),this._transformState={afterTransform:ige.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sge)}function sge(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){f7(t,e,r)}):f7(this,null,null)}Pu.prototype.push=function(t,e){return this._transformState.needTransform=!1,nE.prototype.push.call(this,t,e)};Pu.prototype._transform=function(t,e,r){r(new ege("_transform()"))};Pu.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Pu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Pu.prototype._destroy=function(t,e){nE.prototype._destroy.call(this,t,function(r){e(r)})};function f7(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nge;if(t._transformState.transforming)throw new rge;return t.push(null)}var OV=ky,BV=dR;ir(ky,BV);function ky(t){if(!(this instanceof ky))return new ky(t);BV.call(this,t)}ky.prototype._transform=function(t,e,r){r(null,t)};var R3;function oge(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var PV=Bd.codes,age=PV.ERR_MISSING_ARGS,cge=PV.ERR_STREAM_DESTROYED;function u7(t){if(t)throw t}function fge(t){return t.setHeader&&typeof t.abort=="function"}function uge(t,e,r,n){n=oge(n);var s=!1;t.on("close",function(){s=!0}),R3===void 0&&(R3=tE),R3(t,{readable:e,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,fge(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new cge("pipe"))}}}function l7(t){t()}function lge(t,e){return t.pipe(e)}function hge(t){return!t.length||typeof t[t.length-1]!="function"?u7:t.pop()}function dge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=hge(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new age("streams");var s,i=e.map(function(o,c){var l=c<e.length-1,d=c>0;return uge(o,l,d,function(v){s||(s=v),v&&i.forEach(l7),!l&&(i.forEach(l7),n(s))})});return e.reduce(lge)}var NV=dge;(function(t,e){e=t.exports=hR(),e.Stream=e,e.Readable=e,e.Writable=lR(),e.Duplex=dd(),e.Transform=dR,e.PassThrough=OV,e.finished=tE,e.pipeline=NV})(t8,t8.exports);var iE=t8.exports,R_=kr.Buffer,kV=iE.Transform,pge=ir;function gge(t,e){if(!R_.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function ih(t){kV.call(this),this._block=R_.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}pge(ih,kV);ih.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(s){n=s}r(n)};ih.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};ih.prototype.update=function(t,e){if(gge(t,"Data"),this._finalized)throw new Error("Digest already called");R_.isBuffer(t)||(t=R_.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var i=0,o=t.length*8;o>0;++i)this._length[i]+=o,o=this._length[i]/4294967296|0,o>0&&(this._length[i]-=4294967296*o);return this};ih.prototype._update=function(){throw new Error("_update is not implemented")};ih.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};ih.prototype._digest=function(){throw new Error("_digest is not implemented")};var LV=ih,vge=ir,DV=LV,yge=kr.Buffer,mge=new Array(16);function sE(){DV.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}vge(sE,DV);sE.prototype._update=function(){for(var t=mge,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,s=this._c,i=this._d;r=Ss(r,n,s,i,t[0],3614090360,7),i=Ss(i,r,n,s,t[1],3905402710,12),s=Ss(s,i,r,n,t[2],606105819,17),n=Ss(n,s,i,r,t[3],3250441966,22),r=Ss(r,n,s,i,t[4],4118548399,7),i=Ss(i,r,n,s,t[5],1200080426,12),s=Ss(s,i,r,n,t[6],2821735955,17),n=Ss(n,s,i,r,t[7],4249261313,22),r=Ss(r,n,s,i,t[8],1770035416,7),i=Ss(i,r,n,s,t[9],2336552879,12),s=Ss(s,i,r,n,t[10],4294925233,17),n=Ss(n,s,i,r,t[11],2304563134,22),r=Ss(r,n,s,i,t[12],1804603682,7),i=Ss(i,r,n,s,t[13],4254626195,12),s=Ss(s,i,r,n,t[14],2792965006,17),n=Ss(n,s,i,r,t[15],1236535329,22),r=As(r,n,s,i,t[1],4129170786,5),i=As(i,r,n,s,t[6],3225465664,9),s=As(s,i,r,n,t[11],643717713,14),n=As(n,s,i,r,t[0],3921069994,20),r=As(r,n,s,i,t[5],3593408605,5),i=As(i,r,n,s,t[10],38016083,9),s=As(s,i,r,n,t[15],3634488961,14),n=As(n,s,i,r,t[4],3889429448,20),r=As(r,n,s,i,t[9],568446438,5),i=As(i,r,n,s,t[14],3275163606,9),s=As(s,i,r,n,t[3],4107603335,14),n=As(n,s,i,r,t[8],1163531501,20),r=As(r,n,s,i,t[13],2850285829,5),i=As(i,r,n,s,t[2],4243563512,9),s=As(s,i,r,n,t[7],1735328473,14),n=As(n,s,i,r,t[12],2368359562,20),r=xs(r,n,s,i,t[5],4294588738,4),i=xs(i,r,n,s,t[8],2272392833,11),s=xs(s,i,r,n,t[11],1839030562,16),n=xs(n,s,i,r,t[14],4259657740,23),r=xs(r,n,s,i,t[1],2763975236,4),i=xs(i,r,n,s,t[4],1272893353,11),s=xs(s,i,r,n,t[7],4139469664,16),n=xs(n,s,i,r,t[10],3200236656,23),r=xs(r,n,s,i,t[13],681279174,4),i=xs(i,r,n,s,t[0],3936430074,11),s=xs(s,i,r,n,t[3],3572445317,16),n=xs(n,s,i,r,t[6],76029189,23),r=xs(r,n,s,i,t[9],3654602809,4),i=xs(i,r,n,s,t[12],3873151461,11),s=xs(s,i,r,n,t[15],530742520,16),n=xs(n,s,i,r,t[2],3299628645,23),r=Ms(r,n,s,i,t[0],4096336452,6),i=Ms(i,r,n,s,t[7],1126891415,10),s=Ms(s,i,r,n,t[14],2878612391,15),n=Ms(n,s,i,r,t[5],4237533241,21),r=Ms(r,n,s,i,t[12],1700485571,6),i=Ms(i,r,n,s,t[3],2399980690,10),s=Ms(s,i,r,n,t[10],4293915773,15),n=Ms(n,s,i,r,t[1],2240044497,21),r=Ms(r,n,s,i,t[8],1873313359,6),i=Ms(i,r,n,s,t[15],4264355552,10),s=Ms(s,i,r,n,t[6],2734768916,15),n=Ms(n,s,i,r,t[13],1309151649,21),r=Ms(r,n,s,i,t[4],4149444226,6),i=Ms(i,r,n,s,t[11],3174756917,10),s=Ms(s,i,r,n,t[2],718787259,15),n=Ms(n,s,i,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+s|0,this._d=this._d+i|0};sE.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=yge.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function oE(t,e){return t<<e|t>>>32-e}function Ss(t,e,r,n,s,i,o){return oE(t+(e&r|~e&n)+s+i|0,o)+e|0}function As(t,e,r,n,s,i,o){return oE(t+(e&n|r&~n)+s+i|0,o)+e|0}function xs(t,e,r,n,s,i,o){return oE(t+(e^r^n)+s+i|0,o)+e|0}function Ms(t,e,r,n,s,i,o){return oE(t+(r^(e|~n))+s+i|0,o)+e|0}var pR=sE,T3=Re.Buffer,bge=ir,UV=LV,wge=new Array(16),xv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Mv=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Iv=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Rv=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Tv=[0,1518500249,1859775393,2400959708,2840853838],$v=[1352829926,1548603684,1836072691,2053994217,0];function aE(){UV.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}bge(aE,UV);aE.prototype._update=function(){for(var t=wge,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,c=this._a|0,l=this._b|0,d=this._c|0,v=this._d|0,b=this._e|0,A=0;A<80;A+=1){var x,R;A<16?(x=h7(r,n,s,i,o,t[xv[A]],Tv[0],Iv[A]),R=v7(c,l,d,v,b,t[Mv[A]],$v[0],Rv[A])):A<32?(x=d7(r,n,s,i,o,t[xv[A]],Tv[1],Iv[A]),R=g7(c,l,d,v,b,t[Mv[A]],$v[1],Rv[A])):A<48?(x=p7(r,n,s,i,o,t[xv[A]],Tv[2],Iv[A]),R=p7(c,l,d,v,b,t[Mv[A]],$v[2],Rv[A])):A<64?(x=g7(r,n,s,i,o,t[xv[A]],Tv[3],Iv[A]),R=d7(c,l,d,v,b,t[Mv[A]],$v[3],Rv[A])):(x=v7(r,n,s,i,o,t[xv[A]],Tv[4],Iv[A]),R=h7(c,l,d,v,b,t[Mv[A]],$v[4],Rv[A])),r=o,o=i,i=pd(s,10),s=n,n=x,c=b,b=v,v=pd(d,10),d=l,l=R}var C=this._b+s+v|0;this._b=this._c+i+b|0,this._c=this._d+o+c|0,this._d=this._e+r+l|0,this._e=this._a+n+d|0,this._a=C};aE.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=T3.alloc?T3.alloc(20):new T3(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function pd(t,e){return t<<e|t>>>32-e}function h7(t,e,r,n,s,i,o,c){return pd(t+(e^r^n)+i+o|0,c)+s|0}function d7(t,e,r,n,s,i,o,c){return pd(t+(e&r|~e&n)+i+o|0,c)+s|0}function p7(t,e,r,n,s,i,o,c){return pd(t+((e|~r)^n)+i+o|0,c)+s|0}function g7(t,e,r,n,s,i,o,c){return pd(t+(e&n|r&~n)+i+o|0,c)+s|0}function v7(t,e,r,n,s,i,o,c){return pd(t+(e^(r|~n))+i+o|0,c)+s|0}var gR=aE,FV={exports:{}},jV=kr.Buffer;function cE(t,e){this._block=jV.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}cE.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=jV.from(t,e));for(var r=this._block,n=this._blockSize,s=t.length,i=this._len,o=0;o<s;){for(var c=i%n,l=Math.min(s-o,n-c),d=0;d<l;d++)r[c+d]=t[o+d];i+=l,o+=l,i%n===0&&this._update(r)}return this._len+=s,this};cE.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,s=(r-n)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i};cE.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hg=cE,_ge=ir,qV=hg,Ege=kr.Buffer,Sge=[1518500249,1859775393,-1894007588,-899497514],Age=new Array(80);function Om(){this.init(),this._w=Age,qV.call(this,64,56)}_ge(Om,qV);Om.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function xge(t){return t<<5|t>>>27}function Mge(t){return t<<30|t>>>2}function Ige(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Om.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var d=~~(l/20),v=xge(r)+Ige(d,n,s,i)+o+e[l]+Sge[d]|0;o=i,i=s,s=Mge(n),n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};Om.prototype._hash=function(){var t=Ege.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Rge=Om,Tge=ir,zV=hg,$ge=kr.Buffer,Cge=[1518500249,1859775393,-1894007588,-899497514],Oge=new Array(80);function Bm(){this.init(),this._w=Oge,zV.call(this,64,56)}Tge(Bm,zV);Bm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Bge(t){return t<<1|t>>>31}function Pge(t){return t<<5|t>>>27}function Nge(t){return t<<30|t>>>2}function kge(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Bm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=Bge(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var d=~~(l/20),v=Pge(r)+kge(d,n,s,i)+o+e[l]+Cge[d]|0;o=i,i=s,s=Nge(n),n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};Bm.prototype._hash=function(){var t=$ge.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Lge=Bm,Dge=ir,HV=hg,Uge=kr.Buffer,Fge=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],jge=new Array(64);function Pm(){this.init(),this._w=jge,HV.call(this,64,56)}Dge(Pm,HV);Pm.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function qge(t,e,r){return r^t&(e^r)}function zge(t,e,r){return t&e|r&(t|e)}function Hge(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Vge(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Kge(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Gge(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Pm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,c=this._f|0,l=this._g|0,d=this._h|0,v=0;v<16;++v)e[v]=t.readInt32BE(v*4);for(;v<64;++v)e[v]=Gge(e[v-2])+e[v-7]+Kge(e[v-15])+e[v-16]|0;for(var b=0;b<64;++b){var A=d+Vge(o)+qge(o,c,l)+Fge[b]+e[b]|0,x=Hge(r)+zge(r,n,s)|0;d=l,l=c,c=o,o=i+A|0,i=s,s=n,n=r,r=A+x|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=d+this._h|0};Pm.prototype._hash=function(){var t=Uge.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var VV=Pm,Wge=ir,Jge=VV,Qge=hg,Zge=kr.Buffer,Xge=new Array(64);function fE(){this.init(),this._w=Xge,Qge.call(this,64,56)}Wge(fE,Jge);fE.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};fE.prototype._hash=function(){var t=Zge.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Yge=fE,eve=ir,KV=hg,tve=kr.Buffer,y7=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],rve=new Array(160);function Nm(){this.init(),this._w=rve,KV.call(this,128,112)}eve(Nm,KV);Nm.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function m7(t,e,r){return r^t&(e^r)}function b7(t,e,r){return t&e|r&(t|e)}function w7(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function _7(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function nve(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function ive(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function sve(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ove(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Di(t,e){return t>>>0<e>>>0?1:0}Nm.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,s=this._ch|0,i=this._dh|0,o=this._eh|0,c=this._fh|0,l=this._gh|0,d=this._hh|0,v=this._al|0,b=this._bl|0,A=this._cl|0,x=this._dl|0,R=this._el|0,C=this._fl|0,T=this._gl|0,$=this._hl|0,O=0;O<32;O+=2)e[O]=t.readInt32BE(O*4),e[O+1]=t.readInt32BE(O*4+4);for(;O<160;O+=2){var D=e[O-30],L=e[O-15*2+1],F=nve(D,L),H=ive(L,D);D=e[O-2*2],L=e[O-2*2+1];var V=sve(D,L),J=ove(L,D),Z=e[O-7*2],se=e[O-7*2+1],S=e[O-16*2],a=e[O-16*2+1],u=H+se|0,h=F+Z+Di(u,H)|0;u=u+J|0,h=h+V+Di(u,J)|0,u=u+a|0,h=h+S+Di(u,a)|0,e[O]=h,e[O+1]=u}for(var p=0;p<160;p+=2){h=e[p],u=e[p+1];var y=b7(r,n,s),w=b7(v,b,A),_=w7(r,v),g=w7(v,r),f=_7(o,R),m=_7(R,o),I=y7[p],P=y7[p+1],j=m7(o,c,l),k=m7(R,C,T),z=$+m|0,B=d+f+Di(z,$)|0;z=z+k|0,B=B+j+Di(z,k)|0,z=z+P|0,B=B+I+Di(z,P)|0,z=z+u|0,B=B+h+Di(z,u)|0;var U=g+w|0,K=_+y+Di(U,g)|0;d=l,$=T,l=c,T=C,c=o,C=R,R=x+z|0,o=i+B+Di(R,x)|0,i=s,x=A,s=n,A=b,n=r,b=v,v=z+U|0,r=B+K+Di(v,z)|0}this._al=this._al+v|0,this._bl=this._bl+b|0,this._cl=this._cl+A|0,this._dl=this._dl+x|0,this._el=this._el+R|0,this._fl=this._fl+C|0,this._gl=this._gl+T|0,this._hl=this._hl+$|0,this._ah=this._ah+r+Di(this._al,v)|0,this._bh=this._bh+n+Di(this._bl,b)|0,this._ch=this._ch+s+Di(this._cl,A)|0,this._dh=this._dh+i+Di(this._dl,x)|0,this._eh=this._eh+o+Di(this._el,R)|0,this._fh=this._fh+c+Di(this._fl,C)|0,this._gh=this._gh+l+Di(this._gl,T)|0,this._hh=this._hh+d+Di(this._hl,$)|0};Nm.prototype._hash=function(){var t=tve.allocUnsafe(64);function e(r,n,s){t.writeInt32BE(r,s),t.writeInt32BE(n,s+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var GV=Nm,ave=ir,cve=GV,fve=hg,uve=kr.Buffer,lve=new Array(160);function uE(){this.init(),this._w=lve,fve.call(this,128,112)}ave(uE,cve);uE.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};uE.prototype._hash=function(){var t=uve.allocUnsafe(48);function e(r,n,s){t.writeInt32BE(r,s),t.writeInt32BE(n,s+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var hve=uE,Pd=FV.exports=function(e){e=e.toLowerCase();var r=Pd[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Pd.sha=Rge;Pd.sha1=Lge;Pd.sha224=Yge;Pd.sha256=VV;Pd.sha384=hve;Pd.sha512=GV;var vR=FV.exports,WV=$a,yR=Of.EventEmitter,dve=ir;dve($a,yR);$a.Readable=hR();$a.Writable=lR();$a.Duplex=dd();$a.Transform=dR;$a.PassThrough=OV;$a.finished=tE;$a.pipeline=NV;$a.Stream=$a;function $a(){yR.call(this)}$a.prototype.pipe=function(t,e){var r=this;function n(v){t.writable&&t.write(v)===!1&&r.pause&&r.pause()}r.on("data",n);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",c));var i=!1;function o(){i||(i=!0,t.end())}function c(){i||(i=!0,typeof t.destroy=="function"&&t.destroy())}function l(v){if(d(),yR.listenerCount(this,"error")===0)throw v}r.on("error",l),t.on("error",l);function d(){r.removeListener("data",n),t.removeListener("drain",s),r.removeListener("end",o),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};var JV=kr.Buffer,QV=WV.Transform,pve=YM.StringDecoder,gve=ir;function Ec(t){QV.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}gve(Ec,QV);Ec.prototype.update=function(t,e,r){typeof t=="string"&&(t=JV.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Ec.prototype.setAutoPadding=function(){};Ec.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Ec.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Ec.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Ec.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(s){n=s}finally{r(n)}};Ec.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Ec.prototype._finalOrDigest=function(t){var e=this.__final()||JV.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Ec.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new pve(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var sh=Ec,vve=ir,yve=pR,mve=gR,bve=vR,ZV=sh;function lE(t){ZV.call(this,"digest"),this._hash=t}vve(lE,ZV);lE.prototype._update=function(t){this._hash.update(t)};lE.prototype._final=function(){return this._hash.digest()};var km=function(e){return e=e.toLowerCase(),e==="md5"?new yve:e==="rmd160"||e==="ripemd160"?new mve:new lE(bve(e))},wve=ir,Kh=kr.Buffer,XV=sh,_ve=Kh.alloc(128),l0=64;function hE(t,e){XV.call(this,"digest"),typeof e=="string"&&(e=Kh.from(e)),this._alg=t,this._key=e,e.length>l0?e=t(e):e.length<l0&&(e=Kh.concat([e,_ve],l0));for(var r=this._ipad=Kh.allocUnsafe(l0),n=this._opad=Kh.allocUnsafe(l0),s=0;s<l0;s++)r[s]=e[s]^54,n[s]=e[s]^92;this._hash=[r]}wve(hE,XV);hE.prototype._update=function(t){this._hash.push(t)};hE.prototype._final=function(){var t=this._alg(Kh.concat(this._hash));return this._alg(Kh.concat([this._opad,t]))};var Eve=hE,Sve=pR,YV=function(t){return new Sve().update(t).digest()},Ave=ir,xve=Eve,eK=sh,ay=kr.Buffer,Mve=YV,n8=gR,i8=vR,Ive=ay.alloc(128);function Ly(t,e){eK.call(this,"digest"),typeof e=="string"&&(e=ay.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new n8:i8(t);e=n.update(e).digest()}else e.length<r&&(e=ay.concat([e,Ive],r));for(var s=this._ipad=ay.allocUnsafe(r),i=this._opad=ay.allocUnsafe(r),o=0;o<r;o++)s[o]=e[o]^54,i[o]=e[o]^92;this._hash=t==="rmd160"?new n8:i8(t),this._hash.update(s)}Ave(Ly,eK);Ly.prototype._update=function(t){this._hash.update(t)};Ly.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new n8:i8(this._alg);return e.update(this._opad).update(t).digest()};var tK=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Ly("rmd160",r):e==="md5"?new xve(Mve,r):new Ly(e,r)};const Rve={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Tve={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},$ve={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},Cve={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},Ove={sign:"ecdsa",hash:"sha256",id:""},Bve={sign:"ecdsa",hash:"sha224",id:""},Pve={sign:"ecdsa",hash:"sha384",id:""},Nve={sign:"ecdsa",hash:"sha512",id:""},kve={sign:"dsa",hash:"sha1",id:""},Lve={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},Dve={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},rK={sha224WithRSAEncryption:Rve,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Tve,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:$ve,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:Cve,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:Ove,sha224:Bve,sha384:Pve,sha512:Nve,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:kve,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:Lve,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:Dve,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var Uve=rK,dE={},Fve=Math.pow(2,30)-1,nK=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Fve||e!==e)throw new TypeError("Bad key length")},Dw;if(He.process&&He.process.browser)Dw="utf-8";else if(He.process&&He.process.version){var jve=parseInt(mt.version.split(".")[0].slice(1),10);Dw=jve>=6?"utf-8":"binary"}else Dw="utf-8";var iK=Dw,$3=kr.Buffer,sK=function(t,e,r){if($3.isBuffer(t))return t;if(typeof t=="string")return $3.from(t,e);if(ArrayBuffer.isView(t))return $3.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},qve=YV,zve=gR,Hve=vR,Gh=kr.Buffer,Vve=nK,E7=iK,S7=sK,Kve=Gh.alloc(128),Uw={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function oK(t,e,r){var n=Gve(t),s=t==="sha512"||t==="sha384"?128:64;e.length>s?e=n(e):e.length<s&&(e=Gh.concat([e,Kve],s));for(var i=Gh.allocUnsafe(s+Uw[t]),o=Gh.allocUnsafe(s+Uw[t]),c=0;c<s;c++)i[c]=e[c]^54,o[c]=e[c]^92;var l=Gh.allocUnsafe(s+r+4);i.copy(l,0,0,s),this.ipad1=l,this.ipad2=i,this.opad=o,this.alg=t,this.blocksize=s,this.hash=n,this.size=Uw[t]}oK.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Gve(t){function e(n){return Hve(t).update(n).digest()}function r(n){return new zve().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?qve:e}function Wve(t,e,r,n,s){Vve(r,n),t=S7(t,E7,"Password"),e=S7(e,E7,"Salt"),s=s||"sha1";var i=new oK(s,t,e.length),o=Gh.allocUnsafe(n),c=Gh.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var l=0,d=Uw[s],v=Math.ceil(n/d),b=1;b<=v;b++){c.writeUInt32BE(b,e.length);for(var A=i.run(c,i.ipad1),x=A,R=1;R<r;R++){x=i.run(x,i.ipad2);for(var C=0;C<d;C++)A[C]^=x[C]}A.copy(o,l),l+=d}return o}var aK=Wve,cK=kr.Buffer,Jve=nK,A7=iK,x7=aK,M7=sK,Mb,_y=He.crypto&&He.crypto.subtle,Qve={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},C3=[];function Zve(t){if(He.process&&!He.process.browser||!_y||!_y.importKey||!_y.deriveBits)return Promise.resolve(!1);if(C3[t]!==void 0)return C3[t];Mb=Mb||cK.alloc(8);var e=fK(Mb,Mb,10,128,t).then(function(){return!0}).catch(function(){return!1});return C3[t]=e,e}var Ih;function s8(){return Ih||(He.process&&He.process.nextTick?Ih=He.process.nextTick:He.queueMicrotask?Ih=He.queueMicrotask:He.setImmediate?Ih=He.setImmediate:Ih=He.setTimeout,Ih)}function fK(t,e,r,n,s){return _y.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i){return _y.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:s}},i,n<<3)}).then(function(i){return cK.from(i)})}function Xve(t,e){t.then(function(r){s8()(function(){e(null,r)})},function(r){s8()(function(){e(r)})})}var Yve=function(t,e,r,n,s,i){typeof s=="function"&&(i=s,s=void 0),s=s||"sha1";var o=Qve[s.toLowerCase()];if(!o||typeof He.Promise!="function"){s8()(function(){var c;try{c=x7(t,e,r,n,s)}catch(l){return i(l)}i(null,c)});return}if(Jve(r,n),t=M7(t,A7,"Password"),e=M7(e,A7,"Salt"),typeof i!="function")throw new Error("No callback provided to pbkdf2");Xve(Zve(o).then(function(c){return c?fK(t,e,r,n,o):x7(t,e,r,n,s)}),i)};dE.pbkdf2=Yve;dE.pbkdf2Sync=aK;var bc={},dg={},Go={};Go.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Go.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Go.ip=function(e,r,n,s){for(var i=0,o=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)i<<=1,i|=r>>>l+c&1;for(var l=0;l<=24;l+=8)i<<=1,i|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)o<<=1,o|=r>>>l+c&1;for(var l=1;l<=25;l+=8)o<<=1,o|=e>>>l+c&1}n[s+0]=i>>>0,n[s+1]=o>>>0};Go.rip=function(e,r,n,s){for(var i=0,o=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)i<<=1,i|=r>>>l+c&1,i<<=1,i|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+c&1,o<<=1,o|=e>>>l+c&1;n[s+0]=i>>>0,n[s+1]=o>>>0};Go.pc1=function(e,r,n,s){for(var i=0,o=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)i<<=1,i|=r>>l+c&1;for(var l=0;l<=24;l+=8)i<<=1,i|=e>>l+c&1}for(var l=0;l<=24;l+=8)i<<=1,i|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+c&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+c&1}for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+c&1;n[s+0]=i>>>0,n[s+1]=o>>>0};Go.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var Ib=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Go.pc2=function(e,r,n,s){for(var i=0,o=0,c=Ib.length>>>1,l=0;l<c;l++)i<<=1,i|=e>>>Ib[l]&1;for(var l=c;l<Ib.length;l++)o<<=1,o|=r>>>Ib[l]&1;n[s+0]=i>>>0,n[s+1]=o>>>0};Go.expand=function(e,r,n){var s=0,i=0;s=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)s<<=6,s|=e>>>o&63;for(var o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(e&31)<<1|e>>>31,r[n+0]=s>>>0,r[n+1]=i>>>0};var I7=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Go.substitute=function(e,r){for(var n=0,s=0;s<4;s++){var i=e>>>18-s*6&63,o=I7[s*64+i];n<<=4,n|=o}for(var s=0;s<4;s++){var i=r>>>18-s*6&63,o=I7[4*64+s*64+i];n<<=4,n|=o}return n>>>0};var R7=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Go.permute=function(e){for(var r=0,n=0;n<R7.length;n++)r<<=1,r|=e>>>R7[n]&1;return r>>>0};Go.padSplit=function(e,r,n){for(var s=e.toString(2);s.length<r;)s="0"+s;for(var i=[],o=0;o<r;o+=n)i.push(s.slice(o,o+n));return i.join(" ")};var ka=uK;function uK(t,e){if(!t)throw new Error(e||"Assertion failed")}uK.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var eye=ka;function La(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}var mR=La;La.prototype._init=function(){};La.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};La.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),s=0;s<n;s++)this.buffer[this.bufferOff+s]=e[r+s];return this.bufferOff+=n,n};La.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};La.prototype._updateEncrypt=function(e){var r=0,n=0,s=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(s*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,i,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return i};La.prototype._updateDecrypt=function(e){for(var r=0,n=0,s=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(s*this.blockSize);s>0;s--)r+=this._buffer(e,r),n+=this._flushBuffer(i,n);return r+=this._buffer(e,r),i};La.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};La.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};La.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};La.prototype._unpad=function(e){return e};La.prototype._finalDecrypt=function(){eye.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var lK=ka,tye=ir,Bi=Go,hK=mR;function rye(){this.tmp=new Array(2),this.keys=null}function Sf(t){hK.call(this,t);var e=new rye;this._desState=e,this.deriveKeys(e,t.key)}tye(Sf,hK);var dK=Sf;Sf.create=function(e){return new Sf(e)};var nye=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Sf.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),lK.equal(r.length,this.blockSize,"Invalid key length");var n=Bi.readUInt32BE(r,0),s=Bi.readUInt32BE(r,4);Bi.pc1(n,s,e.tmp,0),n=e.tmp[0],s=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var o=nye[i>>>1];n=Bi.r28shl(n,o),s=Bi.r28shl(s,o),Bi.pc2(n,s,e.keys,i)}};Sf.prototype._update=function(e,r,n,s){var i=this._desState,o=Bi.readUInt32BE(e,r),c=Bi.readUInt32BE(e,r+4);Bi.ip(o,c,i.tmp,0),o=i.tmp[0],c=i.tmp[1],this.type==="encrypt"?this._encrypt(i,o,c,i.tmp,0):this._decrypt(i,o,c,i.tmp,0),o=i.tmp[0],c=i.tmp[1],Bi.writeUInt32BE(n,o,s),Bi.writeUInt32BE(n,c,s+4)};Sf.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,s=r;s<e.length;s++)e[s]=n;return!0};Sf.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)lK.equal(e[n],r);return e.slice(0,e.length-r)};Sf.prototype._encrypt=function(e,r,n,s,i){for(var o=r,c=n,l=0;l<e.keys.length;l+=2){var d=e.keys[l],v=e.keys[l+1];Bi.expand(c,e.tmp,0),d^=e.tmp[0],v^=e.tmp[1];var b=Bi.substitute(d,v),A=Bi.permute(b),x=c;c=(o^A)>>>0,o=x}Bi.rip(c,o,s,i)};Sf.prototype._decrypt=function(e,r,n,s,i){for(var o=n,c=r,l=e.keys.length-2;l>=0;l-=2){var d=e.keys[l],v=e.keys[l+1];Bi.expand(o,e.tmp,0),d^=e.tmp[0],v^=e.tmp[1];var b=Bi.substitute(d,v),A=Bi.permute(b),x=o;o=(c^A)>>>0,c=x}Bi.rip(o,c,s,i)};var pK={},iye=ka,sye=ir,T_={};function oye(t){iye.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function aye(t){function e(i){t.call(this,i),this._cbcInit()}sye(e,t);for(var r=Object.keys(T_),n=0;n<r.length;n++){var s=r[n];e.prototype[s]=T_[s]}return e.create=function(o){return new e(o)},e}pK.instantiate=aye;T_._cbcInit=function(){var e=new oye(this.options.iv);this._cbcState=e};T_._update=function(e,r,n,s){var i=this._cbcState,o=this.constructor.super_.prototype,c=i.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];o._update.call(this,c,0,n,s);for(var l=0;l<this.blockSize;l++)c[l]=n[s+l]}else{o._update.call(this,e,r,n,s);for(var l=0;l<this.blockSize;l++)n[s+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}};var cye=ka,fye=ir,gK=mR,Sl=dK;function uye(t,e){cye.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),s=e.slice(16,24);t==="encrypt"?this.ciphers=[Sl.create({type:"encrypt",key:r}),Sl.create({type:"decrypt",key:n}),Sl.create({type:"encrypt",key:s})]:this.ciphers=[Sl.create({type:"decrypt",key:s}),Sl.create({type:"encrypt",key:n}),Sl.create({type:"decrypt",key:r})]}function gd(t){gK.call(this,t);var e=new uye(this.type,this.options.key);this._edeState=e}fye(gd,gK);var lye=gd;gd.create=function(e){return new gd(e)};gd.prototype._update=function(e,r,n,s){var i=this._edeState;i.ciphers[0]._update(e,r,n,s),i.ciphers[1]._update(n,s,n,s),i.ciphers[2]._update(n,s,n,s)};gd.prototype._pad=Sl.prototype._pad;gd.prototype._unpad=Sl.prototype._unpad;dg.utils=Go;dg.Cipher=mR;dg.DES=dK;dg.CBC=pK;dg.EDE=lye;var vK=sh,ru=dg,hye=ir,Dh=kr.Buffer,Dy={"des-ede3-cbc":ru.CBC.instantiate(ru.EDE),"des-ede3":ru.EDE,"des-ede-cbc":ru.CBC.instantiate(ru.EDE),"des-ede":ru.EDE,"des-cbc":ru.CBC.instantiate(ru.DES),"des-ecb":ru.DES};Dy.des=Dy["des-cbc"];Dy.des3=Dy["des-ede3-cbc"];var dye=pE;hye(pE,vK);function pE(t){vK.call(this);var e=t.mode.toLowerCase(),r=Dy[e],n;t.decrypt?n="decrypt":n="encrypt";var s=t.key;Dh.isBuffer(s)||(s=Dh.from(s)),(e==="des-ede"||e==="des-ede-cbc")&&(s=Dh.concat([s,s.slice(0,8)]));var i=t.iv;Dh.isBuffer(i)||(i=Dh.from(i)),this._des=r.create({key:s,iv:i,type:n})}pE.prototype._update=function(t){return Dh.from(this._des.update(t))};pE.prototype._final=function(){return Dh.from(this._des.final())};var Vo={},bR={},wR={};wR.encrypt=function(t,e){return t._cipher.encryptBlock(e)};wR.decrypt=function(t,e){return t._cipher.decryptBlock(e)};var _R={},Lm=function(e,r){for(var n=Math.min(e.length,r.length),s=new Re.Buffer(n),i=0;i<n;++i)s[i]=e[i]^r[i];return s},yK=Lm;_R.encrypt=function(t,e){var r=yK(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};_R.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return yK(n,r)};var mK={},cy=kr.Buffer,pye=Lm;function T7(t,e,r){var n=e.length,s=pye(e,t._cache);return t._cache=t._cache.slice(n),t._prev=cy.concat([t._prev,r?e:s]),s}mK.encrypt=function(t,e,r){for(var n=cy.allocUnsafe(0),s;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=cy.allocUnsafe(0)),t._cache.length<=e.length)s=t._cache.length,n=cy.concat([n,T7(t,e.slice(0,s),r)]),e=e.slice(s);else{n=cy.concat([n,T7(t,e,r)]);break}return n};var bK={},o8=kr.Buffer;function gye(t,e,r){var n=t._cipher.encryptBlock(t._prev),s=n[0]^e;return t._prev=o8.concat([t._prev.slice(1),o8.from([r?e:s])]),s}bK.encrypt=function(t,e,r){for(var n=e.length,s=o8.allocUnsafe(n),i=-1;++i<n;)s[i]=gye(t,e[i],r);return s};var wK={},Fw=kr.Buffer;function vye(t,e,r){for(var n,s=-1,i=8,o=0,c,l;++s<i;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-s?128:0,l=n[0]^c,o+=(l&128)>>s%8,t._prev=yye(t._prev,r?c:l);return o}function yye(t,e){var r=t.length,n=-1,s=Fw.allocUnsafe(t.length);for(t=Fw.concat([t,Fw.from([e])]);++n<r;)s[n]=t[n]<<1|t[n+1]>>7;return s}wK.encrypt=function(t,e,r){for(var n=e.length,s=Fw.allocUnsafe(n),i=-1;++i<n;)s[i]=vye(t,e[i],r);return s};var _K={},mye=Lm;function bye(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}_K.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Re.Buffer.concat([t._cache,bye(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),mye(e,r)};var a8={};function wye(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}var EK=wye,_ye=Lm,$7=kr.Buffer,Eye=EK;function Sye(t){var e=t._cipher.encryptBlockRaw(t._prev);return Eye(t._prev),e}var O3=16;a8.encrypt=function(t,e){var r=Math.ceil(e.length/O3),n=t._cache.length;t._cache=$7.concat([t._cache,$7.allocUnsafe(r*O3)]);for(var s=0;s<r;s++){var i=Sye(t),o=n+s*O3;t._cache.writeUInt32BE(i[0],o+0),t._cache.writeUInt32BE(i[1],o+4),t._cache.writeUInt32BE(i[2],o+8),t._cache.writeUInt32BE(i[3],o+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),_ye(e,c)};const Aye={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},xye={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},Mye={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},SK={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:Aye,aes192:xye,aes256:Mye,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Iye={ECB:wR,CBC:_R,CFB:mK,CFB8:bK,CFB1:wK,OFB:_K,CTR:a8,GCM:a8},jw=SK;for(var C7 in jw)jw[C7].module=Iye[jw[C7].mode];var ER=jw,Dm={},$_=kr.Buffer;function SR(t){$_.isBuffer(t)||(t=$_.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function B3(t){for(var e=0;e<t.length;t++)t[e]=0}function AK(t,e,r,n,s){for(var i=r[0],o=r[1],c=r[2],l=r[3],d=t[0]^e[0],v=t[1]^e[1],b=t[2]^e[2],A=t[3]^e[3],x,R,C,T,$=4,O=1;O<s;O++)x=i[d>>>24]^o[v>>>16&255]^c[b>>>8&255]^l[A&255]^e[$++],R=i[v>>>24]^o[b>>>16&255]^c[A>>>8&255]^l[d&255]^e[$++],C=i[b>>>24]^o[A>>>16&255]^c[d>>>8&255]^l[v&255]^e[$++],T=i[A>>>24]^o[d>>>16&255]^c[v>>>8&255]^l[b&255]^e[$++],d=x,v=R,b=C,A=T;return x=(n[d>>>24]<<24|n[v>>>16&255]<<16|n[b>>>8&255]<<8|n[A&255])^e[$++],R=(n[v>>>24]<<24|n[b>>>16&255]<<16|n[A>>>8&255]<<8|n[d&255])^e[$++],C=(n[b>>>24]<<24|n[A>>>16&255]<<16|n[d>>>8&255]<<8|n[v&255])^e[$++],T=(n[A>>>24]<<24|n[d>>>16&255]<<16|n[v>>>8&255]<<8|n[b&255])^e[$++],x=x>>>0,R=R>>>0,C=C>>>0,T=T>>>0,[x,R,C,T]}var Rye=[0,1,2,4,8,16,32,64,128,27,54],bi=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],s=[[],[],[],[]],i=[[],[],[],[]],o=0,c=0,l=0;l<256;++l){var d=c^c<<1^c<<2^c<<3^c<<4;d=d>>>8^d&255^99,r[o]=d,n[d]=o;var v=t[o],b=t[v],A=t[b],x=t[d]*257^d*16843008;s[0][o]=x<<24|x>>>8,s[1][o]=x<<16|x>>>16,s[2][o]=x<<8|x>>>24,s[3][o]=x,x=A*16843009^b*65537^v*257^o*16843008,i[0][d]=x<<24|x>>>8,i[1][d]=x<<16|x>>>16,i[2][d]=x<<8|x>>>24,i[3][d]=x,o===0?o=c=1:(o=v^t[t[t[A^v]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:s,INV_SUB_MIX:i}}();function Ca(t){this._key=SR(t),this._reset()}Ca.blockSize=4*4;Ca.keySize=256/8;Ca.prototype.blockSize=Ca.blockSize;Ca.prototype.keySize=Ca.keySize;Ca.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,s=[],i=0;i<e;i++)s[i]=t[i];for(i=e;i<n;i++){var o=s[i-1];i%e===0?(o=o<<8|o>>>24,o=bi.SBOX[o>>>24]<<24|bi.SBOX[o>>>16&255]<<16|bi.SBOX[o>>>8&255]<<8|bi.SBOX[o&255],o^=Rye[i/e|0]<<24):e>6&&i%e===4&&(o=bi.SBOX[o>>>24]<<24|bi.SBOX[o>>>16&255]<<16|bi.SBOX[o>>>8&255]<<8|bi.SBOX[o&255]),s[i]=s[i-e]^o}for(var c=[],l=0;l<n;l++){var d=n-l,v=s[d-(l%4?0:4)];l<4||d<=4?c[l]=v:c[l]=bi.INV_SUB_MIX[0][bi.SBOX[v>>>24]]^bi.INV_SUB_MIX[1][bi.SBOX[v>>>16&255]]^bi.INV_SUB_MIX[2][bi.SBOX[v>>>8&255]]^bi.INV_SUB_MIX[3][bi.SBOX[v&255]]}this._nRounds=r,this._keySchedule=s,this._invKeySchedule=c};Ca.prototype.encryptBlockRaw=function(t){return t=SR(t),AK(t,this._keySchedule,bi.SUB_MIX,bi.SBOX,this._nRounds)};Ca.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=$_.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Ca.prototype.decryptBlock=function(t){t=SR(t);var e=t[1];t[1]=t[3],t[3]=e;var r=AK(t,this._invKeySchedule,bi.INV_SUB_MIX,bi.INV_SBOX,this._nRounds),n=$_.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Ca.prototype.scrub=function(){B3(this._keySchedule),B3(this._invKeySchedule),B3(this._key)};Dm.AES=Ca;var dp=kr.Buffer,Tye=dp.alloc(16,0);function $ye(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function xK(t){var e=dp.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Um(t){this.h=t,this.state=dp.alloc(16,0),this.cache=dp.allocUnsafe(0)}Um.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Um.prototype._multiply=function(){for(var t=$ye(this.h),e=[0,0,0,0],r,n,s,i=-1;++i<128;){for(n=(this.state[~~(i/8)]&1<<7-i%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),s=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,s&&(t[0]=t[0]^225<<24)}this.state=xK(e)};Um.prototype.update=function(t){this.cache=dp.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Um.prototype.final=function(t,e){return this.cache.length&&this.ghash(dp.concat([this.cache,Tye],16)),this.ghash(xK([0,t,0,e])),this.state};var Cye=Um,Oye=Dm,vo=kr.Buffer,MK=sh,Bye=ir,IK=Cye,Pye=Lm,Nye=EK;function kye(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),s=0;s<n;++s)r+=t[s]^e[s];return r}function Lye(t,e,r){if(e.length===12)return t._finID=vo.concat([e,vo.from([0,0,0,1])]),vo.concat([e,vo.from([0,0,0,2])]);var n=new IK(r),s=e.length,i=s%16;n.update(e),i&&(i=16-i,n.update(vo.alloc(i,0))),n.update(vo.alloc(8,0));var o=s*8,c=vo.alloc(8);c.writeUIntBE(o,0,8),n.update(c),t._finID=n.state;var l=vo.from(t._finID);return Nye(l),l}function Nd(t,e,r,n){MK.call(this);var s=vo.alloc(4,0);this._cipher=new Oye.AES(e);var i=this._cipher.encryptBlock(s);this._ghash=new IK(i),r=Lye(this,r,i),this._prev=vo.from(r),this._cache=vo.allocUnsafe(0),this._secCache=vo.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Bye(Nd,MK);Nd.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=vo.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Nd.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Pye(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&kye(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Nd.prototype.getAuthTag=function(){if(this._decrypt||!vo.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Nd.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Nd.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var RK=Nd,Dye=Dm,P3=kr.Buffer,TK=sh,Uye=ir;function gE(t,e,r,n){TK.call(this),this._cipher=new Dye.AES(e),this._prev=P3.from(r),this._cache=P3.allocUnsafe(0),this._secCache=P3.allocUnsafe(0),this._decrypt=n,this._mode=t}Uye(gE,TK);gE.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};gE.prototype._final=function(){this._cipher.scrub()};var $K=gE,Rh=kr.Buffer,Fye=pR;function jye(t,e,r,n){if(Rh.isBuffer(t)||(t=Rh.from(t,"binary")),e&&(Rh.isBuffer(e)||(e=Rh.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,i=Rh.alloc(s),o=Rh.alloc(n||0),c=Rh.alloc(0);s>0||n>0;){var l=new Fye;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var d=0;if(s>0){var v=i.length-s;d=Math.min(s,c.length),c.copy(i,v,0,d),s-=d}if(d<c.length&&n>0){var b=o.length-n,A=Math.min(n,c.length-d);c.copy(o,b,d,d+A),n-=A}}return c.fill(0),{key:i,iv:o}}var vE=jye,CK=ER,qye=RK,Nu=kr.Buffer,zye=$K,OK=sh,Hye=Dm,Vye=vE,Kye=ir;function Fm(t,e,r){OK.call(this),this._cache=new yE,this._cipher=new Hye.AES(e),this._prev=Nu.from(r),this._mode=t,this._autopadding=!0}Kye(Fm,OK);Fm.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Nu.concat(n)};var Gye=Nu.alloc(16,16);Fm.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(Gye))throw this._cipher.scrub(),new Error("data not multiple of block length")};Fm.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function yE(){this.cache=Nu.allocUnsafe(0)}yE.prototype.add=function(t){this.cache=Nu.concat([this.cache,t])};yE.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};yE.prototype.flush=function(){for(var t=16-this.cache.length,e=Nu.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Nu.concat([this.cache,e])};function BK(t,e,r){var n=CK[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Nu.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Nu.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new zye(n.module,e,r):n.type==="auth"?new qye(n.module,e,r):new Fm(n.module,e,r)}function Wye(t,e){var r=CK[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Vye(e,!1,r.key,r.iv);return BK(t,n.key,n.iv)}bR.createCipheriv=BK;bR.createCipher=Wye;var AR={},Jye=RK,pp=kr.Buffer,PK=ER,Qye=$K,NK=sh,Zye=Dm,Xye=vE,Yye=ir;function jm(t,e,r){NK.call(this),this._cache=new mE,this._last=void 0,this._cipher=new Zye.AES(e),this._prev=pp.from(r),this._mode=t,this._autopadding=!0}Yye(jm,NK);jm.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return pp.concat(n)};jm.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return eme(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};jm.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function mE(){this.cache=pp.allocUnsafe(0)}mE.prototype.add=function(t){this.cache=pp.concat([this.cache,t])};mE.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};mE.prototype.flush=function(){if(this.cache.length)return this.cache};function eme(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function kK(t,e,r){var n=PK[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=pp.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=pp.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new Qye(n.module,e,r,!0):n.type==="auth"?new Jye(n.module,e,r,!0):new jm(n.module,e,r)}function tme(t,e){var r=PK[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Xye(e,!1,r.key,r.iv);return kK(t,n.key,n.iv)}AR.createDecipher=tme;AR.createDecipheriv=kK;var LK=bR,DK=AR,rme=SK;function nme(){return Object.keys(rme)}Vo.createCipher=Vo.Cipher=LK.createCipher;Vo.createCipheriv=Vo.Cipheriv=LK.createCipheriv;Vo.createDecipher=Vo.Decipher=DK.createDecipher;Vo.createDecipheriv=Vo.Decipheriv=DK.createDecipheriv;Vo.listCiphers=Vo.getCiphers=nme;var UK={};(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(UK);var FK=dye,xR=Vo,Fl=ER,Iu=UK,jK=vE;function ime(t,e){t=t.toLowerCase();var r,n;if(Fl[t])r=Fl[t].key,n=Fl[t].iv;else if(Iu[t])r=Iu[t].key*8,n=Iu[t].iv;else throw new TypeError("invalid suite type");var s=jK(e,!1,r,n);return qK(t,s.key,s.iv)}function sme(t,e){t=t.toLowerCase();var r,n;if(Fl[t])r=Fl[t].key,n=Fl[t].iv;else if(Iu[t])r=Iu[t].key*8,n=Iu[t].iv;else throw new TypeError("invalid suite type");var s=jK(e,!1,r,n);return zK(t,s.key,s.iv)}function qK(t,e,r){if(t=t.toLowerCase(),Fl[t])return xR.createCipheriv(t,e,r);if(Iu[t])return new FK({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function zK(t,e,r){if(t=t.toLowerCase(),Fl[t])return xR.createDecipheriv(t,e,r);if(Iu[t])return new FK({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function ome(){return Object.keys(Iu).concat(xR.getCiphers())}bc.createCipher=bc.Cipher=ime;bc.createCipheriv=bc.Cipheriv=qK;bc.createDecipher=bc.Decipher=sme;bc.createDecipheriv=bc.Decipheriv=zK;bc.listCiphers=bc.getCiphers=ome;var Th={},MR={exports:{}};MR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(MR);var HK=MR.exports,IR={exports:{}};IR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(IR);var ame=IR.exports,Rb={exports:{}},O7;function RR(){if(O7)return Rb.exports;O7=1;var t;Rb.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(n){this.rand=n}if(Rb.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var i=new Uint8Array(s),o=0;o<i.length;o++)i[o]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=YR();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return Rb.exports}var N3,B7;function VK(){if(B7)return N3;B7=1;var t=ame,e=RR();function r(n){this.rand=n||new e.Rand}return N3=r,r.create=function(s){return new r(s)},r.prototype._randbelow=function(s){var i=s.bitLength(),o=Math.ceil(i/8);do var c=new t(this.rand.generate(o));while(c.cmp(s)>=0);return c},r.prototype._randrange=function(s,i){var o=i.sub(s);return s.add(this._randbelow(o))},r.prototype.test=function(s,i,o){var c=s.bitLength(),l=t.mont(s),d=new t(1).toRed(l);i||(i=Math.max(1,c/48|0));for(var v=s.subn(1),b=0;!v.testn(b);b++);for(var A=s.shrn(b),x=v.toRed(l),R=!0;i>0;i--){var C=this._randrange(new t(2),v);o&&o(C);var T=C.toRed(l).redPow(A);if(!(T.cmp(d)===0||T.cmp(x)===0)){for(var $=1;$<b;$++){if(T=T.redSqr(),T.cmp(d)===0)return!1;if(T.cmp(x)===0)break}if($===b)return!1}}return R},r.prototype.getDivisor=function(s,i){var o=s.bitLength(),c=t.mont(s),l=new t(1).toRed(c);i||(i=Math.max(1,o/48|0));for(var d=s.subn(1),v=0;!d.testn(v);v++);for(var b=s.shrn(v),A=d.toRed(c);i>0;i--){var x=this._randrange(new t(2),d),R=s.gcd(x);if(R.cmpn(1)!==0)return R;var C=x.toRed(c).redPow(b);if(!(C.cmp(l)===0||C.cmp(A)===0)){for(var T=1;T<v;T++){if(C=C.redSqr(),C.cmp(l)===0)return C.fromRed().subn(1).gcd(s);if(C.cmp(A)===0)break}if(T===v)return C=C.redSqr(),C.fromRed().subn(1).gcd(s)}}return!1},N3}var k3,P7;function KK(){if(P7)return k3;P7=1;var t=lg;k3=T,T.simpleSieve=R,T.fermatTest=C;var e=HK,r=new e(24),n=VK(),s=new n,i=new e(1),o=new e(2),c=new e(5);new e(16),new e(8);var l=new e(10),d=new e(3);new e(7);var v=new e(11),b=new e(4);new e(12);var A=null;function x(){if(A!==null)return A;var $=1048576,O=[];O[0]=2;for(var D=1,L=3;L<$;L+=2){for(var F=Math.ceil(Math.sqrt(L)),H=0;H<D&&O[H]<=F&&L%O[H]!==0;H++);D!==H&&O[H]<=F||(O[D++]=L)}return A=O,O}function R($){for(var O=x(),D=0;D<O.length;D++)if($.modn(O[D])===0)return $.cmpn(O[D])===0;return!0}function C($){var O=e.mont($);return o.toRed(O).redPow($.subn(1)).fromRed().cmpn(1)===0}function T($,O){if($<16)return O===2||O===5?new e([140,123]):new e([140,39]);O=new e(O);for(var D,L;;){for(D=new e(t(Math.ceil($/8)));D.bitLength()>$;)D.ishrn(1);if(D.isEven()&&D.iadd(i),D.testn(1)||D.iadd(o),O.cmp(o)){if(!O.cmp(c))for(;D.mod(l).cmp(d);)D.iadd(b)}else for(;D.mod(r).cmp(v);)D.iadd(b);if(L=D.shrn(1),R(L)&&R(D)&&C(L)&&C(D)&&s.test(L)&&s.test(D))return D}}return k3}const cme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},fme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},ume={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},lme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},hme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},dme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},pme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},gme={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},vme={modp1:cme,modp2:fme,modp5:ume,modp14:lme,modp15:hme,modp16:dme,modp17:pme,modp18:gme};var L3,N7;function yme(){if(N7)return L3;N7=1;var t=HK,e=VK(),r=new e,n=new t(24),s=new t(11),i=new t(10),o=new t(3),c=new t(7),l=KK(),d=lg;L3=R;function v(T,$){return $=$||"utf8",Re.Buffer.isBuffer(T)||(T=new Re.Buffer(T,$)),this._pub=new t(T),this}function b(T,$){return $=$||"utf8",Re.Buffer.isBuffer(T)||(T=new Re.Buffer(T,$)),this._priv=new t(T),this}var A={};function x(T,$){var O=$.toString("hex"),D=[O,T.toString(16)].join("_");if(D in A)return A[D];var L=0;if(T.isEven()||!l.simpleSieve||!l.fermatTest(T)||!r.test(T))return L+=1,O==="02"||O==="05"?L+=8:L+=4,A[D]=L,L;r.test(T.shrn(1))||(L+=2);var F;switch(O){case"02":T.mod(n).cmp(s)&&(L+=8);break;case"05":F=T.mod(i),F.cmp(o)&&F.cmp(c)&&(L+=8);break;default:L+=4}return A[D]=L,L}function R(T,$,O){this.setGenerator($),this.__prime=new t(T),this._prime=t.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=v,this.setPrivateKey=b):this._primeCode=8}Object.defineProperty(R.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=x(this.__prime,this.__gen)),this._primeCode}}),R.prototype.generateKeys=function(){return this._priv||(this._priv=new t(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},R.prototype.computeSecret=function(T){T=new t(T),T=T.toRed(this._prime);var $=T.redPow(this._priv).fromRed(),O=new Re.Buffer($.toArray()),D=this.getPrime();if(O.length<D.length){var L=new Re.Buffer(D.length-O.length);L.fill(0),O=Re.Buffer.concat([L,O])}return O},R.prototype.getPublicKey=function($){return C(this._pub,$)},R.prototype.getPrivateKey=function($){return C(this._priv,$)},R.prototype.getPrime=function(T){return C(this.__prime,T)},R.prototype.getGenerator=function(T){return C(this._gen,T)},R.prototype.setGenerator=function(T,$){return $=$||"utf8",Re.Buffer.isBuffer(T)||(T=new Re.Buffer(T,$)),this.__gen=T,this._gen=new t(T),this};function C(T,$){var O=new Re.Buffer(T.toArray());return $?O.toString($):O}return L3}var k7;function mme(){if(k7)return Th;k7=1;var t=KK(),e=vme,r=yme();function n(o){var c=new Re.Buffer(e[o].prime,"hex"),l=new Re.Buffer(e[o].gen,"hex");return new r(c,l)}var s={binary:!0,hex:!0,base64:!0};function i(o,c,l,d){return Re.Buffer.isBuffer(c)||s[c]===void 0?i(o,"binary",c,l):(c=c||"binary",d=d||"binary",l=l||new Re.Buffer([2]),Re.Buffer.isBuffer(l)||(l=new Re.Buffer(l,d)),typeof o=="number"?new r(t(o,l),l,!0):(Re.Buffer.isBuffer(o)||(o=new Re.Buffer(o,c)),new r(o,l,!0)))}return Th.DiffieHellmanGroup=Th.createDiffieHellmanGroup=Th.getDiffieHellman=n,Th.createDiffieHellman=Th.DiffieHellman=i,Th}var Cv={exports:{}},TR={exports:{}};TR.exports;(function(t){(function(e,r){function n(u,h){if(!u)throw new Error(h||"Assertion failed")}function s(u,h){u.super_=h;var p=function(){};p.prototype=h.prototype,u.prototype=new p,u.prototype.constructor=u}function i(u,h,p){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(u||0,h||10,p||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,p){return h.cmp(p)>0?h:p},i.min=function(h,p){return h.cmp(p)<0?h:p},i.prototype._init=function(h,p,y){if(typeof h=="number")return this._initNumber(h,p,y);if(typeof h=="object")return this._initArray(h,p,y);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var w=0;h[0]==="-"&&(w++,this.negative=1),w<h.length&&(p===16?this._parseHex(h,w,y):(this._parseBase(h,p,w),y==="le"&&this._initArray(this.toArray(),p,y)))},i.prototype._initNumber=function(h,p,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),p,y)},i.prototype._initArray=function(h,p,y){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,g,f=0;if(y==="be")for(w=h.length-1,_=0;w>=0;w-=3)g=h[w]|h[w-1]<<8|h[w-2]<<16,this.words[_]|=g<<f&67108863,this.words[_+1]=g>>>26-f&67108863,f+=24,f>=26&&(f-=26,_++);else if(y==="le")for(w=0,_=0;w<h.length;w+=3)g=h[w]|h[w+1]<<8|h[w+2]<<16,this.words[_]|=g<<f&67108863,this.words[_+1]=g>>>26-f&67108863,f+=24,f>=26&&(f-=26,_++);return this._strip()};function c(u,h){var p=u.charCodeAt(h);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+u)}function l(u,h,p){var y=c(u,p);return p-1>=h&&(y|=c(u,p-1)<<4),y}i.prototype._parseHex=function(h,p,y){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _=0,g=0,f;if(y==="be")for(w=h.length-1;w>=p;w-=2)f=l(h,p,w)<<_,this.words[g]|=f&67108863,_>=18?(_-=18,g+=1,this.words[g]|=f>>>26):_+=8;else{var m=h.length-p;for(w=m%2===0?p+1:p;w<h.length;w+=2)f=l(h,p,w)<<_,this.words[g]|=f&67108863,_>=18?(_-=18,g+=1,this.words[g]|=f>>>26):_+=8}this._strip()};function d(u,h,p,y){for(var w=0,_=0,g=Math.min(u.length,p),f=h;f<g;f++){var m=u.charCodeAt(f)-48;w*=y,m>=49?_=m-49+10:m>=17?_=m-17+10:_=m,n(m>=0&&_<y,"Invalid character"),w+=_}return w}i.prototype._parseBase=function(h,p,y){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=p)w++;w--,_=_/p|0;for(var g=h.length-y,f=g%w,m=Math.min(g,g-f)+y,I=0,P=y;P<m;P+=w)I=d(h,P,P+w,p),this.imuln(_),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(f!==0){var j=1;for(I=d(h,P,h.length,p),P=0;P<f;P++)j*=p;this.imuln(j),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red};function v(u,h){u.words=h.words,u.length=h.length,u.negative=h.negative,u.red=h.red}if(i.prototype._move=function(h){v(h,this)},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{i.prototype.inspect=b}else i.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,p){h=h||10,p=p|0||1;var y;if(h===16||h==="hex"){y="";for(var w=0,_=0,g=0;g<this.length;g++){var f=this.words[g],m=((f<<w|_)&16777215).toString(16);_=f>>>24-w&16777215,w+=2,w>=26&&(w-=26,g--),_!==0||g!==this.length-1?y=A[6-m.length]+m+y:y=m+y}for(_!==0&&(y=_.toString(16)+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(h===(h|0)&&h>=2&&h<=36){var I=x[h],P=R[h];y="";var j=this.clone();for(j.negative=0;!j.isZero();){var k=j.modrn(P).toString(h);j=j.idivn(P),j.isZero()?y=k+y:y=A[I-k.length]+k+y}for(this.isZero()&&(y="0"+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(h,p){return this.toArrayLike(o,h,p)}),i.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)};var C=function(h,p){return h.allocUnsafe?h.allocUnsafe(p):new h(p)};i.prototype.toArrayLike=function(h,p,y){this._strip();var w=this.byteLength(),_=y||Math.max(1,w);n(w<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var g=C(h,_),f=p==="le"?"LE":"BE";return this["_toArrayLike"+f](g,w),g},i.prototype._toArrayLikeLE=function(h,p){for(var y=0,w=0,_=0,g=0;_<this.length;_++){var f=this.words[_]<<g|w;h[y++]=f&255,y<h.length&&(h[y++]=f>>8&255),y<h.length&&(h[y++]=f>>16&255),g===6?(y<h.length&&(h[y++]=f>>24&255),w=0,g=0):(w=f>>>24,g+=2)}if(y<h.length)for(h[y++]=w;y<h.length;)h[y++]=0},i.prototype._toArrayLikeBE=function(h,p){for(var y=h.length-1,w=0,_=0,g=0;_<this.length;_++){var f=this.words[_]<<g|w;h[y--]=f&255,y>=0&&(h[y--]=f>>8&255),y>=0&&(h[y--]=f>>16&255),g===6?(y>=0&&(h[y--]=f>>24&255),w=0,g=0):(w=f>>>24,g+=2)}if(y>=0)for(h[y--]=w;y>=0;)h[y--]=0},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var p=h,y=0;return p>=4096&&(y+=13,p>>>=13),p>=64&&(y+=7,p>>>=7),p>=8&&(y+=4,p>>>=4),p>=2&&(y+=2,p>>>=2),y+p},i.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,y=0;return p&8191||(y+=13,p>>>=13),p&127||(y+=7,p>>>=7),p&15||(y+=4,p>>>=4),p&3||(y+=2,p>>>=2),p&1||y++,y},i.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function T(u){for(var h=new Array(u.bitLength()),p=0;p<h.length;p++){var y=p/26|0,w=p%26;h[p]=u.words[y]>>>w&1}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var y=this._zeroBits(this.words[p]);if(h+=y,y!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this._strip()},i.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=p.length,this._strip()},i.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var p,y;this.length>h.length?(p=this,y=h):(p=h,y=this);for(var w=0;w<y.length;w++)this.words[w]=p.words[w]^y.words[w];if(this!==p)for(;w<p.length;w++)this.words[w]=p.words[w];return this.length=p.length,this._strip()},i.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,y=h%26;this._expand(p),y>0&&p--;for(var w=0;w<p;w++)this.words[w]=~this.words[w]&67108863;return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this._strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,p){n(typeof h=="number"&&h>=0);var y=h/26|0,w=h%26;return this._expand(y+1),p?this.words[y]=this.words[y]|1<<w:this.words[y]=this.words[y]&~(1<<w),this._strip()},i.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var y,w;this.length>h.length?(y=this,w=h):(y=h,w=this);for(var _=0,g=0;g<w.length;g++)p=(y.words[g]|0)+(w.words[g]|0)+_,this.words[g]=p&67108863,_=p>>>26;for(;_!==0&&g<y.length;g++)p=(y.words[g]|0)+_,this.words[g]=p&67108863,_=p>>>26;if(this.length=y.length,_!==0)this.words[this.length]=_,this.length++;else if(y!==this)for(;g<y.length;g++)this.words[g]=y.words[g];return this},i.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var y=this.cmp(h);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,_;y>0?(w=this,_=h):(w=h,_=this);for(var g=0,f=0;f<_.length;f++)p=(w.words[f]|0)-(_.words[f]|0)+g,g=p>>26,this.words[f]=p&67108863;for(;g!==0&&f<w.length;f++)p=(w.words[f]|0)+g,g=p>>26,this.words[f]=p&67108863;if(g===0&&f<w.length&&w!==this)for(;f<w.length;f++)this.words[f]=w.words[f];return this.length=Math.max(this.length,f),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function $(u,h,p){p.negative=h.negative^u.negative;var y=u.length+h.length|0;p.length=y,y=y-1|0;var w=u.words[0]|0,_=h.words[0]|0,g=w*_,f=g&67108863,m=g/67108864|0;p.words[0]=f;for(var I=1;I<y;I++){for(var P=m>>>26,j=m&67108863,k=Math.min(I,h.length-1),z=Math.max(0,I-u.length+1);z<=k;z++){var B=I-z|0;w=u.words[B]|0,_=h.words[z]|0,g=w*_+j,P+=g/67108864|0,j=g&67108863}p.words[I]=j|0,m=P|0}return m!==0?p.words[I]=m|0:p.length--,p._strip()}var O=function(h,p,y){var w=h.words,_=p.words,g=y.words,f=0,m,I,P,j=w[0]|0,k=j&8191,z=j>>>13,B=w[1]|0,U=B&8191,K=B>>>13,Y=w[2]|0,X=Y&8191,G=Y>>>13,ne=w[3]|0,le=ne&8191,de=ne>>>13,me=w[4]|0,rt=me&8191,Ae=me>>>13,he=w[5]|0,Rt=he&8191,Ie=he>>>13,ke=w[6]|0,$t=ke&8191,ae=ke>>>13,ue=w[7]|0,je=ue&8191,ge=ue>>>13,we=w[8]|0,jt=we&8191,Ee=we>>>13,Me=w[9]|0,dt=Me&8191,xe=Me>>>13,$e=_[0]|0,Gt=$e&8191,Le=$e>>>13,Ke=_[1]|0,sr=Ke&8191,Ue=Ke>>>13,Ze=_[2]|0,hr=Ze&8191,ze=Ze>>>13,et=_[3]|0,rr=et&8191,De=et>>>13,Ge=_[4]|0,cr=Ge&8191,qe=Ge>>>13,Xe=_[5]|0,gr=Xe&8191,Pe=Xe>>>13,Ye=_[6]|0,Q=Ye&8191,ee=Ye>>>13,te=_[7]|0,q=te&8191,re=te>>>13,fe=_[8]|0,Se=fe&8191,pe=fe>>>13,be=_[9]|0,ut=be&8191,nt=be>>>13;y.negative=h.negative^p.negative,y.length=19,m=Math.imul(k,Gt),I=Math.imul(k,Le),I=I+Math.imul(z,Gt)|0,P=Math.imul(z,Le);var Vt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,m=Math.imul(U,Gt),I=Math.imul(U,Le),I=I+Math.imul(K,Gt)|0,P=Math.imul(K,Le),m=m+Math.imul(k,sr)|0,I=I+Math.imul(k,Ue)|0,I=I+Math.imul(z,sr)|0,P=P+Math.imul(z,Ue)|0;var bt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(X,Gt),I=Math.imul(X,Le),I=I+Math.imul(G,Gt)|0,P=Math.imul(G,Le),m=m+Math.imul(U,sr)|0,I=I+Math.imul(U,Ue)|0,I=I+Math.imul(K,sr)|0,P=P+Math.imul(K,Ue)|0,m=m+Math.imul(k,hr)|0,I=I+Math.imul(k,ze)|0,I=I+Math.imul(z,hr)|0,P=P+Math.imul(z,ze)|0;var Ct=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(le,Gt),I=Math.imul(le,Le),I=I+Math.imul(de,Gt)|0,P=Math.imul(de,Le),m=m+Math.imul(X,sr)|0,I=I+Math.imul(X,Ue)|0,I=I+Math.imul(G,sr)|0,P=P+Math.imul(G,Ue)|0,m=m+Math.imul(U,hr)|0,I=I+Math.imul(U,ze)|0,I=I+Math.imul(K,hr)|0,P=P+Math.imul(K,ze)|0,m=m+Math.imul(k,rr)|0,I=I+Math.imul(k,De)|0,I=I+Math.imul(z,rr)|0,P=P+Math.imul(z,De)|0;var Bt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(rt,Gt),I=Math.imul(rt,Le),I=I+Math.imul(Ae,Gt)|0,P=Math.imul(Ae,Le),m=m+Math.imul(le,sr)|0,I=I+Math.imul(le,Ue)|0,I=I+Math.imul(de,sr)|0,P=P+Math.imul(de,Ue)|0,m=m+Math.imul(X,hr)|0,I=I+Math.imul(X,ze)|0,I=I+Math.imul(G,hr)|0,P=P+Math.imul(G,ze)|0,m=m+Math.imul(U,rr)|0,I=I+Math.imul(U,De)|0,I=I+Math.imul(K,rr)|0,P=P+Math.imul(K,De)|0,m=m+Math.imul(k,cr)|0,I=I+Math.imul(k,qe)|0,I=I+Math.imul(z,cr)|0,P=P+Math.imul(z,qe)|0;var kt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Rt,Gt),I=Math.imul(Rt,Le),I=I+Math.imul(Ie,Gt)|0,P=Math.imul(Ie,Le),m=m+Math.imul(rt,sr)|0,I=I+Math.imul(rt,Ue)|0,I=I+Math.imul(Ae,sr)|0,P=P+Math.imul(Ae,Ue)|0,m=m+Math.imul(le,hr)|0,I=I+Math.imul(le,ze)|0,I=I+Math.imul(de,hr)|0,P=P+Math.imul(de,ze)|0,m=m+Math.imul(X,rr)|0,I=I+Math.imul(X,De)|0,I=I+Math.imul(G,rr)|0,P=P+Math.imul(G,De)|0,m=m+Math.imul(U,cr)|0,I=I+Math.imul(U,qe)|0,I=I+Math.imul(K,cr)|0,P=P+Math.imul(K,qe)|0,m=m+Math.imul(k,gr)|0,I=I+Math.imul(k,Pe)|0,I=I+Math.imul(z,gr)|0,P=P+Math.imul(z,Pe)|0;var Lt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,m=Math.imul($t,Gt),I=Math.imul($t,Le),I=I+Math.imul(ae,Gt)|0,P=Math.imul(ae,Le),m=m+Math.imul(Rt,sr)|0,I=I+Math.imul(Rt,Ue)|0,I=I+Math.imul(Ie,sr)|0,P=P+Math.imul(Ie,Ue)|0,m=m+Math.imul(rt,hr)|0,I=I+Math.imul(rt,ze)|0,I=I+Math.imul(Ae,hr)|0,P=P+Math.imul(Ae,ze)|0,m=m+Math.imul(le,rr)|0,I=I+Math.imul(le,De)|0,I=I+Math.imul(de,rr)|0,P=P+Math.imul(de,De)|0,m=m+Math.imul(X,cr)|0,I=I+Math.imul(X,qe)|0,I=I+Math.imul(G,cr)|0,P=P+Math.imul(G,qe)|0,m=m+Math.imul(U,gr)|0,I=I+Math.imul(U,Pe)|0,I=I+Math.imul(K,gr)|0,P=P+Math.imul(K,Pe)|0,m=m+Math.imul(k,Q)|0,I=I+Math.imul(k,ee)|0,I=I+Math.imul(z,Q)|0,P=P+Math.imul(z,ee)|0;var Dt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,m=Math.imul(je,Gt),I=Math.imul(je,Le),I=I+Math.imul(ge,Gt)|0,P=Math.imul(ge,Le),m=m+Math.imul($t,sr)|0,I=I+Math.imul($t,Ue)|0,I=I+Math.imul(ae,sr)|0,P=P+Math.imul(ae,Ue)|0,m=m+Math.imul(Rt,hr)|0,I=I+Math.imul(Rt,ze)|0,I=I+Math.imul(Ie,hr)|0,P=P+Math.imul(Ie,ze)|0,m=m+Math.imul(rt,rr)|0,I=I+Math.imul(rt,De)|0,I=I+Math.imul(Ae,rr)|0,P=P+Math.imul(Ae,De)|0,m=m+Math.imul(le,cr)|0,I=I+Math.imul(le,qe)|0,I=I+Math.imul(de,cr)|0,P=P+Math.imul(de,qe)|0,m=m+Math.imul(X,gr)|0,I=I+Math.imul(X,Pe)|0,I=I+Math.imul(G,gr)|0,P=P+Math.imul(G,Pe)|0,m=m+Math.imul(U,Q)|0,I=I+Math.imul(U,ee)|0,I=I+Math.imul(K,Q)|0,P=P+Math.imul(K,ee)|0,m=m+Math.imul(k,q)|0,I=I+Math.imul(k,re)|0,I=I+Math.imul(z,q)|0,P=P+Math.imul(z,re)|0;var Nt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(jt,Gt),I=Math.imul(jt,Le),I=I+Math.imul(Ee,Gt)|0,P=Math.imul(Ee,Le),m=m+Math.imul(je,sr)|0,I=I+Math.imul(je,Ue)|0,I=I+Math.imul(ge,sr)|0,P=P+Math.imul(ge,Ue)|0,m=m+Math.imul($t,hr)|0,I=I+Math.imul($t,ze)|0,I=I+Math.imul(ae,hr)|0,P=P+Math.imul(ae,ze)|0,m=m+Math.imul(Rt,rr)|0,I=I+Math.imul(Rt,De)|0,I=I+Math.imul(Ie,rr)|0,P=P+Math.imul(Ie,De)|0,m=m+Math.imul(rt,cr)|0,I=I+Math.imul(rt,qe)|0,I=I+Math.imul(Ae,cr)|0,P=P+Math.imul(Ae,qe)|0,m=m+Math.imul(le,gr)|0,I=I+Math.imul(le,Pe)|0,I=I+Math.imul(de,gr)|0,P=P+Math.imul(de,Pe)|0,m=m+Math.imul(X,Q)|0,I=I+Math.imul(X,ee)|0,I=I+Math.imul(G,Q)|0,P=P+Math.imul(G,ee)|0,m=m+Math.imul(U,q)|0,I=I+Math.imul(U,re)|0,I=I+Math.imul(K,q)|0,P=P+Math.imul(K,re)|0,m=m+Math.imul(k,Se)|0,I=I+Math.imul(k,pe)|0,I=I+Math.imul(z,Se)|0,P=P+Math.imul(z,pe)|0;var Ut=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(dt,Gt),I=Math.imul(dt,Le),I=I+Math.imul(xe,Gt)|0,P=Math.imul(xe,Le),m=m+Math.imul(jt,sr)|0,I=I+Math.imul(jt,Ue)|0,I=I+Math.imul(Ee,sr)|0,P=P+Math.imul(Ee,Ue)|0,m=m+Math.imul(je,hr)|0,I=I+Math.imul(je,ze)|0,I=I+Math.imul(ge,hr)|0,P=P+Math.imul(ge,ze)|0,m=m+Math.imul($t,rr)|0,I=I+Math.imul($t,De)|0,I=I+Math.imul(ae,rr)|0,P=P+Math.imul(ae,De)|0,m=m+Math.imul(Rt,cr)|0,I=I+Math.imul(Rt,qe)|0,I=I+Math.imul(Ie,cr)|0,P=P+Math.imul(Ie,qe)|0,m=m+Math.imul(rt,gr)|0,I=I+Math.imul(rt,Pe)|0,I=I+Math.imul(Ae,gr)|0,P=P+Math.imul(Ae,Pe)|0,m=m+Math.imul(le,Q)|0,I=I+Math.imul(le,ee)|0,I=I+Math.imul(de,Q)|0,P=P+Math.imul(de,ee)|0,m=m+Math.imul(X,q)|0,I=I+Math.imul(X,re)|0,I=I+Math.imul(G,q)|0,P=P+Math.imul(G,re)|0,m=m+Math.imul(U,Se)|0,I=I+Math.imul(U,pe)|0,I=I+Math.imul(K,Se)|0,P=P+Math.imul(K,pe)|0,m=m+Math.imul(k,ut)|0,I=I+Math.imul(k,nt)|0,I=I+Math.imul(z,ut)|0,P=P+Math.imul(z,nt)|0;var At=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(dt,sr),I=Math.imul(dt,Ue),I=I+Math.imul(xe,sr)|0,P=Math.imul(xe,Ue),m=m+Math.imul(jt,hr)|0,I=I+Math.imul(jt,ze)|0,I=I+Math.imul(Ee,hr)|0,P=P+Math.imul(Ee,ze)|0,m=m+Math.imul(je,rr)|0,I=I+Math.imul(je,De)|0,I=I+Math.imul(ge,rr)|0,P=P+Math.imul(ge,De)|0,m=m+Math.imul($t,cr)|0,I=I+Math.imul($t,qe)|0,I=I+Math.imul(ae,cr)|0,P=P+Math.imul(ae,qe)|0,m=m+Math.imul(Rt,gr)|0,I=I+Math.imul(Rt,Pe)|0,I=I+Math.imul(Ie,gr)|0,P=P+Math.imul(Ie,Pe)|0,m=m+Math.imul(rt,Q)|0,I=I+Math.imul(rt,ee)|0,I=I+Math.imul(Ae,Q)|0,P=P+Math.imul(Ae,ee)|0,m=m+Math.imul(le,q)|0,I=I+Math.imul(le,re)|0,I=I+Math.imul(de,q)|0,P=P+Math.imul(de,re)|0,m=m+Math.imul(X,Se)|0,I=I+Math.imul(X,pe)|0,I=I+Math.imul(G,Se)|0,P=P+Math.imul(G,pe)|0,m=m+Math.imul(U,ut)|0,I=I+Math.imul(U,nt)|0,I=I+Math.imul(K,ut)|0,P=P+Math.imul(K,nt)|0;var Tt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(dt,hr),I=Math.imul(dt,ze),I=I+Math.imul(xe,hr)|0,P=Math.imul(xe,ze),m=m+Math.imul(jt,rr)|0,I=I+Math.imul(jt,De)|0,I=I+Math.imul(Ee,rr)|0,P=P+Math.imul(Ee,De)|0,m=m+Math.imul(je,cr)|0,I=I+Math.imul(je,qe)|0,I=I+Math.imul(ge,cr)|0,P=P+Math.imul(ge,qe)|0,m=m+Math.imul($t,gr)|0,I=I+Math.imul($t,Pe)|0,I=I+Math.imul(ae,gr)|0,P=P+Math.imul(ae,Pe)|0,m=m+Math.imul(Rt,Q)|0,I=I+Math.imul(Rt,ee)|0,I=I+Math.imul(Ie,Q)|0,P=P+Math.imul(Ie,ee)|0,m=m+Math.imul(rt,q)|0,I=I+Math.imul(rt,re)|0,I=I+Math.imul(Ae,q)|0,P=P+Math.imul(Ae,re)|0,m=m+Math.imul(le,Se)|0,I=I+Math.imul(le,pe)|0,I=I+Math.imul(de,Se)|0,P=P+Math.imul(de,pe)|0,m=m+Math.imul(X,ut)|0,I=I+Math.imul(X,nt)|0,I=I+Math.imul(G,ut)|0,P=P+Math.imul(G,nt)|0;var wt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(wt>>>26)|0,wt&=67108863,m=Math.imul(dt,rr),I=Math.imul(dt,De),I=I+Math.imul(xe,rr)|0,P=Math.imul(xe,De),m=m+Math.imul(jt,cr)|0,I=I+Math.imul(jt,qe)|0,I=I+Math.imul(Ee,cr)|0,P=P+Math.imul(Ee,qe)|0,m=m+Math.imul(je,gr)|0,I=I+Math.imul(je,Pe)|0,I=I+Math.imul(ge,gr)|0,P=P+Math.imul(ge,Pe)|0,m=m+Math.imul($t,Q)|0,I=I+Math.imul($t,ee)|0,I=I+Math.imul(ae,Q)|0,P=P+Math.imul(ae,ee)|0,m=m+Math.imul(Rt,q)|0,I=I+Math.imul(Rt,re)|0,I=I+Math.imul(Ie,q)|0,P=P+Math.imul(Ie,re)|0,m=m+Math.imul(rt,Se)|0,I=I+Math.imul(rt,pe)|0,I=I+Math.imul(Ae,Se)|0,P=P+Math.imul(Ae,pe)|0,m=m+Math.imul(le,ut)|0,I=I+Math.imul(le,nt)|0,I=I+Math.imul(de,ut)|0,P=P+Math.imul(de,nt)|0;var xt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(dt,cr),I=Math.imul(dt,qe),I=I+Math.imul(xe,cr)|0,P=Math.imul(xe,qe),m=m+Math.imul(jt,gr)|0,I=I+Math.imul(jt,Pe)|0,I=I+Math.imul(Ee,gr)|0,P=P+Math.imul(Ee,Pe)|0,m=m+Math.imul(je,Q)|0,I=I+Math.imul(je,ee)|0,I=I+Math.imul(ge,Q)|0,P=P+Math.imul(ge,ee)|0,m=m+Math.imul($t,q)|0,I=I+Math.imul($t,re)|0,I=I+Math.imul(ae,q)|0,P=P+Math.imul(ae,re)|0,m=m+Math.imul(Rt,Se)|0,I=I+Math.imul(Rt,pe)|0,I=I+Math.imul(Ie,Se)|0,P=P+Math.imul(Ie,pe)|0,m=m+Math.imul(rt,ut)|0,I=I+Math.imul(rt,nt)|0,I=I+Math.imul(Ae,ut)|0,P=P+Math.imul(Ae,nt)|0;var Mt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(dt,gr),I=Math.imul(dt,Pe),I=I+Math.imul(xe,gr)|0,P=Math.imul(xe,Pe),m=m+Math.imul(jt,Q)|0,I=I+Math.imul(jt,ee)|0,I=I+Math.imul(Ee,Q)|0,P=P+Math.imul(Ee,ee)|0,m=m+Math.imul(je,q)|0,I=I+Math.imul(je,re)|0,I=I+Math.imul(ge,q)|0,P=P+Math.imul(ge,re)|0,m=m+Math.imul($t,Se)|0,I=I+Math.imul($t,pe)|0,I=I+Math.imul(ae,Se)|0,P=P+Math.imul(ae,pe)|0,m=m+Math.imul(Rt,ut)|0,I=I+Math.imul(Rt,nt)|0,I=I+Math.imul(Ie,ut)|0,P=P+Math.imul(Ie,nt)|0;var vt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(dt,Q),I=Math.imul(dt,ee),I=I+Math.imul(xe,Q)|0,P=Math.imul(xe,ee),m=m+Math.imul(jt,q)|0,I=I+Math.imul(jt,re)|0,I=I+Math.imul(Ee,q)|0,P=P+Math.imul(Ee,re)|0,m=m+Math.imul(je,Se)|0,I=I+Math.imul(je,pe)|0,I=I+Math.imul(ge,Se)|0,P=P+Math.imul(ge,pe)|0,m=m+Math.imul($t,ut)|0,I=I+Math.imul($t,nt)|0,I=I+Math.imul(ae,ut)|0,P=P+Math.imul(ae,nt)|0;var Be=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Be>>>26)|0,Be&=67108863,m=Math.imul(dt,q),I=Math.imul(dt,re),I=I+Math.imul(xe,q)|0,P=Math.imul(xe,re),m=m+Math.imul(jt,Se)|0,I=I+Math.imul(jt,pe)|0,I=I+Math.imul(Ee,Se)|0,P=P+Math.imul(Ee,pe)|0,m=m+Math.imul(je,ut)|0,I=I+Math.imul(je,nt)|0,I=I+Math.imul(ge,ut)|0,P=P+Math.imul(ge,nt)|0;var Ne=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(dt,Se),I=Math.imul(dt,pe),I=I+Math.imul(xe,Se)|0,P=Math.imul(xe,pe),m=m+Math.imul(jt,ut)|0,I=I+Math.imul(jt,nt)|0,I=I+Math.imul(Ee,ut)|0,P=P+Math.imul(Ee,nt)|0;var pt=(f+m|0)+((I&8191)<<13)|0;f=(P+(I>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(dt,ut),I=Math.imul(dt,nt),I=I+Math.imul(xe,ut)|0,P=Math.imul(xe,nt);var ot=(f+m|0)+((I&8191)<<13)|0;return f=(P+(I>>>13)|0)+(ot>>>26)|0,ot&=67108863,g[0]=Vt,g[1]=bt,g[2]=Ct,g[3]=Bt,g[4]=kt,g[5]=Lt,g[6]=Dt,g[7]=Nt,g[8]=Ut,g[9]=At,g[10]=Tt,g[11]=wt,g[12]=xt,g[13]=Mt,g[14]=vt,g[15]=Be,g[16]=Ne,g[17]=pt,g[18]=ot,f!==0&&(g[19]=f,y.length++),y};Math.imul||(O=$);function D(u,h,p){p.negative=h.negative^u.negative,p.length=u.length+h.length;for(var y=0,w=0,_=0;_<p.length-1;_++){var g=w;w=0;for(var f=y&67108863,m=Math.min(_,h.length-1),I=Math.max(0,_-u.length+1);I<=m;I++){var P=_-I,j=u.words[P]|0,k=h.words[I]|0,z=j*k,B=z&67108863;g=g+(z/67108864|0)|0,B=B+f|0,f=B&67108863,g=g+(B>>>26)|0,w+=g>>>26,g&=67108863}p.words[_]=f,y=g,g=w}return y!==0?p.words[_]=y:p.length--,p._strip()}function L(u,h,p){return D(u,h,p)}i.prototype.mulTo=function(h,p){var y,w=this.length+h.length;return this.length===10&&h.length===10?y=O(this,h,p):w<63?y=$(this,h,p):w<1024?y=D(this,h,p):y=L(this,h,p),y},i.prototype.mul=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},i.prototype.mulf=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),L(this,h,p)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){var p=h<0;p&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var y=0,w=0;w<this.length;w++){var _=(this.words[w]|0)*h,g=(_&67108863)+(y&67108863);y>>=26,y+=_/67108864|0,y+=g>>>26,this.words[w]=g&67108863}return y!==0&&(this.words[w]=y,this.length++),p?this.ineg():this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var p=T(h);if(p.length===0)return new i(1);for(var y=this,w=0;w<p.length&&p[w]===0;w++,y=y.sqr());if(++w<p.length)for(var _=y.sqr();w<p.length;w++,_=_.sqr())p[w]!==0&&(y=y.mul(_));return y},i.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,w=67108863>>>26-p<<26-p,_;if(p!==0){var g=0;for(_=0;_<this.length;_++){var f=this.words[_]&w,m=(this.words[_]|0)-f<<p;this.words[_]=m|g,g=f>>>26-p}g&&(this.words[_]=g,this.length++)}if(y!==0){for(_=this.length-1;_>=0;_--)this.words[_+y]=this.words[_];for(_=0;_<y;_++)this.words[_]=0;this.length+=y}return this._strip()},i.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,p,y){n(typeof h=="number"&&h>=0);var w;p?w=(p-p%26)/26:w=0;var _=h%26,g=Math.min((h-_)/26,this.length),f=67108863^67108863>>>_<<_,m=y;if(w-=g,w=Math.max(0,w),m){for(var I=0;I<g;I++)m.words[I]=this.words[I];m.length=g}if(g!==0)if(this.length>g)for(this.length-=g,I=0;I<this.length;I++)this.words[I]=this.words[I+g];else this.words[0]=0,this.length=1;var P=0;for(I=this.length-1;I>=0&&(P!==0||I>=w);I--){var j=this.words[I]|0;this.words[I]=P<<26-_|j>>>_,P=j&f}return m&&P!==0&&(m.words[m.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(h,p,y){return n(this.negative===0),this.iushrn(h,p,y)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,w=1<<p;if(this.length<=y)return!1;var _=this.words[y];return!!(_&w)},i.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(p!==0&&y++,this.length=Math.min(y,this.length),p!==0){var w=67108863^67108863>>>p<<p;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,p,y){var w=h.length+y,_;this._expand(w);var g,f=0;for(_=0;_<h.length;_++){g=(this.words[_+y]|0)+f;var m=(h.words[_]|0)*p;g-=m&67108863,f=(g>>26)-(m/67108864|0),this.words[_+y]=g&67108863}for(;_<this.length-y;_++)g=(this.words[_+y]|0)+f,f=g>>26,this.words[_+y]=g&67108863;if(f===0)return this._strip();for(n(f===-1),f=0,_=0;_<this.length;_++)g=-(this.words[_]|0)+f,f=g>>26,this.words[_]=g&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(h,p){var y=this.length-h.length,w=this.clone(),_=h,g=_.words[_.length-1]|0,f=this._countBits(g);y=26-f,y!==0&&(_=_.ushln(y),w.iushln(y),g=_.words[_.length-1]|0);var m=w.length-_.length,I;if(p!=="mod"){I=new i(null),I.length=m+1,I.words=new Array(I.length);for(var P=0;P<I.length;P++)I.words[P]=0}var j=w.clone()._ishlnsubmul(_,1,m);j.negative===0&&(w=j,I&&(I.words[m]=1));for(var k=m-1;k>=0;k--){var z=(w.words[_.length+k]|0)*67108864+(w.words[_.length+k-1]|0);for(z=Math.min(z/g|0,67108863),w._ishlnsubmul(_,z,k);w.negative!==0;)z--,w.negative=0,w._ishlnsubmul(_,1,k),w.isZero()||(w.negative^=1);I&&(I.words[k]=z)}return I&&I._strip(),w._strip(),p!=="div"&&y!==0&&w.iushrn(y),{div:I||null,mod:w}},i.prototype.divmod=function(h,p,y){if(n(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,_,g;return this.negative!==0&&h.negative===0?(g=this.neg().divmod(h,p),p!=="mod"&&(w=g.div.neg()),p!=="div"&&(_=g.mod.neg(),y&&_.negative!==0&&_.iadd(h)),{div:w,mod:_}):this.negative===0&&h.negative!==0?(g=this.divmod(h.neg(),p),p!=="mod"&&(w=g.div.neg()),{div:w,mod:g.mod}):this.negative&h.negative?(g=this.neg().divmod(h.neg(),p),p!=="div"&&(_=g.mod.neg(),y&&_.negative!==0&&_.isub(h)),{div:g.div,mod:_}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modrn(h.words[0]))}:this._wordDiv(h,p)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var y=p.div.negative!==0?p.mod.isub(h):p.mod,w=h.ushrn(1),_=h.andln(1),g=y.cmp(w);return g<0||_===1&&g===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(h){var p=h<0;p&&(h=-h),n(h<=67108863);for(var y=(1<<26)%h,w=0,_=this.length-1;_>=0;_--)w=(y*w+(this.words[_]|0))%h;return p?-w:w},i.prototype.modn=function(h){return this.modrn(h)},i.prototype.idivn=function(h){var p=h<0;p&&(h=-h),n(h<=67108863);for(var y=0,w=this.length-1;w>=0;w--){var _=(this.words[w]|0)+y*67108864;this.words[w]=_/h|0,y=_%h}return this._strip(),p?this.ineg():this},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var w=new i(1),_=new i(0),g=new i(0),f=new i(1),m=0;p.isEven()&&y.isEven();)p.iushrn(1),y.iushrn(1),++m;for(var I=y.clone(),P=p.clone();!p.isZero();){for(var j=0,k=1;!(p.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(I),_.isub(P)),w.iushrn(1),_.iushrn(1);for(var z=0,B=1;!(y.words[0]&B)&&z<26;++z,B<<=1);if(z>0)for(y.iushrn(z);z-- >0;)(g.isOdd()||f.isOdd())&&(g.iadd(I),f.isub(P)),g.iushrn(1),f.iushrn(1);p.cmp(y)>=0?(p.isub(y),w.isub(g),_.isub(f)):(y.isub(p),g.isub(w),f.isub(_))}return{a:g,b:f,gcd:y.iushln(m)}},i.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var w=new i(1),_=new i(0),g=y.clone();p.cmpn(1)>0&&y.cmpn(1)>0;){for(var f=0,m=1;!(p.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(p.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(g),w.iushrn(1);for(var I=0,P=1;!(y.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(y.iushrn(I);I-- >0;)_.isOdd()&&_.iadd(g),_.iushrn(1);p.cmp(y)>=0?(p.isub(y),w.isub(_)):(y.isub(p),_.isub(w))}var j;return p.cmpn(1)===0?j=w:j=_,j.cmpn(0)<0&&j.iadd(h),j},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),y=h.clone();p.negative=0,y.negative=0;for(var w=0;p.isEven()&&y.isEven();w++)p.iushrn(1),y.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;y.isEven();)y.iushrn(1);var _=p.cmp(y);if(_<0){var g=p;p=y,y=g}else if(_===0||y.cmpn(1)===0)break;p.isub(y)}while(!0);return y.iushln(w)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){n(typeof h=="number");var p=h%26,y=(h-p)/26,w=1<<p;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var _=w,g=y;_!==0&&g<this.length;g++){var f=this.words[g]|0;f+=_,_=f>>>26,f&=67108863,this.words[g]=f}return _!==0&&(this.words[g]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var y;if(this.length>1)y=1;else{p&&(h=-h),n(h<=67108863,"Number is too big");var w=this.words[0]|0;y=w===h?0:w<h?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,y=this.length-1;y>=0;y--){var w=this.words[y]|0,_=h.words[y]|0;if(w!==_){w<_?p=-1:w>_&&(p=1);break}}return p},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new S(h)},i.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var F={k256:null,p224:null,p192:null,p25519:null};function H(u,h){this.name=u,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},H.prototype.ireduce=function(h){var p=h,y;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),y=p.bitLength();while(y>this.n);var w=y<this.n?-1:p.ucmp(this.p);return w===0?(p.words[0]=0,p.length=1):w>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},H.prototype.split=function(h,p){h.iushrn(this.n,0,p)},H.prototype.imulK=function(h){return h.imul(this.k)};function V(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(V,H),V.prototype.split=function(h,p){for(var y=4194303,w=Math.min(h.length,9),_=0;_<w;_++)p.words[_]=h.words[_];if(p.length=w,h.length<=9){h.words[0]=0,h.length=1;return}var g=h.words[9];for(p.words[p.length++]=g&y,_=10;_<h.length;_++){var f=h.words[_]|0;h.words[_-10]=(f&y)<<4|g>>>22,g=f}g>>>=22,h.words[_-10]=g,g===0&&h.length>10?h.length-=10:h.length-=9},V.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,y=0;y<h.length;y++){var w=h.words[y]|0;p+=w*977,h.words[y]=p&67108863,p=w*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function J(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(J,H);function Z(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Z,H);function se(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(se,H),se.prototype.imulK=function(h){for(var p=0,y=0;y<h.length;y++){var w=(h.words[y]|0)*19+p,_=w&67108863;w>>>=26,h.words[y]=_,p=w}return p!==0&&(h.words[h.length++]=p),h},i._prime=function(h){if(F[h])return F[h];var p;if(h==="k256")p=new V;else if(h==="p224")p=new J;else if(h==="p192")p=new Z;else if(h==="p25519")p=new se;else throw new Error("Unknown prime "+h);return F[h]=p,p};function S(u){if(typeof u=="string"){var h=i._prime(u);this.m=h.p,this.prime=h}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}S.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},S.prototype._verify2=function(h,p){n((h.negative|p.negative)===0,"red works only with positives"),n(h.red&&h.red===p.red,"red works only with red numbers")},S.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(v(h,h.umod(this.m)._forceRed(this)),h)},S.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},S.prototype.add=function(h,p){this._verify2(h,p);var y=h.add(p);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},S.prototype.iadd=function(h,p){this._verify2(h,p);var y=h.iadd(p);return y.cmp(this.m)>=0&&y.isub(this.m),y},S.prototype.sub=function(h,p){this._verify2(h,p);var y=h.sub(p);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},S.prototype.isub=function(h,p){this._verify2(h,p);var y=h.isub(p);return y.cmpn(0)<0&&y.iadd(this.m),y},S.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},S.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},S.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},S.prototype.isqr=function(h){return this.imul(h,h.clone())},S.prototype.sqr=function(h){return this.mul(h,h)},S.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(h,y)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);n(!w.isZero());var g=new i(1).toRed(this),f=g.redNeg(),m=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new i(2*I*I).toRed(this);this.pow(I,m).cmp(f)!==0;)I.redIAdd(f);for(var P=this.pow(I,w),j=this.pow(h,w.addn(1).iushrn(1)),k=this.pow(h,w),z=_;k.cmp(g)!==0;){for(var B=k,U=0;B.cmp(g)!==0;U++)B=B.redSqr();n(U<z);var K=this.pow(P,new i(1).iushln(z-U-1));j=j.redMul(K),P=K.redSqr(),k=k.redMul(P),z=U}return j},S.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},S.prototype.pow=function(h,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var y=4,w=new Array(1<<y);w[0]=new i(1).toRed(this),w[1]=h;for(var _=2;_<w.length;_++)w[_]=this.mul(w[_-1],h);var g=w[0],f=0,m=0,I=p.bitLength()%26;for(I===0&&(I=26),_=p.length-1;_>=0;_--){for(var P=p.words[_],j=I-1;j>=0;j--){var k=P>>j&1;if(g!==w[0]&&(g=this.sqr(g)),k===0&&f===0){m=0;continue}f<<=1,f|=k,m++,!(m!==y&&(_!==0||j!==0))&&(g=this.mul(g,w[f]),m=0,f=0)}I=26}return g},S.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},S.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},i.mont=function(h){return new a(h)};function a(u){S.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(a,S),a.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},a.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},a.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(p),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(w).iushrn(this.shift),g=_;return _.cmp(this.m)>=0?g=_.isub(this.m):_.cmpn(0)<0&&(g=_.iadd(this.m)),g._forceRed(this)},a.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new i(0)._forceRed(this);var y=h.mul(p),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(w).iushrn(this.shift),g=_;return _.cmp(this.m)>=0?g=_.isub(this.m):_.cmpn(0)<0&&(g=_.iadd(this.m)),g._forceRed(this)},a.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,He)})(TR);var qm=TR.exports;const c8=Mr(qm);var W0=qm,bme=lg;function wme(t){var e=GK(t),r=e.toRed(W0.mont(t.modulus)).redPow(new W0(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function GK(t){var e=t.modulus.byteLength(),r;do r=new W0(bme(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function WK(t,e){var r=wme(e),n=e.modulus.byteLength(),s=new W0(t).mul(r.blinder).umod(e.modulus),i=s.toRed(W0.mont(e.prime1)),o=s.toRed(W0.mont(e.prime2)),c=e.coefficient,l=e.prime1,d=e.prime2,v=i.redPow(e.exponent1).fromRed(),b=o.redPow(e.exponent2).fromRed(),A=v.isub(b).imul(c).umod(l).imul(d);return b.iadd(A).imul(r.unblinder).umod(e.modulus).toArrayLike(Re.Buffer,"be",n)}WK.getr=GK;var $R=WK,D3={};const _me="elliptic",Eme="6.5.4",Sme="EC cryptography",Ame="lib/elliptic.js",xme=["lib"],Mme={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Ime={type:"git",url:"git@github.com:indutny/elliptic"},Rme=["EC","Elliptic","curve","Cryptography"],Tme="Fedor Indutny <fedor@indutny.com>",$me="MIT",Cme={url:"https://github.com/indutny/elliptic/issues"},Ome="https://github.com/indutny/elliptic",Bme={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Pme={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Nme={name:_me,version:Eme,description:Sme,main:Ame,files:xme,scripts:Mme,repository:Ime,keywords:Rme,author:Tme,license:$me,bugs:Cme,homepage:Ome,devDependencies:Bme,dependencies:Pme};var Wo={},CR={exports:{}};CR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(CR);var Ku=CR.exports,OR={};(function(t){var e=t;function r(i,o){if(Array.isArray(i))return i.slice();if(!i)return[];var c=[];if(typeof i!="string"){for(var l=0;l<i.length;l++)c[l]=i[l]|0;return c}if(o==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var l=0;l<i.length;l+=2)c.push(parseInt(i[l]+i[l+1],16))}else for(var l=0;l<i.length;l++){var d=i.charCodeAt(l),v=d>>8,b=d&255;v?c.push(v,b):c.push(b)}return c}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var o="",c=0;c<i.length;c++)o+=n(i[c].toString(16));return o}e.toHex=s,e.encode=function(o,c){return c==="hex"?s(o):o}})(OR);(function(t){var e=t,r=Ku,n=ka,s=OR;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(v,b,A){var x=new Array(Math.max(v.bitLength(),A)+1);x.fill(0);for(var R=1<<b+1,C=v.clone(),T=0;T<x.length;T++){var $,O=C.andln(R-1);C.isOdd()?(O>(R>>1)-1?$=(R>>1)-O:$=O,C.isubn($)):$=0,x[T]=$,C.iushrn(1)}return x}e.getNAF=i;function o(v,b){var A=[[],[]];v=v.clone(),b=b.clone();for(var x=0,R=0,C;v.cmpn(-x)>0||b.cmpn(-R)>0;){var T=v.andln(3)+x&3,$=b.andln(3)+R&3;T===3&&(T=-1),$===3&&($=-1);var O;T&1?(C=v.andln(7)+x&7,(C===3||C===5)&&$===2?O=-T:O=T):O=0,A[0].push(O);var D;$&1?(C=b.andln(7)+R&7,(C===3||C===5)&&T===2?D=-$:D=$):D=0,A[1].push(D),2*x===O+1&&(x=1-x),2*R===D+1&&(R=1-R),v.iushrn(1),b.iushrn(1)}return A}e.getJSF=o;function c(v,b,A){var x="_"+b;v.prototype[b]=function(){return this[x]!==void 0?this[x]:this[x]=A.call(this)}}e.cachedProperty=c;function l(v){return typeof v=="string"?e.toArray(v,"hex"):v}e.parseBytes=l;function d(v){return new r(v,"hex","le")}e.intFromLE=d})(Wo);var BR={},$h=Ku,zm=Wo,C_=zm.getNAF,kme=zm.getJSF,O_=zm.assert;function oh(t,e){this.type=t,this.p=new $h(e.p,16),this.red=e.prime?$h.red(e.prime):$h.mont(this.p),this.zero=new $h(0).toRed(this.red),this.one=new $h(1).toRed(this.red),this.two=new $h(2).toRed(this.red),this.n=e.n&&new $h(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var bE=oh;oh.prototype.point=function(){throw new Error("Not implemented")};oh.prototype.validate=function(){throw new Error("Not implemented")};oh.prototype._fixedNafMul=function(e,r){O_(e.precomputed);var n=e._getDoubles(),s=C_(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o=[],c,l;for(c=0;c<s.length;c+=n.step){l=0;for(var d=c+n.step-1;d>=c;d--)l=(l<<1)+s[d];o.push(l)}for(var v=this.jpoint(null,null,null),b=this.jpoint(null,null,null),A=i;A>0;A--){for(c=0;c<o.length;c++)l=o[c],l===A?b=b.mixedAdd(n.points[c]):l===-A&&(b=b.mixedAdd(n.points[c].neg()));v=v.add(b)}return v.toP()};oh.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,o=C_(r,n,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var d=0;l>=0&&o[l]===0;l--)d++;if(l>=0&&d++,c=c.dblp(d),l<0)break;var v=o[l];O_(v!==0),e.type==="affine"?v>0?c=c.mixedAdd(i[v-1>>1]):c=c.mixedAdd(i[-v-1>>1].neg()):v>0?c=c.add(i[v-1>>1]):c=c.add(i[-v-1>>1].neg())}return e.type==="affine"?c.toP():c};oh.prototype._wnafMulAdd=function(e,r,n,s,i){var o=this._wnafT1,c=this._wnafT2,l=this._wnafT3,d=0,v,b,A;for(v=0;v<s;v++){A=r[v];var x=A._getNAFPoints(e);o[v]=x.wnd,c[v]=x.points}for(v=s-1;v>=1;v-=2){var R=v-1,C=v;if(o[R]!==1||o[C]!==1){l[R]=C_(n[R],o[R],this._bitLength),l[C]=C_(n[C],o[C],this._bitLength),d=Math.max(l[R].length,d),d=Math.max(l[C].length,d);continue}var T=[r[R],null,null,r[C]];r[R].y.cmp(r[C].y)===0?(T[1]=r[R].add(r[C]),T[2]=r[R].toJ().mixedAdd(r[C].neg())):r[R].y.cmp(r[C].y.redNeg())===0?(T[1]=r[R].toJ().mixedAdd(r[C]),T[2]=r[R].add(r[C].neg())):(T[1]=r[R].toJ().mixedAdd(r[C]),T[2]=r[R].toJ().mixedAdd(r[C].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],O=kme(n[R],n[C]);for(d=Math.max(O[0].length,d),l[R]=new Array(d),l[C]=new Array(d),b=0;b<d;b++){var D=O[0][b]|0,L=O[1][b]|0;l[R][b]=$[(D+1)*3+(L+1)],l[C][b]=0,c[R]=T}}var F=this.jpoint(null,null,null),H=this._wnafT4;for(v=d;v>=0;v--){for(var V=0;v>=0;){var J=!0;for(b=0;b<s;b++)H[b]=l[b][v]|0,H[b]!==0&&(J=!1);if(!J)break;V++,v--}if(v>=0&&V++,F=F.dblp(V),v<0)break;for(b=0;b<s;b++){var Z=H[b];Z!==0&&(Z>0?A=c[b][Z-1>>1]:Z<0&&(A=c[b][-Z-1>>1].neg()),A.type==="affine"?F=F.mixedAdd(A):F=F.add(A))}}for(v=0;v<s;v++)c[v]=null;return i?F:F.toP()};function Da(t,e){this.curve=t,this.type=e,this.precomputed=null}oh.BasePoint=Da;Da.prototype.eq=function(){throw new Error("Not implemented")};Da.prototype.validate=function(){return this.curve.validate(this)};oh.prototype.decodePoint=function(e,r){e=zm.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?O_(e[e.length-1]%2===0):e[0]===7&&O_(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Da.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Da.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Da.prototype.encode=function(e,r){return zm.encode(this._encode(r),e)};Da.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Da.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Da.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var o=0;o<e;o++)s=s.dbl();n.push(s)}return{step:e,points:n}};Da.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};Da.prototype._getBeta=function(){return null};Da.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Lme=Wo,fi=Ku,PR=ir,pg=bE,Dme=Lme.assert;function Ua(t){pg.call(this,"short",t),this.a=new fi(t.a,16).toRed(this.red),this.b=new fi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}PR(Ua,pg);var Ume=Ua;Ua.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fi(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new fi(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Dme(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new fi(c.a,16),b:new fi(c.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ua.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fi.mont(e),n=new fi(2).toRed(r).redInvm(),s=n.redNeg(),i=new fi(3).toRed(r).redNeg().redSqrt().redMul(n),o=s.redAdd(i).fromRed(),c=s.redSub(i).fromRed();return[o,c]};Ua.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new fi(1),o=new fi(0),c=new fi(0),l=new fi(1),d,v,b,A,x,R,C,T=0,$,O;n.cmpn(0)!==0;){var D=s.div(n);$=s.sub(D.mul(n)),O=c.sub(D.mul(i));var L=l.sub(D.mul(o));if(!b&&$.cmp(r)<0)d=C.neg(),v=i,b=$.neg(),A=O;else if(b&&++T===2)break;C=$,s=n,n=$,c=i,i=O,l=o,o=L}x=$.neg(),R=O;var F=b.sqr().add(A.sqr()),H=x.sqr().add(R.sqr());return H.cmp(F)>=0&&(x=d,R=v),b.negative&&(b=b.neg(),A=A.neg()),x.negative&&(x=x.neg(),R=R.neg()),[{a:b,b:A},{a:x,b:R}]};Ua.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),c=i.mul(n.a),l=o.mul(s.a),d=i.mul(n.b),v=o.mul(s.b),b=e.sub(c).sub(l),A=d.add(v).neg();return{k1:b,k2:A}};Ua.prototype.pointFromX=function(e,r){e=new fi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};Ua.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Ua.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(r[o]),l=e[o],d=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),d=d.neg(!0)),s[o*2]=l,s[o*2+1]=d,i[o*2]=c.k1,i[o*2+1]=c.k2}for(var v=this._wnafMulAdd(1,s,i,o*2,n),b=0;b<o*2;b++)s[b]=null,i[b]=null;return v};function es(t,e,r,n){pg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fi(e,16),this.y=new fi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}PR(es,pg.BasePoint);Ua.prototype.point=function(e,r,n){return new es(this,e,r,n)};Ua.prototype.pointFromJSON=function(e,r){return es.fromJSON(this,e,r)};es.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};es.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};es.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(c){return e.point(c[0],c[1],n)}var o=r[2];return s.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[s].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[s].concat(o.naf.points.map(i))}},s};es.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};es.prototype.isInfinity=function(){return this.inf};es.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};es.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),o=i.redSqr().redISub(this.x.redAdd(this.x)),c=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)};es.prototype.getX=function(){return this.x.fromRed()};es.prototype.getY=function(){return this.y.fromRed()};es.prototype.mul=function(e){return e=new fi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};es.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};es.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};es.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};es.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};es.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ys(t,e,r,n){pg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fi(0)):(this.x=new fi(e,16),this.y=new fi(r,16),this.z=new fi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}PR(ys,pg.BasePoint);Ua.prototype.jpoint=function(e,r,n){return new ys(this,e,r,n)};ys.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};ys.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ys.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=s.redSub(i),d=o.redSub(c);if(l.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=l.redSqr(),b=v.redMul(l),A=s.redMul(v),x=d.redSqr().redIAdd(b).redISub(A).redISub(A),R=d.redMul(A.redISub(x)).redISub(o.redMul(b)),C=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(x,R,C)};ys.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,o=e.y.redMul(r).redMul(this.z),c=n.redSub(s),l=i.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=c.redSqr(),v=d.redMul(c),b=n.redMul(d),A=l.redSqr().redIAdd(v).redISub(b).redISub(b),x=l.redMul(b.redISub(A)).redISub(i.redMul(v)),R=this.z.redMul(c);return this.curve.jpoint(A,x,R)};ys.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,o=this.x,c=this.y,l=this.z,d=l.redSqr().redSqr(),v=c.redAdd(c);for(r=0;r<e;r++){var b=o.redSqr(),A=v.redSqr(),x=A.redSqr(),R=b.redAdd(b).redIAdd(b).redIAdd(s.redMul(d)),C=o.redMul(A),T=R.redSqr().redISub(C.redAdd(C)),$=C.redISub(T),O=R.redMul($);O=O.redIAdd(O).redISub(x);var D=v.redMul(l);r+1<e&&(d=d.redMul(x)),o=T,l=D,v=O}return this.curve.jpoint(o,v.redMul(i),l)};ys.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ys.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(s).redISub(o);c=c.redIAdd(c);var l=s.redAdd(s).redIAdd(s),d=l.redSqr().redISub(c).redISub(c),v=o.redIAdd(o);v=v.redIAdd(v),v=v.redIAdd(v),e=d,r=l.redMul(c.redISub(d)).redISub(v),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),A=this.y.redSqr(),x=A.redSqr(),R=this.x.redAdd(A).redSqr().redISub(b).redISub(x);R=R.redIAdd(R);var C=b.redAdd(b).redIAdd(b),T=C.redSqr(),$=x.redIAdd(x);$=$.redIAdd($),$=$.redIAdd($),e=T.redISub(R).redISub(R),r=C.redMul(R.redISub(e)).redISub($),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ys.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(s).redISub(o);c=c.redIAdd(c);var l=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),d=l.redSqr().redISub(c).redISub(c);e=d;var v=o.redIAdd(o);v=v.redIAdd(v),v=v.redIAdd(v),r=l.redMul(c.redISub(d)).redISub(v),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),A=this.y.redSqr(),x=this.x.redMul(A),R=this.x.redSub(b).redMul(this.x.redAdd(b));R=R.redAdd(R).redIAdd(R);var C=x.redIAdd(x);C=C.redIAdd(C);var T=C.redAdd(C);e=R.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(b);var $=A.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),r=R.redMul(C.redISub(e)).redISub($)}return this.curve.jpoint(e,r,n)};ys.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),o=r.redSqr(),c=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),d=r.redAdd(r);d=d.redIAdd(d);var v=d.redMul(c),b=l.redSqr().redISub(v.redAdd(v)),A=v.redISub(b),x=c.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var R=l.redMul(A).redISub(x),C=n.redAdd(n).redMul(s);return this.curve.jpoint(b,R,C)};ys.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(s);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var l=c.redSqr(),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var v=i.redIAdd(c).redSqr().redISub(o).redISub(l).redISub(d),b=r.redMul(v);b=b.redIAdd(b),b=b.redIAdd(b);var A=this.x.redMul(l).redISub(b);A=A.redIAdd(A),A=A.redIAdd(A);var x=this.y.redMul(v.redMul(d.redISub(v)).redISub(c.redMul(l)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var R=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(A,x,R)};ys.prototype.mul=function(e,r){return e=new fi(e,r),this.curve._wnafMul(this,e)};ys.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};ys.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};ys.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ys.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var N0=Ku,JK=ir,wE=bE,Fme=Wo;function gg(t){wE.call(this,"mont",t),this.a=new N0(t.a,16).toRed(this.red),this.b=new N0(t.b,16).toRed(this.red),this.i4=new N0(4).toRed(this.red).redInvm(),this.two=new N0(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}JK(gg,wE);var jme=gg;gg.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function Xi(t,e,r){wE.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new N0(e,16),this.z=new N0(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}JK(Xi,wE.BasePoint);gg.prototype.decodePoint=function(e,r){return this.point(Fme.toArray(e,r),1)};gg.prototype.point=function(e,r){return new Xi(this,e,r)};gg.prototype.pointFromJSON=function(e){return Xi.fromJSON(this,e)};Xi.prototype.precompute=function(){};Xi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Xi.fromJSON=function(e,r){return new Xi(e,r[0],r[1]||e.one)};Xi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Xi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Xi.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),o=r.redMul(s),c=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,c)};Xi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Xi.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),c=o.redMul(n),l=i.redMul(s),d=r.z.redMul(c.redAdd(l).redSqr()),v=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(d,v)};Xi.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var c=o.length-1;c>=0;c--)o[c]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};Xi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Xi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Xi.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Xi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Xi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var qme=Wo,Su=Ku,QK=ir,_E=bE,zme=qme.assert;function Nf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,_E.call(this,"edwards",t),this.a=new Su(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Su(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Su(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),zme(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}QK(Nf,_E);var Hme=Nf;Nf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Nf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Nf.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};Nf.prototype.pointFromX=function(e,r){e=new Su(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=s.redMul(i.redInvm()),c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)};Nf.prototype.pointFromY=function(e,r){e=new Su(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=s.redMul(i.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=o.redSqrt();if(c.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};Nf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function On(t,e,r,n,s){_E.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Su(e,16),this.y=new Su(r,16),this.z=n?new Su(n,16):this.curve.one,this.t=s&&new Su(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}QK(On,_E.BasePoint);Nf.prototype.pointFromJSON=function(e){return On.fromJSON(this,e)};Nf.prototype.point=function(e,r,n,s){return new On(this,e,r,n,s)};On.fromJSON=function(e,r){return new On(e,r[0],r[1],r[2])};On.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};On.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};On.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=s.redAdd(r),c=o.redSub(n),l=s.redSub(r),d=i.redMul(c),v=o.redMul(l),b=i.redMul(l),A=c.redMul(o);return this.curve.point(d,v,A,b)};On.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,o,c,l,d;if(this.curve.twisted){c=this.curve._mulA(r);var v=c.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(v.redSub(this.curve.two)),i=v.redMul(c.redSub(n)),o=v.redSqr().redSub(v).redSub(v)):(l=this.z.redSqr(),d=v.redSub(l).redISub(l),s=e.redSub(r).redISub(n).redMul(d),i=v.redMul(c.redSub(n)),o=v.redMul(d))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),d=c.redSub(l).redSub(l),s=this.curve._mulC(e.redISub(c)).redMul(d),i=this.curve._mulC(c).redMul(r.redISub(n)),o=c.redMul(d);return this.curve.point(s,i,o)};On.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};On.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),c=i.redSub(s),l=i.redAdd(s),d=n.redAdd(r),v=o.redMul(c),b=l.redMul(d),A=o.redMul(d),x=c.redMul(l);return this.curve.point(v,b,x,A)};On.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(i),c=n.redSub(o),l=n.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),v=r.redMul(c).redMul(d),b,A;return this.curve.twisted?(b=r.redMul(l).redMul(i.redSub(this.curve._mulA(s))),A=c.redMul(l)):(b=r.redMul(l).redMul(i.redSub(s)),A=this.curve._mulC(c).redMul(l)),this.curve.point(v,b,A)};On.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};On.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};On.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};On.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};On.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};On.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};On.prototype.getX=function(){return this.normalize(),this.x.fromRed()};On.prototype.getY=function(){return this.normalize(),this.y.fromRed()};On.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};On.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};On.prototype.toP=On.prototype.normalize;On.prototype.mixedAdd=On.prototype.add;(function(t){var e=t;e.base=bE,e.short=Ume,e.mont=jme,e.edwards=Hme})(BR);var EE={},SE={},Wr={},Vme=ka,Kme=ir;Wr.inherits=Kme;function Gme(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Wme(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16))}else for(var n=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):Gme(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<t.length;s++)r[s]=t[s]|0;return r}Wr.toArray=Wme;function Jme(t){for(var e="",r=0;r<t.length;r++)e+=XK(t[r].toString(16));return e}Wr.toHex=Jme;function ZK(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Wr.htonl=ZK;function Qme(t,e){for(var r="",n=0;n<t.length;n++){var s=t[n];e==="little"&&(s=ZK(s)),r+=YK(s.toString(16))}return r}Wr.toHex32=Qme;function XK(t){return t.length===1?"0"+t:t}Wr.zero2=XK;function YK(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Wr.zero8=YK;function Zme(t,e,r,n){var s=r-e;Vme(s%4===0);for(var i=new Array(s/4),o=0,c=e;o<i.length;o++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],i[o]=l>>>0}return i}Wr.join32=Zme;function Xme(t,e){for(var r=new Array(t.length*4),n=0,s=0;n<t.length;n++,s+=4){var i=t[n];e==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}Wr.split32=Xme;function Yme(t,e){return t>>>e|t<<32-e}Wr.rotr32=Yme;function e1e(t,e){return t<<e|t>>>32-e}Wr.rotl32=e1e;function t1e(t,e){return t+e>>>0}Wr.sum32=t1e;function r1e(t,e,r){return t+e+r>>>0}Wr.sum32_3=r1e;function n1e(t,e,r,n){return t+e+r+n>>>0}Wr.sum32_4=n1e;function i1e(t,e,r,n,s){return t+e+r+n+s>>>0}Wr.sum32_5=i1e;function s1e(t,e,r,n){var s=t[e],i=t[e+1],o=n+i>>>0,c=(o<n?1:0)+r+s;t[e]=c>>>0,t[e+1]=o}Wr.sum64=s1e;function o1e(t,e,r,n){var s=e+n>>>0,i=(s<e?1:0)+t+r;return i>>>0}Wr.sum64_hi=o1e;function a1e(t,e,r,n){var s=e+n;return s>>>0}Wr.sum64_lo=a1e;function c1e(t,e,r,n,s,i,o,c){var l=0,d=e;d=d+n>>>0,l+=d<e?1:0,d=d+i>>>0,l+=d<i?1:0,d=d+c>>>0,l+=d<c?1:0;var v=t+r+s+o+l;return v>>>0}Wr.sum64_4_hi=c1e;function f1e(t,e,r,n,s,i,o,c){var l=e+n+i+c;return l>>>0}Wr.sum64_4_lo=f1e;function u1e(t,e,r,n,s,i,o,c,l,d){var v=0,b=e;b=b+n>>>0,v+=b<e?1:0,b=b+i>>>0,v+=b<i?1:0,b=b+c>>>0,v+=b<c?1:0,b=b+d>>>0,v+=b<d?1:0;var A=t+r+s+o+l+v;return A>>>0}Wr.sum64_5_hi=u1e;function l1e(t,e,r,n,s,i,o,c,l,d){var v=e+n+i+c+d;return v>>>0}Wr.sum64_5_lo=l1e;function h1e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Wr.rotr64_hi=h1e;function d1e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wr.rotr64_lo=d1e;function p1e(t,e,r){return t>>>r}Wr.shr64_hi=p1e;function g1e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wr.shr64_lo=g1e;var vg={},L7=Wr,v1e=ka;function AE(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}vg.BlockHash=AE;AE.prototype.update=function(e,r){if(e=L7.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=L7.join32(e,0,e.length-n,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};AE.prototype.digest=function(e){return this.update(this._pad()),v1e(this.pending===null),this._digest(e)};AE.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,o=8;o<this.padLength;o++)s[i++]=0;return s};var yg={},kf={},y1e=Wr,gf=y1e.rotr32;function m1e(t,e,r,n){if(t===0)return eG(e,r,n);if(t===1||t===3)return rG(e,r,n);if(t===2)return tG(e,r,n)}kf.ft_1=m1e;function eG(t,e,r){return t&e^~t&r}kf.ch32=eG;function tG(t,e,r){return t&e^t&r^e&r}kf.maj32=tG;function rG(t,e,r){return t^e^r}kf.p32=rG;function b1e(t){return gf(t,2)^gf(t,13)^gf(t,22)}kf.s0_256=b1e;function w1e(t){return gf(t,6)^gf(t,11)^gf(t,25)}kf.s1_256=w1e;function _1e(t){return gf(t,7)^gf(t,18)^t>>>3}kf.g0_256=_1e;function E1e(t){return gf(t,17)^gf(t,19)^t>>>10}kf.g1_256=E1e;var gp=Wr,S1e=vg,A1e=kf,U3=gp.rotl32,Ov=gp.sum32,x1e=gp.sum32_5,M1e=A1e.ft_1,nG=S1e.BlockHash,I1e=[1518500249,1859775393,2400959708,3395469782];function Af(){if(!(this instanceof Af))return new Af;nG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}gp.inherits(Af,nG);var R1e=Af;Af.blockSize=512;Af.outSize=160;Af.hmacStrength=80;Af.padLength=64;Af.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=U3(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(s=0;s<n.length;s++){var v=~~(s/20),b=x1e(U3(i,5),M1e(v,o,c,l),d,n[s],I1e[v]);d=l,l=c,c=U3(o,30),o=i,i=b}this.h[0]=Ov(this.h[0],i),this.h[1]=Ov(this.h[1],o),this.h[2]=Ov(this.h[2],c),this.h[3]=Ov(this.h[3],l),this.h[4]=Ov(this.h[4],d)};Af.prototype._digest=function(e){return e==="hex"?gp.toHex32(this.h,"big"):gp.split32(this.h,"big")};var vp=Wr,T1e=vg,mg=kf,$1e=ka,Xa=vp.sum32,C1e=vp.sum32_4,O1e=vp.sum32_5,B1e=mg.ch32,P1e=mg.maj32,N1e=mg.s0_256,k1e=mg.s1_256,L1e=mg.g0_256,D1e=mg.g1_256,iG=T1e.BlockHash,U1e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xf(){if(!(this instanceof xf))return new xf;iG.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=U1e,this.W=new Array(64)}vp.inherits(xf,iG);var sG=xf;xf.blockSize=512;xf.outSize=256;xf.hmacStrength=192;xf.padLength=64;xf.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=C1e(D1e(n[s-2]),n[s-7],L1e(n[s-15]),n[s-16]);var i=this.h[0],o=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4],v=this.h[5],b=this.h[6],A=this.h[7];for($1e(this.k.length===n.length),s=0;s<n.length;s++){var x=O1e(A,k1e(d),B1e(d,v,b),this.k[s],n[s]),R=Xa(N1e(i),P1e(i,o,c));A=b,b=v,v=d,d=Xa(l,x),l=c,c=o,o=i,i=Xa(x,R)}this.h[0]=Xa(this.h[0],i),this.h[1]=Xa(this.h[1],o),this.h[2]=Xa(this.h[2],c),this.h[3]=Xa(this.h[3],l),this.h[4]=Xa(this.h[4],d),this.h[5]=Xa(this.h[5],v),this.h[6]=Xa(this.h[6],b),this.h[7]=Xa(this.h[7],A)};xf.prototype._digest=function(e){return e==="hex"?vp.toHex32(this.h,"big"):vp.split32(this.h,"big")};var f8=Wr,oG=sG;function ku(){if(!(this instanceof ku))return new ku;oG.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f8.inherits(ku,oG);var F1e=ku;ku.blockSize=512;ku.outSize=224;ku.hmacStrength=192;ku.padLength=64;ku.prototype._digest=function(e){return e==="hex"?f8.toHex32(this.h.slice(0,7),"big"):f8.split32(this.h.slice(0,7),"big")};var So=Wr,j1e=vg,q1e=ka,vf=So.rotr64_hi,yf=So.rotr64_lo,aG=So.shr64_hi,cG=So.shr64_lo,al=So.sum64,F3=So.sum64_hi,j3=So.sum64_lo,z1e=So.sum64_4_hi,H1e=So.sum64_4_lo,V1e=So.sum64_5_hi,K1e=So.sum64_5_lo,fG=j1e.BlockHash,G1e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wc(){if(!(this instanceof wc))return new wc;fG.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=G1e,this.W=new Array(160)}So.inherits(wc,fG);var uG=wc;wc.blockSize=1024;wc.outSize=512;wc.hmacStrength=192;wc.padLength=128;wc.prototype._prepareBlock=function(e,r){for(var n=this.W,s=0;s<32;s++)n[s]=e[r+s];for(;s<n.length;s+=2){var i=ibe(n[s-4],n[s-3]),o=sbe(n[s-4],n[s-3]),c=n[s-14],l=n[s-13],d=rbe(n[s-30],n[s-29]),v=nbe(n[s-30],n[s-29]),b=n[s-32],A=n[s-31];n[s]=z1e(i,o,c,l,d,v,b,A),n[s+1]=H1e(i,o,c,l,d,v,b,A)}};wc.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,s=this.h[0],i=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4],d=this.h[5],v=this.h[6],b=this.h[7],A=this.h[8],x=this.h[9],R=this.h[10],C=this.h[11],T=this.h[12],$=this.h[13],O=this.h[14],D=this.h[15];q1e(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var F=O,H=D,V=ebe(A,x),J=tbe(A,x),Z=W1e(A,x,R,C,T),se=J1e(A,x,R,C,T,$),S=this.k[L],a=this.k[L+1],u=n[L],h=n[L+1],p=V1e(F,H,V,J,Z,se,S,a,u,h),y=K1e(F,H,V,J,Z,se,S,a,u,h);F=X1e(s,i),H=Y1e(s,i),V=Q1e(s,i,o,c,l),J=Z1e(s,i,o,c,l,d);var w=F3(F,H,V,J),_=j3(F,H,V,J);O=T,D=$,T=R,$=C,R=A,C=x,A=F3(v,b,p,y),x=j3(b,b,p,y),v=l,b=d,l=o,d=c,o=s,c=i,s=F3(p,y,w,_),i=j3(p,y,w,_)}al(this.h,0,s,i),al(this.h,2,o,c),al(this.h,4,l,d),al(this.h,6,v,b),al(this.h,8,A,x),al(this.h,10,R,C),al(this.h,12,T,$),al(this.h,14,O,D)};wc.prototype._digest=function(e){return e==="hex"?So.toHex32(this.h,"big"):So.split32(this.h,"big")};function W1e(t,e,r,n,s){var i=t&r^~t&s;return i<0&&(i+=4294967296),i}function J1e(t,e,r,n,s,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function Q1e(t,e,r,n,s){var i=t&r^t&s^r&s;return i<0&&(i+=4294967296),i}function Z1e(t,e,r,n,s,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function X1e(t,e){var r=vf(t,e,28),n=vf(e,t,2),s=vf(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function Y1e(t,e){var r=yf(t,e,28),n=yf(e,t,2),s=yf(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function ebe(t,e){var r=vf(t,e,14),n=vf(t,e,18),s=vf(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function tbe(t,e){var r=yf(t,e,14),n=yf(t,e,18),s=yf(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function rbe(t,e){var r=vf(t,e,1),n=vf(t,e,8),s=aG(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function nbe(t,e){var r=yf(t,e,1),n=yf(t,e,8),s=cG(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function ibe(t,e){var r=vf(t,e,19),n=vf(e,t,29),s=aG(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}function sbe(t,e){var r=yf(t,e,19),n=yf(e,t,29),s=cG(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}var u8=Wr,lG=uG;function Lu(){if(!(this instanceof Lu))return new Lu;lG.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}u8.inherits(Lu,lG);var obe=Lu;Lu.blockSize=1024;Lu.outSize=384;Lu.hmacStrength=192;Lu.padLength=128;Lu.prototype._digest=function(e){return e==="hex"?u8.toHex32(this.h.slice(0,12),"big"):u8.split32(this.h.slice(0,12),"big")};yg.sha1=R1e;yg.sha224=F1e;yg.sha256=sG;yg.sha384=obe;yg.sha512=uG;var hG={},vd=Wr,abe=vg,Tb=vd.rotl32,D7=vd.sum32,Bv=vd.sum32_3,U7=vd.sum32_4,dG=abe.BlockHash;function Mf(){if(!(this instanceof Mf))return new Mf;dG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}vd.inherits(Mf,dG);hG.ripemd160=Mf;Mf.blockSize=512;Mf.outSize=160;Mf.hmacStrength=192;Mf.padLength=64;Mf.prototype._update=function(e,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],o=this.h[3],c=this.h[4],l=n,d=s,v=i,b=o,A=c,x=0;x<80;x++){var R=D7(Tb(U7(n,F7(x,s,i,o),e[ube[x]+r],cbe(x)),hbe[x]),c);n=c,c=o,o=Tb(i,10),i=s,s=R,R=D7(Tb(U7(l,F7(79-x,d,v,b),e[lbe[x]+r],fbe(x)),dbe[x]),A),l=A,A=b,b=Tb(v,10),v=d,d=R}R=Bv(this.h[1],i,b),this.h[1]=Bv(this.h[2],o,A),this.h[2]=Bv(this.h[3],c,l),this.h[3]=Bv(this.h[4],n,d),this.h[4]=Bv(this.h[0],s,v),this.h[0]=R};Mf.prototype._digest=function(e){return e==="hex"?vd.toHex32(this.h,"little"):vd.split32(this.h,"little")};function F7(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function cbe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function fbe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var ube=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],lbe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],hbe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],dbe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],pbe=Wr,gbe=ka;function yp(t,e,r){if(!(this instanceof yp))return new yp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(pbe.toArray(e,r))}var vbe=yp;yp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),gbe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};yp.prototype.update=function(e,r){return this.inner.update(e,r),this};yp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Wr,e.common=vg,e.sha=yg,e.ripemd=hG,e.hmac=vbe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(SE);var q3,j7;function ybe(){return j7||(j7=1,q3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),q3}(function(t){var e=t,r=SE,n=BR,s=Wo,i=s.assert;function o(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function c(d,v){Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){var b=new o(v);return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,value:b}),b}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=ybe()}catch{l=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(EE);var mbe=SE,ed=OR,pG=ka;function Kl(t){if(!(this instanceof Kl))return new Kl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ed.toArray(t.entropy,t.entropyEnc||"hex"),r=ed.toArray(t.nonce,t.nonceEnc||"hex"),n=ed.toArray(t.pers,t.persEnc||"hex");pG(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var bbe=Kl;Kl.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Kl.prototype._hmac=function(){return new mbe.hmac(this.hash,this.K)};Kl.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Kl.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=ed.toArray(e,r),n=ed.toArray(n,s),pG(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Kl.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=ed.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(n),this._reseed++,ed.encode(o,r)};var wbe=Ku,_be=Wo,l8=_be.assert;function Fs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ebe=Fs;Fs.fromPublic=function(e,r,n){return r instanceof Fs?r:new Fs(e,{pub:r,pubEnc:n})};Fs.fromPrivate=function(e,r,n){return r instanceof Fs?r:new Fs(e,{priv:r,privEnc:n})};Fs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Fs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Fs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Fs.prototype._importPrivate=function(e,r){this.priv=new wbe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Fs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?l8(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&l8(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Fs.prototype.derive=function(e){return e.validate()||l8(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Fs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Fs.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Fs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var B_=Ku,NR=Wo,Sbe=NR.assert;function xE(t,e){if(t instanceof xE)return t;this._importDER(t,e)||(Sbe(t.r&&t.s,"Signature without r or s"),this.r=new B_(t.r,16),this.s=new B_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Abe=xE;function xbe(){this.place=0}function z3(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var s=0,i=0,o=e.place;i<n;i++,o++)s<<=8,s|=t[o],s>>>=0;return s<=127?!1:(e.place=o,s)}function q7(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}xE.prototype._importDER=function(e,r){e=NR.toArray(e,r);var n=new xbe;if(e[n.place++]!==48)return!1;var s=z3(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=z3(e,n);if(i===!1)return!1;var o=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var c=z3(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new B_(o),this.s=new B_(l),this.recoveryParam=null,!0};function H3(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}xE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=q7(r),n=q7(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];H3(s,r.length),s=s.concat(r),s.push(2),H3(s,n.length);var i=s.concat(n),o=[48];return H3(o,i.length),o=o.concat(i),NR.encode(o,e)};var V3,z7;function Mbe(){if(z7)return V3;z7=1;var t=Ku,e=bbe,r=Wo,n=EE,s=RR(),i=r.assert,o=Ebe,c=Abe;function l(d){if(!(this instanceof l))return new l(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}return V3=l,l.prototype.keyPair=function(v){return new o(this,v)},l.prototype.keyFromPrivate=function(v,b){return o.fromPrivate(this,v,b)},l.prototype.keyFromPublic=function(v,b){return o.fromPublic(this,v,b)},l.prototype.genKeyPair=function(v){v||(v={});for(var b=new e({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||s(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),A=this.n.byteLength(),x=this.n.sub(new t(2));;){var R=new t(b.generate(A));if(!(R.cmp(x)>0))return R.iaddn(1),this.keyFromPrivate(R)}},l.prototype._truncateToN=function(v,b){var A=v.byteLength()*8-this.n.bitLength();return A>0&&(v=v.ushrn(A)),!b&&v.cmp(this.n)>=0?v.sub(this.n):v},l.prototype.sign=function(v,b,A,x){typeof A=="object"&&(x=A,A=null),x||(x={}),b=this.keyFromPrivate(b,A),v=this._truncateToN(new t(v,16));for(var R=this.n.byteLength(),C=b.getPrivate().toArray("be",R),T=v.toArray("be",R),$=new e({hash:this.hash,entropy:C,nonce:T,pers:x.pers,persEnc:x.persEnc||"utf8"}),O=this.n.sub(new t(1)),D=0;;D++){var L=x.k?x.k(D):new t($.generate(this.n.byteLength()));if(L=this._truncateToN(L,!0),!(L.cmpn(1)<=0||L.cmp(O)>=0)){var F=this.g.mul(L);if(!F.isInfinity()){var H=F.getX(),V=H.umod(this.n);if(V.cmpn(0)!==0){var J=L.invm(this.n).mul(V.mul(b.getPrivate()).iadd(v));if(J=J.umod(this.n),J.cmpn(0)!==0){var Z=(F.getY().isOdd()?1:0)|(H.cmp(V)!==0?2:0);return x.canonical&&J.cmp(this.nh)>0&&(J=this.n.sub(J),Z^=1),new c({r:V,s:J,recoveryParam:Z})}}}}}},l.prototype.verify=function(v,b,A,x){v=this._truncateToN(new t(v,16)),A=this.keyFromPublic(A,x),b=new c(b,"hex");var R=b.r,C=b.s;if(R.cmpn(1)<0||R.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var T=C.invm(this.n),$=T.mul(v).umod(this.n),O=T.mul(R).umod(this.n),D;return this.curve._maxwellTrick?(D=this.g.jmulAdd($,A.getPublic(),O),D.isInfinity()?!1:D.eqXToP(R)):(D=this.g.mulAdd($,A.getPublic(),O),D.isInfinity()?!1:D.getX().umod(this.n).cmp(R)===0)},l.prototype.recoverPubKey=function(d,v,b,A){i((3&b)===b,"The recovery param is more than two bits"),v=new c(v,A);var x=this.n,R=new t(d),C=v.r,T=v.s,$=b&1,O=b>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&O)throw new Error("Unable to find sencond key candinate");O?C=this.curve.pointFromX(C.add(this.curve.n),$):C=this.curve.pointFromX(C,$);var D=v.r.invm(x),L=x.sub(R).mul(D).umod(x),F=T.mul(D).umod(x);return this.g.mulAdd(L,C,F)},l.prototype.getKeyRecoveryParam=function(d,v,b,A){if(v=new c(v,A),v.recoveryParam!==null)return v.recoveryParam;for(var x=0;x<4;x++){var R;try{R=this.recoverPubKey(d,v,x)}catch{continue}if(R.eq(b))return x}throw new Error("Unable to find valid recovery factor")},V3}var Hm=Wo,gG=Hm.assert,H7=Hm.parseBytes,bg=Hm.cachedProperty;function Zi(t,e){this.eddsa=t,this._secret=H7(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=H7(e.pub)}Zi.fromPublic=function(e,r){return r instanceof Zi?r:new Zi(e,{pub:r})};Zi.fromSecret=function(e,r){return r instanceof Zi?r:new Zi(e,{secret:r})};Zi.prototype.secret=function(){return this._secret};bg(Zi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});bg(Zi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});bg(Zi,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});bg(Zi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});bg(Zi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});bg(Zi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Zi.prototype.sign=function(e){return gG(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Zi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Zi.prototype.getSecret=function(e){return gG(this._secret,"KeyPair is public only"),Hm.encode(this.secret(),e)};Zi.prototype.getPublic=function(e){return Hm.encode(this.pubBytes(),e)};var Ibe=Zi,Rbe=Ku,ME=Wo,Tbe=ME.assert,IE=ME.cachedProperty,$be=ME.parseBytes;function kd(t,e){this.eddsa=t,typeof e!="object"&&(e=$be(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Tbe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Rbe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}IE(kd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});IE(kd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});IE(kd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});IE(kd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});kd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};kd.prototype.toHex=function(){return ME.encode(this.toBytes(),"hex").toUpperCase()};var Cbe=kd,Obe=SE,Bbe=EE,mp=Wo,Pbe=mp.assert,vG=mp.parseBytes,yG=Ibe,V7=Cbe;function Ao(t){if(Pbe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ao))return new Ao(t);t=Bbe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Obe.sha512}var Nbe=Ao;Ao.prototype.sign=function(e,r){e=vG(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),o=this.encodePoint(i),c=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),l=s.add(c).umod(this.curve.n);return this.makeSignature({R:i,S:l,Rencoded:o})};Ao.prototype.verify=function(e,r,n){e=vG(e),r=this.makeSignature(r);var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),o=this.g.mul(r.S()),c=r.R().add(s.pub().mul(i));return c.eq(o)};Ao.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return mp.intFromLE(e.digest()).umod(this.curve.n)};Ao.prototype.keyFromPublic=function(e){return yG.fromPublic(this,e)};Ao.prototype.keyFromSecret=function(e){return yG.fromSecret(this,e)};Ao.prototype.makeSignature=function(e){return e instanceof V7?e:new V7(this,e)};Ao.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ao.prototype.decodePoint=function(e){e=mp.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=mp.intFromLE(n);return this.curve.pointFromY(i,s)};Ao.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ao.prototype.decodeInt=function(e){return mp.intFromLE(e)};Ao.prototype.isPoint=function(e){return e instanceof this.pointClass};var K7;function kR(){return K7||(K7=1,function(t){var e=t;e.version=Nme.version,e.utils=Wo,e.rand=RR(),e.curve=BR,e.curves=EE,e.ec=Mbe(),e.eddsa=Nbe}(D3)),D3}var Sc={},LR={},DR={exports:{}};DR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(DR);var mG=DR.exports,bG={},UR={},qw=Re,J0=qw.Buffer,ma={},ba;for(ba in qw)qw.hasOwnProperty(ba)&&(ba==="SlowBuffer"||ba==="Buffer"||(ma[ba]=qw[ba]));var Q0=ma.Buffer={};for(ba in J0)J0.hasOwnProperty(ba)&&(ba==="allocUnsafe"||ba==="allocUnsafeSlow"||(Q0[ba]=J0[ba]));ma.Buffer.prototype=J0.prototype;(!Q0.from||Q0.from===Uint8Array.from)&&(Q0.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return J0(t,e,r)});Q0.alloc||(Q0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=J0(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!ma.kStringMaxLength)try{ma.kStringMaxLength=mt.binding("buffer").kStringMaxLength}catch{}ma.constants||(ma.constants={MAX_LENGTH:ma.kMaxLength},ma.kStringMaxLength&&(ma.constants.MAX_STRING_LENGTH=ma.kStringMaxLength));var FR=ma,RE={};const kbe=ir;function Fa(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}RE.Reporter=Fa;Fa.prototype.isError=function(e){return e instanceof bp};Fa.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Fa.prototype.restore=function(e){const r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Fa.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Fa.prototype.exitKey=function(e){const r=this._reporterState;r.path=r.path.slice(0,e-1)};Fa.prototype.leaveKey=function(e,r,n){const s=this._reporterState;this.exitKey(e),s.obj!==null&&(s.obj[r]=n)};Fa.prototype.path=function(){return this._reporterState.path.join("/")};Fa.prototype.enterObject=function(){const e=this._reporterState,r=e.obj;return e.obj={},r};Fa.prototype.leaveObject=function(e){const r=this._reporterState,n=r.obj;return r.obj=e,n};Fa.prototype.error=function(e){let r;const n=this._reporterState,s=e instanceof bp;if(s?r=e:r=new bp(n.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return s||n.errors.push(r),r};Fa.prototype.wrapResult=function(e){const r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function bp(t,e){this.path=t,this.rethrow(e)}kbe(bp,Error);bp.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,bp),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var yd={};const Lbe=ir,TE=RE.Reporter,wp=FR.Buffer;function Oa(t,e){if(TE.call(this,e),!wp.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Lbe(Oa,TE);yd.DecoderBuffer=Oa;Oa.isDecoderBuffer=function(e){return e instanceof Oa?!0:typeof e=="object"&&wp.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Oa.prototype.save=function(){return{offset:this.offset,reporter:TE.prototype.save.call(this)}};Oa.prototype.restore=function(e){const r=new Oa(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,TE.prototype.restore.call(this,e.reporter),r};Oa.prototype.isEmpty=function(){return this.offset===this.length};Oa.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Oa.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new Oa(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Oa.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function _p(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return _p.isEncoderBuffer(r)||(r=new _p(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=wp.byteLength(t);else if(wp.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}yd.EncoderBuffer=_p;_p.isEncoderBuffer=function(e){return e instanceof _p?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};_p.prototype.join=function(e,r){return e||(e=wp.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):wp.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e};const Dbe=RE.Reporter,Ube=yd.EncoderBuffer,Fbe=yd.DecoderBuffer,eo=ka,wG=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],jbe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(wG),qbe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function En(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var jR=En;const zbe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];En.prototype.clone=function(){const e=this._baseState,r={};zbe.forEach(function(s){r[s]=e[s]});const n=new this.constructor(r.parent);return n._baseState=r,n};En.prototype._wrap=function(){const e=this._baseState;jbe.forEach(function(r){this[r]=function(){const s=new this.constructor(this);return e.children.push(s),s[r].apply(s,arguments)}},this)};En.prototype._init=function(e){const r=this._baseState;eo(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),eo.equal(r.children.length,1,"Root node can have only one child")};En.prototype._useArgs=function(e){const r=this._baseState,n=e.filter(function(s){return s instanceof this.constructor},this);e=e.filter(function(s){return!(s instanceof this.constructor)},this),n.length!==0&&(eo(r.children===null),r.children=n,n.forEach(function(s){s._baseState.parent=this},this)),e.length!==0&&(eo(r.args===null),r.args=e,r.reverseArgs=e.map(function(s){if(typeof s!="object"||s.constructor!==Object)return s;const i={};return Object.keys(s).forEach(function(o){o==(o|0)&&(o|=0);const c=s[o];i[c]=o}),i}))};qbe.forEach(function(t){En.prototype[t]=function(){const r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});wG.forEach(function(t){En.prototype[t]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return eo(r.tag===null),r.tag=t,this._useArgs(n),this}});En.prototype.use=function(e){eo(e);const r=this._baseState;return eo(r.use===null),r.use=e,this};En.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};En.prototype.def=function(e){const r=this._baseState;return eo(r.default===null),r.default=e,r.optional=!0,this};En.prototype.explicit=function(e){const r=this._baseState;return eo(r.explicit===null&&r.implicit===null),r.explicit=e,this};En.prototype.implicit=function(e){const r=this._baseState;return eo(r.explicit===null&&r.implicit===null),r.implicit=e,this};En.prototype.obj=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};En.prototype.key=function(e){const r=this._baseState;return eo(r.key===null),r.key=e,this};En.prototype.any=function(){const e=this._baseState;return e.any=!0,this};En.prototype.choice=function(e){const r=this._baseState;return eo(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};En.prototype.contains=function(e){const r=this._baseState;return eo(r.use===null),r.contains=e,this};En.prototype._decode=function(e,r){const n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let s=n.default,i=!0,o=null;if(n.key!==null&&(o=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){const d=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),i=!0}catch{i=!1}e.restore(d)}else if(i=this._peekTag(e,l,n.any),e.isError(i))return i}let c;if(n.obj&&i&&(c=e.enterObject()),i){if(n.explicit!==null){const d=this._decodeTag(e,n.explicit);if(e.isError(d))return d;e=d}const l=e.offset;if(n.use===null&&n.choice===null){let d;n.any&&(d=e.save());const v=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(v))return v;n.any?s=e.raw(d):e=v}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?s=this._decodeGeneric(n.tag,e,r):s=this._decodeChoice(e,r)),e.isError(s))return s;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(v){v._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const d=new Fbe(s);s=this._getUse(n.contains,e._reporterState.obj)._decode(d,r)}}return n.obj&&i&&(s=e.leaveObject(c)),n.key!==null&&(s!==null||i===!0)?e.leaveKey(o,n.key,s):o!==null&&e.exitKey(o),s};En.prototype._decodeGeneric=function(e,r,n){const s=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,s.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&s.args?this._decodeObjid(r,s.args[0],s.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,s.args&&s.args[0],n):s.use!==null?this._getUse(s.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};En.prototype._getUse=function(e,r){const n=this._baseState;return n.useDecoder=this._use(e,r),eo(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};En.prototype._decodeChoice=function(e,r){const n=this._baseState;let s=null,i=!1;return Object.keys(n.choice).some(function(o){const c=e.save(),l=n.choice[o];try{const d=l._decode(e,r);if(e.isError(d))return!1;s={type:o,value:d},i=!0}catch{return e.restore(c),!1}return!0},this),i?s:e.error("Choice not matched")};En.prototype._createEncoderBuffer=function(e){return new Ube(e,this.reporter)};En.prototype._encode=function(e,r,n){const s=this._baseState;if(s.default!==null&&s.default===e)return;const i=this._encodeValue(e,r,n);if(i!==void 0&&!this._skipDefault(i,r,n))return i};En.prototype._encodeValue=function(e,r,n){const s=this._baseState;if(s.parent===null)return s.children[0]._encode(e,r||new Dbe);let i=null;if(this.reporter=r,s.optional&&e===void 0)if(s.default!==null)e=s.default;else return;let o=null,c=!1;if(s.any)i=this._createEncoderBuffer(e);else if(s.choice)i=this._encodeChoice(e,r);else if(s.contains)o=this._getUse(s.contains,n)._encode(e,r),c=!0;else if(s.children)o=s.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");const d=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");const v=l._encode(e[l._baseState.key],r,e);return r.leaveKey(d),v},this).filter(function(l){return l}),o=this._createEncoderBuffer(o);else if(s.tag==="seqof"||s.tag==="setof"){if(!(s.args&&s.args.length===1))return r.error("Too many args for : "+s.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");const l=this.clone();l._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(d){const v=this._baseState;return this._getUse(v.args[0],e)._encode(d,r)},l))}else s.use!==null?i=this._getUse(s.use,n)._encode(e,r):(o=this._encodePrimitive(s.tag,e),c=!0);if(!s.any&&s.choice===null){const l=s.implicit!==null?s.implicit:s.tag,d=s.implicit===null?"universal":"context";l===null?s.use===null&&r.error("Tag could be omitted only for .use()"):s.use===null&&(i=this._encodeComposite(l,c,d,o))}return s.explicit!==null&&(i=this._encodeComposite(s.explicit,!1,"context",i)),i};En.prototype._encodeChoice=function(e,r){const n=this._baseState,s=n.choice[e.type];return s||eo(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),s._encode(e.value,r)};En.prototype._encodePrimitive=function(e,r){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};En.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};En.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var $E={};(function(t){function e(r){const n={};return Object.keys(r).forEach(function(s){(s|0)==s&&(s=s|0);const i=r[s];n[i]=s}),n}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)})($E);const Hbe=ir,hu=FR.Buffer,_G=jR,K3=$E;function EG(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Ac,this.tree._init(t.body)}var SG=EG;EG.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Ac(t){_G.call(this,"der",t)}Hbe(Ac,_G);Ac.prototype._encodeComposite=function(e,r,n,s){const i=Vbe(e,r,n,this.reporter);if(s.length<128){const l=hu.alloc(2);return l[0]=i,l[1]=s.length,this._createEncoderBuffer([l,s])}let o=1;for(let l=s.length;l>=256;l>>=8)o++;const c=hu.alloc(1+1+o);c[0]=i,c[1]=128|o;for(let l=1+o,d=s.length;d>0;l--,d>>=8)c[l]=d&255;return this._createEncoderBuffer([c,s])};Ac.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){const n=hu.alloc(e.length*2);for(let s=0;s<e.length;s++)n.writeUInt16BE(e.charCodeAt(s),s*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Ac.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let s=0;for(let c=0;c<e.length;c++){let l=e[c];for(s++;l>=128;l>>=7)s++}const i=hu.alloc(s);let o=i.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(i[o--]=l&127;(l>>=7)>0;)i[o--]=128|l&127}return this._createEncoderBuffer(i)};function sa(t){return t<10?"0"+t:t}Ac.prototype._encodeTime=function(e,r){let n;const s=new Date(e);return r==="gentime"?n=[sa(s.getUTCFullYear()),sa(s.getUTCMonth()+1),sa(s.getUTCDate()),sa(s.getUTCHours()),sa(s.getUTCMinutes()),sa(s.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[sa(s.getUTCFullYear()%100),sa(s.getUTCMonth()+1),sa(s.getUTCDate()),sa(s.getUTCHours()),sa(s.getUTCMinutes()),sa(s.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};Ac.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Ac.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!hu.isBuffer(e)){const i=e.toArray();!e.sign&&i[0]&128&&i.unshift(0),e=hu.from(i)}if(hu.isBuffer(e)){let i=e.length;e.length===0&&i++;const o=hu.alloc(i);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let i=e;i>=256;i>>=8)n++;const s=new Array(n);for(let i=s.length-1;i>=0;i--)s[i]=e&255,e>>=8;return s[0]&128&&s.unshift(0),this._createEncoderBuffer(hu.from(s))};Ac.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Ac.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Ac.prototype._skipDefault=function(e,r,n){const s=this._baseState;let i;if(s.default===null)return!1;const o=e.join();if(s.defaultBuffer===void 0&&(s.defaultBuffer=this._encodeValue(s.default,r,n).join()),o.length!==s.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==s.defaultBuffer[i])return!1;return!0};function Vbe(t,e,r,n){let s;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),K3.tagByName.hasOwnProperty(t))s=K3.tagByName[t];else if(typeof t=="number"&&(t|0)===t)s=t;else return n.error("Unknown tag: "+t);return s>=31?n.error("Multi-octet tag encoding unsupported"):(e||(s|=32),s|=K3.tagClassByName[r||"universal"]<<6,s)}const Kbe=ir,qR=SG;function zR(t){qR.call(this,t),this.enc="pem"}Kbe(zR,qR);var Gbe=zR;zR.prototype.encode=function(e,r){const s=qR.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+r.label+"-----"];for(let o=0;o<s.length;o+=64)i.push(s.slice(o,o+64));return i.push("-----END "+r.label+"-----"),i.join(`
`)};(function(t){const e=t;e.der=SG,e.pem=Gbe})(UR);var HR={};const Wbe=ir,Jbe=mG,G7=yd.DecoderBuffer,AG=jR,W7=$E;function xG(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Jo,this.tree._init(t.body)}var MG=xG;xG.prototype.decode=function(e,r){return G7.isDecoderBuffer(e)||(e=new G7(e,r)),this.tree._decode(e,r)};function Jo(t){AG.call(this,"der",t)}Wbe(Jo,AG);Jo.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;const s=e.save(),i=VR(e,'Failed to peek tag: "'+r+'"');return e.isError(i)?i:(e.restore(s),i.tag===r||i.tagStr===r||i.tagStr+"of"===r||n)};Jo.prototype._decodeTag=function(e,r,n){const s=VR(e,'Failed to decode tag of "'+r+'"');if(e.isError(s))return s;let i=IG(e,s.primitive,'Failed to get length of "'+r+'"');if(e.isError(i))return i;if(!n&&s.tag!==r&&s.tagStr!==r&&s.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(s.primitive||i!==null)return e.skip(i,'Failed to match body of: "'+r+'"');const o=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+r+'"'))};Jo.prototype._skipUntilEnd=function(e,r){for(;;){const n=VR(e,r);if(e.isError(n))return n;const s=IG(e,n.primitive,r);if(e.isError(s))return s;let i;if(n.primitive||s!==null?i=e.skip(s):i=this._skipUntilEnd(e,r),e.isError(i))return i;if(n.tagStr==="end")break}};Jo.prototype._decodeList=function(e,r,n,s){const i=[];for(;!e.isEmpty();){const o=this._peekTag(e,"end");if(e.isError(o))return o;const c=n.decode(e,"der",s);if(e.isError(c)&&o)break;i.push(c)}return i};Jo.prototype._decodeStr=function(e,r){if(r==="bitstr"){const n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){const n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let s="";for(let i=0;i<n.length/2;i++)s+=String.fromCharCode(n.readUInt16BE(i*2));return s}else if(r==="numstr"){const n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){const n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Jo.prototype._decodeObjid=function(e,r,n){let s;const i=[];let o=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),o<<=7,o|=c&127,c&128||(i.push(o),o=0);c&128&&i.push(o);const l=i[0]/40|0,d=i[0]%40;if(n?s=i:s=[l,d].concat(i.slice(1)),r){let v=r[s.join(" ")];v===void 0&&(v=r[s.join(".")]),v!==void 0&&(s=v)}return s};Jo.prototype._decodeTime=function(e,r){const n=e.raw().toString();let s,i,o,c,l,d;if(r==="gentime")s=n.slice(0,4)|0,i=n.slice(4,6)|0,o=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,d=n.slice(12,14)|0;else if(r==="utctime")s=n.slice(0,2)|0,i=n.slice(2,4)|0,o=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,d=n.slice(10,12)|0,s<70?s=2e3+s:s=1900+s;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(s,i-1,o,c,l,d,0)};Jo.prototype._decodeNull=function(){return null};Jo.prototype._decodeBool=function(e){const r=e.readUInt8();return e.isError(r)?r:r!==0};Jo.prototype._decodeInt=function(e,r){const n=e.raw();let s=new Jbe(n);return r&&(s=r[s.toString(10)]||s),s};Jo.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function VR(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=W7.tagClass[r>>6],s=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;const i=W7.tag[r];return{cls:n,primitive:s,tag:r,tagStr:i}}function IG(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;const s=n&127;if(s>4)return t.error("length octect is too long");n=0;for(let i=0;i<s;i++){n<<=8;const o=t.readUInt8(r);if(t.isError(o))return o;n|=o}return n}const Qbe=ir,Zbe=FR.Buffer,KR=MG;function GR(t){KR.call(this,t),this.enc="pem"}Qbe(GR,KR);var Xbe=GR;GR.prototype.decode=function(e,r){const n=e.toString().split(/[\r\n]+/g),s=r.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,c=-1;for(let v=0;v<n.length;v++){const b=n[v].match(i);if(b!==null&&b[2]===s)if(o===-1){if(b[1]!=="BEGIN")break;o=v}else{if(b[1]!=="END")break;c=v;break}}if(o===-1||c===-1)throw new Error("PEM section not found for: "+s);const l=n.slice(o+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const d=Zbe.from(l,"base64");return KR.prototype.decode.call(this,d,r)};(function(t){const e=t;e.der=MG,e.pem=Xbe})(HR);(function(t){const e=UR,r=HR,n=ir,s=t;s.define=function(c,l){return new i(c,l)};function i(o,c){this.name=o,this.body=c,this.decoders={},this.encoders={}}i.prototype._createNamed=function(c){const l=this.name;function d(v){this._initNamed(v,l)}return n(d,c),d.prototype._initNamed=function(b,A){c.call(this,b,A)},new d(this)},i.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(r[c])),this.decoders[c]},i.prototype.decode=function(c,l,d){return this._getDecoder(l).decode(c,d)},i.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(e[c])),this.encoders[c]},i.prototype.encode=function(c,l,d){return this._getEncoder(l).encode(c,d)}})(bG);var RG={};(function(t){const e=t;e.Reporter=RE.Reporter,e.DecoderBuffer=yd.DecoderBuffer,e.EncoderBuffer=yd.EncoderBuffer,e.Node=jR})(RG);var TG={};(function(t){const e=t;e._reverse=function(n){const s={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const o=n[i];s[o]=i}),s},e.der=$E})(TG);(function(t){const e=t;e.bignum=mG,e.define=bG.define,e.base=RG,e.constants=TG,e.decoders=HR,e.encoders=UR})(LR);var xc=LR,J7=xc.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Ybe=xc.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),WR=xc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ewe=xc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(WR),this.key("subjectPublicKey").bitstr())}),twe=xc.define("RelativeDistinguishedName",function(){this.setof(Ybe)}),rwe=xc.define("RDNSequence",function(){this.seqof(twe)}),Q7=xc.define("Name",function(){this.choice({rdnSequence:this.use(rwe)})}),nwe=xc.define("Validity",function(){this.seq().obj(this.key("notBefore").use(J7),this.key("notAfter").use(J7))}),iwe=xc.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),swe=xc.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(WR),this.key("issuer").use(Q7),this.key("validity").use(nwe),this.key("subject").use(Q7),this.key("subjectPublicKeyInfo").use(ewe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(iwe).optional())}),owe=xc.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(swe),this.key("signatureAlgorithm").use(WR),this.key("signatureValue").bitstr())}),awe=owe,Mc=LR;Sc.certificate=awe;var cwe=Mc.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Sc.RSAPrivateKey=cwe;var fwe=Mc.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Sc.RSAPublicKey=fwe;var uwe=Mc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use($G),this.key("subjectPublicKey").bitstr())});Sc.PublicKey=uwe;var $G=Mc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),lwe=Mc.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use($G),this.key("subjectPrivateKey").octstr())});Sc.PrivateKey=lwe;var hwe=Mc.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Sc.EncryptedPrivateKey=hwe;var dwe=Mc.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Sc.DSAPrivateKey=dwe;Sc.DSAparam=Mc.define("DSAparam",function(){this.int()});var pwe=Mc.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(gwe),this.key("publicKey").optional().explicit(1).bitstr())});Sc.ECPrivateKey=pwe;var gwe=Mc.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Sc.signature=Mc.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const vwe={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var ywe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,mwe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,bwe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,wwe=vE,_we=Vo,$b=kr.Buffer,Ewe=function(t,e){var r=t.toString(),n=r.match(ywe),s;if(n){var o="aes"+n[1],c=$b.from(n[2],"hex"),l=$b.from(n[3].replace(/[\r\n]/g,""),"base64"),d=wwe(e,c.slice(0,8),parseInt(n[1],10)).key,v=[],b=_we.createDecipheriv(o,d,c);v.push(b.update(l)),v.push(b.final()),s=$b.concat(v)}else{var i=r.match(bwe);s=$b.from(i[2].replace(/[\r\n]/g,""),"base64")}var A=r.match(mwe)[1];return{tag:A,data:s}},po=Sc,Swe=vwe,Awe=Ewe,xwe=Vo,Mwe=dE,h8=kr.Buffer,CE=CG;function CG(t){var e;typeof t=="object"&&!h8.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=h8.from(t));var r=Awe(t,e),n=r.tag,s=r.data,i,o;switch(n){case"CERTIFICATE":o=po.certificate.decode(s,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=po.PublicKey.decode(s,"der")),i=o.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return po.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=po.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":s=po.EncryptedPrivateKey.decode(s,"der"),s=Iwe(s,e);case"PRIVATE KEY":switch(o=po.PrivateKey.decode(s,"der"),i=o.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return po.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:po.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=po.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return po.RSAPublicKey.decode(s,"der");case"RSA PRIVATE KEY":return po.RSAPrivateKey.decode(s,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:po.DSAPrivateKey.decode(s,"der")};case"EC PRIVATE KEY":return s=po.ECPrivateKey.decode(s,"der"),{curve:s.parameters.value,privateKey:s.privateKey};default:throw new Error("unknown key type "+n)}}CG.signature=po.signature;function Iwe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=Swe[t.algorithm.decrypt.cipher.algo.join(".")],i=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,c=parseInt(s.split("-")[1],10)/8,l=Mwe.pbkdf2Sync(e,r,n,c,"sha1"),d=xwe.createDecipheriv(s,l,i),v=[];return v.push(d.update(o)),v.push(d.final()),h8.concat(v)}const OG={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Z7;function Rwe(){if(Z7)return Cv.exports;Z7=1;var t=kr.Buffer,e=tK,r=$R,n=kR().ec,s=qm,i=CE,o=OG,c=1;function l($,O,D,L,F){var H=i(O);if(H.curve){if(L!=="ecdsa"&&L!=="ecdsa/rsa")throw new Error("wrong private key type");return d($,H)}else if(H.type==="dsa"){if(L!=="dsa")throw new Error("wrong private key type");return v($,H,D)}if(L!=="rsa"&&L!=="ecdsa/rsa")throw new Error("wrong private key type");if(O.padding!==void 0&&O.padding!==c)throw new Error("illegal or unsupported padding mode");$=t.concat([F,$]);for(var V=H.modulus.byteLength(),J=[0,1];$.length+J.length+1<V;)J.push(255);J.push(0);for(var Z=-1;++Z<$.length;)J.push($[Z]);var se=r(J,H);return se}function d($,O){var D=o[O.curve.join(".")];if(!D)throw new Error("unknown curve "+O.curve.join("."));var L=new n(D),F=L.keyFromPrivate(O.privateKey),H=F.sign($);return t.from(H.toDER())}function v($,O,D){for(var L=O.params.priv_key,F=O.params.p,H=O.params.q,V=O.params.g,J=new s(0),Z,se=x($,H).mod(H),S=!1,a=A(L,H,$,D);S===!1;)Z=C(H,a,D),J=T(V,Z,F,H),S=Z.invm(H).imul(se.add(L.mul(J))).mod(H),S.cmpn(0)===0&&(S=!1,J=new s(0));return b(J,S)}function b($,O){$=$.toArray(),O=O.toArray(),$[0]&128&&($=[0].concat($)),O[0]&128&&(O=[0].concat(O));var D=$.length+O.length+4,L=[48,D,2,$.length];return L=L.concat($,[2,O.length],O),t.from(L)}function A($,O,D,L){if($=t.from($.toArray()),$.length<O.byteLength()){var F=t.alloc(O.byteLength()-$.length);$=t.concat([F,$])}var H=D.length,V=R(D,O),J=t.alloc(H);J.fill(1);var Z=t.alloc(H);return Z=e(L,Z).update(J).update(t.from([0])).update($).update(V).digest(),J=e(L,Z).update(J).digest(),Z=e(L,Z).update(J).update(t.from([1])).update($).update(V).digest(),J=e(L,Z).update(J).digest(),{k:Z,v:J}}function x($,O){var D=new s($),L=($.length<<3)-O.bitLength();return L>0&&D.ishrn(L),D}function R($,O){$=x($,O),$=$.mod(O);var D=t.from($.toArray());if(D.length<O.byteLength()){var L=t.alloc(O.byteLength()-D.length);D=t.concat([L,D])}return D}function C($,O,D){var L,F;do{for(L=t.alloc(0);L.length*8<$.bitLength();)O.v=e(D,O.k).update(O.v).digest(),L=t.concat([L,O.v]);F=x(L,$),O.k=e(D,O.k).update(O.v).update(t.from([0])).digest(),O.v=e(D,O.k).update(O.v).digest()}while(F.cmp($)!==-1);return F}function T($,O,D,L){return $.toRed(s.mont(D)).redPow(O).fromRed().mod(L)}return Cv.exports=l,Cv.exports.getKey=A,Cv.exports.makeKey=C,Cv.exports}var G3,X7;function Twe(){if(X7)return G3;X7=1;var t=kr.Buffer,e=qm,r=kR().ec,n=CE,s=OG;function i(d,v,b,A,x){var R=n(b);if(R.type==="ec"){if(A!=="ecdsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");return o(d,v,R)}else if(R.type==="dsa"){if(A!=="dsa")throw new Error("wrong public key type");return c(d,v,R)}if(A!=="rsa"&&A!=="ecdsa/rsa")throw new Error("wrong public key type");v=t.concat([x,v]);for(var C=R.modulus.byteLength(),T=[1],$=0;v.length+T.length+2<C;)T.push(255),$+=1;T.push(0);for(var O=-1;++O<v.length;)T.push(v[O]);T=t.from(T);var D=e.mont(R.modulus);d=new e(d).toRed(D),d=d.redPow(new e(R.publicExponent)),d=t.from(d.fromRed().toArray());var L=$<8?1:0;for(C=Math.min(d.length,T.length),d.length!==T.length&&(L=1),O=-1;++O<C;)L|=d[O]^T[O];return L===0}function o(d,v,b){var A=s[b.data.algorithm.curve.join(".")];if(!A)throw new Error("unknown curve "+b.data.algorithm.curve.join("."));var x=new r(A),R=b.data.subjectPrivateKey.data;return x.verify(v,d,R)}function c(d,v,b){var A=b.data.p,x=b.data.q,R=b.data.g,C=b.data.pub_key,T=n.signature.decode(d,"der"),$=T.s,O=T.r;l($,x),l(O,x);var D=e.mont(A),L=$.invm(x),F=R.toRed(D).redPow(new e(v).mul(L).mod(x)).fromRed().mul(C.toRed(D).redPow(O.mul(L).mod(x)).fromRed()).mod(A).mod(x);return F.cmp(O)===0}function l(d,v){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(v)>=0)throw new Error("invalid sig")}return G3=i,G3}var W3,Y7;function $we(){if(Y7)return W3;Y7=1;var t=kr.Buffer,e=km,r=iE,n=ir,s=Rwe(),i=Twe(),o=rK;Object.keys(o).forEach(function(b){o[b].id=t.from(o[b].id,"hex"),o[b.toLowerCase()]=o[b]});function c(b){r.Writable.call(this);var A=o[b];if(!A)throw new Error("Unknown message digest");this._hashType=A.hash,this._hash=e(A.hash),this._tag=A.id,this._signType=A.sign}n(c,r.Writable),c.prototype._write=function(A,x,R){this._hash.update(A),R()},c.prototype.update=function(A,x){return this._hash.update(typeof A=="string"?t.from(A,x):A),this},c.prototype.sign=function(A,x){this.end();var R=this._hash.digest(),C=s(R,A,this._hashType,this._signType,this._tag);return x?C.toString(x):C};function l(b){r.Writable.call(this);var A=o[b];if(!A)throw new Error("Unknown message digest");this._hash=e(A.hash),this._tag=A.id,this._signType=A.sign}n(l,r.Writable),l.prototype._write=function(A,x,R){this._hash.update(A),R()},l.prototype.update=function(A,x){return this._hash.update(typeof A=="string"?t.from(A,x):A),this},l.prototype.verify=function(A,x,R){var C=typeof x=="string"?t.from(x,R):x;this.end();var T=this._hash.digest();return i(C,T,A,this._signType,this._tag)};function d(b){return new c(b)}function v(b){return new l(b)}return W3={Sign:d,Verify:v,createSign:d,createVerify:v},W3}var JR={exports:{}};JR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(JR);var Cwe=JR.exports,J3,e9;function Owe(){if(e9)return J3;e9=1;var t=kR(),e=Cwe;J3=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,o)},n.prototype.computeSecret=function(i,o,c){o=o||"utf8",Re.Buffer.isBuffer(i)||(i=new Re.Buffer(i,o));var l=this.curve.keyFromPublic(i).getPublic(),d=l.mul(this.keys.getPrivate()).getX();return s(d,c,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,o){var c=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),s(c,i)},n.prototype.getPrivateKey=function(i){return s(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,o){return o=o||"utf8",Re.Buffer.isBuffer(i)||(i=new Re.Buffer(i,o)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,o){o=o||"utf8",Re.Buffer.isBuffer(i)||(i=new Re.Buffer(i,o));var c=new e(i);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function s(i,o,c){Array.isArray(i)||(i=i.toArray());var l=new Re.Buffer(i);if(c&&l.length<c){var d=new Re.Buffer(c-l.length);d.fill(0),l=Re.Buffer.concat([d,l])}return o?l.toString(o):l}return J3}var BG={},Bwe=km,d8=kr.Buffer,PG=function(t,e){for(var r=d8.alloc(0),n=0,s;r.length<e;)s=Pwe(n++),r=d8.concat([r,Bwe("sha1").update(t).update(s).digest()]);return r.slice(0,e)};function Pwe(t){var e=d8.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var NG=function(e,r){for(var n=e.length,s=-1;++s<n;)e[s]^=r[s];return e},QR={exports:{}};QR.exports;(function(t){(function(e,r){function n(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var u=function(){};u.prototype=a.prototype,S.prototype=new u,S.prototype.constructor=S}function i(S,a,u){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(S||0,a||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Re.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,u){return a.cmp(u)>0?a:u},i.min=function(a,u){return a.cmp(u)<0?a:u},i.prototype._init=function(a,u,h){if(typeof a=="number")return this._initNumber(a,u,h);if(typeof a=="object")return this._initArray(a,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(u===16?this._parseHex(a,p,h):(this._parseBase(a,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(a,u,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(a,u,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,w,_=0;if(h==="be")for(p=a.length-1,y=0;p>=0;p-=3)w=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);else if(h==="le")for(p=0,y=0;p<a.length;p+=3)w=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[y]|=w<<_&67108863,this.words[y+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,y++);return this.strip()};function c(S,a){var u=S.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(S,a,u){var h=c(S,u);return u-1>=a&&(h|=c(S,u-1)<<4),h}i.prototype._parseHex=function(a,u,h){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,w=0,_;if(h==="be")for(p=a.length-1;p>=u;p-=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8;else{var g=a.length-u;for(p=g%2===0?u+1:u;p<a.length;p+=2)_=l(a,u,p)<<y,this.words[w]|=_&67108863,y>=18?(y-=18,w+=1,this.words[w]|=_>>>26):y+=8}this.strip()};function d(S,a,u,h){for(var p=0,y=Math.min(S.length,u),w=a;w<y;w++){var _=S.charCodeAt(w)-48;p*=h,_>=49?p+=_-49+10:_>=17?p+=_-17+10:p+=_}return p}i.prototype._parseBase=function(a,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var w=a.length-h,_=w%p,g=Math.min(w,w-_)+h,f=0,m=h;m<g;m+=p)f=d(a,m,m+p,u),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(_!==0){var I=1;for(f=d(a,m,a.length,u),m=0;m<_;m++)I*=u;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,u){a=a||10,u=u|0||1;var h;if(a===16||a==="hex"){h="";for(var p=0,y=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<p|y)&16777215).toString(16);y=_>>>24-p&16777215,y!==0||w!==this.length-1?h=v[6-g.length]+g+h:h=g+h,p+=2,p>=26&&(p-=26,w--)}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var f=b[a],m=A[a];h="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(m).toString(a);I=I.idivn(m),I.isZero()?h=P+h:h=v[f-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,u){return n(typeof o<"u"),this.toArrayLike(o,a,u)},i.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},i.prototype.toArrayLike=function(a,u,h){var p=this.byteLength(),y=h||Math.max(1,p);n(p<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var w=u==="le",_=new a(y),g,f,m=this.clone();if(w){for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[f]=g;for(;f<y;f++)_[f]=0}else{for(f=0;f<y-p;f++)_[f]=0;for(f=0;!m.isZero();f++)g=m.andln(255),m.iushrn(8),_[y-f-1]=g}return _},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var u=a,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function x(S){for(var a=new Array(S.bitLength()),u=0;u<a.length;u++){var h=u/26|0,p=u%26;a[u]=(S.words[h]&1<<p)>>>p}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var u,h;this.length>a.length?(u=this,h=a):(u=a,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,h=a%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,u){n(typeof a=="number"&&a>=0);var h=a/26|0,p=a%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var y=0,w=0;w<p.length;w++)u=(h.words[w]|0)+(p.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;for(;y!==0&&w<h.length;w++)u=(h.words[w]|0)+y,this.words[w]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this},i.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=a):(p=a,y=this);for(var w=0,_=0;_<y.length;_++)u=(p.words[_]|0)-(y.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;for(;w!==0&&_<p.length;_++)u=(p.words[_]|0)+w,w=u>>26,this.words[_]=u&67108863;if(w===0&&_<p.length&&p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=Math.max(this.length,_),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function R(S,a,u){u.negative=a.negative^S.negative;var h=S.length+a.length|0;u.length=h,h=h-1|0;var p=S.words[0]|0,y=a.words[0]|0,w=p*y,_=w&67108863,g=w/67108864|0;u.words[0]=_;for(var f=1;f<h;f++){for(var m=g>>>26,I=g&67108863,P=Math.min(f,a.length-1),j=Math.max(0,f-S.length+1);j<=P;j++){var k=f-j|0;p=S.words[k]|0,y=a.words[j]|0,w=p*y+I,m+=w/67108864|0,I=w&67108863}u.words[f]=I|0,g=m|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var C=function(a,u,h){var p=a.words,y=u.words,w=h.words,_=0,g,f,m,I=p[0]|0,P=I&8191,j=I>>>13,k=p[1]|0,z=k&8191,B=k>>>13,U=p[2]|0,K=U&8191,Y=U>>>13,X=p[3]|0,G=X&8191,ne=X>>>13,le=p[4]|0,de=le&8191,me=le>>>13,rt=p[5]|0,Ae=rt&8191,he=rt>>>13,Rt=p[6]|0,Ie=Rt&8191,ke=Rt>>>13,$t=p[7]|0,ae=$t&8191,ue=$t>>>13,je=p[8]|0,ge=je&8191,we=je>>>13,jt=p[9]|0,Ee=jt&8191,Me=jt>>>13,dt=y[0]|0,xe=dt&8191,$e=dt>>>13,Gt=y[1]|0,Le=Gt&8191,Ke=Gt>>>13,sr=y[2]|0,Ue=sr&8191,Ze=sr>>>13,hr=y[3]|0,ze=hr&8191,et=hr>>>13,rr=y[4]|0,De=rr&8191,Ge=rr>>>13,cr=y[5]|0,qe=cr&8191,Xe=cr>>>13,gr=y[6]|0,Pe=gr&8191,Ye=gr>>>13,Q=y[7]|0,ee=Q&8191,te=Q>>>13,q=y[8]|0,re=q&8191,fe=q>>>13,Se=y[9]|0,pe=Se&8191,be=Se>>>13;h.negative=a.negative^u.negative,h.length=19,g=Math.imul(P,xe),f=Math.imul(P,$e),f=f+Math.imul(j,xe)|0,m=Math.imul(j,$e);var ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,g=Math.imul(z,xe),f=Math.imul(z,$e),f=f+Math.imul(B,xe)|0,m=Math.imul(B,$e),g=g+Math.imul(P,Le)|0,f=f+Math.imul(P,Ke)|0,f=f+Math.imul(j,Le)|0,m=m+Math.imul(j,Ke)|0;var nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(nt>>>26)|0,nt&=67108863,g=Math.imul(K,xe),f=Math.imul(K,$e),f=f+Math.imul(Y,xe)|0,m=Math.imul(Y,$e),g=g+Math.imul(z,Le)|0,f=f+Math.imul(z,Ke)|0,f=f+Math.imul(B,Le)|0,m=m+Math.imul(B,Ke)|0,g=g+Math.imul(P,Ue)|0,f=f+Math.imul(P,Ze)|0,f=f+Math.imul(j,Ue)|0,m=m+Math.imul(j,Ze)|0;var Vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(G,xe),f=Math.imul(G,$e),f=f+Math.imul(ne,xe)|0,m=Math.imul(ne,$e),g=g+Math.imul(K,Le)|0,f=f+Math.imul(K,Ke)|0,f=f+Math.imul(Y,Le)|0,m=m+Math.imul(Y,Ke)|0,g=g+Math.imul(z,Ue)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(B,Ue)|0,m=m+Math.imul(B,Ze)|0,g=g+Math.imul(P,ze)|0,f=f+Math.imul(P,et)|0,f=f+Math.imul(j,ze)|0,m=m+Math.imul(j,et)|0;var bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(de,xe),f=Math.imul(de,$e),f=f+Math.imul(me,xe)|0,m=Math.imul(me,$e),g=g+Math.imul(G,Le)|0,f=f+Math.imul(G,Ke)|0,f=f+Math.imul(ne,Le)|0,m=m+Math.imul(ne,Ke)|0,g=g+Math.imul(K,Ue)|0,f=f+Math.imul(K,Ze)|0,f=f+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,Ze)|0,g=g+Math.imul(z,ze)|0,f=f+Math.imul(z,et)|0,f=f+Math.imul(B,ze)|0,m=m+Math.imul(B,et)|0,g=g+Math.imul(P,De)|0,f=f+Math.imul(P,Ge)|0,f=f+Math.imul(j,De)|0,m=m+Math.imul(j,Ge)|0;var Ct=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(Ae,xe),f=Math.imul(Ae,$e),f=f+Math.imul(he,xe)|0,m=Math.imul(he,$e),g=g+Math.imul(de,Le)|0,f=f+Math.imul(de,Ke)|0,f=f+Math.imul(me,Le)|0,m=m+Math.imul(me,Ke)|0,g=g+Math.imul(G,Ue)|0,f=f+Math.imul(G,Ze)|0,f=f+Math.imul(ne,Ue)|0,m=m+Math.imul(ne,Ze)|0,g=g+Math.imul(K,ze)|0,f=f+Math.imul(K,et)|0,f=f+Math.imul(Y,ze)|0,m=m+Math.imul(Y,et)|0,g=g+Math.imul(z,De)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(B,De)|0,m=m+Math.imul(B,Ge)|0,g=g+Math.imul(P,qe)|0,f=f+Math.imul(P,Xe)|0,f=f+Math.imul(j,qe)|0,m=m+Math.imul(j,Xe)|0;var Bt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(Ie,xe),f=Math.imul(Ie,$e),f=f+Math.imul(ke,xe)|0,m=Math.imul(ke,$e),g=g+Math.imul(Ae,Le)|0,f=f+Math.imul(Ae,Ke)|0,f=f+Math.imul(he,Le)|0,m=m+Math.imul(he,Ke)|0,g=g+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(me,Ue)|0,m=m+Math.imul(me,Ze)|0,g=g+Math.imul(G,ze)|0,f=f+Math.imul(G,et)|0,f=f+Math.imul(ne,ze)|0,m=m+Math.imul(ne,et)|0,g=g+Math.imul(K,De)|0,f=f+Math.imul(K,Ge)|0,f=f+Math.imul(Y,De)|0,m=m+Math.imul(Y,Ge)|0,g=g+Math.imul(z,qe)|0,f=f+Math.imul(z,Xe)|0,f=f+Math.imul(B,qe)|0,m=m+Math.imul(B,Xe)|0,g=g+Math.imul(P,Pe)|0,f=f+Math.imul(P,Ye)|0,f=f+Math.imul(j,Pe)|0,m=m+Math.imul(j,Ye)|0;var kt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(ae,xe),f=Math.imul(ae,$e),f=f+Math.imul(ue,xe)|0,m=Math.imul(ue,$e),g=g+Math.imul(Ie,Le)|0,f=f+Math.imul(Ie,Ke)|0,f=f+Math.imul(ke,Le)|0,m=m+Math.imul(ke,Ke)|0,g=g+Math.imul(Ae,Ue)|0,f=f+Math.imul(Ae,Ze)|0,f=f+Math.imul(he,Ue)|0,m=m+Math.imul(he,Ze)|0,g=g+Math.imul(de,ze)|0,f=f+Math.imul(de,et)|0,f=f+Math.imul(me,ze)|0,m=m+Math.imul(me,et)|0,g=g+Math.imul(G,De)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(ne,De)|0,m=m+Math.imul(ne,Ge)|0,g=g+Math.imul(K,qe)|0,f=f+Math.imul(K,Xe)|0,f=f+Math.imul(Y,qe)|0,m=m+Math.imul(Y,Xe)|0,g=g+Math.imul(z,Pe)|0,f=f+Math.imul(z,Ye)|0,f=f+Math.imul(B,Pe)|0,m=m+Math.imul(B,Ye)|0,g=g+Math.imul(P,ee)|0,f=f+Math.imul(P,te)|0,f=f+Math.imul(j,ee)|0,m=m+Math.imul(j,te)|0;var Lt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(ge,xe),f=Math.imul(ge,$e),f=f+Math.imul(we,xe)|0,m=Math.imul(we,$e),g=g+Math.imul(ae,Le)|0,f=f+Math.imul(ae,Ke)|0,f=f+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Ke)|0,g=g+Math.imul(Ie,Ue)|0,f=f+Math.imul(Ie,Ze)|0,f=f+Math.imul(ke,Ue)|0,m=m+Math.imul(ke,Ze)|0,g=g+Math.imul(Ae,ze)|0,f=f+Math.imul(Ae,et)|0,f=f+Math.imul(he,ze)|0,m=m+Math.imul(he,et)|0,g=g+Math.imul(de,De)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(me,De)|0,m=m+Math.imul(me,Ge)|0,g=g+Math.imul(G,qe)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(ne,qe)|0,m=m+Math.imul(ne,Xe)|0,g=g+Math.imul(K,Pe)|0,f=f+Math.imul(K,Ye)|0,f=f+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,Ye)|0,g=g+Math.imul(z,ee)|0,f=f+Math.imul(z,te)|0,f=f+Math.imul(B,ee)|0,m=m+Math.imul(B,te)|0,g=g+Math.imul(P,re)|0,f=f+Math.imul(P,fe)|0,f=f+Math.imul(j,re)|0,m=m+Math.imul(j,fe)|0;var Dt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Ee,xe),f=Math.imul(Ee,$e),f=f+Math.imul(Me,xe)|0,m=Math.imul(Me,$e),g=g+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ke)|0,f=f+Math.imul(we,Le)|0,m=m+Math.imul(we,Ke)|0,g=g+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,Ze)|0,g=g+Math.imul(Ie,ze)|0,f=f+Math.imul(Ie,et)|0,f=f+Math.imul(ke,ze)|0,m=m+Math.imul(ke,et)|0,g=g+Math.imul(Ae,De)|0,f=f+Math.imul(Ae,Ge)|0,f=f+Math.imul(he,De)|0,m=m+Math.imul(he,Ge)|0,g=g+Math.imul(de,qe)|0,f=f+Math.imul(de,Xe)|0,f=f+Math.imul(me,qe)|0,m=m+Math.imul(me,Xe)|0,g=g+Math.imul(G,Pe)|0,f=f+Math.imul(G,Ye)|0,f=f+Math.imul(ne,Pe)|0,m=m+Math.imul(ne,Ye)|0,g=g+Math.imul(K,ee)|0,f=f+Math.imul(K,te)|0,f=f+Math.imul(Y,ee)|0,m=m+Math.imul(Y,te)|0,g=g+Math.imul(z,re)|0,f=f+Math.imul(z,fe)|0,f=f+Math.imul(B,re)|0,m=m+Math.imul(B,fe)|0,g=g+Math.imul(P,pe)|0,f=f+Math.imul(P,be)|0,f=f+Math.imul(j,pe)|0,m=m+Math.imul(j,be)|0;var Nt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,g=Math.imul(Ee,Le),f=Math.imul(Ee,Ke),f=f+Math.imul(Me,Le)|0,m=Math.imul(Me,Ke),g=g+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ze)|0,f=f+Math.imul(we,Ue)|0,m=m+Math.imul(we,Ze)|0,g=g+Math.imul(ae,ze)|0,f=f+Math.imul(ae,et)|0,f=f+Math.imul(ue,ze)|0,m=m+Math.imul(ue,et)|0,g=g+Math.imul(Ie,De)|0,f=f+Math.imul(Ie,Ge)|0,f=f+Math.imul(ke,De)|0,m=m+Math.imul(ke,Ge)|0,g=g+Math.imul(Ae,qe)|0,f=f+Math.imul(Ae,Xe)|0,f=f+Math.imul(he,qe)|0,m=m+Math.imul(he,Xe)|0,g=g+Math.imul(de,Pe)|0,f=f+Math.imul(de,Ye)|0,f=f+Math.imul(me,Pe)|0,m=m+Math.imul(me,Ye)|0,g=g+Math.imul(G,ee)|0,f=f+Math.imul(G,te)|0,f=f+Math.imul(ne,ee)|0,m=m+Math.imul(ne,te)|0,g=g+Math.imul(K,re)|0,f=f+Math.imul(K,fe)|0,f=f+Math.imul(Y,re)|0,m=m+Math.imul(Y,fe)|0,g=g+Math.imul(z,pe)|0,f=f+Math.imul(z,be)|0,f=f+Math.imul(B,pe)|0,m=m+Math.imul(B,be)|0;var Ut=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,g=Math.imul(Ee,Ue),f=Math.imul(Ee,Ze),f=f+Math.imul(Me,Ue)|0,m=Math.imul(Me,Ze),g=g+Math.imul(ge,ze)|0,f=f+Math.imul(ge,et)|0,f=f+Math.imul(we,ze)|0,m=m+Math.imul(we,et)|0,g=g+Math.imul(ae,De)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(ue,De)|0,m=m+Math.imul(ue,Ge)|0,g=g+Math.imul(Ie,qe)|0,f=f+Math.imul(Ie,Xe)|0,f=f+Math.imul(ke,qe)|0,m=m+Math.imul(ke,Xe)|0,g=g+Math.imul(Ae,Pe)|0,f=f+Math.imul(Ae,Ye)|0,f=f+Math.imul(he,Pe)|0,m=m+Math.imul(he,Ye)|0,g=g+Math.imul(de,ee)|0,f=f+Math.imul(de,te)|0,f=f+Math.imul(me,ee)|0,m=m+Math.imul(me,te)|0,g=g+Math.imul(G,re)|0,f=f+Math.imul(G,fe)|0,f=f+Math.imul(ne,re)|0,m=m+Math.imul(ne,fe)|0,g=g+Math.imul(K,pe)|0,f=f+Math.imul(K,be)|0,f=f+Math.imul(Y,pe)|0,m=m+Math.imul(Y,be)|0;var At=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(Ee,ze),f=Math.imul(Ee,et),f=f+Math.imul(Me,ze)|0,m=Math.imul(Me,et),g=g+Math.imul(ge,De)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(we,De)|0,m=m+Math.imul(we,Ge)|0,g=g+Math.imul(ae,qe)|0,f=f+Math.imul(ae,Xe)|0,f=f+Math.imul(ue,qe)|0,m=m+Math.imul(ue,Xe)|0,g=g+Math.imul(Ie,Pe)|0,f=f+Math.imul(Ie,Ye)|0,f=f+Math.imul(ke,Pe)|0,m=m+Math.imul(ke,Ye)|0,g=g+Math.imul(Ae,ee)|0,f=f+Math.imul(Ae,te)|0,f=f+Math.imul(he,ee)|0,m=m+Math.imul(he,te)|0,g=g+Math.imul(de,re)|0,f=f+Math.imul(de,fe)|0,f=f+Math.imul(me,re)|0,m=m+Math.imul(me,fe)|0,g=g+Math.imul(G,pe)|0,f=f+Math.imul(G,be)|0,f=f+Math.imul(ne,pe)|0,m=m+Math.imul(ne,be)|0;var Tt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(Ee,De),f=Math.imul(Ee,Ge),f=f+Math.imul(Me,De)|0,m=Math.imul(Me,Ge),g=g+Math.imul(ge,qe)|0,f=f+Math.imul(ge,Xe)|0,f=f+Math.imul(we,qe)|0,m=m+Math.imul(we,Xe)|0,g=g+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Ye)|0,f=f+Math.imul(ue,Pe)|0,m=m+Math.imul(ue,Ye)|0,g=g+Math.imul(Ie,ee)|0,f=f+Math.imul(Ie,te)|0,f=f+Math.imul(ke,ee)|0,m=m+Math.imul(ke,te)|0,g=g+Math.imul(Ae,re)|0,f=f+Math.imul(Ae,fe)|0,f=f+Math.imul(he,re)|0,m=m+Math.imul(he,fe)|0,g=g+Math.imul(de,pe)|0,f=f+Math.imul(de,be)|0,f=f+Math.imul(me,pe)|0,m=m+Math.imul(me,be)|0;var wt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(Ee,qe),f=Math.imul(Ee,Xe),f=f+Math.imul(Me,qe)|0,m=Math.imul(Me,Xe),g=g+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(we,Pe)|0,m=m+Math.imul(we,Ye)|0,g=g+Math.imul(ae,ee)|0,f=f+Math.imul(ae,te)|0,f=f+Math.imul(ue,ee)|0,m=m+Math.imul(ue,te)|0,g=g+Math.imul(Ie,re)|0,f=f+Math.imul(Ie,fe)|0,f=f+Math.imul(ke,re)|0,m=m+Math.imul(ke,fe)|0,g=g+Math.imul(Ae,pe)|0,f=f+Math.imul(Ae,be)|0,f=f+Math.imul(he,pe)|0,m=m+Math.imul(he,be)|0;var xt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Ee,Pe),f=Math.imul(Ee,Ye),f=f+Math.imul(Me,Pe)|0,m=Math.imul(Me,Ye),g=g+Math.imul(ge,ee)|0,f=f+Math.imul(ge,te)|0,f=f+Math.imul(we,ee)|0,m=m+Math.imul(we,te)|0,g=g+Math.imul(ae,re)|0,f=f+Math.imul(ae,fe)|0,f=f+Math.imul(ue,re)|0,m=m+Math.imul(ue,fe)|0,g=g+Math.imul(Ie,pe)|0,f=f+Math.imul(Ie,be)|0,f=f+Math.imul(ke,pe)|0,m=m+Math.imul(ke,be)|0;var Mt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(Ee,ee),f=Math.imul(Ee,te),f=f+Math.imul(Me,ee)|0,m=Math.imul(Me,te),g=g+Math.imul(ge,re)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(we,re)|0,m=m+Math.imul(we,fe)|0,g=g+Math.imul(ae,pe)|0,f=f+Math.imul(ae,be)|0,f=f+Math.imul(ue,pe)|0,m=m+Math.imul(ue,be)|0;var vt=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(Ee,re),f=Math.imul(Ee,fe),f=f+Math.imul(Me,re)|0,m=Math.imul(Me,fe),g=g+Math.imul(ge,pe)|0,f=f+Math.imul(ge,be)|0,f=f+Math.imul(we,pe)|0,m=m+Math.imul(we,be)|0;var Be=(_+g|0)+((f&8191)<<13)|0;_=(m+(f>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(Ee,pe),f=Math.imul(Ee,be),f=f+Math.imul(Me,pe)|0,m=Math.imul(Me,be);var Ne=(_+g|0)+((f&8191)<<13)|0;return _=(m+(f>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,w[0]=ut,w[1]=nt,w[2]=Vt,w[3]=bt,w[4]=Ct,w[5]=Bt,w[6]=kt,w[7]=Lt,w[8]=Dt,w[9]=Nt,w[10]=Ut,w[11]=At,w[12]=Tt,w[13]=wt,w[14]=xt,w[15]=Mt,w[16]=vt,w[17]=Be,w[18]=Ne,_!==0&&(w[19]=_,h.length++),h};Math.imul||(C=R);function T(S,a,u){u.negative=a.negative^S.negative,u.length=S.length+a.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var w=p;p=0;for(var _=h&67108863,g=Math.min(y,a.length-1),f=Math.max(0,y-S.length+1);f<=g;f++){var m=y-f,I=S.words[m]|0,P=a.words[f]|0,j=I*P,k=j&67108863;w=w+(j/67108864|0)|0,k=k+_|0,_=k&67108863,w=w+(k>>>26)|0,p+=w>>>26,w&=67108863}u.words[y]=_,h=w,w=p}return h!==0?u.words[y]=h:u.length--,u.strip()}function $(S,a,u){var h=new O;return h.mulp(S,a,u)}i.prototype.mulTo=function(a,u){var h,p=this.length+a.length;return this.length===10&&a.length===10?h=C(this,a,u):p<63?h=R(this,a,u):p<1024?h=T(this,a,u):h=$(this,a,u),h};function O(S,a){this.x=S,this.y=a}O.prototype.makeRBT=function(a){for(var u=new Array(a),h=i.prototype._countBits(a)-1,p=0;p<a;p++)u[p]=this.revBin(p,h,a);return u},O.prototype.revBin=function(a,u,h){if(a===0||a===h-1)return a;for(var p=0,y=0;y<u;y++)p|=(a&1)<<u-y-1,a>>=1;return p},O.prototype.permute=function(a,u,h,p,y,w){for(var _=0;_<w;_++)p[_]=u[a[_]],y[_]=h[a[_]]},O.prototype.transform=function(a,u,h,p,y,w){this.permute(w,a,u,h,p,y);for(var _=1;_<y;_<<=1)for(var g=_<<1,f=Math.cos(2*Math.PI/g),m=Math.sin(2*Math.PI/g),I=0;I<y;I+=g)for(var P=f,j=m,k=0;k<_;k++){var z=h[I+k],B=p[I+k],U=h[I+k+_],K=p[I+k+_],Y=P*U-j*K;K=P*K+j*U,U=Y,h[I+k]=z+U,p[I+k]=B+K,h[I+k+_]=z-U,p[I+k+_]=B-K,k!==g&&(Y=f*P-m*j,j=f*j+m*P,P=Y)}},O.prototype.guessLen13b=function(a,u){var h=Math.max(u,a)|1,p=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+p},O.prototype.conjugate=function(a,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var y=a[p];a[p]=a[h-p-1],a[h-p-1]=y,y=u[p],u[p]=-u[h-p-1],u[h-p-1]=-y}},O.prototype.normalize13b=function(a,u){for(var h=0,p=0;p<u/2;p++){var y=Math.round(a[2*p+1]/u)*8192+Math.round(a[2*p]/u)+h;a[p]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},O.prototype.convert13b=function(a,u,h,p){for(var y=0,w=0;w<u;w++)y=y+(a[w]|0),h[2*w]=y&8191,y=y>>>13,h[2*w+1]=y&8191,y=y>>>13;for(w=2*u;w<p;++w)h[w]=0;n(y===0),n((y&-8192)===0)},O.prototype.stub=function(a){for(var u=new Array(a),h=0;h<a;h++)u[h]=0;return u},O.prototype.mulp=function(a,u,h){var p=2*this.guessLen13b(a.length,u.length),y=this.makeRBT(p),w=this.stub(p),_=new Array(p),g=new Array(p),f=new Array(p),m=new Array(p),I=new Array(p),P=new Array(p),j=h.words;j.length=p,this.convert13b(a.words,a.length,_,p),this.convert13b(u.words,u.length,m,p),this.transform(_,w,g,f,p,y),this.transform(m,w,I,P,p,y);for(var k=0;k<p;k++){var z=g[k]*I[k]-f[k]*P[k];f[k]=g[k]*P[k]+f[k]*I[k],g[k]=z}return this.conjugate(g,f,p),this.transform(g,f,j,w,p,y),this.conjugate(j,w,p),this.normalize13b(j,p),h.negative=a.negative^u.negative,h.length=a.length+u.length,h.strip()},i.prototype.mul=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},i.prototype.mulf=function(a){var u=new i(null);return u.words=new Array(this.length+a.length),$(this,a,u)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*a,y=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=y>>>26,this.words[h]=y&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var u=x(a);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var w=0;for(y=0;y<this.length;y++){var _=this.words[y]&p,g=(this.words[y]|0)-_<<u;this.words[y]=g|w,w=_>>>26-u}w&&(this.words[y]=w,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,u,h){n(typeof a=="number"&&a>=0);var p;u?p=(u-u%26)/26:p=0;var y=a%26,w=Math.min((a-y)/26,this.length),_=67108863^67108863>>>y<<y,g=h;if(p-=w,p=Math.max(0,p),g){for(var f=0;f<w;f++)g.words[f]=this.words[f];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var m=0;for(f=this.length-1;f>=0&&(m!==0||f>=p);f--){var I=this.words[f]|0;this.words[f]=m<<26-y|I>>>y,m=I&_}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,u,h){return n(this.negative===0),this.iushrn(a,u,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var u=a%26,h=(a-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,u,h){var p=a.length+h,y;this._expand(p);var w,_=0;for(y=0;y<a.length;y++){w=(this.words[y+h]|0)+_;var g=(a.words[y]|0)*u;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[y+h]=w&67108863}for(;y<this.length-h;y++)w=(this.words[y+h]|0)+_,_=w>>26,this.words[y+h]=w&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,y=0;y<this.length;y++)w=-(this.words[y]|0)+_,_=w>>26,this.words[y]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,u){var h=this.length-a.length,p=this.clone(),y=a,w=y.words[y.length-1]|0,_=this._countBits(w);h=26-_,h!==0&&(y=y.ushln(h),p.iushln(h),w=y.words[y.length-1]|0);var g=p.length-y.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var m=0;m<f.length;m++)f.words[m]=0}var I=p.clone()._ishlnsubmul(y,1,g);I.negative===0&&(p=I,f&&(f.words[g]=1));for(var P=g-1;P>=0;P--){var j=(p.words[y.length+P]|0)*67108864+(p.words[y.length+P-1]|0);for(j=Math.min(j/w|0,67108863),p._ishlnsubmul(y,j,P);p.negative!==0;)j--,p.negative=0,p._ishlnsubmul(y,1,P),p.isZero()||(p.negative^=1);f&&(f.words[P]=j)}return f&&f.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:f||null,mod:p}},i.prototype.divmod=function(a,u,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,u),u!=="mod"&&(p=w.div.neg()),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:p,mod:y}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),u),u!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&a.negative?(w=this.neg().divmod(a.neg(),u),u!=="div"&&(y=w.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:w.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,u)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(a):u.mod,p=a.ushrn(1),y=a.andln(1),w=h.cmp(p);return w<0||y===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var u=(1<<26)%a,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/a|0,u=p%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=new i(0),_=new i(1),g=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++g;for(var f=h.clone(),m=u.clone();!u.isZero();){for(var I=0,P=1;!(u.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(u.iushrn(I);I-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(f),y.isub(m)),p.iushrn(1),y.iushrn(1);for(var j=0,k=1;!(h.words[0]&k)&&j<26;++j,k<<=1);if(j>0)for(h.iushrn(j);j-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(f),_.isub(m)),w.iushrn(1),_.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(w),y.isub(_)):(h.isub(u),w.isub(p),_.isub(y))}return{a:w,b:_,gcd:h.iushln(g)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var u=this,h=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var p=new i(1),y=new i(0),w=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var _=0,g=1;!(u.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(u.iushrn(_);_-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var f=0,m=1;!(h.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(h.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var I;return u.cmpn(1)===0?I=p:I=y,I.cmpn(0)<0&&I.iadd(a),I},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),h=a.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var w=u;u=h,h=w}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var u=a%26,h=(a-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,w=h;y!==0&&w<this.length;w++){var _=this.words[w]|0;_+=y,y=_>>>26,_&=67108863,this.words[w]=_}return y!==0&&(this.words[w]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(a=-a),n(a<=67108863,"Number is too big");var p=this.words[0]|0;h=p===a?0:p<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=a.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Z(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},L.prototype.ireduce=function(a){var u=a,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},L.prototype.split=function(a,u){a.iushrn(this.n,0,u)},L.prototype.imulK=function(a){return a.imul(this.k)};function F(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,L),F.prototype.split=function(a,u){for(var h=4194303,p=Math.min(a.length,9),y=0;y<p;y++)u.words[y]=a.words[y];if(u.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(u.words[u.length++]=w&h,y=10;y<a.length;y++){var _=a.words[y]|0;a.words[y-10]=(_&h)<<4|w>>>22,w=_}w>>>=22,a.words[y-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,h=0;h<a.length;h++){var p=a.words[h]|0;u+=p*977,a.words[h]=u&67108863,u=p*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function H(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function J(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(J,L),J.prototype.imulK=function(a){for(var u=0,h=0;h<a.length;h++){var p=(a.words[h]|0)*19+u,y=p&67108863;p>>>=26,a.words[h]=y,u=p}return u!==0&&(a.words[a.length++]=u),a},i._prime=function(a){if(D[a])return D[a];var u;if(a==="k256")u=new F;else if(a==="p224")u=new H;else if(a==="p192")u=new V;else if(a==="p25519")u=new J;else throw new Error("Unknown prime "+a);return D[a]=u,u};function Z(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,u){n((a.negative|u.negative)===0,"red works only with positives"),n(a.red&&a.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,u){this._verify2(a,u);var h=a.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Z.prototype.iadd=function(a,u){this._verify2(a,u);var h=a.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Z.prototype.sub=function(a,u){this._verify2(a,u);var h=a.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Z.prototype.isub=function(a,u){this._verify2(a,u);var h=a.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Z.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},Z.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},Z.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);n(!p.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(_)!==0;)f.redIAdd(_);for(var m=this.pow(f,p),I=this.pow(a,p.addn(1).iushrn(1)),P=this.pow(a,p),j=y;P.cmp(w)!==0;){for(var k=P,z=0;k.cmp(w)!==0;z++)k=k.redSqr();n(z<j);var B=this.pow(m,new i(1).iushln(j-z-1));I=I.redMul(B),m=B.redSqr(),P=P.redMul(m),j=z}return I},Z.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(a,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=a;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],a);var w=p[0],_=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],I=f-1;I>=0;I--){var P=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),P===0&&_===0){g=0;continue}_<<=1,_|=P,g++,!(g!==h&&(y!==0||I!==0))&&(w=this.mul(w,p[_]),g=0,_=0)}f=26}return w},Z.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},Z.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},i.mont=function(a){return new se(a)};function se(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Z),se.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},se.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},se.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new i(0)._forceRed(this);var h=a.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),w=y;return y.cmp(this.m)>=0?w=y.isub(this.m):y.cmpn(0)<0&&(w=y.iadd(this.m)),w._forceRed(this)},se.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,He)})(QR);var ZR=QR.exports,t9=ZR,Nwe=kr.Buffer;function kwe(t,e){return Nwe.from(t.toRed(t9.mont(e.modulus)).redPow(new t9(e.publicExponent)).fromRed().toArray())}var kG=kwe,Lwe=CE,p8=lg,Dwe=km,r9=PG,n9=NG,XR=ZR,Uwe=kG,Fwe=$R,hc=kr.Buffer,jwe=function(e,r,n){var s;e.padding?s=e.padding:n?s=1:s=4;var i=Lwe(e),o;if(s===4)o=qwe(i,r);else if(s===1)o=zwe(i,r,n);else if(s===3){if(o=new XR(r),o.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Fwe(o,i):Uwe(o,i)};function qwe(t,e){var r=t.modulus.byteLength(),n=e.length,s=Dwe("sha1").update(hc.alloc(0)).digest(),i=s.length,o=2*i;if(n>r-o-2)throw new Error("message too long");var c=hc.alloc(r-n-o-2),l=r-i-1,d=p8(i),v=n9(hc.concat([s,c,hc.alloc(1,1),e],l),r9(d,l)),b=n9(d,r9(v,i));return new XR(hc.concat([hc.alloc(1),b,v],r))}function zwe(t,e,r){var n=e.length,s=t.modulus.byteLength();if(n>s-11)throw new Error("message too long");var i;return r?i=hc.alloc(s-n-3,255):i=Hwe(s-n-3),new XR(hc.concat([hc.from([0,r?1:2]),i,hc.alloc(1),e],s))}function Hwe(t){for(var e=hc.allocUnsafe(t),r=0,n=p8(t*2),s=0,i;r<t;)s===n.length&&(n=p8(t*2),s=0),i=n[s++],i&&(e[r++]=i);return e}var Vwe=CE,i9=PG,s9=NG,o9=ZR,Kwe=$R,Gwe=km,Wwe=kG,Uy=kr.Buffer,Jwe=function(e,r,n){var s;e.padding?s=e.padding:n?s=1:s=4;var i=Vwe(e),o=i.modulus.byteLength();if(r.length>o||new o9(r).cmp(i.modulus)>=0)throw new Error("decryption error");var c;n?c=Wwe(new o9(r),i):c=Kwe(r,i);var l=Uy.alloc(o-c.length);if(c=Uy.concat([l,c],o),s===4)return Qwe(i,c);if(s===1)return Zwe(i,c,n);if(s===3)return c;throw new Error("unknown padding")};function Qwe(t,e){var r=t.modulus.byteLength(),n=Gwe("sha1").update(Uy.alloc(0)).digest(),s=n.length;if(e[0]!==0)throw new Error("decryption error");var i=e.slice(1,s+1),o=e.slice(s+1),c=s9(i,i9(o,s)),l=s9(o,i9(c,r-s-1));if(Xwe(n,l.slice(0,s)))throw new Error("decryption error");for(var d=s;l[d]===0;)d++;if(l[d++]!==1)throw new Error("decryption error");return l.slice(d)}function Zwe(t,e,r){for(var n=e.slice(0,2),s=2,i=0;e[s++]!==0;)if(s>=e.length){i++;break}var o=e.slice(2,s-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&i++,o.length<8&&i++,i)throw new Error("decryption error");return e.slice(s)}function Xwe(t,e){t=Uy.from(t),e=Uy.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var s=-1;++s<n;)r+=t[s]^e[s];return r}(function(t){t.publicEncrypt=jwe,t.privateDecrypt=Jwe,t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}})(BG);var fy={};function a9(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var LG=kr,c9=lg,DG=LG.Buffer,UG=LG.kMaxLength,g8=He.crypto||He.msCrypto,FG=Math.pow(2,32)-1;function jG(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>FG||t<0)throw new TypeError("offset must be a uint32");if(t>UG||t>e)throw new RangeError("offset out of range")}function qG(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>FG||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>UG)throw new RangeError("buffer too small")}g8&&g8.getRandomValues||!mt.browser?(fy.randomFill=Ywe,fy.randomFillSync=e_e):(fy.randomFill=a9,fy.randomFillSync=a9);function Ywe(t,e,r,n){if(!DG.isBuffer(t)&&!(t instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return jG(e,t.length),qG(r,e,t.length),zG(t,e,r,n)}function zG(t,e,r,n){if(mt.browser){var s=t.buffer,i=new Uint8Array(s,e,r);if(g8.getRandomValues(i),n){mt.nextTick(function(){n(null,t)});return}return t}if(n){c9(r,function(c,l){if(c)return n(c);l.copy(t,e),n(null,t)});return}var o=c9(r);return o.copy(t,e),t}function e_e(t,e,r){if(typeof e>"u"&&(e=0),!DG.isBuffer(t)&&!(t instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return jG(e,t.length),r===void 0&&(r=t.length-e),qG(r,e,t.length),zG(t,e,r)}var f9;function YR(){if(f9)return Tr;f9=1,Tr.randomBytes=Tr.rng=Tr.pseudoRandomBytes=Tr.prng=lg,Tr.createHash=Tr.Hash=km,Tr.createHmac=Tr.Hmac=tK;var t=Uve,e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Tr.getHashes=function(){return r};var n=dE;Tr.pbkdf2=n.pbkdf2,Tr.pbkdf2Sync=n.pbkdf2Sync;var s=bc;Tr.Cipher=s.Cipher,Tr.createCipher=s.createCipher,Tr.Cipheriv=s.Cipheriv,Tr.createCipheriv=s.createCipheriv,Tr.Decipher=s.Decipher,Tr.createDecipher=s.createDecipher,Tr.Decipheriv=s.Decipheriv,Tr.createDecipheriv=s.createDecipheriv,Tr.getCiphers=s.getCiphers,Tr.listCiphers=s.listCiphers;var i=mme();Tr.DiffieHellmanGroup=i.DiffieHellmanGroup,Tr.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Tr.getDiffieHellman=i.getDiffieHellman,Tr.createDiffieHellman=i.createDiffieHellman,Tr.DiffieHellman=i.DiffieHellman;var o=$we();Tr.createSign=o.createSign,Tr.Sign=o.Sign,Tr.createVerify=o.createVerify,Tr.Verify=o.Verify,Tr.createECDH=Owe();var c=BG;Tr.publicEncrypt=c.publicEncrypt,Tr.privateEncrypt=c.privateEncrypt,Tr.publicDecrypt=c.publicDecrypt,Tr.privateDecrypt=c.privateDecrypt;var l=fy;return Tr.randomFill=l.randomFill,Tr.randomFillSync=l.randomFillSync,Tr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},Tr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Tr}var t_e=YR(),u9;(function(t){(function(e){var r=typeof He=="object"?He:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=s(t);typeof r.Reflect>"u"?r.Reflect=t:n=s(r.Reflect,n),e(n);function s(i,o){return function(c,l){typeof i[c]!="function"&&Object.defineProperty(i,c,{configurable:!0,writable:!0,value:l}),o&&o(c,l)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",s=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",i=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!o&&!c,d={create:o?function(){return $t(Object.create(null))}:c?function(){return $t({__proto__:null})}:function(){return $t({})},has:l?function(ae,ue){return r.call(ae,ue)}:function(ae,ue){return ue in ae},get:l?function(ae,ue){return r.call(ae,ue)?ae[ue]:void 0}:function(ae,ue){return ae[ue]}},v=Object.getPrototypeOf(Function),b=typeof mt=="object"&&mt.env&&mt.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",A=!b&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Rt(),x=!b&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ie(),R=!b&&typeof WeakMap=="function"?WeakMap:ke(),C=new R;function T(ae,ue,je,ge){if(m(je)){if(!Y(ae))throw new TypeError;if(!G(ue))throw new TypeError;return se(ae,ue)}else{if(!Y(ae))throw new TypeError;if(!j(ue))throw new TypeError;if(!j(ge)&&!m(ge)&&!I(ge))throw new TypeError;return I(ge)&&(ge=void 0),je=K(je),S(ae,ue,je,ge)}}e("decorate",T);function $(ae,ue){function je(ge,we){if(!j(ge))throw new TypeError;if(!m(we)&&!ne(we))throw new TypeError;w(ae,ue,ge,we)}return je}e("metadata",$);function O(ae,ue,je,ge){if(!j(je))throw new TypeError;return m(ge)||(ge=K(ge)),w(ae,ue,je,ge)}e("defineMetadata",O);function D(ae,ue,je){if(!j(ue))throw new TypeError;return m(je)||(je=K(je)),u(ae,ue,je)}e("hasMetadata",D);function L(ae,ue,je){if(!j(ue))throw new TypeError;return m(je)||(je=K(je)),h(ae,ue,je)}e("hasOwnMetadata",L);function F(ae,ue,je){if(!j(ue))throw new TypeError;return m(je)||(je=K(je)),p(ae,ue,je)}e("getMetadata",F);function H(ae,ue,je){if(!j(ue))throw new TypeError;return m(je)||(je=K(je)),y(ae,ue,je)}e("getOwnMetadata",H);function V(ae,ue){if(!j(ae))throw new TypeError;return m(ue)||(ue=K(ue)),_(ae,ue)}e("getMetadataKeys",V);function J(ae,ue){if(!j(ae))throw new TypeError;return m(ue)||(ue=K(ue)),g(ae,ue)}e("getOwnMetadataKeys",J);function Z(ae,ue,je){if(!j(ue))throw new TypeError;m(je)||(je=K(je));var ge=a(ue,je,!1);if(m(ge)||!ge.delete(ae))return!1;if(ge.size>0)return!0;var we=C.get(ue);return we.delete(je),we.size>0||C.delete(ue),!0}e("deleteMetadata",Z);function se(ae,ue){for(var je=ae.length-1;je>=0;--je){var ge=ae[je],we=ge(ue);if(!m(we)&&!I(we)){if(!G(we))throw new TypeError;ue=we}}return ue}function S(ae,ue,je,ge){for(var we=ae.length-1;we>=0;--we){var jt=ae[we],Ee=jt(ue,je,ge);if(!m(Ee)&&!I(Ee)){if(!j(Ee))throw new TypeError;ge=Ee}}return ge}function a(ae,ue,je){var ge=C.get(ae);if(m(ge)){if(!je)return;ge=new A,C.set(ae,ge)}var we=ge.get(ue);if(m(we)){if(!je)return;we=new A,ge.set(ue,we)}return we}function u(ae,ue,je){var ge=h(ae,ue,je);if(ge)return!0;var we=he(ue);return I(we)?!1:u(ae,we,je)}function h(ae,ue,je){var ge=a(ue,je,!1);return m(ge)?!1:B(ge.has(ae))}function p(ae,ue,je){var ge=h(ae,ue,je);if(ge)return y(ae,ue,je);var we=he(ue);if(!I(we))return p(ae,we,je)}function y(ae,ue,je){var ge=a(ue,je,!1);if(!m(ge))return ge.get(ae)}function w(ae,ue,je,ge){var we=a(je,ge,!0);we.set(ae,ue)}function _(ae,ue){var je=g(ae,ue),ge=he(ae);if(ge===null)return je;var we=_(ge,ue);if(we.length<=0)return je;if(je.length<=0)return we;for(var jt=new x,Ee=[],Me=0,dt=je;Me<dt.length;Me++){var xe=dt[Me],$e=jt.has(xe);$e||(jt.add(xe),Ee.push(xe))}for(var Gt=0,Le=we;Gt<Le.length;Gt++){var xe=Le[Gt],$e=jt.has(xe);$e||(jt.add(xe),Ee.push(xe))}return Ee}function g(ae,ue){var je=[],ge=a(ae,ue,!1);if(m(ge))return je;for(var we=ge.keys(),jt=de(we),Ee=0;;){var Me=rt(jt);if(!Me)return je.length=Ee,je;var dt=me(Me);try{je[Ee]=dt}catch(xe){try{Ae(jt)}finally{throw xe}}Ee++}}function f(ae){if(ae===null)return 1;switch(typeof ae){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ae===null?1:6;default:return 6}}function m(ae){return ae===void 0}function I(ae){return ae===null}function P(ae){return typeof ae=="symbol"}function j(ae){return typeof ae=="object"?ae!==null:typeof ae=="function"}function k(ae,ue){switch(f(ae)){case 0:return ae;case 1:return ae;case 2:return ae;case 3:return ae;case 4:return ae;case 5:return ae}var je=ue===3?"string":ue===5?"number":"default",ge=le(ae,s);if(ge!==void 0){var we=ge.call(ae,je);if(j(we))throw new TypeError;return we}return z(ae,je==="default"?"number":je)}function z(ae,ue){if(ue==="string"){var je=ae.toString;if(X(je)){var ge=je.call(ae);if(!j(ge))return ge}var we=ae.valueOf;if(X(we)){var ge=we.call(ae);if(!j(ge))return ge}}else{var we=ae.valueOf;if(X(we)){var ge=we.call(ae);if(!j(ge))return ge}var jt=ae.toString;if(X(jt)){var ge=jt.call(ae);if(!j(ge))return ge}}throw new TypeError}function B(ae){return!!ae}function U(ae){return""+ae}function K(ae){var ue=k(ae,3);return P(ue)?ue:U(ue)}function Y(ae){return Array.isArray?Array.isArray(ae):ae instanceof Object?ae instanceof Array:Object.prototype.toString.call(ae)==="[object Array]"}function X(ae){return typeof ae=="function"}function G(ae){return typeof ae=="function"}function ne(ae){switch(f(ae)){case 3:return!0;case 4:return!0;default:return!1}}function le(ae,ue){var je=ae[ue];if(je!=null){if(!X(je))throw new TypeError;return je}}function de(ae){var ue=le(ae,i);if(!X(ue))throw new TypeError;var je=ue.call(ae);if(!j(je))throw new TypeError;return je}function me(ae){return ae.value}function rt(ae){var ue=ae.next();return ue.done?!1:ue}function Ae(ae){var ue=ae.return;ue&&ue.call(ae)}function he(ae){var ue=Object.getPrototypeOf(ae);if(typeof ae!="function"||ae===v||ue!==v)return ue;var je=ae.prototype,ge=je&&Object.getPrototypeOf(je);if(ge==null||ge===Object.prototype)return ue;var we=ge.constructor;return typeof we!="function"||we===ae?ue:we}function Rt(){var ae={},ue=[],je=function(){function Ee(Me,dt,xe){this._index=0,this._keys=Me,this._values=dt,this._selector=xe}return Ee.prototype["@@iterator"]=function(){return this},Ee.prototype[i]=function(){return this},Ee.prototype.next=function(){var Me=this._index;if(Me>=0&&Me<this._keys.length){var dt=this._selector(this._keys[Me],this._values[Me]);return Me+1>=this._keys.length?(this._index=-1,this._keys=ue,this._values=ue):this._index++,{value:dt,done:!1}}return{value:void 0,done:!0}},Ee.prototype.throw=function(Me){throw this._index>=0&&(this._index=-1,this._keys=ue,this._values=ue),Me},Ee.prototype.return=function(Me){return this._index>=0&&(this._index=-1,this._keys=ue,this._values=ue),{value:Me,done:!0}},Ee}();return function(){function Ee(){this._keys=[],this._values=[],this._cacheKey=ae,this._cacheIndex=-2}return Object.defineProperty(Ee.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ee.prototype.has=function(Me){return this._find(Me,!1)>=0},Ee.prototype.get=function(Me){var dt=this._find(Me,!1);return dt>=0?this._values[dt]:void 0},Ee.prototype.set=function(Me,dt){var xe=this._find(Me,!0);return this._values[xe]=dt,this},Ee.prototype.delete=function(Me){var dt=this._find(Me,!1);if(dt>=0){for(var xe=this._keys.length,$e=dt+1;$e<xe;$e++)this._keys[$e-1]=this._keys[$e],this._values[$e-1]=this._values[$e];return this._keys.length--,this._values.length--,Me===this._cacheKey&&(this._cacheKey=ae,this._cacheIndex=-2),!0}return!1},Ee.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ae,this._cacheIndex=-2},Ee.prototype.keys=function(){return new je(this._keys,this._values,ge)},Ee.prototype.values=function(){return new je(this._keys,this._values,we)},Ee.prototype.entries=function(){return new je(this._keys,this._values,jt)},Ee.prototype["@@iterator"]=function(){return this.entries()},Ee.prototype[i]=function(){return this.entries()},Ee.prototype._find=function(Me,dt){return this._cacheKey!==Me&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Me)),this._cacheIndex<0&&dt&&(this._cacheIndex=this._keys.length,this._keys.push(Me),this._values.push(void 0)),this._cacheIndex},Ee}();function ge(Ee,Me){return Ee}function we(Ee,Me){return Me}function jt(Ee,Me){return[Ee,Me]}}function Ie(){return function(){function ae(){this._map=new A}return Object.defineProperty(ae.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ae.prototype.has=function(ue){return this._map.has(ue)},ae.prototype.add=function(ue){return this._map.set(ue,ue),this},ae.prototype.delete=function(ue){return this._map.delete(ue)},ae.prototype.clear=function(){this._map.clear()},ae.prototype.keys=function(){return this._map.keys()},ae.prototype.values=function(){return this._map.values()},ae.prototype.entries=function(){return this._map.entries()},ae.prototype["@@iterator"]=function(){return this.keys()},ae.prototype[i]=function(){return this.keys()},ae}()}function ke(){var ae=16,ue=d.create(),je=ge();return function(){function dt(){this._key=ge()}return dt.prototype.has=function(xe){var $e=we(xe,!1);return $e!==void 0?d.has($e,this._key):!1},dt.prototype.get=function(xe){var $e=we(xe,!1);return $e!==void 0?d.get($e,this._key):void 0},dt.prototype.set=function(xe,$e){var Gt=we(xe,!0);return Gt[this._key]=$e,this},dt.prototype.delete=function(xe){var $e=we(xe,!1);return $e!==void 0?delete $e[this._key]:!1},dt.prototype.clear=function(){this._key=ge()},dt}();function ge(){var dt;do dt="@@WeakMap@@"+Me();while(d.has(ue,dt));return ue[dt]=!0,dt}function we(dt,xe){if(!r.call(dt,je)){if(!xe)return;Object.defineProperty(dt,je,{value:d.create()})}return dt[je]}function jt(dt,xe){for(var $e=0;$e<xe;++$e)dt[$e]=Math.random()*255|0;return dt}function Ee(dt){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(dt)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(dt)):jt(new Uint8Array(dt),dt):jt(new Array(dt),dt)}function Me(){var dt=Ee(ae);dt[6]=dt[6]&79|64,dt[8]=dt[8]&191|128;for(var xe="",$e=0;$e<ae;++$e){var Gt=dt[$e];($e===4||$e===6||$e===8)&&(xe+="-"),Gt<16&&(xe+="0"),xe+=Gt.toString(16).toLowerCase()}return xe}}function $t(ae){return ae.__=void 0,delete ae.__,ae}})})(u9||(u9={}));const OEt=10;var r_e=(t=>(t.REGISTER="register",t.TRANSFER="transfer",t.RECEIVE="receive",t.ALLOW_RECEIVE_NFT="opt_in_direct_transfer",t.FAUCET="faucet",t.SWAP="swap",t.ADD_LIQUIDITY="add_liquidity",t.REGISTER_POOL_AND_ADD_LIQUIDITY="register_pool_and_add_liquidity",t.REMOVE_LIQUIDITY="remove_liquidity",t.TRANSFER_NFT="transfer_with_opt_in",t.RECEIVE_NFT="receive_nft",t.OFFER_NFT="offer_script",t.CANCEL_OFFER_NFT="cancel_offer_script",t.BUY_NFT="buy",t.LIST_NFT="list",t.SELL_NFT="fill",t.EDIT_NFT="edit",t.DELIST_NFT="delist",t.DELETE_NFT="delete_nft",t.CLAIM_NFT="claim_script",t.STAKE="stake",t.UNSTAKE="unstake",t.HARVEST="harvest",t.UNSTAKE_TORTUGA="swap_exact_coin_for_coin_with_signer",t.STAKE_APTOS="stake_aptos",t.STAKE_APT="stake_APT",t.STAKE_THAPT_LIQUID="stake_thAPT",t.UNSTAKE_THAPT_LIQUID="unstake_thAPT",t.DEPOSIT_MOD="deposit_mod",t.WITHDRAW_MOD="withdraw_mod",t.MINT_AMNIS_LST="deposit_entry",t.MINT_AND_STAKE_AMNIS_LST="deposit_and_stake_entry",t.MERKLE_PLACE_ORDER="place_order_v3",t.MERKLE_EXECUTE="execute_order_v2",t.MERKLE_CLOSE_POSITION_INIT="merkle_close_position",t.MERKLE_CLOSE_POSITION_FINALIZE="merkle_close_position_finalize",t.INSTANT_UNSTAKE_APTOS="instant_unstake",t.DEPOSIT="deposit",t.WITHDRAW="withdraw",t.CLAIM_THL="claim_thl_rewards",t.APPROVE="approve",t.CONTRACT_ADDRESS_CREATED="contract_address_created",t.UNKNOWN="unknown",t))(r_e||{}),n_e=(t=>(t.PENDING="pending",t.FAIL="fail",t.SUCCESS="success",t))(n_e||{});const BEt=["transfer","transfer_coins"],PEt=["swap","swap_into","swap_y_for_exact_x","wallet_swap_exact_coin_for_coin_v0","wallet_swap_exact_coin_for_coin_v05","wallet_swap_coin_for_exact_coin_v0","wallet_swap_coin_for_exact_coin_v05","swap_y_to_x","swap_exact_input","swap_exact_input_doublehop","swap_exact_in","swap_exact_in_2","swap_exact_in_3","three_step_swap_router","split_swap","split_swap_v2_1_2","split_swap_v2_1_2_direct","swap_exact_out_with_change","swap_with_fees","swap_with_fixed_output","three_step_route","two_step_route","split3_swap_exact_input_entry","split2_swap_exact_input_entry","split_swap_exact_input_entry","three_step_route_exact_input_entry","two_step_route_exact_input_entry","one_step_route_exact_input_entry","multi_step_route_exact_input_entry","multi_bstep_route_input"],NEt=["add_liquidity","register_pool_and_add_liquidity","remove_liquidity"],kEt=["mint","script_payload"],LEt=["buy_v2","buy"],i_e=["purchase"],s_e=["init_fixed_price_for_tokenv1"],DEt=[...i_e,...s_e],o_e=["buy_tokens_v2","purchase_many","transfer_with_opt_in"],UEt=[...o_e];var a_e=(t=>(t.TOPAZ="Topaz",t.LIQUIDSWAP="Liquidswap",t.THALA="Thala",t.APTOSWAP="Aptoswap",t.DITTO="Ditto",t.ARIES="Aries",t.PANCAKE="PancakeSwap",t.SUSHISWAP="SushiSwap",t.APTIN="Aptin",t.AMNIS="Amnis",t.KANA="Kana Labs",t.MERKLE="Merkle Trade",t.WAPAL="Wapal",t.TORTUGA="Tortuga",t.HIPPO="Hippo",t.CETUS="Cetus",t.PANORA="Panora",t.MERCATO="Mercato",t))(a_e||{});const c_e=["0x48271d39d0b05bd6efca2278f22277d6fcc375504f9839fd73f74ace240861af","0x89576037b3cc0b89645ea393a47787bb348272c76d6941c574b053672b848039"],f_e="0xfaf4e633ae9eb31366c9ca24214231760926576c7b625313b3688b5e900731f6",u_e="0xa5d3ac4d429052674ed38adc62d010e52d7c24ca159194d17ddc196ddb7e480b",l_e="0xc7efb4076dbe143cbcd98cfaaa929ecfc8f299203dfff63b95ccb6bfe19850fa",h_e="0x31a6675cbe84365bf2b0cbce617ece6c47023ef70826533bde5203d32171dc3c",FEt="0x1::aptos_account::transfer",jEt="0x1::object::transfer",qEt="panora_swap_aggregator";var HG=(t=>(t.IN="in",t.OUT="out",t.UNKNOWN="unknown",t))(HG||{});const zEt="0x441500aa9825825f2f88b325d25c39be76682a5518ffee48848c7d208727ecea",d_e="0x9770fa9c725cbd97eb50b2be5f7416efdfd1f1554beb0750d4dae4c64e860da3",p_e="0x3c1d4a86594d681ff7e5d5a233965daeabdc6a15fe5672ceeda5260038857183",g_e="0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a",v_e="0x5ae6789dd2fec1a9ec9cccfb3acaf12e93d432f0a3a42c92fe1a9d490b7bbc06",y_e="0x8f396e4246b2ba87b51c0739ef5ea4f26515a98375308c31ac2ec1e42142a57f",m_e="0xbd35135844473187163ca197ca93b2ab014370587bb0ed3befff9e902d6bb541",b_e="0x890812a6bbe27dd59188ade3bbdbe40a544e6e104319b7ebc6617d3eb947ac07",w_e="0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",__e="0xe11c12ec495f3989c35e1c6a0af414451223305b579291fc8f3d9d0575a23c26",E_e="0x2c7bccf7b31baf770fdbcc768d9e9cb3d87805e255355df5db32ac9a669010a2",HEt={...c_e.reduce((t,e)=>({...t,[e]:"Thala"}),{}),[u_e]:"Aptoswap",[l_e]:"PancakeSwap",[h_e]:"SushiSwap",[d_e]:"Aries",[p_e]:"Aptin",[f_e]:"Thala",[g_e]:"Amnis",[v_e]:"Merkle Trade",[y_e]:"Tortuga",[m_e]:"Tortuga",[b_e]:"Hippo",[w_e]:"Cetus",[__e]:"Mercato",[E_e]:"Topaz"},VG="0x1::aptos_coin::AptosCoin",Ey=["0x1::string::String"],VEt="https://solana.proxy.pontem.network/v0",KG=/(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?\/[a-zA-Z0-9]{2,}|((https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?)|(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}(\.[a-zA-Z0-9]{2,})?/g;var eT="named",S_e="name",A_e="unmanaged",x_e="optional",GG="inject",M_e="multi_inject",I_e="inversify:tagged",R_e="inversify:tagged_props",l9="inversify:paramtypes",T_e="design:paramtypes",KEt="post_construct",GEt="pre_destroy";function $_e(){return[GG,M_e,S_e,A_e,eT,x_e]}var WEt=$_e(),C_e="Cannot apply @injectable decorator multiple times.",WG="Metadata key was used more than once in a parameter:",JEt="NULL argument",QEt="Key Not Found",ZEt="Ambiguous match found for serviceIdentifier:",XEt="Could not unbind serviceIdentifier:",YEt="No matching bindings found for serviceIdentifier:",eSt="Missing required @injectable annotation in:",tSt="Missing required @inject or @multiInject annotation in:",O_e=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},rSt="Circular dependency found:",nSt="Invalid binding type:",iSt="No snapshot available to restore.",sSt="Invalid return type in middleware. Middleware must return!",oSt="Value provided to function binding must be a function!",aSt=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`},cSt="The toSelf function can only be applied when a constructor is used as service identifier",JG="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",fSt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},uSt="Invalid Container constructor argument. Container options must be an object.",lSt="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",hSt="Invalid Container option. Auto bind injectable must be a boolean",dSt="Invalid Container option. Skip base check must be a boolean",pSt="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)",gSt=function(t,e){return"@postConstruct error in class "+t+": "+e},vSt=function(t,e){return"@preDestroy error in class "+t+": "+e},ySt=function(t,e){return"onDeactivation() error in class "+t+": "+e},mSt=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")},bSt="Maximum call stack size exceeded",QG=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===eT?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();function B_e(t){for(var e=new Set,r=0,n=t;r<n.length;r++){var s=n[r];if(e.has(s))return s;e.add(s)}}function P_e(t){return t.prototype!==void 0}function N_e(t){if(t!==void 0)throw new Error(JG)}function k_e(t,e,r,n){N_e(e),ZG(I_e,t,r.toString(),n)}function L_e(t,e,r){if(P_e(t))throw new Error(JG);ZG(R_e,t.constructor,e,r)}function D_e(t){var e=[];if(Array.isArray(t)){e=t;var r=B_e(e.map(function(n){return n.key}));if(r!==void 0)throw new Error(WG+" "+r.toString())}else e=[t];return e}function ZG(t,e,r,n){var s=D_e(n),i={};Reflect.hasOwnMetadata(t,e)&&(i=Reflect.getMetadata(t,e));var o=i[r];if(o===void 0)o=[];else for(var c=function(b){if(s.some(function(A){return A.key===b.key}))throw new Error(WG+" "+b.key.toString())},l=0,d=o;l<d.length;l++){var v=d[l];c(v)}o.push.apply(o,s),i[r]=o,Reflect.defineMetadata(t,i,e)}function XG(t){return function(e,r,n){typeof n=="number"?k_e(e,r,n,t):L_e(e,r,t)}}function h9(t,e){Reflect.decorate(t,e)}function U_e(t,e){return function(r,n){e(r,n,t)}}function wSt(t,e,r){typeof r=="number"?h9([U_e(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):h9([t],e)}function Lr(){return function(t){if(Reflect.hasOwnMetadata(l9,t))throw new Error(C_e);var e=Reflect.getMetadata(T_e,t)||[];return Reflect.defineMetadata(l9,e,t),t}}function Ep(t){return XG(new QG(eT,t))}function F_e(t){return function(e){return function(r,n,s){if(e===void 0){var i=typeof r=="function"?r.name:r.constructor.name;throw new Error(O_e(i))}return XG(new QG(t,e))(r,n,s)}}}var st=F_e(GG),v8;(function(t){})(v8||(v8={}));v8.Context;var Qt=(t=>(t.Aptos="aptos",t.Ethereum="ethereum",t.Avalanche="avalanche",t.Optimism="optimism",t.Arbitrum="arbitrum",t.Polygon="polygon",t.BinanceSmartChain="binanceSmartChain",t.Base="base",t.Gnosis="gnosis",t.Fantom="fantom",t.Cronos="cronos",t.Solana="solana",t.SuperLumio="superLumio",t))(Qt||{}),Ui=(t=>(t.Mainnet="mainnet",t.Testnet="testnet",t.Devnet="devnet",t.Custom="custom",t))(Ui||{}),tT=(t=>(t.Internal="Internal",t.External="External",t))(tT||{}),YG=(t=>(t.StateUpdated="$events.stateUpdated",t.RequestSuccess="$events.requestSuccess",t.RequestFailed="$events.requestFailed",t))(YG||{}),Os=(t=>(t.ChangeNetwork="ChangeNetwork",t.ChangeNetworkMode="ChangeNetworkMode",t.ConfirmDefaultProvider="ConfirmDefaultProvider",t.ConnectOrigin="ConnectOrigin",t.SignTransaction="SignTransaction",t.ConfirmTransaction="ConfirmTransaction",t.SignMessage="SignMessage",t.SignTypedData="SignTypedData",t.WatchAsset="WatchAsset",t.SignIn="SignIn",t))(Os||{}),la=(t=>(t.Created="Created",t.Success="Success",t.Failed="Failed",t))(la||{}),sc=(t=>(t.KeyTree="KeyTree",t.Simple="Simple",t.Ledger="Ledger",t.ReadOnly="ReadOnly",t))(sc||{}),as=(t=>(t.ETHEREUM_NAME_SERVICE="ETHEREUM_NAME_SERVICE",t.APTOS_NAME_SERVICE="APTOS_NAME_SERVICE",t))(as||{}),y8=(t=>(t.USD="USD",t.tokenName="tokenName",t))(y8||{}),Kn=(t=>(t.KeyTree="KeyTree",t.Ledger="Ledger",t.Imported="Imported",t.ReadOnly="ReadOnly",t))(Kn||{}),j_e=(t=>(t.TransferCoinToAddress="TransferCoinToAddress",t.TransferNFT="TransferNFT",t.DeleteNFT="DeleteNFT",t.AddCustomCoin="AddCustomCoin",t))(j_e||{}),q_e=(t=>(t.CALL="CALL",t.STATICCALL="STATICCALL",t.CALLCODE="CALLCODE",t.DELEGATECALL="DELEGATECALL",t.CREATE="CREATE",t.CREATE2="CREATE2",t))(q_e||{});const eW="m/44'/637'/x'/0'/0'",tW="m/44'/60'/0'/0/x",rW="m/44'/501'/0'/x'",_St=t=>jl.includes(t)?tW:t===Qt.Solana?rW:eW,ESt=t=>jl.includes(t)?H_e:t===Qt.Solana?V_e:z_e,z_e=[eW],H_e=[tW],V_e=[rW],Ch="aptos-mainnet",d9=1e11,p9=1e8,jl=[Qt.Ethereum,Qt.Arbitrum,Qt.Optimism,Qt.Avalanche,Qt.Polygon,Qt.BinanceSmartChain,Qt.Base,Qt.Gnosis,Qt.Fantom,Qt.Cronos,Qt.SuperLumio],SSt="https://cloudflare-ipfs.com/ipfs/",ASt="0xe98dda420f0c22a85de3c95f6245400a6eb52b22caccd690152e5c55633da1af",xSt="0x000000000000000000000000000000000000dEaD",g9=30*1e3,K_e=5*60*1e3,v9={[Kn.KeyTree]:t=>`Wallet ${t+1}`,[Kn.Imported]:t=>"Imported Accounts",[Kn.Ledger]:t=>`Ledger ${t+1}`,[Kn.ReadOnly]:t=>"Read-Only Accounts",default:t=>`Wallet ${t+1}`},Pv={[Kn.KeyTree]:t=>`Account ${t}`,[Kn.Imported]:t=>`Imported ${t}`,[Kn.Ledger]:t=>`Ledger ${t}`,[Kn.ReadOnly]:t=>`Read-Only ${t}`,default:t=>`Account ${t}`},G_e={[Kn.KeyTree]:1,[Kn.Imported]:5,[Kn.Ledger]:10,[Kn.ReadOnly]:15},y9="The account is not on the whitelist",W_e="Request rejected by 1 checkers";class nW extends Error{constructor(){super(y9)}}Oe(nW,"staticMessage",y9);class MSt extends Error{constructor({code:r,message:n,details:s}){super(n);Oe(this,"isAppError",!0);Oe(this,"code");Oe(this,"details");this.code=r,this.details=s}}function Vc(t,e){return({code:r,message:n,details:s}={})=>({code:r??m9[t]??m9.InternalError,message:n??e??`${t}Error`,details:s})}const m9={InternalError:1001,RejectedByUser:1002,TransactionSubmit:4001,TransactionSign:4002,TransactionGenerate:4003,TransactionSimulate:4004,LedgerNotConnected:5001,LedgerRejected:5002,InvalidLedgerConnected:5003,UnsupportedTypedMessageVersion:5004},ISt={InternalError:Vc("InternalError","Internal Error"),RejectedByUser:Vc("RejectedByUser","Rejected by User"),TransactionSubmit:Vc("TransactionSubmit"),TransactionSign:Vc("TransactionSign"),TransactionGenerate:Vc("TransactionGenerate"),TransactionSimulate:Vc("TransactionSimulate"),LedgerNotConnected:Vc("LedgerNotConnected","Ledger device is not connected"),LedgerRejected:Vc("LedgerRejected","Transaction has been denied by the ledger device"),InvalidLedgerConnected:Vc("InvalidLedgerConnected","Invalid ledger device connected"),UnsupportedTypedMessageVersion:Vc("UnsupportedTypedMessageVersion","Ledger: Only version 4 of typed data signing is supported")},RSt={[as.ETHEREUM_NAME_SERVICE]:"",[as.APTOS_NAME_SERVICE]:".apt"},TSt={[as.ETHEREUM_NAME_SERVICE]:{name:"Ethereum Name Service"},[as.APTOS_NAME_SERVICE]:{name:"Aptos Name Service"}},$St={[Qt.Ethereum]:{name:"Ethereum Name Service"},[Qt.Aptos]:{name:"Aptos Name Service"}},Cb=864e5,tt={RootContainer:Symbol.for("RootContainer"),Config:Symbol.for("Config"),ApiController:Symbol.for("ApiController"),ApiControllerProvider:Symbol.for("ApiControllerProvider"),PreferencesController:Symbol.for("PreferencesController"),PreferencesControllerProvider:Symbol.for("PreferencesControllerProvider"),StateController:Symbol.for("StateController"),StateControllerProvider:Symbol.for("StateControllerProvider"),ConnectionController:Symbol.for("ConnectionController"),ConnectionControllerProvider:Symbol.for("ConnectionControllerProvider"),NftController:Symbol.for("NftController"),NftControllerProvider:Symbol.for("NftControllerProvider"),MarketController:Symbol.for("MarketController"),MarketControllerProvider:Symbol.for("MarketControllerProvider"),ActivityController:Symbol.for("ActivityController"),ActivityControllerProvider:Symbol.for("ActivityControllerProvider"),CoinController:Symbol.for("CoinController"),CoinControllerProvider:Symbol.for("CoinControllerProvider"),WalletController:Symbol.for("WalletController"),WalletControllerProvider:Symbol.for("WalletControllerProvider"),KeyringController:Symbol.for("KeyringController"),KeyringControllerProvider:Symbol.for("KeyringControllerProvider"),NetworkController:Symbol.for("NetworkController"),NetworkControllerProvider:Symbol.for("NetworkControllerProvider"),SignController:Symbol.for("SignController"),SignControllerProvider:Symbol.for("SignControllerProvider"),MigrationController:Symbol.for("MigrationController"),MigrationControllerProvider:Symbol.for("MigrationControllerProvider"),ExternalApiController:Symbol.for("ExternalApiController"),ExternalApiControllerProvider:Symbol.for("ExternalApiControllerProvider"),ExternalRequestsController:Symbol.for("ExternalRequestsController"),ExternalRequestsControllerProvider:Symbol.for("ExternalRequestsControllerProvider"),PermissionsController:Symbol.for("PermissionsController"),PermissionsControllerProvider:Symbol.for("PermissionsControllerProvider"),FlagsController:Symbol.for("FlagsController"),FlagsControllerProvider:Symbol.for("FlagsControllerProvider"),BannersController:Symbol.for("BannersController"),BannersControllerProvider:Symbol.for("BannersControllerProvider"),OnlineController:Symbol.for("OnlineController"),OnlineControllerProvider:Symbol.for("OnlineControllerProvider"),ContactsController:Symbol.for("ContactsController"),ContactsControllerProvider:Symbol.for("ContactsControllerProvider"),NameServiceController:Symbol.for("NameService"),NameServiceControllerProvider:Symbol.for("NameServiceProvider"),SearchController:Symbol.for("SearchController"),SearchControllerProvider:Symbol.for("SearchControllerProvider"),DappsController:Symbol.for("DappsController"),DappsControllerProvider:Symbol.for("DappsControllerProvider"),SystemController:Symbol.for("SystemController"),SystemControllerProvider:Symbol.for("SystemControllerProvider"),CoinService:Symbol.for("CoinService"),MovementCoinService:Symbol.for("MovementCoinService"),LumioCoinService:Symbol.for("LumioCoinService"),ActivityService:Symbol.for("ActivityService"),NftService:Symbol.for("NftService"),StorageService:Symbol.for("StorageService"),EventBus:Symbol.for("EventBus"),MigrationService:Symbol.for("MigrationService"),HttpService:Symbol.for("HttpService"),PermissionsServiceProvider:Symbol.for("PermissionsServiceProvider"),PermissionsService:Symbol.for("PermissionsService"),ExternalRequestsServiceProvider:Symbol.for("ExternalRequestsServiceProvider"),ExternalRequestsService:Symbol.for("ExternalRequestsService"),ExternalApiServiceProvider:Symbol.for("ExternalApiServiceProvider"),ExternalApiService:Symbol.for("ExternalApiService"),ConnectionServiceProvider:Symbol.for("ConnectionServiceProvider"),ConnectionService:Symbol.for("ConnectionService"),ExternalChainApiService:Symbol.for("ExternalChainApiService"),ExternalChainApiServiceProvider:Symbol.for("ExternalChainApiServiceProvider"),ChainApiProvider:Symbol.for("ChainApiProvider"),OnlineService:Symbol.for("OnlineService"),SystemServiceProvider:Symbol.for("SystemServiceProvider"),SystemService:Symbol.for("SystemService"),AptosIndexerProvider:Symbol.for("AptosIndexerProvider"),TransactionBuilder:Symbol.for("TransactionBuilder"),State:Symbol.for("State"),Router:Symbol.for("Router"),SearchService:Symbol.for("SearchService")};var J_e=Object.defineProperty,Q_e=Object.getOwnPropertyDescriptor,iW=(t,e,r,n)=>{for(var s=n>1?void 0:n?Q_e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&J_e(e,r,s),s};let mn=class{constructor(){Oe(this,"eventBus");Oe(this,"__isInitialized",!1);Oe(this,"__eventsQueue",[])}async __load(){this.eventBus.on("accountChanged",this.__handleEvent(t=>{try{this.onAccountChanged(t)}catch(e){console.error("onAccountChanged Event Error",e)}})),this.eventBus.on("accountDeleted",this.__handleEvent(t=>{try{this.onAccountDeleted(t)}catch(e){console.error("onAccountChanged Event Error",e)}})),this.eventBus.on("accountAdded",this.__handleEvent(t=>{try{this.onAccountAdded(t)}catch(e){console.error("onAccountAdded Event Error",e)}})),this.eventBus.on("networkChanged",this.__handleEvent(t=>{try{t&&this.onNetworkChanged(t)}catch(e){console.error("onNetworkChanged Event Error",e)}})),this.eventBus.on("overviewModeChanged",this.__handleEvent(t=>{try{this.onOverviewModeChanged(t)}catch(e){console.error("onOverviewModeChanged Event Error",e)}})),this.eventBus.on("transactionSubmitted",this.__handleEvent((t,e)=>{try{this.onTransactionSubmitted(t,e)}catch(r){console.error("onTransactionSubmitted Event Error",r)}})),this.eventBus.on("resetApplication",this.__handleEvent(()=>{try{this.onResetApplication()}catch(t){console.error("onResetApplication Event Error",t)}})),this.eventBus.on("dataSync",this.__handleEvent(()=>{try{this.onDataSync()}catch(t){console.error("onDataSync Event Error",t)}})),await this.init(),this.__isInitialized=!0;try{this.__eventsQueue.map(t=>t())}catch{console.error("Error in initialization process")}finally{this.__eventsQueue=[]}}onResetApplication(){}onAccountChanged(t){}onAccountDeleted(t){}onAccountAdded(t){}onNetworkChanged(t){}onOverviewModeChanged(t){}onTransactionSubmitted(t,e){}onDataSync(){}async init(){}__handleEvent(t){return(...e)=>{try{this.__isInitialized?t(...e):this.__eventsQueue.push(t)}catch{}}}};iW([st(tt.EventBus)],mn.prototype,"eventBus",2);mn=iW([Lr()],mn);var Z_e=Object.defineProperty,X_e=Object.getOwnPropertyDescriptor,Y_e=(t,e,r,n)=>{for(var s=n>1?void 0:n?X_e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Z_e(e,r,s),s},e2e=(t,e)=>(r,n)=>e(r,n,t);let b9=class extends mn{constructor(e){super();Oe(this,"_externalRequestsService");this.externalRequestsProvider=e}async init(){this._externalRequestsService=await this.externalRequestsProvider()}async resolveRequest(e,r,n){return this._externalRequestsService.resolveRequest(e,r,n)}};b9=Y_e([e2e(0,st(tt.ExternalRequestsServiceProvider))],b9);const t2e="modulepreload",r2e=function(t){return"/"+t},w9={},_9=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=r2e(i),i in w9)return;w9[i]=!0;const o=i.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!n)for(let v=s.length-1;v>=0;v--){const b=s[v];if(b.href===i&&(!o||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":t2e,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((v,b)=>{d.addEventListener("load",v),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var zn={},OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.storeAsStream=void 0;const n2e=WV;class i2e extends n2e.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=r=>this.push(r),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,r){const n=super.pipe(e,r);return e.write(this.obsStore.getState()),n}_write(e,r,n){this.obsStore.putState(e),n()}_read(e){}_destroy(e,r){this.obsStore.unsubscribe(this.handler),super._destroy(e,r)}}function s2e(t){return new i2e(t)}OE.storeAsStream=s2e;var BE={},wg={},Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});const o2e=Of;function E9(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function a2e(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class c2e extends o2e.EventEmitter{emit(e,...r){let n=e==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const c=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw c.context=o,c}const i=s[e];if(i===void 0)return!1;if(typeof i=="function")E9(i,this,r);else{const o=i.length,c=a2e(i);for(let l=0;l<o;l+=1)E9(c[l],this,r)}return!0}}Vm.default=c2e;var f2e=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wg,"__esModule",{value:!0});wg.ObservableStore=void 0;const u2e=f2e(Vm);class l2e extends u2e.default{constructor(e){super(),e===void 0?this._state={}:this._state=e}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&typeof e=="object"){const r=this.getState();this.putState(Object.assign(Object.assign({},r),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}wg.ObservableStore=l2e;Object.defineProperty(BE,"__esModule",{value:!0});BE.ComposedStore=void 0;const h2e=wg;class d2e extends h2e.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach(r=>{const n=this._children[r];this._addChild(r,n)})}_addChild(e,r){const n=s=>{const i=this.getState();i[e]=s,this.putState(i)};r.subscribe(n),n(r.getState())}}BE.ComposedStore=d2e;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.MergedStore=void 0;const p2e=wg;class g2e extends p2e.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach(r=>this._addChild(r)),this._updateWholeState()}_addChild(e){e.subscribe(()=>this._updateWholeState())}_updateWholeState(){const e=this._children.map(n=>n.getState()),r=Object.assign({},...e);this.putState(r)}}PE.MergedStore=g2e;var NE={},kE={exports:{}},m8={exports:{}},b8={exports:{}};typeof mt>"u"||!mt.version||mt.version.indexOf("v0.")===0||mt.version.indexOf("v1.")===0&&mt.version.indexOf("v1.8.")!==0?b8.exports={nextTick:v2e}:b8.exports=mt;function v2e(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,i,o;switch(s){case 0:case 1:return mt.nextTick(t);case 2:return mt.nextTick(function(){t.call(null,e)});case 3:return mt.nextTick(function(){t.call(null,e,r)});case 4:return mt.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return mt.nextTick(function(){t.apply(null,i)})}}var LE=b8.exports,y2e={}.toString,m2e=Array.isArray||function(t){return y2e.call(t)=="[object Array]"},sW=Of.EventEmitter,w8={exports:{}};(function(t,e){var r=Re,n=r.Buffer;function s(o,c){for(var l in o)c[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,c,l){return n(o,c,l)}s(n,i),i.from=function(o,c,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,l)},i.alloc=function(o,c,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return c!==void 0?typeof l=="string"?d.fill(c,l):d.fill(c):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(w8,w8.exports);var DE=w8.exports,Q3={exports:{}},S9;function b2e(){return S9||(S9=1,function(t){function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}var r=DE.Buffer,n=nh;function s(i,o,c){i.copy(o,c)}t.exports=function(){function i(){e(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(c){var l={data:c,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},i.prototype.unshift=function(c){var l={data:c,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},i.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(c){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=c+l.data;return d},i.prototype.concat=function(c){if(this.length===0)return r.alloc(0);for(var l=r.allocUnsafe(c>>>0),d=this.head,v=0;d;)s(d.data,l,v),v+=d.data.length,d=d.next;return l},i}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var i=n.inspect({length:this.length});return this.constructor.name+" "+i})}(Q3)),Q3.exports}var Ob=LE;function w2e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ob.nextTick(Bb,this,t)):Ob.nextTick(Bb,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Ob.nextTick(Bb,r,i)):Ob.nextTick(Bb,r,i):e&&e(i)}),this)}function _2e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Bb(t,e){t.emit("error",e)}var oW={destroy:w2e,undestroy:_2e},Z3,A9;function aW(){if(A9)return Z3;A9=1;var t=LE;Z3=C;function e(w){var _=this;this.next=null,this.entry=null,this.finish=function(){y(_,w)}}var r=!mt.browser&&["v0.10","v0.9."].indexOf(mt.version.slice(0,5))>-1?setImmediate:t.nextTick,n;C.WritableState=x;var s=Object.create(Bf);s.inherits=ir;var i={deprecate:fR},o=sW,c=DE.Buffer,l=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(w){return c.from(w)}function v(w){return c.isBuffer(w)||w instanceof l}var b=oW;s.inherits(C,o);function A(){}function x(w,_){n=n||Sp(),w=w||{};var g=_ instanceof n;this.objectMode=!!w.objectMode,g&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var f=w.highWaterMark,m=w.writableHighWaterMark,I=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:g&&(m||m===0)?this.highWaterMark=m:this.highWaterMark=I,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=w.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){V(_,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}x.prototype.getBuffer=function(){for(var _=this.bufferedRequest,g=[];_;)g.push(_),_=_.next;return g},function(){try{Object.defineProperty(x.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(w){return R.call(this,w)?!0:this!==C?!1:w&&w._writableState instanceof x}})):R=function(w){return w instanceof this};function C(w){if(n=n||Sp(),!R.call(C,this)&&!(this instanceof n))return new C(w);this._writableState=new x(w,this),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),o.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function T(w,_){var g=new Error("write after end");w.emit("error",g),t.nextTick(_,g)}function $(w,_,g,f){var m=!0,I=!1;return g===null?I=new TypeError("May not write null values to stream"):typeof g!="string"&&g!==void 0&&!_.objectMode&&(I=new TypeError("Invalid non-string/buffer chunk")),I&&(w.emit("error",I),t.nextTick(f,I),m=!1),m}C.prototype.write=function(w,_,g){var f=this._writableState,m=!1,I=!f.objectMode&&v(w);return I&&!c.isBuffer(w)&&(w=d(w)),typeof _=="function"&&(g=_,_=null),I?_="buffer":_||(_=f.defaultEncoding),typeof g!="function"&&(g=A),f.ended?T(this,g):(I||$(this,f,w,g))&&(f.pendingcb++,m=D(this,f,I,w,_,g)),m},C.prototype.cork=function(){var w=this._writableState;w.corked++},C.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,!w.writing&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&se(this,w))},C.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_);return this._writableState.defaultEncoding=_,this};function O(w,_,g){return!w.objectMode&&w.decodeStrings!==!1&&typeof _=="string"&&(_=c.from(_,g)),_}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(w,_,g,f,m,I){if(!g){var P=O(_,f,m);f!==P&&(g=!0,m="buffer",f=P)}var j=_.objectMode?1:f.length;_.length+=j;var k=_.length<_.highWaterMark;if(k||(_.needDrain=!0),_.writing||_.corked){var z=_.lastBufferedRequest;_.lastBufferedRequest={chunk:f,encoding:m,isBuf:g,callback:I,next:null},z?z.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else L(w,_,!1,j,f,m,I);return k}function L(w,_,g,f,m,I,P){_.writelen=f,_.writecb=P,_.writing=!0,_.sync=!0,g?w._writev(m,_.onwrite):w._write(m,I,_.onwrite),_.sync=!1}function F(w,_,g,f,m){--_.pendingcb,g?(t.nextTick(m,f),t.nextTick(h,w,_),w._writableState.errorEmitted=!0,w.emit("error",f)):(m(f),w._writableState.errorEmitted=!0,w.emit("error",f),h(w,_))}function H(w){w.writing=!1,w.writecb=null,w.length-=w.writelen,w.writelen=0}function V(w,_){var g=w._writableState,f=g.sync,m=g.writecb;if(H(g),_)F(w,g,f,_,m);else{var I=S(g);!I&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&se(w,g),f?r(J,w,g,I,m):J(w,g,I,m)}}function J(w,_,g,f){g||Z(w,_),_.pendingcb--,f(),h(w,_)}function Z(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))}function se(w,_){_.bufferProcessing=!0;var g=_.bufferedRequest;if(w._writev&&g&&g.next){var f=_.bufferedRequestCount,m=new Array(f),I=_.corkedRequestsFree;I.entry=g;for(var P=0,j=!0;g;)m[P]=g,g.isBuf||(j=!1),g=g.next,P+=1;m.allBuffers=j,L(w,_,!0,_.length,m,"",I.finish),_.pendingcb++,_.lastBufferedRequest=null,I.next?(_.corkedRequestsFree=I.next,I.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;g;){var k=g.chunk,z=g.encoding,B=g.callback,U=_.objectMode?1:k.length;if(L(w,_,!1,U,k,z,B),g=g.next,_.bufferedRequestCount--,_.writing)break}g===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=g,_.bufferProcessing=!1}C.prototype._write=function(w,_,g){g(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(w,_,g){var f=this._writableState;typeof w=="function"?(g=w,w=null,_=null):typeof _=="function"&&(g=_,_=null),w!=null&&this.write(w,_),f.corked&&(f.corked=1,this.uncork()),f.ending||p(this,f,g)};function S(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function a(w,_){w._final(function(g){_.pendingcb--,g&&w.emit("error",g),_.prefinished=!0,w.emit("prefinish"),h(w,_)})}function u(w,_){!_.prefinished&&!_.finalCalled&&(typeof w._final=="function"?(_.pendingcb++,_.finalCalled=!0,t.nextTick(a,w,_)):(_.prefinished=!0,w.emit("prefinish")))}function h(w,_){var g=S(_);return g&&(u(w,_),_.pendingcb===0&&(_.finished=!0,w.emit("finish"))),g}function p(w,_,g){_.ending=!0,h(w,_),g&&(_.finished?t.nextTick(g):w.once("finish",g)),_.ended=!0,w.writable=!1}function y(w,_,g){var f=w.entry;for(w.entry=null;f;){var m=f.callback;_.pendingcb--,m(g),f=f.next}_.corkedRequestsFree.next=w}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(w,_){this.end(),_(w)},Z3}var X3,x9;function Sp(){if(x9)return X3;x9=1;var t=LE,e=Object.keys||function(b){var A=[];for(var x in b)A.push(x);return A};X3=l;var r=Object.create(Bf);r.inherits=ir;var n=cW(),s=aW();r.inherits(l,n);for(var i=e(s.prototype),o=0;o<i.length;o++){var c=i[o];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(b){if(!(this instanceof l))return new l(b);n.call(this,b),s.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(b){b.end()}return Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),l.prototype._destroy=function(b,A){this.push(null),this.end(),t.nextTick(A,b)},X3}var Y3={},M9;function I9(){if(M9)return Y3;M9=1;var t=DE.Buffer,e=t.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r($){if(!$)return"utf8";for(var O;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(O)return;$=(""+$).toLowerCase(),O=!0}}function n($){var O=r($);if(typeof O!="string"&&(t.isEncoding===e||!e($)))throw new Error("Unknown encoding: "+$);return O||$}Y3.StringDecoder=s;function s($){this.encoding=n($);var O;switch(this.encoding){case"utf16le":this.text=b,this.end=A,O=4;break;case"utf8":this.fillLast=l,O=4;break;case"base64":this.text=x,this.end=R,O=3;break;default:this.write=C,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}s.prototype.write=function($){if($.length===0)return"";var O,D;if(this.lastNeed){if(O=this.fillLast($),O===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<$.length?O?O+this.text($,D):this.text($,D):O||""},s.prototype.end=v,s.prototype.text=d,s.prototype.fillLast=function($){if(this.lastNeed<=$.length)return $.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),this.lastNeed-=$.length};function i($){return $<=127?0:$>>5===6?2:$>>4===14?3:$>>3===30?4:$>>6===2?-1:-2}function o($,O,D){var L=O.length-1;if(L<D)return 0;var F=i(O[L]);return F>=0?(F>0&&($.lastNeed=F-1),F):--L<D||F===-2?0:(F=i(O[L]),F>=0?(F>0&&($.lastNeed=F-2),F):--L<D||F===-2?0:(F=i(O[L]),F>=0?(F>0&&(F===2?F=0:$.lastNeed=F-3),F):0))}function c($,O,D){if((O[0]&192)!==128)return $.lastNeed=0,"";if($.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return $.lastNeed=1,"";if($.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return $.lastNeed=2,""}}function l($){var O=this.lastTotal-this.lastNeed,D=c(this,$);if(D!==void 0)return D;if(this.lastNeed<=$.length)return $.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,O,0,$.length),this.lastNeed-=$.length}function d($,O){var D=o(this,$,O);if(!this.lastNeed)return $.toString("utf8",O);this.lastTotal=D;var L=$.length-(D-this.lastNeed);return $.copy(this.lastChar,0,L),$.toString("utf8",O,L)}function v($){var O=$&&$.length?this.write($):"";return this.lastNeed?O+"":O}function b($,O){if(($.length-O)%2===0){var D=$.toString("utf16le",O);if(D){var L=D.charCodeAt(D.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",O,$.length-1)}function A($){var O=$&&$.length?this.write($):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,D)}return O}function x($,O){var D=($.length-O)%3;return D===0?$.toString("base64",O):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",O,$.length-D))}function R($){var O=$&&$.length?this.write($):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function C($){return $.toString(this.encoding)}function T($){return $&&$.length?this.write($):""}return Y3}var e6,R9;function cW(){if(R9)return e6;R9=1;var t=LE;e6=O;var e=m2e,r;O.ReadableState=$,Of.EventEmitter;var n=function(B,U){return B.listeners(U).length},s=sW,i=DE.Buffer,o=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(B){return i.from(B)}function l(B){return i.isBuffer(B)||B instanceof o}var d=Object.create(Bf);d.inherits=ir;var v=nh,b=void 0;v&&v.debuglog?b=v.debuglog("stream"):b=function(){};var A=b2e(),x=oW,R;d.inherits(O,s);var C=["error","close","destroy","pause","resume"];function T(B,U,K){if(typeof B.prependListener=="function")return B.prependListener(U,K);!B._events||!B._events[U]?B.on(U,K):e(B._events[U])?B._events[U].unshift(K):B._events[U]=[K,B._events[U]]}function $(B,U){r=r||Sp(),B=B||{};var K=U instanceof r;this.objectMode=!!B.objectMode,K&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var Y=B.highWaterMark,X=B.readableHighWaterMark,G=this.objectMode?16:16*1024;Y||Y===0?this.highWaterMark=Y:K&&(X||X===0)?this.highWaterMark=X:this.highWaterMark=G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(R||(R=I9().StringDecoder),this.decoder=new R(B.encoding),this.encoding=B.encoding)}function O(B){if(r=r||Sp(),!(this instanceof O))return new O(B);this._readableState=new $(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),s.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),O.prototype.destroy=x.destroy,O.prototype._undestroy=x.undestroy,O.prototype._destroy=function(B,U){this.push(null),U(B)},O.prototype.push=function(B,U){var K=this._readableState,Y;return K.objectMode?Y=!0:typeof B=="string"&&(U=U||K.defaultEncoding,U!==K.encoding&&(B=i.from(B,U),U=""),Y=!0),D(this,B,U,!1,Y)},O.prototype.unshift=function(B){return D(this,B,null,!0,!1)};function D(B,U,K,Y,X){var G=B._readableState;if(U===null)G.reading=!1,se(B,G);else{var ne;X||(ne=F(G,U)),ne?B.emit("error",ne):G.objectMode||U&&U.length>0?(typeof U!="string"&&!G.objectMode&&Object.getPrototypeOf(U)!==i.prototype&&(U=c(U)),Y?G.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):L(B,G,U,!0):G.ended?B.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!K?(U=G.decoder.write(U),G.objectMode||U.length!==0?L(B,G,U,!1):u(B,G)):L(B,G,U,!1))):Y||(G.reading=!1)}return H(G)}function L(B,U,K,Y){U.flowing&&U.length===0&&!U.sync?(B.emit("data",K),B.read(0)):(U.length+=U.objectMode?1:K.length,Y?U.buffer.unshift(K):U.buffer.push(K),U.needReadable&&S(B)),u(B,U)}function F(B,U){var K;return!l(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(K=new TypeError("Invalid non-string/buffer chunk")),K}function H(B){return!B.ended&&(B.needReadable||B.length<B.highWaterMark||B.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(B){return R||(R=I9().StringDecoder),this._readableState.decoder=new R(B),this._readableState.encoding=B,this};var V=8388608;function J(B){return B>=V?B=V:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function Z(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=J(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}O.prototype.read=function(B){b("read",B),B=parseInt(B,10);var U=this._readableState,K=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return b("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?j(this):S(this),null;if(B=Z(B,U),B===0&&U.ended)return U.length===0&&j(this),null;var Y=U.needReadable;b("need readable",Y),(U.length===0||U.length-B<U.highWaterMark)&&(Y=!0,b("length less than watermark",Y)),U.ended||U.reading?(Y=!1,b("reading or ended",Y)):Y&&(b("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=Z(K,U)));var X;return B>0?X=f(B,U):X=null,X===null?(U.needReadable=!0,B=0):U.length-=B,U.length===0&&(U.ended||(U.needReadable=!0),K!==B&&U.ended&&j(this)),X!==null&&this.emit("data",X),X};function se(B,U){if(!U.ended){if(U.decoder){var K=U.decoder.end();K&&K.length&&(U.buffer.push(K),U.length+=U.objectMode?1:K.length)}U.ended=!0,S(B)}}function S(B){var U=B._readableState;U.needReadable=!1,U.emittedReadable||(b("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?t.nextTick(a,B):a(B))}function a(B){b("emit readable"),B.emit("readable"),g(B)}function u(B,U){U.readingMore||(U.readingMore=!0,t.nextTick(h,B,U))}function h(B,U){for(var K=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(b("maybeReadMore read 0"),B.read(0),K!==U.length);)K=U.length;U.readingMore=!1}O.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(B,U){var K=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=B;break;case 1:Y.pipes=[Y.pipes,B];break;default:Y.pipes.push(B);break}Y.pipesCount+=1,b("pipe count=%d opts=%j",Y.pipesCount,U);var X=(!U||U.end!==!1)&&B!==mt.stdout&&B!==mt.stderr,G=X?le:$t;Y.endEmitted?t.nextTick(G):K.once("end",G),B.on("unpipe",ne);function ne(ae,ue){b("onunpipe"),ae===K&&ue&&ue.hasUnpiped===!1&&(ue.hasUnpiped=!0,rt())}function le(){b("onend"),B.end()}var de=p(K);B.on("drain",de);var me=!1;function rt(){b("cleanup"),B.removeListener("close",Ie),B.removeListener("finish",ke),B.removeListener("drain",de),B.removeListener("error",Rt),B.removeListener("unpipe",ne),K.removeListener("end",le),K.removeListener("end",$t),K.removeListener("data",he),me=!0,Y.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&de()}var Ae=!1;K.on("data",he);function he(ae){b("ondata"),Ae=!1;var ue=B.write(ae);ue===!1&&!Ae&&((Y.pipesCount===1&&Y.pipes===B||Y.pipesCount>1&&z(Y.pipes,B)!==-1)&&!me&&(b("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Ae=!0),K.pause())}function Rt(ae){b("onerror",ae),$t(),B.removeListener("error",Rt),n(B,"error")===0&&B.emit("error",ae)}T(B,"error",Rt);function Ie(){B.removeListener("finish",ke),$t()}B.once("close",Ie);function ke(){b("onfinish"),B.removeListener("close",Ie),$t()}B.once("finish",ke);function $t(){b("unpipe"),K.unpipe(B)}return B.emit("pipe",K),Y.flowing||(b("pipe resume"),K.resume()),B};function p(B){return function(){var U=B._readableState;b("pipeOnDrain",U.awaitDrain),U.awaitDrain&&U.awaitDrain--,U.awaitDrain===0&&n(B,"data")&&(U.flowing=!0,g(B))}}O.prototype.unpipe=function(B){var U=this._readableState,K={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,K),this);if(!B){var Y=U.pipes,X=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var G=0;G<X;G++)Y[G].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=z(U.pipes,B);return ne===-1?this:(U.pipes.splice(ne,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,K),this)},O.prototype.on=function(B,U){var K=s.prototype.on.call(this,B,U);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var Y=this._readableState;!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&S(this):t.nextTick(y,this))}return K},O.prototype.addListener=O.prototype.on;function y(B){b("readable nexttick read 0"),B.read(0)}O.prototype.resume=function(){var B=this._readableState;return B.flowing||(b("resume"),B.flowing=!0,w(this,B)),this};function w(B,U){U.resumeScheduled||(U.resumeScheduled=!0,t.nextTick(_,B,U))}function _(B,U){U.reading||(b("resume read 0"),B.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,B.emit("resume"),g(B),U.flowing&&!U.reading&&B.read(0)}O.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function g(B){var U=B._readableState;for(b("flow",U.flowing);U.flowing&&B.read()!==null;);}O.prototype.wrap=function(B){var U=this,K=this._readableState,Y=!1;B.on("end",function(){if(b("wrapped end"),K.decoder&&!K.ended){var ne=K.decoder.end();ne&&ne.length&&U.push(ne)}U.push(null)}),B.on("data",function(ne){if(b("wrapped data"),K.decoder&&(ne=K.decoder.write(ne)),!(K.objectMode&&ne==null)&&!(!K.objectMode&&(!ne||!ne.length))){var le=U.push(ne);le||(Y=!0,B.pause())}});for(var X in B)this[X]===void 0&&typeof B[X]=="function"&&(this[X]=function(ne){return function(){return B[ne].apply(B,arguments)}}(X));for(var G=0;G<C.length;G++)B.on(C[G],this.emit.bind(this,C[G]));return this._read=function(ne){b("wrapped _read",ne),Y&&(Y=!1,B.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=f;function f(B,U){if(U.length===0)return null;var K;return U.objectMode?K=U.buffer.shift():!B||B>=U.length?(U.decoder?K=U.buffer.join(""):U.buffer.length===1?K=U.buffer.head.data:K=U.buffer.concat(U.length),U.buffer.clear()):K=m(B,U.buffer,U.decoder),K}function m(B,U,K){var Y;return B<U.head.data.length?(Y=U.head.data.slice(0,B),U.head.data=U.head.data.slice(B)):B===U.head.data.length?Y=U.shift():Y=K?I(B,U):P(B,U),Y}function I(B,U){var K=U.head,Y=1,X=K.data;for(B-=X.length;K=K.next;){var G=K.data,ne=B>G.length?G.length:B;if(ne===G.length?X+=G:X+=G.slice(0,B),B-=ne,B===0){ne===G.length?(++Y,K.next?U.head=K.next:U.head=U.tail=null):(U.head=K,K.data=G.slice(ne));break}++Y}return U.length-=Y,X}function P(B,U){var K=i.allocUnsafe(B),Y=U.head,X=1;for(Y.data.copy(K),B-=Y.data.length;Y=Y.next;){var G=Y.data,ne=B>G.length?G.length:B;if(G.copy(K,K.length-B,0,ne),B-=ne,B===0){ne===G.length?(++X,Y.next?U.head=Y.next:U.head=U.tail=null):(U.head=Y,Y.data=G.slice(ne));break}++X}return U.length-=X,K}function j(B){var U=B._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,t.nextTick(k,U,B))}function k(B,U){!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"))}function z(B,U){for(var K=0,Y=B.length;K<Y;K++)if(B[K]===U)return K;return-1}return e6}var fW=Du,UE=Sp(),uW=Object.create(Bf);uW.inherits=ir;uW.inherits(Du,UE);function E2e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function Du(t){if(!(this instanceof Du))return new Du(t);UE.call(this,t),this._transformState={afterTransform:E2e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",S2e)}function S2e(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){T9(t,e,r)}):T9(this,null,null)}Du.prototype.push=function(t,e){return this._transformState.needTransform=!1,UE.prototype.push.call(this,t,e)};Du.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Du.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Du.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Du.prototype._destroy=function(t,e){var r=this;UE.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function T9(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var A2e=Fy,lW=fW,hW=Object.create(Bf);hW.inherits=ir;hW.inherits(Fy,lW);function Fy(t){if(!(this instanceof Fy))return new Fy(t);lW.call(this,t)}Fy.prototype._transform=function(t,e,r){r(null,t)};(function(t,e){e=t.exports=cW(),e.Stream=e,e.Readable=e,e.Writable=aW(),e.Duplex=Sp(),e.Transform=fW,e.PassThrough=A2e})(m8,m8.exports);var x2e=m8.exports,rT={},dW={},FE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0},M2e=FE,ah=function(){return M2e()&&!!Symbol.toStringTag},$9=typeof Symbol<"u"&&Symbol,I2e=FE,nT=function(){return typeof $9!="function"||typeof Symbol!="function"||typeof $9("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:I2e()},C9={foo:{}},R2e=Object,T2e=function(){return{__proto__:C9}.foo===C9.foo&&!({__proto__:null}instanceof R2e)},$2e="Function.prototype.bind called on incompatible ",C2e=Object.prototype.toString,O2e=Math.max,B2e="[object Function]",O9=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},P2e=function(e,r){for(var n=[],s=r||0,i=0;s<e.length;s+=1,i+=1)n[i]=e[s];return n},N2e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},k2e=function(e){var r=this;if(typeof r!="function"||C2e.apply(r)!==B2e)throw new TypeError($2e+r);for(var n=P2e(arguments,1),s,i=function(){if(this instanceof s){var v=r.apply(this,O9(n,arguments));return Object(v)===v?v:this}return r.apply(e,O9(n,arguments))},o=O2e(0,r.length-n.length),c=[],l=0;l<o;l++)c[l]="$"+l;if(s=Function("binder","return function ("+N2e(c,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},L2e=k2e,iT=Function.prototype.bind||L2e,D2e=Function.prototype.call,U2e=Object.prototype.hasOwnProperty,F2e=iT,pW=F2e.call(D2e,U2e),Kr,Ap=SyntaxError,gW=Function,Z0=TypeError,t6=function(t){try{return gW('"use strict"; return ('+t+").constructor;")()}catch{}},td=Object.getOwnPropertyDescriptor;if(td)try{td({},"")}catch{td=null}var r6=function(){throw new Z0},j2e=td?function(){try{return arguments.callee,r6}catch{try{return td(arguments,"callee").get}catch{return r6}}}():r6,h0=nT(),q2e=T2e(),Fi=Object.getPrototypeOf||(q2e?function(t){return t.__proto__}:null),x0={},z2e=typeof Uint8Array>"u"||!Fi?Kr:Fi(Uint8Array),rd={"%AggregateError%":typeof AggregateError>"u"?Kr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Kr:ArrayBuffer,"%ArrayIteratorPrototype%":h0&&Fi?Fi([][Symbol.iterator]()):Kr,"%AsyncFromSyncIteratorPrototype%":Kr,"%AsyncFunction%":x0,"%AsyncGenerator%":x0,"%AsyncGeneratorFunction%":x0,"%AsyncIteratorPrototype%":x0,"%Atomics%":typeof Atomics>"u"?Kr:Atomics,"%BigInt%":typeof BigInt>"u"?Kr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Kr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Kr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Kr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Kr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Kr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Kr:FinalizationRegistry,"%Function%":gW,"%GeneratorFunction%":x0,"%Int8Array%":typeof Int8Array>"u"?Kr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Kr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Kr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h0&&Fi?Fi(Fi([][Symbol.iterator]())):Kr,"%JSON%":typeof JSON=="object"?JSON:Kr,"%Map%":typeof Map>"u"?Kr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!h0||!Fi?Kr:Fi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Kr:Promise,"%Proxy%":typeof Proxy>"u"?Kr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Kr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Kr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!h0||!Fi?Kr:Fi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Kr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h0&&Fi?Fi(""[Symbol.iterator]()):Kr,"%Symbol%":h0?Symbol:Kr,"%SyntaxError%":Ap,"%ThrowTypeError%":j2e,"%TypedArray%":z2e,"%TypeError%":Z0,"%Uint8Array%":typeof Uint8Array>"u"?Kr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Kr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Kr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Kr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Kr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Kr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Kr:WeakSet};if(Fi)try{null.error}catch(t){var H2e=Fi(Fi(t));rd["%Error.prototype%"]=H2e}var V2e=function t(e){var r;if(e==="%AsyncFunction%")r=t6("async function () {}");else if(e==="%GeneratorFunction%")r=t6("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=t6("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&Fi&&(r=Fi(s.prototype))}return rd[e]=r,r},B9={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Km=iT,P_=pW,K2e=Km.call(Function.call,Array.prototype.concat),G2e=Km.call(Function.apply,Array.prototype.splice),P9=Km.call(Function.call,String.prototype.replace),N_=Km.call(Function.call,String.prototype.slice),W2e=Km.call(Function.call,RegExp.prototype.exec),J2e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q2e=/\\(\\)?/g,Z2e=function(e){var r=N_(e,0,1),n=N_(e,-1);if(r==="%"&&n!=="%")throw new Ap("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ap("invalid intrinsic syntax, expected opening `%`");var s=[];return P9(e,J2e,function(i,o,c,l){s[s.length]=c?P9(l,Q2e,"$1"):o||i}),s},X2e=function(e,r){var n=e,s;if(P_(B9,n)&&(s=B9[n],n="%"+s[0]+"%"),P_(rd,n)){var i=rd[n];if(i===x0&&(i=V2e(n)),typeof i>"u"&&!r)throw new Z0("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new Ap("intrinsic "+e+" does not exist!")},ja=function(e,r){if(typeof e!="string"||e.length===0)throw new Z0("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Z0('"allowMissing" argument must be a boolean');if(W2e(/^%?[^%]*%?$/,e)===null)throw new Ap("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Z2e(e),s=n.length>0?n[0]:"",i=X2e("%"+s+"%",r),o=i.name,c=i.value,l=!1,d=i.alias;d&&(s=d[0],G2e(n,K2e([0,1],d)));for(var v=1,b=!0;v<n.length;v+=1){var A=n[v],x=N_(A,0,1),R=N_(A,-1);if((x==='"'||x==="'"||x==="`"||R==='"'||R==="'"||R==="`")&&x!==R)throw new Ap("property names with quotes must have matching quotes");if((A==="constructor"||!b)&&(l=!0),s+="."+A,o="%"+s+"%",P_(rd,o))c=rd[o];else if(c!=null){if(!(A in c)){if(!r)throw new Z0("base intrinsic for "+e+" exists, but the property is not available.");return}if(td&&v+1>=n.length){var C=td(c,A);b=!!C,b&&"get"in C&&!("originalValue"in C.get)?c=C.get:c=c[A]}else b=P_(c,A),c=c[A];b&&!l&&(rd[o]=c)}}return c},vW={exports:{}},Y2e=ja,_8=Y2e("%Object.defineProperty%",!0),E8=function(){if(_8)try{return _8({},"a",{value:1}),!0}catch{return!1}return!1};E8.hasArrayLengthDefineBug=function(){if(!E8())return null;try{return _8([],"length",{value:1}).length!==1}catch{return!0}};var jE=E8,eEe=ja,zw=eEe("%Object.getOwnPropertyDescriptor%",!0);if(zw)try{zw([],"length")}catch{zw=null}var sT=zw,tEe=jE(),oT=ja,Sy=tEe&&oT("%Object.defineProperty%",!0);if(Sy)try{Sy({},"a",{value:1})}catch{Sy=!1}var rEe=oT("%SyntaxError%"),d0=oT("%TypeError%"),N9=sT,aT=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new d0("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new d0("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new d0("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new d0("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new d0("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new d0("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!N9&&N9(e,r);if(Sy)Sy(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:s===null&&l?l.enumerable:!s,value:n,writable:i===null&&l?l.writable:!i});else if(c||!s&&!i&&!o)e[r]=n;else throw new rEe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},yW=ja,k9=aT,nEe=jE(),L9=sT,D9=yW("%TypeError%"),iEe=yW("%Math.floor%"),sEe=function(e,r){if(typeof e!="function")throw new D9("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||iEe(r)!==r)throw new D9("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,i=!0;if("length"in e&&L9){var o=L9(e,"length");o&&!o.configurable&&(s=!1),o&&!o.writable&&(i=!1)}return(s||i||!n)&&(nEe?k9(e,"length",r,!0,!0):k9(e,"length",r)),e};(function(t){var e=iT,r=ja,n=sEe,s=r("%TypeError%"),i=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||e.call(o,i),l=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(A){if(typeof A!="function")throw new s("a function is required");var x=c(e,o,arguments);return n(x,1+d(0,A.length-(arguments.length-1)),!0)};var v=function(){return c(e,i,arguments)};l?l(t.exports,"apply",{value:v}):t.exports.apply=v})(vW);var _g=vW.exports,mW=ja,bW=_g,oEe=bW(mW("String.prototype.indexOf")),qa=function(e,r){var n=mW(e,!!r);return typeof n=="function"&&oEe(e,".prototype.")>-1?bW(n):n},aEe=ah(),cEe=qa,S8=cEe("Object.prototype.toString"),qE=function(e){return aEe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:S8(e)==="[object Arguments]"},wW=function(e){return qE(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&S8(e)!=="[object Array]"&&S8(e.callee)==="[object Function]"},fEe=function(){return qE(arguments)}();qE.isLegacyArguments=wW;var cT=fEe?qE:wW,uEe=Object.prototype.toString,lEe=Function.prototype.toString,hEe=/^\s*(?:function)?\*/,_W=ah(),n6=Object.getPrototypeOf,dEe=function(){if(!_W)return!1;try{return Function("return function*() {}")()}catch{}},i6,pEe=function(e){if(typeof e!="function")return!1;if(hEe.test(lEe.call(e)))return!0;if(!_W){var r=uEe.call(e);return r==="[object GeneratorFunction]"}if(!n6)return!1;if(typeof i6>"u"){var n=dEe();i6=n?n6(n):!1}return n6(e)===i6},EW=Function.prototype.toString,k0=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,A8,Hw;if(typeof k0=="function"&&typeof Object.defineProperty=="function")try{A8=Object.defineProperty({},"length",{get:function(){throw Hw}}),Hw={},k0(function(){throw 42},null,A8)}catch(t){t!==Hw&&(k0=null)}else k0=null;var gEe=/^\s*class\b/,x8=function(e){try{var r=EW.call(e);return gEe.test(r)}catch{return!1}},s6=function(e){try{return x8(e)?!1:(EW.call(e),!0)}catch{return!1}},Vw=Object.prototype.toString,vEe="[object Object]",yEe="[object Function]",mEe="[object GeneratorFunction]",bEe="[object HTMLAllCollection]",wEe="[object HTML document.all class]",_Ee="[object HTMLCollection]",EEe=typeof Symbol=="function"&&!!Symbol.toStringTag,SEe=!(0 in[,]),M8=function(){return!1};if(typeof document=="object"){var AEe=document.all;Vw.call(AEe)===Vw.call(document.all)&&(M8=function(e){if((SEe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Vw.call(e);return(r===bEe||r===wEe||r===_Ee||r===vEe)&&e("")==null}catch{}return!1})}var xEe=k0?function(e){if(M8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{k0(e,null,A8)}catch(r){if(r!==Hw)return!1}return!x8(e)&&s6(e)}:function(e){if(M8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(EEe)return s6(e);if(x8(e))return!1;var r=Vw.call(e);return r!==yEe&&r!==mEe&&!/^\[object HTML/.test(r)?!1:s6(e)},MEe=xEe,IEe=Object.prototype.toString,SW=Object.prototype.hasOwnProperty,REe=function(e,r,n){for(var s=0,i=e.length;s<i;s++)SW.call(e,s)&&(n==null?r(e[s],s,e):r.call(n,e[s],s,e))},TEe=function(e,r,n){for(var s=0,i=e.length;s<i;s++)n==null?r(e.charAt(s),s,e):r.call(n,e.charAt(s),s,e)},$Ee=function(e,r,n){for(var s in e)SW.call(e,s)&&(n==null?r(e[s],s,e):r.call(n,e[s],s,e))},CEe=function(e,r,n){if(!MEe(r))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),IEe.call(e)==="[object Array]"?REe(e,r,s):typeof e=="string"?TEe(e,r,s):$Ee(e,r,s)},OEe=CEe,o6=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],BEe=typeof globalThis>"u"?He:globalThis,PEe=function(){for(var e=[],r=0;r<o6.length;r++)typeof BEe[o6[r]]=="function"&&(e[e.length]=o6[r]);return e},k_=OEe,NEe=PEe,U9=_g,fT=qa,Kw=sT,kEe=fT("Object.prototype.toString"),AW=ah(),F9=typeof globalThis>"u"?He:globalThis,I8=NEe(),uT=fT("String.prototype.slice"),a6=Object.getPrototypeOf,LEe=fT("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},L_={__proto__:null};AW&&Kw&&a6?k_(I8,function(t){var e=new F9[t];if(Symbol.toStringTag in e){var r=a6(e),n=Kw(r,Symbol.toStringTag);if(!n){var s=a6(r);n=Kw(s,Symbol.toStringTag)}L_["$"+t]=U9(n.get)}}):k_(I8,function(t){var e=new F9[t],r=e.slice||e.set;r&&(L_["$"+t]=U9(r))});var DEe=function(e){var r=!1;return k_(L_,function(n,s){if(!r)try{"$"+n(e)===s&&(r=uT(s,1))}catch{}}),r},UEe=function(e){var r=!1;return k_(L_,function(n,s){if(!r)try{n(e),r=uT(s,1)}catch{}}),r},lT=function(e){if(!e||typeof e!="object")return!1;if(!AW){var r=uT(kEe(e),8,-1);return LEe(I8,r)>-1?r:r!=="Object"?!1:UEe(e)}return Kw?DEe(e):null},FEe=lT,xW=function(e){return!!FEe(e)};(function(t){var e=cT,r=pEe,n=lT,s=xW;function i(he){return he.call.bind(he)}var o=typeof BigInt<"u",c=typeof Symbol<"u",l=i(Object.prototype.toString),d=i(Number.prototype.valueOf),v=i(String.prototype.valueOf),b=i(Boolean.prototype.valueOf);if(o)var A=i(BigInt.prototype.valueOf);if(c)var x=i(Symbol.prototype.valueOf);function R(he,Rt){if(typeof he!="object")return!1;try{return Rt(he),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=s;function C(he){return typeof Promise<"u"&&he instanceof Promise||he!==null&&typeof he=="object"&&typeof he.then=="function"&&typeof he.catch=="function"}t.isPromise=C;function T(he){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(he):s(he)||P(he)}t.isArrayBufferView=T;function $(he){return n(he)==="Uint8Array"}t.isUint8Array=$;function O(he){return n(he)==="Uint8ClampedArray"}t.isUint8ClampedArray=O;function D(he){return n(he)==="Uint16Array"}t.isUint16Array=D;function L(he){return n(he)==="Uint32Array"}t.isUint32Array=L;function F(he){return n(he)==="Int8Array"}t.isInt8Array=F;function H(he){return n(he)==="Int16Array"}t.isInt16Array=H;function V(he){return n(he)==="Int32Array"}t.isInt32Array=V;function J(he){return n(he)==="Float32Array"}t.isFloat32Array=J;function Z(he){return n(he)==="Float64Array"}t.isFloat64Array=Z;function se(he){return n(he)==="BigInt64Array"}t.isBigInt64Array=se;function S(he){return n(he)==="BigUint64Array"}t.isBigUint64Array=S;function a(he){return l(he)==="[object Map]"}a.working=typeof Map<"u"&&a(new Map);function u(he){return typeof Map>"u"?!1:a.working?a(he):he instanceof Map}t.isMap=u;function h(he){return l(he)==="[object Set]"}h.working=typeof Set<"u"&&h(new Set);function p(he){return typeof Set>"u"?!1:h.working?h(he):he instanceof Set}t.isSet=p;function y(he){return l(he)==="[object WeakMap]"}y.working=typeof WeakMap<"u"&&y(new WeakMap);function w(he){return typeof WeakMap>"u"?!1:y.working?y(he):he instanceof WeakMap}t.isWeakMap=w;function _(he){return l(he)==="[object WeakSet]"}_.working=typeof WeakSet<"u"&&_(new WeakSet);function g(he){return _(he)}t.isWeakSet=g;function f(he){return l(he)==="[object ArrayBuffer]"}f.working=typeof ArrayBuffer<"u"&&f(new ArrayBuffer);function m(he){return typeof ArrayBuffer>"u"?!1:f.working?f(he):he instanceof ArrayBuffer}t.isArrayBuffer=m;function I(he){return l(he)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function P(he){return typeof DataView>"u"?!1:I.working?I(he):he instanceof DataView}t.isDataView=P;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k(he){return l(he)==="[object SharedArrayBuffer]"}function z(he){return typeof j>"u"?!1:(typeof k.working>"u"&&(k.working=k(new j)),k.working?k(he):he instanceof j)}t.isSharedArrayBuffer=z;function B(he){return l(he)==="[object AsyncFunction]"}t.isAsyncFunction=B;function U(he){return l(he)==="[object Map Iterator]"}t.isMapIterator=U;function K(he){return l(he)==="[object Set Iterator]"}t.isSetIterator=K;function Y(he){return l(he)==="[object Generator]"}t.isGeneratorObject=Y;function X(he){return l(he)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=X;function G(he){return R(he,d)}t.isNumberObject=G;function ne(he){return R(he,v)}t.isStringObject=ne;function le(he){return R(he,b)}t.isBooleanObject=le;function de(he){return o&&R(he,A)}t.isBigIntObject=de;function me(he){return c&&R(he,x)}t.isSymbolObject=me;function rt(he){return G(he)||ne(he)||le(he)||de(he)||me(he)}t.isBoxedPrimitive=rt;function Ae(he){return typeof Uint8Array<"u"&&(m(he)||z(he))}t.isAnyArrayBuffer=Ae,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(he){Object.defineProperty(t,he,{enumerable:!1,value:function(){throw new Error(he+" is not supported in userland")}})})})(dW);var jEe=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(P){for(var j=Object.keys(P),k={},z=0;z<j.length;z++)k[j[z]]=Object.getOwnPropertyDescriptor(P,j[z]);return k},r=/%[sdj%]/g;t.format=function(I){if(!F(I)){for(var P=[],j=0;j<arguments.length;j++)P.push(o(arguments[j]));return P.join(" ")}for(var j=1,k=arguments,z=k.length,B=String(I).replace(r,function(K){if(K==="%%")return"%";if(j>=z)return K;switch(K){case"%s":return String(k[j++]);case"%d":return Number(k[j++]);case"%j":try{return JSON.stringify(k[j++])}catch{return"[Circular]"}default:return K}}),U=k[j];j<z;U=k[++j])O(U)||!Z(U)?B+=" "+U:B+=" "+o(U);return B},t.deprecate=function(I,P){if(typeof mt<"u"&&mt.noDeprecation===!0)return I;if(typeof mt>"u")return function(){return t.deprecate(I,P).apply(this,arguments)};var j=!1;function k(){if(!j){if(mt.throwDeprecation)throw new Error(P);mt.traceDeprecation?console.trace(P):console.error(P),j=!0}return I.apply(this,arguments)}return k};var n={},s=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+i+"$","i")}t.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(s.test(I)){var P=mt.pid;n[I]=function(){var j=t.format.apply(t,arguments);console.error("%s %d: %s",I,P,j)}}else n[I]=function(){};return n[I]};function o(I,P){var j={seen:[],stylize:l};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),$(P)?j.showHidden=P:P&&t._extend(j,P),V(j.showHidden)&&(j.showHidden=!1),V(j.depth)&&(j.depth=2),V(j.colors)&&(j.colors=!1),V(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=c),v(j,I,j.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(I,P){var j=o.styles[P];return j?"\x1B["+o.colors[j][0]+"m"+I+"\x1B["+o.colors[j][1]+"m":I}function l(I,P){return I}function d(I){var P={};return I.forEach(function(j,k){P[j]=!0}),P}function v(I,P,j){if(I.customInspect&&P&&a(P.inspect)&&P.inspect!==t.inspect&&!(P.constructor&&P.constructor.prototype===P)){var k=P.inspect(j,I);return F(k)||(k=v(I,k,j)),k}var z=b(I,P);if(z)return z;var B=Object.keys(P),U=d(B);if(I.showHidden&&(B=Object.getOwnPropertyNames(P)),S(P)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return A(P);if(B.length===0){if(a(P)){var K=P.name?": "+P.name:"";return I.stylize("[Function"+K+"]","special")}if(J(P))return I.stylize(RegExp.prototype.toString.call(P),"regexp");if(se(P))return I.stylize(Date.prototype.toString.call(P),"date");if(S(P))return A(P)}var Y="",X=!1,G=["{","}"];if(T(P)&&(X=!0,G=["[","]"]),a(P)){var ne=P.name?": "+P.name:"";Y=" [Function"+ne+"]"}if(J(P)&&(Y=" "+RegExp.prototype.toString.call(P)),se(P)&&(Y=" "+Date.prototype.toUTCString.call(P)),S(P)&&(Y=" "+A(P)),B.length===0&&(!X||P.length==0))return G[0]+Y+G[1];if(j<0)return J(P)?I.stylize(RegExp.prototype.toString.call(P),"regexp"):I.stylize("[Object]","special");I.seen.push(P);var le;return X?le=x(I,P,j,U,B):le=B.map(function(de){return R(I,P,j,U,de,X)}),I.seen.pop(),C(le,Y,G)}function b(I,P){if(V(P))return I.stylize("undefined","undefined");if(F(P)){var j="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(j,"string")}if(L(P))return I.stylize(""+P,"number");if($(P))return I.stylize(""+P,"boolean");if(O(P))return I.stylize("null","null")}function A(I){return"["+Error.prototype.toString.call(I)+"]"}function x(I,P,j,k,z){for(var B=[],U=0,K=P.length;U<K;++U)_(P,String(U))?B.push(R(I,P,j,k,String(U),!0)):B.push("");return z.forEach(function(Y){Y.match(/^\d+$/)||B.push(R(I,P,j,k,Y,!0))}),B}function R(I,P,j,k,z,B){var U,K,Y;if(Y=Object.getOwnPropertyDescriptor(P,z)||{value:P[z]},Y.get?Y.set?K=I.stylize("[Getter/Setter]","special"):K=I.stylize("[Getter]","special"):Y.set&&(K=I.stylize("[Setter]","special")),_(k,z)||(U="["+z+"]"),K||(I.seen.indexOf(Y.value)<0?(O(j)?K=v(I,Y.value,null):K=v(I,Y.value,j-1),K.indexOf(`
`)>-1&&(B?K=K.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):K=`
`+K.split(`
`).map(function(X){return"   "+X}).join(`
`))):K=I.stylize("[Circular]","special")),V(U)){if(B&&z.match(/^\d+$/))return K;U=JSON.stringify(""+z),U.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=I.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=I.stylize(U,"string"))}return U+": "+K}function C(I,P,j){var k=I.reduce(function(z,B){return B.indexOf(`
`)>=0,z+B.replace(/\u001b\[\d\d?m/g,"").length+1},0);return k>60?j[0]+(P===""?"":P+`
 `)+" "+I.join(`,
  `)+" "+j[1]:j[0]+P+" "+I.join(", ")+" "+j[1]}t.types=dW;function T(I){return Array.isArray(I)}t.isArray=T;function $(I){return typeof I=="boolean"}t.isBoolean=$;function O(I){return I===null}t.isNull=O;function D(I){return I==null}t.isNullOrUndefined=D;function L(I){return typeof I=="number"}t.isNumber=L;function F(I){return typeof I=="string"}t.isString=F;function H(I){return typeof I=="symbol"}t.isSymbol=H;function V(I){return I===void 0}t.isUndefined=V;function J(I){return Z(I)&&h(I)==="[object RegExp]"}t.isRegExp=J,t.types.isRegExp=J;function Z(I){return typeof I=="object"&&I!==null}t.isObject=Z;function se(I){return Z(I)&&h(I)==="[object Date]"}t.isDate=se,t.types.isDate=se;function S(I){return Z(I)&&(h(I)==="[object Error]"||I instanceof Error)}t.isError=S,t.types.isNativeError=S;function a(I){return typeof I=="function"}t.isFunction=a;function u(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}t.isPrimitive=u,t.isBuffer=jEe;function h(I){return Object.prototype.toString.call(I)}function p(I){return I<10?"0"+I.toString(10):I.toString(10)}var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(){var I=new Date,P=[p(I.getHours()),p(I.getMinutes()),p(I.getSeconds())].join(":");return[I.getDate(),y[I.getMonth()],P].join(" ")}t.log=function(){console.log("%s - %s",w(),t.format.apply(t,arguments))},t.inherits=ir,t._extend=function(I,P){if(!P||!Z(P))return I;for(var j=Object.keys(P),k=j.length;k--;)I[j[k]]=P[j[k]];return I};function _(I,P){return Object.prototype.hasOwnProperty.call(I,P)}var g=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(g&&P[g]){var j=P[g];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,g,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var k,z,B=new Promise(function(Y,X){k=Y,z=X}),U=[],K=0;K<arguments.length;K++)U.push(arguments[K]);U.push(function(Y,X){Y?z(Y):k(X)});try{P.apply(this,U)}catch(Y){z(Y)}return B}return Object.setPrototypeOf(j,Object.getPrototypeOf(P)),g&&Object.defineProperty(j,g,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,e(P))},t.promisify.custom=g;function f(I,P){if(!I){var j=new Error("Promise was rejected with a falsy value");j.reason=I,I=j}return P(I)}function m(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var j=[],k=0;k<arguments.length;k++)j.push(arguments[k]);var z=j.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var B=this,U=function(){return z.apply(B,arguments)};I.apply(this,j).then(function(K){mt.nextTick(U.bind(null,null,K))},function(K){mt.nextTick(f.bind(null,K,U))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(I)),Object.defineProperties(P,e(I)),P}t.callbackify=m})(rT);var MW=zEe,qEe=Object.prototype.hasOwnProperty;function zEe(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)qEe.call(r,n)&&(t[n]=r[n])}return t}var IW=x2e.Transform,RW=rT.inherits,TW=MW;function xp(t){IW.call(this,t),this._destroyed=!1}RW(xp,IW);xp.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;mt.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function HEe(t,e,r){r(null,t)}function hT(t){return function(e,r,n){return typeof e=="function"&&(n=r,r=e,e={}),typeof r!="function"&&(r=HEe),typeof n!="function"&&(n=null),t(e,r,n)}}kE.exports=hT(function(t,e,r){var n=new xp(t);return n._transform=e,r&&(n._flush=r),n});kE.exports.ctor=hT(function(t,e,r){function n(s){if(!(this instanceof n))return new n(s);this.options=TW(t,s),xp.call(this,this.options)}return RW(n,xp),n.prototype._transform=e,r&&(n.prototype._flush=r),n});kE.exports.obj=hT(function(t,e,r){var n=new xp(TW({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n});var VEe=kE.exports;Object.defineProperty(NE,"__esModule",{value:!0});NE.storeTransformStream=void 0;const KEe=VEe;function GEe(t){return KEe.obj((e,r,n)=>{try{const s=t(e);n(null,s);return}catch(s){n(s);return}})}NE.storeTransformStream=GEe;(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(OE,t),r(BE,t),r(PE,t),r(wg,t),r(NE,t)})(zn);var WEe=Object.defineProperty,JEe=Object.getOwnPropertyDescriptor,QEe=(t,e,r,n)=>{for(var s=n>1?void 0:n?JEe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&WEe(e,r,s),s},j9=(t,e)=>(r,n)=>e(r,n,t);let q9=class extends mn{constructor(e,r){super();Oe(this,"_internalStore");this.migrationService=e,this.storage=r,this._internalStore=new zn.ObservableStore({lastSyncMigration:void 0,asyncMigrations:{},isInitialized:!1})}get store(){return this._internalStore}async init(){const e=await this.storage.get("migrations",{lastSyncMigration:void 0,asyncMigrations:{}});this.migrationService.on("update",this._updateStore.bind(this)),this.migrationService.init(e),await this.migrationService.startSyncMigrations(),this.migrationService.startAsyncMigrations(),this._internalStore.updateState({isInitialized:!0})}async callMigrationHandler(e,...r){return this.migrationService.callHandler(e,...r)}async forceRestoreWallet(e,r=!1){var i,o,c,l,d,v,b;console.log("[MigrationController] manually restore wallet");const s=await(await _9(()=>import("./index.js").then(A=>A.b),[])).storage.local.get(["keyringSetup","Wallet"]);if((i=s==null?void 0:s.keyringSetup)!=null&&i.vault&&((c=(o=s==null?void 0:s.keyringSetup)==null?void 0:o.vault)==null?void 0:c.trim())!==""){const A=(d=(l=s==null?void 0:s.keyringSetup)==null?void 0:l.vault)==null?void 0:d.trim(),x=((v=s==null?void 0:s.Wallet)==null?void 0:v.accounts)??[],{migrateWalletData:R}=await _9(()=>import("./migration-2.5.1.js").then(T=>T.m),["assets/migration-2.5.1.js","assets/index.js"]);return R(this.migrationService.app,A,x,!!((b=s==null?void 0:s.keyringSetup)!=null&&b.setupCompleted))(e,r)}else return"You dont have data to restore"}async _updateStore(){const{lastSyncMigration:e,asyncMigrations:r}=this.migrationService.state;this._internalStore.updateState({lastSyncMigration:e,asyncMigrations:r}),await this.storage.set("migrations",{lastSyncMigration:e,asyncMigrations:r})}};q9=QEe([Lr(),j9(0,st(tt.MigrationService)),j9(1,st(tt.StorageService))],q9);function ZEe(){this.__data__=[],this.size=0}var XEe=ZEe;function YEe(t,e){return t===e||t!==t&&e!==e}var Gm=YEe,eSe=Gm;function tSe(t,e){for(var r=t.length;r--;)if(eSe(t[r][0],e))return r;return-1}var zE=tSe,rSe=zE,nSe=Array.prototype,iSe=nSe.splice;function sSe(t){var e=this.__data__,r=rSe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iSe.call(e,r,1),--this.size,!0}var oSe=sSe,aSe=zE;function cSe(t){var e=this.__data__,r=aSe(e,t);return r<0?void 0:e[r][1]}var fSe=cSe,uSe=zE;function lSe(t){return uSe(this.__data__,t)>-1}var hSe=lSe,dSe=zE;function pSe(t,e){var r=this.__data__,n=dSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gSe=pSe,vSe=XEe,ySe=oSe,mSe=fSe,bSe=hSe,wSe=gSe;function Eg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Eg.prototype.clear=vSe;Eg.prototype.delete=ySe;Eg.prototype.get=mSe;Eg.prototype.has=bSe;Eg.prototype.set=wSe;var HE=Eg,_Se=HE;function ESe(){this.__data__=new _Se,this.size=0}var SSe=ESe;function ASe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var xSe=ASe;function MSe(t){return this.__data__.get(t)}var ISe=MSe;function RSe(t){return this.__data__.has(t)}var TSe=RSe,$Se=typeof He=="object"&&He&&He.Object===Object&&He,$W=$Se,CSe=$W,OSe=typeof self=="object"&&self&&self.Object===Object&&self,BSe=CSe||OSe||Function("return this")(),Lf=BSe,PSe=Lf,NSe=PSe.Symbol,Sg=NSe,z9=Sg,CW=Object.prototype,kSe=CW.hasOwnProperty,LSe=CW.toString,Nv=z9?z9.toStringTag:void 0;function DSe(t){var e=kSe.call(t,Nv),r=t[Nv];try{t[Nv]=void 0;var n=!0}catch{}var s=LSe.call(t);return n&&(e?t[Nv]=r:delete t[Nv]),s}var USe=DSe,FSe=Object.prototype,jSe=FSe.toString;function qSe(t){return jSe.call(t)}var zSe=qSe,H9=Sg,HSe=USe,VSe=zSe,KSe="[object Null]",GSe="[object Undefined]",V9=H9?H9.toStringTag:void 0;function WSe(t){return t==null?t===void 0?GSe:KSe:V9&&V9 in Object(t)?HSe(t):VSe(t)}var Ld=WSe;function JSe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ic=JSe;const K9=Mr(Ic);var QSe=Ld,ZSe=Ic,XSe="[object AsyncFunction]",YSe="[object Function]",eAe="[object GeneratorFunction]",tAe="[object Proxy]";function rAe(t){if(!ZSe(t))return!1;var e=QSe(t);return e==YSe||e==eAe||e==XSe||e==tAe}var VE=rAe;const CSt=Mr(VE);var nAe=Lf,iAe=nAe["__core-js_shared__"],sAe=iAe,c6=sAe,G9=function(){var t=/[^.]+$/.exec(c6&&c6.keys&&c6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oAe(t){return!!G9&&G9 in t}var aAe=oAe,cAe=Function.prototype,fAe=cAe.toString;function uAe(t){if(t!=null){try{return fAe.call(t)}catch{}try{return t+""}catch{}}return""}var OW=uAe,lAe=VE,hAe=aAe,dAe=Ic,pAe=OW,gAe=/[\\^$.*+?()[\]{}|]/g,vAe=/^\[object .+?Constructor\]$/,yAe=Function.prototype,mAe=Object.prototype,bAe=yAe.toString,wAe=mAe.hasOwnProperty,_Ae=RegExp("^"+bAe.call(wAe).replace(gAe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EAe(t){if(!dAe(t)||hAe(t))return!1;var e=lAe(t)?_Ae:vAe;return e.test(pAe(t))}var SAe=EAe;function AAe(t,e){return t==null?void 0:t[e]}var xAe=AAe,MAe=SAe,IAe=xAe;function RAe(t,e){var r=IAe(t,e);return MAe(r)?r:void 0}var Dd=RAe,TAe=Dd,$Ae=Lf,CAe=TAe($Ae,"Map"),dT=CAe,OAe=Dd,BAe=OAe(Object,"create"),KE=BAe,W9=KE;function PAe(){this.__data__=W9?W9(null):{},this.size=0}var NAe=PAe;function kAe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LAe=kAe,DAe=KE,UAe="__lodash_hash_undefined__",FAe=Object.prototype,jAe=FAe.hasOwnProperty;function qAe(t){var e=this.__data__;if(DAe){var r=e[t];return r===UAe?void 0:r}return jAe.call(e,t)?e[t]:void 0}var zAe=qAe,HAe=KE,VAe=Object.prototype,KAe=VAe.hasOwnProperty;function GAe(t){var e=this.__data__;return HAe?e[t]!==void 0:KAe.call(e,t)}var WAe=GAe,JAe=KE,QAe="__lodash_hash_undefined__";function ZAe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=JAe&&e===void 0?QAe:e,this}var XAe=ZAe,YAe=NAe,exe=LAe,txe=zAe,rxe=WAe,nxe=XAe;function Ag(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ag.prototype.clear=YAe;Ag.prototype.delete=exe;Ag.prototype.get=txe;Ag.prototype.has=rxe;Ag.prototype.set=nxe;var ixe=Ag,J9=ixe,sxe=HE,oxe=dT;function axe(){this.size=0,this.__data__={hash:new J9,map:new(oxe||sxe),string:new J9}}var cxe=axe;function fxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var uxe=fxe,lxe=uxe;function hxe(t,e){var r=t.__data__;return lxe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var GE=hxe,dxe=GE;function pxe(t){var e=dxe(this,t).delete(t);return this.size-=e?1:0,e}var gxe=pxe,vxe=GE;function yxe(t){return vxe(this,t).get(t)}var mxe=yxe,bxe=GE;function wxe(t){return bxe(this,t).has(t)}var _xe=wxe,Exe=GE;function Sxe(t,e){var r=Exe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Axe=Sxe,xxe=cxe,Mxe=gxe,Ixe=mxe,Rxe=_xe,Txe=Axe;function xg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xg.prototype.clear=xxe;xg.prototype.delete=Mxe;xg.prototype.get=Ixe;xg.prototype.has=Rxe;xg.prototype.set=Txe;var pT=xg,$xe=HE,Cxe=dT,Oxe=pT,Bxe=200;function Pxe(t,e){var r=this.__data__;if(r instanceof $xe){var n=r.__data__;if(!Cxe||n.length<Bxe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Oxe(n)}return r.set(t,e),this.size=r.size,this}var Nxe=Pxe,kxe=HE,Lxe=SSe,Dxe=xSe,Uxe=ISe,Fxe=TSe,jxe=Nxe;function Mg(t){var e=this.__data__=new kxe(t);this.size=e.size}Mg.prototype.clear=Lxe;Mg.prototype.delete=Dxe;Mg.prototype.get=Uxe;Mg.prototype.has=Fxe;Mg.prototype.set=jxe;var WE=Mg,qxe=Dd,zxe=function(){try{var t=qxe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),BW=zxe,Q9=BW;function Hxe(t,e,r){e=="__proto__"&&Q9?Q9(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Wm=Hxe,Vxe=Wm,Kxe=Gm;function Gxe(t,e,r){(r!==void 0&&!Kxe(t[e],r)||r===void 0&&!(e in t))&&Vxe(t,e,r)}var PW=Gxe;function Wxe(t){return function(e,r,n){for(var s=-1,i=Object(e),o=n(e),c=o.length;c--;){var l=o[t?c:++s];if(r(i[l],l,i)===!1)break}return e}}var Jxe=Wxe,Qxe=Jxe,Zxe=Qxe(),NW=Zxe,D_={exports:{}};D_.exports;(function(t,e){var r=Lf,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i?r.Buffer:void 0,c=o?o.allocUnsafe:void 0;function l(d,v){if(v)return d.slice();var b=d.length,A=c?c(b):new d.constructor(b);return d.copy(A),A}t.exports=l})(D_,D_.exports);var kW=D_.exports,Xxe=Lf,Yxe=Xxe.Uint8Array,LW=Yxe,Z9=LW;function e3e(t){var e=new t.constructor(t.byteLength);return new Z9(e).set(new Z9(t)),e}var gT=e3e,t3e=gT;function r3e(t,e){var r=e?t3e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var DW=r3e;function n3e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var UW=n3e,i3e=Ic,X9=Object.create,s3e=function(){function t(){}return function(e){if(!i3e(e))return{};if(X9)return X9(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),o3e=s3e;function a3e(t,e){return function(r){return t(e(r))}}var FW=a3e,c3e=FW,f3e=c3e(Object.getPrototypeOf,Object),vT=f3e,u3e=Object.prototype;function l3e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||u3e;return t===r}var yT=l3e,h3e=o3e,d3e=vT,p3e=yT;function g3e(t){return typeof t.constructor=="function"&&!p3e(t)?h3e(d3e(t)):{}}var jW=g3e;function v3e(t){return t!=null&&typeof t=="object"}var Df=v3e,y3e=Ld,m3e=Df,b3e="[object Arguments]";function w3e(t){return m3e(t)&&y3e(t)==b3e}var _3e=w3e,Y9=_3e,E3e=Df,qW=Object.prototype,S3e=qW.hasOwnProperty,A3e=qW.propertyIsEnumerable,x3e=Y9(function(){return arguments}())?Y9:function(t){return E3e(t)&&S3e.call(t,"callee")&&!A3e.call(t,"callee")},JE=x3e,M3e=Array.isArray,ms=M3e;const OSt=Mr(ms);var I3e=9007199254740991;function R3e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=I3e}var mT=R3e,T3e=VE,$3e=mT;function C3e(t){return t!=null&&$3e(t.length)&&!T3e(t)}var Ig=C3e,O3e=Ig,B3e=Df;function P3e(t){return B3e(t)&&O3e(t)}var bT=P3e,U_={exports:{}};function N3e(){return!1}var k3e=N3e;U_.exports;(function(t,e){var r=Lf,n=k3e,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,d=l||n;t.exports=d})(U_,U_.exports);var QE=U_.exports,L3e=Ld,D3e=vT,U3e=Df,F3e="[object Object]",j3e=Function.prototype,q3e=Object.prototype,zW=j3e.toString,z3e=q3e.hasOwnProperty,H3e=zW.call(Object);function V3e(t){if(!U3e(t)||L3e(t)!=F3e)return!1;var e=D3e(t);if(e===null)return!0;var r=z3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zW.call(r)==H3e}var HW=V3e,K3e=Ld,G3e=mT,W3e=Df,J3e="[object Arguments]",Q3e="[object Array]",Z3e="[object Boolean]",X3e="[object Date]",Y3e="[object Error]",e6e="[object Function]",t6e="[object Map]",r6e="[object Number]",n6e="[object Object]",i6e="[object RegExp]",s6e="[object Set]",o6e="[object String]",a6e="[object WeakMap]",c6e="[object ArrayBuffer]",f6e="[object DataView]",u6e="[object Float32Array]",l6e="[object Float64Array]",h6e="[object Int8Array]",d6e="[object Int16Array]",p6e="[object Int32Array]",g6e="[object Uint8Array]",v6e="[object Uint8ClampedArray]",y6e="[object Uint16Array]",m6e="[object Uint32Array]",Ln={};Ln[u6e]=Ln[l6e]=Ln[h6e]=Ln[d6e]=Ln[p6e]=Ln[g6e]=Ln[v6e]=Ln[y6e]=Ln[m6e]=!0;Ln[J3e]=Ln[Q3e]=Ln[c6e]=Ln[Z3e]=Ln[f6e]=Ln[X3e]=Ln[Y3e]=Ln[e6e]=Ln[t6e]=Ln[r6e]=Ln[n6e]=Ln[i6e]=Ln[s6e]=Ln[o6e]=Ln[a6e]=!1;function b6e(t){return W3e(t)&&G3e(t.length)&&!!Ln[K3e(t)]}var w6e=b6e;function _6e(t){return function(e){return t(e)}}var Rg=_6e,F_={exports:{}};F_.exports;(function(t,e){var r=$W,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=c})(F_,F_.exports);var wT=F_.exports,E6e=w6e,S6e=Rg,ek=wT,tk=ek&&ek.isTypedArray,A6e=tk?S6e(tk):E6e,_T=A6e;function x6e(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var VW=x6e,M6e=Wm,I6e=Gm,R6e=Object.prototype,T6e=R6e.hasOwnProperty;function $6e(t,e,r){var n=t[e];(!(T6e.call(t,e)&&I6e(n,r))||r===void 0&&!(e in t))&&M6e(t,e,r)}var KW=$6e,C6e=KW,O6e=Wm;function B6e(t,e,r,n){var s=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var c=e[i],l=n?n(r[c],t[c],c,r,t):void 0;l===void 0&&(l=t[c]),s?O6e(r,c,l):C6e(r,c,l)}return r}var Tg=B6e;function P6e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var N6e=P6e,k6e=9007199254740991,L6e=/^(?:0|[1-9]\d*)$/;function D6e(t,e){var r=typeof t;return e=e??k6e,!!e&&(r=="number"||r!="symbol"&&L6e.test(t))&&t>-1&&t%1==0&&t<e}var ET=D6e,U6e=N6e,F6e=JE,j6e=ms,q6e=QE,z6e=ET,H6e=_T,V6e=Object.prototype,K6e=V6e.hasOwnProperty;function G6e(t,e){var r=j6e(t),n=!r&&F6e(t),s=!r&&!n&&q6e(t),i=!r&&!n&&!s&&H6e(t),o=r||n||s||i,c=o?U6e(t.length,String):[],l=c.length;for(var d in t)(e||K6e.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||z6e(d,l)))&&c.push(d);return c}var GW=G6e;function W6e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var J6e=W6e,Q6e=Ic,Z6e=yT,X6e=J6e,Y6e=Object.prototype,e4e=Y6e.hasOwnProperty;function t4e(t){if(!Q6e(t))return X6e(t);var e=Z6e(t),r=[];for(var n in t)n=="constructor"&&(e||!e4e.call(t,n))||r.push(n);return r}var r4e=t4e,n4e=GW,i4e=r4e,s4e=Ig;function o4e(t){return s4e(t)?n4e(t,!0):i4e(t)}var Jm=o4e,a4e=Tg,c4e=Jm;function f4e(t){return a4e(t,c4e(t))}var u4e=f4e,rk=PW,l4e=kW,h4e=DW,d4e=UW,p4e=jW,nk=JE,ik=ms,g4e=bT,v4e=QE,y4e=VE,m4e=Ic,b4e=HW,w4e=_T,sk=VW,_4e=u4e;function E4e(t,e,r,n,s,i,o){var c=sk(t,r),l=sk(e,r),d=o.get(l);if(d){rk(t,r,d);return}var v=i?i(c,l,r+"",t,e,o):void 0,b=v===void 0;if(b){var A=ik(l),x=!A&&v4e(l),R=!A&&!x&&w4e(l);v=l,A||x||R?ik(c)?v=c:g4e(c)?v=d4e(c):x?(b=!1,v=l4e(l,!0)):R?(b=!1,v=h4e(l,!0)):v=[]:b4e(l)||nk(l)?(v=c,nk(c)?v=_4e(c):(!m4e(c)||y4e(c))&&(v=p4e(l))):b=!1}b&&(o.set(l,v),s(v,l,n,i,o),o.delete(l)),rk(t,r,v)}var S4e=E4e,A4e=WE,x4e=PW,M4e=NW,I4e=S4e,R4e=Ic,T4e=Jm,$4e=VW;function WW(t,e,r,n,s){t!==e&&M4e(e,function(i,o){if(s||(s=new A4e),R4e(i))I4e(t,e,o,r,WW,n,s);else{var c=n?n($4e(t,o),i,o+"",t,e,s):void 0;c===void 0&&(c=i),x4e(t,o,c)}},T4e)}var C4e=WW;function O4e(t){return t}var $g=O4e;function B4e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var P4e=B4e,N4e=P4e,ok=Math.max;function k4e(t,e,r){return e=ok(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=ok(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=n[s];return c[e]=r(o),N4e(t,this,c)}}var JW=k4e;function L4e(t){return function(){return t}}var D4e=L4e,U4e=D4e,ak=BW,F4e=$g,j4e=ak?function(t,e){return ak(t,"toString",{configurable:!0,enumerable:!1,value:U4e(e),writable:!0})}:F4e,q4e=j4e,z4e=800,H4e=16,V4e=Date.now;function K4e(t){var e=0,r=0;return function(){var n=V4e(),s=H4e-(n-r);if(r=n,s>0){if(++e>=z4e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var G4e=K4e,W4e=q4e,J4e=G4e,Q4e=J4e(W4e),QW=Q4e,Z4e=$g,X4e=JW,Y4e=QW;function eMe(t,e){return Y4e(X4e(t,e,Z4e),t+"")}var ZE=eMe,tMe=Gm,rMe=Ig,nMe=ET,iMe=Ic;function sMe(t,e,r){if(!iMe(r))return!1;var n=typeof e;return(n=="number"?rMe(r)&&nMe(e,r.length):n=="string"&&e in r)?tMe(r[e],t):!1}var ST=sMe,oMe=ZE,aMe=ST;function cMe(t){return oMe(function(e,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&aMe(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++n<s;){var c=r[n];c&&t(e,c,n,i)}return e})}var fMe=cMe,uMe=C4e,lMe=fMe,hMe=lMe(function(t,e,r){uMe(t,e,r)}),dMe=hMe;const AT=Mr(dMe);var pMe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const ck=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),fk=4;function gMe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let F=1;F<n;F++)i.push(s+=r());let o=r(),c=e;e+=o;let l=0,d=0;function v(){return l==0&&(d=d<<8|t[e++],l=8),d>>--l&1}const b=31,A=2**b,x=A>>>1,R=x>>1,C=A-1;let T=0;for(let F=0;F<b;F++)T=T<<1|v();let $=[],O=0,D=A;for(;;){let F=Math.floor(((T-O+1)*s-1)/D),H=0,V=n;for(;V-H>1;){let se=H+V>>>1;F<i[se]?V=se:H=se}if(H==0)break;$.push(H);let J=O+Math.floor(D*i[H]/s),Z=O+Math.floor(D*i[H+1]/s)-1;for(;!((J^Z)&x);)T=T<<1&C|v(),J=J<<1&C,Z=Z<<1&C|1;for(;J&~Z&R;)T=T&x|T<<1&C>>>1|v(),J=J<<1^x,Z=(Z^x)<<1|x|1;O=J,D=1+Z-J}let L=n-4;return $.map(F=>{switch(F-L){case 3:return L+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return L+256+(t[c++]<<8|t[c++]);case 1:return L+t[c++];default:return F-1}})}function vMe(t){let e=0;return()=>t[e++]}function ZW(t){return vMe(gMe(yMe(t)))}function yMe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,c=0;s<r;s++)c=c<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=c>>(o-=8));return n}function mMe(t){return t&1?~t>>1:t>>1}function bMe(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=mMe(e());return r}function jy(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function XW(t){return qy(()=>{let e=jy(t);if(e.length)return e})}function YW(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(wMe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(_Me(r,t))}return e.flat()}function qy(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function eJ(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)bMe(t,r).forEach((i,o)=>n[o].push(i));return n}function wMe(t,e){let r=1+e(),n=e(),s=qy(e);return eJ(s.length,1+t,e).flatMap((o,c)=>{let[l,...d]=o;return Array(s[c]).fill().map((v,b)=>{let A=b*n;return[l+b*r,d.map(x=>x+A)]})})}function _Me(t,e){let r=1+e();return eJ(r,1+t,e).map(s=>[s[0],s.slice(1)])}function EMe(t){let e=[],r=jy(t);return s(n([]),[]),e;function n(i){let o=t(),c=qy(()=>{let l=jy(t).map(d=>r[d]);if(l.length)return n(l)});return{S:o,B:c,Q:i}}function s({S:i,B:o},c,l){if(!(i&4&&l===c[c.length-1])){i&2&&(l=c[c.length-1]),i&1&&e.push(c);for(let d of o)for(let v of d.Q)s(d,[...c,v],l)}}}function SMe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function tJ(t){return`{${SMe(t)}}`}function AMe(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Mp(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function xMe(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var MMe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const zy=44032,j_=4352,q_=4449,z_=4519,rJ=19,nJ=21,Ip=28,H_=nJ*Ip,IMe=rJ*H_,RMe=zy+IMe,TMe=j_+rJ,$Me=q_+nJ,CMe=z_+Ip;function uy(t){return t>>24&255}function iJ(t){return t&16777215}let R8,uk,T8,Gw;function OMe(){let t=ZW(MMe);R8=new Map(XW(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),uk=new Set(jy(t)),T8=new Map,Gw=new Map;for(let[e,r]of YW(t)){if(!uk.has(e)&&r.length==2){let[n,s]=r,i=Gw.get(n);i||(i=new Map,Gw.set(n,i)),i.set(s,e)}T8.set(e,r.reverse())}}function sJ(t){return t>=zy&&t<RMe}function BMe(t,e){if(t>=j_&&t<TMe&&e>=q_&&e<$Me)return zy+(t-j_)*H_+(e-q_)*Ip;if(sJ(t)&&e>z_&&e<CMe&&(t-zy)%Ip==0)return t+(e-z_);{let r=Gw.get(t);return r&&(r=r.get(e),r)?r:-1}}function oJ(t){R8||OMe();let e=[],r=[],n=!1;function s(i){let o=R8.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(sJ(i)){let o=i-zy,c=o/H_|0,l=o%H_/Ip|0,d=o%Ip;s(j_+c),s(q_+l),d>0&&s(z_+d)}else{let o=T8.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=uy(e[0]);for(let o=1;o<e.length;o++){let c=uy(e[o]);if(c==0||i<=c){i=c;continue}let l=o-1;for(;;){let d=e[l+1];if(e[l+1]=e[l],e[l]=d,!l||(i=uy(e[--l]),i<=c))break}i=uy(e[o])}}return e}function PMe(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=uy(i),c=iJ(i);if(n==-1)o==0?n=c:e.push(c);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=c):r.push(c),s=o;else{let l=BMe(n,c);l>=0?n=l:s==0&&o==0?(e.push(n),n=c):(r.push(c),s=o)}}return n>=0&&e.push(n,...r),e}function aJ(t){return oJ(t).map(iJ)}function NMe(t){return PMe(oJ(t))}const lk=45,cJ=".",fJ=65039,uJ=1,L0=t=>Array.from(t);function Hy(t,e){return t.P.has(e)||t.Q.has(e)}class kMe extends Array{get is_emoji(){return!0}}let $8,lJ,Wh,C8,hJ,X0,f6,M0,dJ,hk,O8;function xT(){if($8)return;let t=ZW(pMe);const e=()=>jy(t),r=()=>new Set(e());$8=new Map(YW(t)),lJ=r(),Wh=e(),C8=new Set(e().map(v=>Wh[v])),Wh=new Set(Wh),hJ=r(),r();let n=XW(t),s=t();const i=()=>new Set(e().flatMap(v=>n[v]).concat(e()));X0=qy(v=>{let b=qy(t).map(A=>A+96);if(b.length){let A=v>=s;b[0]-=32,b=Mp(b),A&&(b=`Restricted[${b}]`);let x=i(),R=i(),C=!t();return{N:b,P:x,Q:R,M:C,R:A}}}),f6=r(),M0=new Map;let o=e().concat(L0(f6)).sort((v,b)=>v-b);o.forEach((v,b)=>{let A=t(),x=o[b]=A?o[b-A]:{V:[],M:new Map};x.V.push(v),f6.has(v)||M0.set(v,x)});for(let{V:v,M:b}of new Set(M0.values())){let A=[];for(let R of v){let C=X0.filter($=>Hy($,R)),T=A.find(({G:$})=>C.some(O=>$.has(O)));T||(T={G:new Set,V:[]},A.push(T)),T.V.push(R),C.forEach($=>T.G.add($))}let x=A.flatMap(R=>L0(R.G));for(let{G:R,V:C}of A){let T=new Set(x.filter($=>!R.has($)));for(let $ of C)b.set($,T)}}let c=new Set,l=new Set;const d=v=>c.has(v)?l.add(v):c.add(v);for(let v of X0){for(let b of v.P)d(b);for(let b of v.Q)d(b)}for(let v of c)!M0.has(v)&&!l.has(v)&&M0.set(v,uJ);dJ=new Set(L0(c).concat(L0(aJ(c)))),hk=EMe(t).map(v=>kMe.from(v)).sort(xMe),O8=new Map;for(let v of hk){let b=[O8];for(let A of v){let x=b.map(R=>{let C=R.get(A);return C||(C=new Map,R.set(A,C)),C});A===fJ?b.push(...x):b=x}for(let A of b)A.V=v}}function MT(t){return(pJ(t)?"":`${IT(XE([t]))} `)+tJ(t)}function IT(t){return`"${t}"`}function LMe(t){if(t.length>=4&&t[2]==lk&&t[3]==lk)throw new Error(`invalid label extension: "${Mp(t.slice(0,4))}"`)}function DMe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function UMe(t){let e=t[0],r=ck.get(e);if(r)throw Ay(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=ck.get(e);if(o){if(s==i)throw Ay(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw Ay(`trailing ${r}`)}function XE(t,e=tJ){let r=[];FMe(t[0])&&r.push("");let n=0,s=t.length;for(let i=0;i<s;i++){let o=t[i];pJ(o)&&(r.push(Mp(t.slice(n,i))),r.push(e(o)),n=i+1)}return r.push(Mp(t.slice(n,s))),r.join("")}function FMe(t){return xT(),Wh.has(t)}function pJ(t){return xT(),hJ.has(t)}function jMe(t){return VMe(qMe(t,NMe,WMe))}function qMe(t,e,r){if(!t)return[];xT();let n=0;return t.split(cJ).map(s=>{let i=AMe(s),o={input:i,offset:n};n+=i.length+1;try{let c=o.tokens=GMe(i,e,r),l=c.length,d;if(!l)throw new Error("empty label");let v=o.output=c.flat();if(DMe(v),!(o.emoji=l>1||c[0].is_emoji)&&v.every(A=>A<128))LMe(v),d="ASCII";else{let A=c.flatMap(x=>x.is_emoji?[]:x);if(!A.length)d="Emoji";else{if(Wh.has(v[0]))throw Ay("leading combining mark");for(let C=1;C<l;C++){let T=c[C];if(!T.is_emoji&&Wh.has(T[0]))throw Ay(`emoji + combining mark: "${Mp(c[C-1])} + ${XE([T[0]])}"`)}UMe(v);let x=L0(new Set(A)),[R]=HMe(x);KMe(R,A),zMe(R,x),d=R.N}}o.type=d}catch(c){o.error=c}return o})}function zMe(t,e){let r,n=[];for(let s of e){let i=M0.get(s);if(i===uJ)return;if(i){let o=i.M.get(s);if(r=r?r.filter(c=>o.has(c)):L0(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>Hy(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function HMe(t){let e=X0;for(let r of t){let n=e.filter(s=>Hy(s,r));if(!n.length)throw X0.some(s=>Hy(s,r))?vJ(e[0],r):gJ(r);if(e=n,n.length==1)break}return e}function VMe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${IT(XE(e))}: ${s}`)}return Mp(n)}).join(cJ)}function gJ(t){return new Error(`disallowed character: ${MT(t)}`)}function vJ(t,e){let r=MT(e),n=X0.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Ay(t){return new Error(`illegal placement: ${t}`)}function KMe(t,e){for(let r of e)if(!Hy(t,r))throw vJ(t,r);if(t.M){let r=aJ(e);for(let n=1,s=r.length;n<s;n++)if(C8.has(r[n])){let i=n+1;for(let o;i<s&&C8.has(o=r[i]);i++)for(let c=n;c<i;c++)if(r[c]==o)throw new Error(`duplicate non-spacing marks: ${MT(o)}`);if(i-n>fk)throw new Error(`excessive non-spacing marks: ${IT(XE(r.slice(n-1,i)))} (${i-n}/${fk})`);n=i}}}function GMe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=JMe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(dJ.has(o))s.push(o);else{let c=$8.get(o);if(c)s.push(...c);else if(!lJ.has(o))throw gJ(o)}}}return s.length&&n.push(e(s)),n}function WMe(t){return t.filter(e=>e!=fJ)}function JMe(t,e){let r=O8,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,e&&e.push(...t.slice(s).reverse()),t.length=s)}return n}function QMe(t){return jMe(t)}function V_(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new u8e(t.type);return`${t.name}(${YE(t.inputs,{includeName:e})})`}function YE(t,{includeName:e=!1}={}){return t?t.map(r=>ZMe(r,{includeName:e})).join(e?", ":","):""}function ZMe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${YE(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Cn(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Pi(t){return Cn(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const XMe="2.7.15",BSt=t=>t,PSt=t=>t,YMe=()=>`viem@${XMe}`;class Ht extends Error{constructor(e,r={}){var i;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:YMe()});const n=r.cause instanceof Ht?r.cause.details:(i=r.cause)!=null&&i.message?r.cause.message:r.details,s=r.cause instanceof Ht&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return yJ(this,e)}}function yJ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t?yJ(t.cause,e):e?null:t}class NSt extends Ht{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class kSt extends Ht{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class e8e extends Ht{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${YE(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class t8e extends Ht{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class r8e extends Ht{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class n8e extends Ht{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Pi(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class i8e extends Ht{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class LSt extends Ht{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class DSt extends Ht{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class USt extends Ht{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class FSt extends Ht{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class dk extends Ht{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class jSt extends Ht{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class qSt extends Ht{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionSignatureNotFoundError"})}}class s8e extends Ht{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${V_(e.abiItem)}\`, and`,`\`${r.type}\` in \`${V_(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class o8e extends Ht{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class zSt extends Ht{constructor({abiItem:e,data:r,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${YE(n,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=s}}class HSt extends Ht{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${V_(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class a8e extends Ht{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class c8e extends Ht{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class f8e extends Ht{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class u8e extends Ht{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class If extends Ht{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class mJ extends Ht{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class bJ extends Ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class VSt extends Ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function Cg(t,{dir:e,size:r=32}={}){return typeof t=="string"?mf(t,{dir:e,size:r}):l8e(t,{dir:e,size:r})}function mf(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new bJ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function l8e(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new bJ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}class h8e extends Ht{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class d8e extends Ht{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class p8e extends Ht{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class g8e extends Ht{constructor(e){super(`Hex value "${e}" is an odd length (${e.length}). It must be an even length.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexValueError"})}}class v8e extends Ht{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Ia(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function za(t,{size:e}){if(Pi(t)>e)throw new v8e({givenSize:Pi(t),maxSize:e})}function KSt(t,e){const r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?Gl(t,r):n==="bigint"?ds(t,r):n==="string"?m8e(t,r):n==="boolean"?y8e(t,r):Ud(t,r)}function ds(t,e={}){const{signed:r}=e;e.size&&za(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function y8e(t,e={}){let r=t;if(e.size&&(za(r,{size:e.size}),r=Ia(r)),Ia(r)==="0x00")return!1;if(Ia(r)==="0x01")return!0;throw new p8e(r)}function Gl(t,e={}){return Number(ds(t,e))}function m8e(t,e={}){let r=Ud(t);return e.size&&(za(r,{size:e.size}),r=Ia(r,{dir:"right"})),new TextDecoder().decode(r)}const b8e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vn(t,e={}){return typeof t=="number"||typeof t=="bigint"?ch(t,e):typeof t=="string"?_J(t,e):typeof t=="boolean"?wJ(t,e):Ba(t,e)}function wJ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(za(r,{size:e.size}),Cg(r,{size:e.size})):r}function Ba(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=b8e[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(za(n,{size:e.size}),Cg(n,{dir:"right",size:e.size})):n}function ch(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new h8e({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const c=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?Cg(c,{size:n}):c}const w8e=new TextEncoder;function _J(t,e={}){const r=w8e.encode(t);return Ba(r,e)}const _8e=new TextEncoder;function eS(t,e={}){return typeof t=="number"||typeof t=="bigint"?S8e(t,e):typeof t=="boolean"?E8e(t,e):Cn(t)?Ud(t,e):K_(t,e)}function E8e(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(za(r,{size:e.size}),Cg(r,{size:e.size})):r}const nu={zero:48,nine:57,A:65,F:70,a:97,f:102};function pk(t){if(t>=nu.zero&&t<=nu.nine)return t-nu.zero;if(t>=nu.A&&t<=nu.F)return t-(nu.A-10);if(t>=nu.a&&t<=nu.f)return t-(nu.a-10)}function Ud(t,e={}){let r=t;e.size&&(za(r,{size:e.size}),r=Cg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,i=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=pk(n.charCodeAt(c++)),d=pk(n.charCodeAt(c++));if(l===void 0||d===void 0)throw new Ht(`Invalid byte sequence ("${n[c-2]}${n[c-1]}" in "${n}").`);i[o]=l*16+d}return i}function S8e(t,e){const r=ch(t,e);return Ud(r)}function K_(t,e={}){const r=_8e.encode(t);return typeof e.size=="number"?(za(r,{size:e.size}),Cg(r,{dir:"right",size:e.size})):r}function G_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function RT(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function A8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");G_(t.outputLen),G_(t.blockLen)}function Rp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function EJ(t,e){RT(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Pb=BigInt(2**32-1),gk=BigInt(32);function x8e(t,e=!1){return e?{h:Number(t&Pb),l:Number(t>>gk&Pb)}:{h:Number(t>>gk&Pb)|0,l:Number(t&Pb)|0}}function M8e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=x8e(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const I8e=(t,e,r)=>t<<r|e>>>32-r,R8e=(t,e,r)=>e<<r|t>>>32-r,T8e=(t,e,r)=>e<<r-32|t>>>64-r,$8e=(t,e,r)=>t<<r-32|e>>>64-r,u6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SJ=t=>t instanceof Uint8Array,C8e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),l6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Kc=(t,e)=>t<<32-e|t>>>e,O8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!O8e)throw new Error("Non little-endian hardware is not supported");function B8e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function tS(t){if(typeof t=="string"&&(t=B8e(t)),!SJ(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function P8e(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!SJ(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let TT=class{clone(){return this._cloneInto()}};function AJ(t){const e=n=>t().update(tS(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function N8e(t=32){if(u6&&typeof u6.getRandomValues=="function")return u6.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[xJ,MJ,IJ]=[[],[],[]],k8e=BigInt(0),kv=BigInt(1),L8e=BigInt(2),D8e=BigInt(7),U8e=BigInt(256),F8e=BigInt(113);for(let t=0,e=kv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xJ.push(2*(5*n+r)),MJ.push((t+1)*(t+2)/2%64);let s=k8e;for(let i=0;i<7;i++)e=(e<<kv^(e>>D8e)*F8e)%U8e,e&L8e&&(s^=kv<<(kv<<BigInt(i))-kv);IJ.push(s)}const[j8e,q8e]=M8e(IJ,!0),vk=(t,e,r)=>r>32?T8e(t,e,r):I8e(t,e,r),yk=(t,e,r)=>r>32?$8e(t,e,r):R8e(t,e,r);function z8e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,d=r[l],v=r[l+1],b=vk(d,v,1)^r[c],A=yk(d,v,1)^r[c+1];for(let x=0;x<50;x+=10)t[o+x]^=b,t[o+x+1]^=A}let s=t[2],i=t[3];for(let o=0;o<24;o++){const c=MJ[o],l=vk(s,i,c),d=yk(s,i,c),v=xJ[o];s=t[v],i=t[v+1],t[v]=l,t[v+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)r[c]=t[o+c];for(let c=0;c<10;c++)t[o+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=j8e[n],t[1]^=q8e[n]}r.fill(0)}let H8e=class RJ extends TT{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,G_(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=C8e(this.state)}keccak(){z8e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Rp(this);const{blockLen:r,state:n}=this;e=tS(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let c=0;c<o;c++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Rp(this,!1),RT(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return G_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(EJ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new RJ(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const V8e=(t,e,r)=>AJ(()=>new H8e(e,t,r)),K8e=V8e(1,136,256/8);function Sa(t,e){const r=e||"hex",n=K8e(Cn(t,{strict:!1})?eS(t):t);return r==="bytes"?n:vn(n)}class G8e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,r){return super.set(e,r),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const W8e=/^0x[a-fA-F0-9]{40}$/,h6=new G8e(8192);function Ko(t,{strict:e=!0}={}){if(h6.has(t))return h6.get(t);const r=(()=>W8e.test(t)?t.toLowerCase()===t?!0:e?rS(t)===t:!0:!1)();return h6.set(t,r),r}function rS(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Sa(K_(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(n[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());return`0x${s.join("")}`}function WSt(t,e){if(!Ko(t))throw new If({address:t});return rS(t,e)}class mk extends Ht{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class J8e extends Ht{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Q8e extends Ht{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const Z8e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Q8e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new J8e({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new mk({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new mk({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===1/0)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function $T(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Z8e);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function TJ(t,e,r,{strict:n}={}){return Cn(t,{strict:!1})?BJ(t,e,r,{strict:n}):OJ(t,e,r,{strict:n})}function $J(t,e){if(typeof e=="number"&&e>0&&e>Pi(t)-1)throw new mJ({offset:e,position:"start",size:Pi(t)})}function CJ(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Pi(t)!==r-e)throw new mJ({offset:r,position:"end",size:Pi(t)})}function OJ(t,e,r,{strict:n}={}){$J(t,e);const s=t.slice(e,r);return n&&CJ(s,e,r),s}function BJ(t,e,r,{strict:n}={}){$J(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&CJ(s,e,r),s}function JSt(t,e){const r=typeof e=="string"?{to:e}:e,n=r.to;return n==="number"?bf(t,r):n==="bigint"?PJ(t,r):n==="boolean"?NJ(t,r):n==="string"?kJ(t,r):Ba(t,r)}function PJ(t,e={}){typeof e.size<"u"&&za(t,{size:e.size});const r=Ba(t,e);return ds(r,e)}function NJ(t,e={}){let r=t;if(typeof e.size<"u"&&(za(r,{size:e.size}),r=Ia(r)),r.length>1||r[0]>1)throw new d8e(r);return!!r[0]}function bf(t,e={}){typeof e.size<"u"&&za(t,{size:e.size});const r=Ba(t,e);return Gl(r,e)}function kJ(t,e={}){let r=t;return typeof e.size<"u"&&(za(r,{size:e.size}),r=Ia(r,{dir:"right"})),new TextDecoder().decode(r)}function Wl(t){return typeof t[0]=="string"?nS(t):X8e(t)}function X8e(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function nS(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function CT(t,e){if(t.length!==e.length)throw new i8e({expectedLength:t.length,givenLength:e.length});const r=Y8e({params:t,values:e}),n=BT(r);return n.length===0?"0x":n}function Y8e({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(OT({param:t[n],value:e[n]}));return r}function OT({param:t,value:e}){const r=PT(t.type);if(r){const[n,s]=r;return t5e(e,{length:n,param:{...t,type:s}})}if(t.type==="tuple")return o5e(e,{param:t});if(t.type==="address")return e5e(e);if(t.type==="bool")return n5e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return i5e(e,{signed:n})}if(t.type.startsWith("bytes"))return r5e(e,{param:t});if(t.type==="string")return s5e(e);throw new a8e(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function BT(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:c}=t[i];o?e+=32:e+=Pi(c)}const r=[],n=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:c}=t[i];o?(r.push(ch(e+s,{size:32})),n.push(c),s+=Pi(c)):r.push(c)}return Wl([...r,...n])}function e5e(t){if(!Ko(t))throw new If({address:t});return{dynamic:!1,encoded:mf(t.toLowerCase())}}function t5e(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new f8e(t);if(!n&&t.length!==e)throw new r8e({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const c=OT({param:r,value:t[o]});c.dynamic&&(s=!0),i.push(c)}if(n||s){const o=BT(i);if(n){const c=ch(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Wl([c,o]):c}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Wl(i.map(({encoded:o})=>o))}}function r5e(t,{param:e}){const[,r]=e.type.split("bytes"),n=Pi(t);if(!r){let s=t;return n%32!==0&&(s=mf(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Wl([mf(ch(n,{size:32})),s])}}if(n!==parseInt(r))throw new n8e({expectedSize:parseInt(r),value:t});return{dynamic:!1,encoded:mf(t,{dir:"right"})}}function n5e(t){return{dynamic:!1,encoded:mf(wJ(t))}}function i5e(t,{signed:e}){return{dynamic:!1,encoded:ch(t,{size:32,signed:e})}}function s5e(t){const e=_J(t),r=Math.ceil(Pi(e)/32),n=[];for(let s=0;s<r;s++)n.push(mf(TJ(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Wl([mf(ch(Pi(e),{size:32})),...n])}}function o5e(t,{param:e}){let r=!1;const n=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,c=OT({param:i,value:t[o]});n.push(c),c.dynamic&&(r=!0)}return{dynamic:r,encoded:r?BT(n):Wl(n.map(({encoded:s})=>s))}}function PT(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function QSt(t,e){const r=typeof e=="string"?Ud(e):e,n=$T(r);if(Pi(r)===0&&t.length>0)throw new t8e;if(Pi(e)&&Pi(e)<32)throw new e8e({data:typeof e=="string"?e:Ba(e),params:t,size:Pi(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const c=t[o];n.setPosition(s);const[l,d]=Y0(n,c,{staticPosition:0});s+=d,i.push(l)}return i}function Y0(t,e,{staticPosition:r}){const n=PT(e.type);if(n){const[s,i]=n;return c5e(t,{...e,type:i},{length:s,staticPosition:r})}if(e.type==="tuple")return h5e(t,e,{staticPosition:r});if(e.type==="address")return a5e(t);if(e.type==="bool")return f5e(t);if(e.type.startsWith("bytes"))return u5e(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return l5e(t,e);if(e.type==="string")return d5e(t,{staticPosition:r});throw new c8e(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const bk=32,B8=32;function a5e(t){const e=t.readBytes(32);return[rS(Ba(OJ(e,-20))),32]}function c5e(t,e,{length:r,staticPosition:n}){if(!r){const o=bf(t.readBytes(B8)),c=n+o,l=c+bk;t.setPosition(c);const d=bf(t.readBytes(bk)),v=Vy(e);let b=0;const A=[];for(let x=0;x<d;++x){t.setPosition(l+(v?x*32:b));const[R,C]=Y0(t,e,{staticPosition:l});b+=C,A.push(R)}return t.setPosition(n+32),[A,32]}if(Vy(e)){const o=bf(t.readBytes(B8)),c=n+o,l=[];for(let d=0;d<r;++d){t.setPosition(c+d*32);const[v]=Y0(t,e,{staticPosition:c});l.push(v)}return t.setPosition(n+32),[l,32]}let s=0;const i=[];for(let o=0;o<r;++o){const[c,l]=Y0(t,e,{staticPosition:n+s});s+=l,i.push(c)}return[i,s]}function f5e(t){return[NJ(t.readBytes(32),{size:32}),32]}function u5e(t,e,{staticPosition:r}){const[n,s]=e.type.split("bytes");if(!s){const o=bf(t.readBytes(32));t.setPosition(r+o);const c=bf(t.readBytes(32));if(c===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(c);return t.setPosition(r+32),[Ba(l),32]}return[Ba(t.readBytes(parseInt(s),32)),32]}function l5e(t,e){const r=e.type.startsWith("int"),n=parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[n>48?PJ(s,{signed:r}):bf(s,{signed:r}),32]}function h5e(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),s=n?[]:{};let i=0;if(Vy(e)){const o=bf(t.readBytes(B8)),c=r+o;for(let l=0;l<e.components.length;++l){const d=e.components[l];t.setPosition(c+i);const[v,b]=Y0(t,d,{staticPosition:c});i+=b,s[n?l:d==null?void 0:d.name]=v}return t.setPosition(r+32),[s,32]}for(let o=0;o<e.components.length;++o){const c=e.components[o],[l,d]=Y0(t,c,{staticPosition:r});s[n?o:c==null?void 0:c.name]=l,i+=d}return[s,i]}function d5e(t,{staticPosition:e}){const r=bf(t.readBytes(32)),n=e+r;t.setPosition(n);const s=bf(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=kJ(Ia(i));return t.setPosition(e+32),[o,32]}function Vy(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Vy);const r=PT(t.type);return!!(r&&Vy({...t,type:r[1]}))}function p5e(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const wk=/^tuple(?<array>(\[(\d*)\])*)$/;function P8(t){let e=t.type;if(wk.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let s=0;s<r;s++){const i=t.components[s];e+=P8(i),s<r-1&&(e+=", ")}const n=p5e(wk,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,P8({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Lv(t){let e="";const r=t.length;for(let n=0;n<r;n++){const s=t[n];e+=P8(s),n!==r-1&&(e+=", ")}return e}function g5e(t){return t.type==="function"?`function ${t.name}(${Lv(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${Lv(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Lv(t.inputs)})`:t.type==="error"?`error ${t.name}(${Lv(t.inputs)})`:t.type==="constructor"?`constructor(${Lv(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?"fallback()":"receive() external payable"}const v5e=t=>Sa(eS(t));function y5e(t){return v5e(t)}function m5e(t){let e=!0,r="",n=0,s="",i=!1;for(let o=0;o<t.length;o++){const c=t[o];if(["(",")",","].includes(c)&&(e=!0),c==="("&&n++,c===")"&&n--,!!e){if(n===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}continue}if(c===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}s+=c,r+=c}}if(!i)throw new Ht("Unable to normalize signature.");return s}const b5e=t=>{const e=(()=>typeof t=="string"?t:g5e(t))();return m5e(e)};function LJ(t){return y5e(b5e(t))}const w5e=LJ,DJ=t=>TJ(LJ(t),0,4);function _5e(t){const{abi:e,args:r=[],name:n}=t,s=Cn(n,{strict:!1}),i=e.filter(c=>s?c.type==="function"?DJ(c)===n:c.type==="event"?w5e(c)===n:!1:"name"in c&&c.name===n);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const c of i){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,v)=>{const b="inputs"in c&&c.inputs[v];return b?N8(d,b):!1})){if(o&&"inputs"in o&&o.inputs){const d=UJ(c.inputs,o.inputs,r);if(d)throw new s8e({abiItem:c,type:d[0]},{abiItem:o,type:d[1]})}o=c}}return o||i[0]}function N8(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Ko(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>N8(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(s=>N8(s,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function UJ(t,e,r){for(const n in t){const s=t[n],i=e[n];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return UJ(s.components,i.components,r[n]);const o=[s.type,i.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ko(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ko(r[n],{strict:!1}):!1)())return o}}const _k="/docs/contract/encodeFunctionData";function ZSt(t){const{abi:e,args:r,functionName:n}=t;let s=e[0];if(n){const l=_5e({abi:e,args:r,name:n});if(!l)throw new dk(n,{docsPath:_k});s=l}if(s.type!=="function")throw new dk(void 0,{docsPath:_k});const i=V_(s),o=DJ(i),c="inputs"in s&&s.inputs?CT(s.inputs,r??[]):void 0;return nS([o,c??"0x"])}class XSt extends Ht{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class YSt extends Ht{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class eAt extends Ht{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class tAt extends Ht{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class NT extends Ht{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const E5e={gwei:9,wei:18},S5e={ether:-9,wei:9};function FJ(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}function A5e(t,e="wei"){return FJ(t,E5e[e])}function nd(t,e="wei"){return FJ(t,S5e[e])}function jJ(t){const e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class rAt extends Ht{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class qJ extends Ht{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class x5e extends Ht{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",jJ(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class M5e extends Ht{constructor({serializedType:e}){super(`Serialized transaction type "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=e}}class kT extends Ht{constructor({attributes:e,serializedTransaction:r,type:n}){const s=Object.entries(e).map(([i,o])=>typeof o>"u"?i:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${n}" was provided.`,{metaMessages:[`Serialized Transaction: "${r}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=r,this.type=n}}class I5e extends Ht{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class nAt extends Ht{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:v,to:b,value:A}){var R;const x=jJ({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:b,value:typeof A<"u"&&`${A5e(A)} ${((R=s==null?void 0:s.nativeCurrency)==null?void 0:R.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof c<"u"&&`${nd(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${nd(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${nd(d)} gwei`,nonce:v});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",x].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class iAt extends Ht{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i}){let o="Transaction";n&&i!==void 0&&(o=`Transaction at block time "${n}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class sAt extends Ht{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class oAt extends Ht{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class zJ extends Ht{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(zJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(zJ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class iS extends Ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${nd(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(iS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class R5e extends Ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${nd(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(R5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class T5e extends Ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(T5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $5e extends Ht{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty($5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class C5e extends Ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(C5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class O5e extends Ht{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(O5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class B5e extends Ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(B5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class P5e extends Ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(P5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class N5e extends Ht{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(N5e,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class HJ extends Ht{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${nd(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${nd(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(HJ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class aAt extends Ht{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}var k5e=Object.defineProperty,L5e=Object.getOwnPropertyDescriptor,D5e=(t,e,r,n)=>{for(var s=n>1?void 0:n?L5e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&k5e(e,r,s),s},p0=(t,e)=>(r,n)=>e(r,n,t);let Ek=class extends mn{constructor(e,r,n,s,i){super();Oe(this,"_supportedModes",[Ui.Mainnet]);Oe(this,"_store");Oe(this,"networkController");Oe(this,"walletController");Oe(this,"_aptosNameServiceApiUrl","https://www.aptosnames.com/api/mainnet/v1");Oe(this,"ethProvider");this.storage=e,this.networkProvider=r,this.walletProvider=n,this.http=s,this.ethChainProvider=i}get store(){return this._store}async init(){var n;this.networkController=await this.networkProvider(),this.ethProvider=await this.ethChainProvider(),this.walletController=await this.walletProvider();const e=await this.storage.get("nameService");this._store=new zn.ObservableStore(e);const r=(n=this.walletController.currentAccount)==null?void 0:n.address;r&&await this.resolveAddress(r,void 0,!0)}onAccountChanged(e){super.onAccountChanged(e),e!=null&&e.address&&this.resolveAddress(e.address,void 0,!0)}async resolveName(e,r,n=!1){const s=this.networkController.networkMode;if(!this._supportedModes.includes(s))return null;const i=r??this.networkController.currentNetwork.chain;return i===Qt.Ethereum?this.resolveEthereumName(e,n):i===Qt.Aptos?this.resolveAptosName(e,n):(console.warn(`Unsupported chain: ${r}`),null)}async resolveAddress(e,r,n=!1){const s=r??this.networkController.currentNetwork.chain;return s===Qt.Ethereum?this.resolveEthereumAddress(e,n):s===Qt.Aptos?this.resolveAptosAddress(e,n):(console.warn(`Unsupported chain: ${r}`),null)}async resolveAptosName(e,r){const n=this.getAddress(e,Qt.Aptos,as.APTOS_NAME_SERVICE),s=!!(n!=null&&n.updatedAt)&&new Date().getTime()-new Date(n.updatedAt).getTime()>Cb;if(n&&!s)return n;let i=null;try{i=(await this.http.get(`${this._aptosNameServiceApiUrl}/address/${e}`)).data.address}catch{}return i?(r&&await this.addNameToAddress(as.APTOS_NAME_SERVICE,Qt.Aptos,e,i,s),{resolvedName:e,chain:Qt.Aptos,nameServiceProvider:as.APTOS_NAME_SERVICE,address:i,updatedAt:new Date().getTime()}):null}async resolveEthereumName(e,r){const n=this.getAddress(e,Qt.Ethereum,as.ETHEREUM_NAME_SERVICE),s=!!(n!=null&&n.updatedAt)&&new Date().getTime()-new Date(n.updatedAt).getTime()>Cb;if(n&&!s)return n;let i=null;try{i=await this.ethProvider.getEnsAddress({name:QMe(e)})}catch{}return i?(r&&await this.addNameToAddress(as.ETHEREUM_NAME_SERVICE,Qt.Ethereum,e,i,s),{resolvedName:e,chain:Qt.Ethereum,nameServiceProvider:as.ETHEREUM_NAME_SERVICE,address:i,updatedAt:new Date().getTime()}):null}async resolveAptosAddress(e,r){const n=this.getName(e,Qt.Aptos,as.APTOS_NAME_SERVICE),s=!!(n!=null&&n.updatedAt)&&new Date().getTime()-new Date(n.updatedAt).getTime()>Cb;if(n&&!s)return n;let i=null;try{i=(await this.http.get(`${this._aptosNameServiceApiUrl}/name/${e}`)).data.name}catch{}return i?(r&&await this.addNameToAddress(as.APTOS_NAME_SERVICE,Qt.Aptos,i,e,s),{resolvedName:i,chain:Qt.Aptos,nameServiceProvider:as.APTOS_NAME_SERVICE,address:e,updatedAt:new Date().getTime()}):null}async resolveEthereumAddress(e,r){const n=this.getName(e,Qt.Ethereum,as.ETHEREUM_NAME_SERVICE),s=!!(n!=null&&n.updatedAt)&&new Date().getTime()-new Date(n.updatedAt).getTime()>Cb;if(n&&!s)return n;let i=null;try{i=await this.ethProvider.getEnsName({address:e})}catch{}return i?(r&&await this.addNameToAddress(as.ETHEREUM_NAME_SERVICE,Qt.Ethereum,i,e,s),{chain:Qt.Ethereum,nameServiceProvider:as.ETHEREUM_NAME_SERVICE,resolvedName:i,address:e,updatedAt:new Date().getTime()}):null}async addNameToAddress(e,r,n,s,i=!1){var v,b;const o=(v=this.store)==null?void 0:v.getState(),c=((b=o.accountsNames)==null?void 0:b[s])||[],l=i?c.filter(A=>A.resolvedName!==n):c;l.push({nameServiceProvider:e,chain:r,resolvedName:n,address:s,updatedAt:new Date().getTime()});const d=AT(o,{accountsNames:{...o.accountsNames,[s]:l}});this._store.updateState(d),await this.storage.set("nameService",d)}getName(e,r,n){var i,o,c;return(c=(o=((i=this.store)==null?void 0:i.getState()).accountsNames)==null?void 0:o[e])==null?void 0:c.find(l=>l.chain===r&&l.nameServiceProvider===n)}getAddress(e,r,n){const s=this.store.getState();if(!s.accountsNames)return;const i=Object.values(s.accountsNames);if(!i||!i.length)return;let o=0,c;for(;o<i.length;){const d=i[o].find(v=>v.nameServiceProvider===n&&v.chain===r&&v.resolvedName===e);if(d){c=d;break}o++}return c}};Ek=D5e([Lr(),p0(0,st(tt.StorageService)),p0(1,st(tt.NetworkControllerProvider)),p0(2,st(tt.WalletControllerProvider)),p0(3,st(tt.HttpService)),p0(4,st(tt.ChainApiProvider)),p0(4,Ep(Qt.Ethereum))],Ek);var U5e=Object.defineProperty,F5e=Object.getOwnPropertyDescriptor,j5e=(t,e,r,n)=>{for(var s=n>1?void 0:n?F5e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&U5e(e,r,s),s},Sk=(t,e)=>(r,n)=>e(r,n,t);let Ak=class extends mn{constructor(e,r){super();Oe(this,"_permissionsService");Oe(this,"_wallet");Oe(this,"_store");this.permissionsServiceProvider=e,this.walletControllerProvider=r,this._store=new zn.ObservableStore({})}get store(){return this._store}async init(){this._permissionsService=await this.permissionsServiceProvider(),this._wallet=await this.walletControllerProvider(),this._permissionsService.store.subscribe(this._updateStore.bind(this)),this._wallet.store.subscribe(this._updateStore.bind(this)),this._updateStore()}async connectAccounts(e,r){r.forEach(i=>{this._permissionsService.setConnected(e,i,!0)});const n=this._wallet.currentAccount;if(r.includes(n.id)){this._permissionsService.setCurrentAccount(e,n.chain,n.id);return}const s=this._wallet.getAccountById(r[0]);this._permissionsService.setCurrentAccount(e,s.chain,s.id),await this._wallet.changeAccount(s.id)}async disconnectAccounts(e,r){r.forEach(n=>{this._permissionsService.deleteConnected(e,n)})}_updateStore(){var o,c;const e=this._permissionsService.store.getState(),r=this._wallet.currentAccount,n=(o=e.currentOrigin)==null?void 0:o.origin;if(!r){this._store.updateState({connectedAccountIds:[],connectedOrigins:[]});return}let s=[],i=[];n&&(s=Object.entries(((c=e.connections[n])==null?void 0:c.accounts)??{}).filter(([l,d])=>{var v;return d&&((v=this._wallet.getAccountById(l))==null?void 0:v.chain)===r.chain}).filter(([l,d])=>d).map(([l])=>l),i=Object.entries(e.connections).filter(([l,{accounts:d}])=>Object.entries(d).filter(([v,b])=>b).map(([v])=>v).includes(r.id)).map(([l,{accounts:d}])=>({origin:l,connectedAccounts:Object.values(d).filter(Boolean).length}))),this._store.updateState({...e,connectedAccountIds:s,connectedOrigins:i})}};Ak=j5e([Lr(),Sk(0,st(tt.PermissionsServiceProvider)),Sk(1,st(tt.WalletControllerProvider))],Ak);var q5e=Object.defineProperty,z5e=Object.getOwnPropertyDescriptor,H5e=(t,e,r,n)=>{for(var s=n>1?void 0:n?z5e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&q5e(e,r,s),s},V5e=(t,e)=>(r,n)=>e(r,n,t);let xk=class extends mn{constructor(t){super(),this.searchService=t}async init(){}async search(t){return this.searchService.search(t)}};xk=H5e([Lr(),V5e(0,st(tt.SearchService))],xk);var K5e=Object.defineProperty,G5e=Object.getOwnPropertyDescriptor,W5e=(t,e,r,n)=>{for(var s=n>1?void 0:n?G5e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&K5e(e,r,s),s},Gc=(t,e)=>(r,n)=>e(r,n,t);let Mk=class extends mn{constructor(e,r,n,s,i,o,c,l){super();Oe(this,"keyringController");Oe(this,"networkController");Oe(this,"walletController");this._container=e,this.keyringProvider=r,this.networkProvider=n,this.walletProvider=s,this.ethChainProvider=i,this.aptosChainProvider=o,this.eventBus=c,this.http=l}async init(){this.keyringController=await this.keyringProvider(),this.networkController=await this.networkProvider(),this.walletController=await this.walletProvider()}async generateTypedTransaction(e,r,n){const{builder:s,account:i}=await this._prepareBuilderData(e);return s.generateTypedTransaction(i,r,n)}async generateTransaction(e,r,n){const{builder:s,account:i}=await this._prepareBuilderData(e);return s.generateTransaction(i,r,n)}async generateMessage(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.generateMessage(s,r)}async generateTypedMessage(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.generateTypedMessage(s,r)}async getTransactionPreview(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.getTransactionPreview(s,r)}async signTransaction(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.signTransaction(s,r)}async signHexString(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.signHexString(s,r)}async signMessage(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.signMessage(s,r)}async signTypedMessage(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e);return n.signTypedMessage(s,r)}async simulateTransaction(e,r,n){const{builder:s,account:i}=await this._prepareBuilderData(e);return s.simulateTransaction(i,r,n)}async submitTransaction(e,r){const{builder:n,account:s}=await this._prepareBuilderData(e),i=await n.submitTransaction(s,r);return this.eventBus.emit("transactionSubmitted",{account:s,transaction:i}),i}async _prepareBuilderData(e){const r=this.keyringController.getAccountById(e),n=this.walletController.getAccountById(e);if(!r||!n)throw new Error("Account not found");const s=this.networkController.getChainNetwork(n.chain,this.networkController.networkMode);if(!s)throw console.log("Internal error",n,this.networkController.networkMode),new Error("Internal error");const i=await this._transactionBuilderFactory(s.chain);if(!i)throw console.log("Transaction builder for current chain not found",s),new Error("Transaction builder for current chain not found");return{account:r,network:s,builder:i}}async _transactionBuilderFactory(e){const r=this._container.getNamed(tt.TransactionBuilder,e);return await r.init(),r}};Mk=W5e([Lr(),Gc(0,st(tt.RootContainer)),Gc(1,st(tt.KeyringControllerProvider)),Gc(2,st(tt.NetworkControllerProvider)),Gc(3,st(tt.WalletControllerProvider)),Gc(4,st(tt.ChainApiProvider)),Gc(4,Ep(Qt.Ethereum)),Gc(5,st(tt.ChainApiProvider)),Gc(5,Ep(Qt.Aptos)),Gc(6,st(tt.EventBus)),Gc(7,st(tt.HttpService))],Mk);var J5e=Object.defineProperty,Q5e=Object.getOwnPropertyDescriptor,Z5e=(t,e,r,n)=>{for(var s=n>1?void 0:n?Q5e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&J5e(e,r,s),s},X5e=(t,e)=>(r,n)=>e(r,n,t);let Ik=class extends mn{constructor(e){super();Oe(this,"systemService");this.systemServiceProvider=e}async init(){this.systemService=await this.systemServiceProvider()}};Ik=Z5e([Lr(),X5e(0,st(tt.SystemServiceProvider))],Ik);var Fd={},sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.createAsyncMiddleware=void 0;function Y5e(t){return async(e,r,n,s)=>{let i;const o=new Promise(v=>{i=v});let c=null,l=!1;const d=async()=>{l=!0,n(v=>{c=v,i()}),await o};try{await t(e,r,d),l?(await o,c(null)):s(null)}catch(v){c?c(v):s(v)}}}sS.createAsyncMiddleware=Y5e;var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.createScaffoldMiddleware=void 0;function eIe(t){return(e,r,n,s)=>{const i=t[e.method];return i===void 0?n():typeof i=="function"?i(e,r,n,s):(r.result=i,s())}}oS.createScaffoldMiddleware=eIe;var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.getUniqueId=void 0;const VJ=4294967295;let d6=Math.floor(Math.random()*VJ);function tIe(){return d6=(d6+1)%VJ,d6}Qm.getUniqueId=tIe;var aS={};Object.defineProperty(aS,"__esModule",{value:!0});aS.createIdRemapMiddleware=void 0;const rIe=Qm;function nIe(){return(t,e,r,n)=>{const s=t.id,i=(0,rIe.getUniqueId)();t.id=i,e.id=i,r(o=>{t.id=s,e.id=s,o()})}}aS.createIdRemapMiddleware=nIe;var Zm={},KJ={},md={},cS={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.assertExhaustive=ps.assertStruct=ps.assert=ps.AssertionError=void 0;const iIe=vs;function sIe(t){return typeof t=="object"&&t!==null&&"message"in t}function oIe(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function aIe(t){const e=sIe(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function GJ(t,e){return oIe(t)?new t({message:e}):t({message:e})}let LT=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};ps.AssertionError=LT;function cIe(t,e="Assertion failed.",r=LT){if(!t)throw e instanceof Error?e:GJ(r,e)}ps.assert=cIe;function fIe(t,e,r="Assertion failed",n=LT){try{(0,iIe.assert)(t,e)}catch(s){throw GJ(n,`${r}: ${aIe(s)}.`)}}ps.assertStruct=fIe;function uIe(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}ps.assertExhaustive=uIe;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.base64=void 0;const lIe=vs,hIe=ps,dIe=(t,e={})=>{var r,n;const s=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,i=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;i==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,hIe.assert)(i==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let c;return s?c=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):c=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,lIe.pattern)(t,c)};Xm.base64=dIe;var rn={},Ym={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=vs,r=ps;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(d){return(0,e.is)(d,t.HexStruct)}t.isHexString=n;function s(d){return(0,e.is)(d,t.StrictHexStruct)}t.isStrictHexString=s;function i(d){(0,r.assert)(n(d),"Value must be a hexadecimal string.")}t.assertIsHexString=i;function o(d){(0,r.assert)(s(d),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function c(d){return d.startsWith("0x")?d:d.startsWith("0X")?`0x${d.substring(2)}`:`0x${d}`}t.add0x=c;function l(d){return d.startsWith("0x")||d.startsWith("0X")?d.substring(2):d}t.remove0x=l})(Ym);Object.defineProperty(rn,"__esModule",{value:!0});rn.createDataView=rn.concatBytes=rn.valueToBytes=rn.stringToBytes=rn.numberToBytes=rn.signedBigIntToBytes=rn.bigIntToBytes=rn.hexToBytes=rn.bytesToString=rn.bytesToNumber=rn.bytesToSignedBigInt=rn.bytesToBigInt=rn.bytesToHex=rn.assertIsBytes=rn.isBytes=void 0;const Ho=ps,k8=Ym,Rk=48,Tk=58,$k=87;function pIe(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const gIe=pIe();function DT(t){return t instanceof Uint8Array}rn.isBytes=DT;function Og(t){(0,Ho.assert)(DT(t),"Value must be a Uint8Array.")}rn.assertIsBytes=Og;function WJ(t){if(Og(t),t.length===0)return"0x";const e=gIe(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,k8.add0x)(r.join(""))}rn.bytesToHex=WJ;function JJ(t){Og(t);const e=WJ(t);return BigInt(e)}rn.bytesToBigInt=JJ;function vIe(t){Og(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}rn.bytesToSignedBigInt=vIe;function yIe(t){Og(t);const e=JJ(t);return(0,Ho.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}rn.bytesToNumber=yIe;function mIe(t){return Og(t),new TextDecoder().decode(t)}rn.bytesToString=mIe;function fS(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,k8.assertIsHexString)(t);const r=(0,k8.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const o=n.charCodeAt(i*2),c=n.charCodeAt(i*2+1),l=o-(o<Tk?Rk:$k),d=c-(c<Tk?Rk:$k);s[i]=l*16+d}return s}rn.hexToBytes=fS;function QJ(t){(0,Ho.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ho.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return fS(e)}rn.bigIntToBytes=QJ;function bIe(t,e){(0,Ho.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function wIe(t,e){(0,Ho.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ho.assert)(typeof e=="number","Byte length must be a number."),(0,Ho.assert)(e>0,"Byte length must be greater than 0."),(0,Ho.assert)(bIe(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}rn.signedBigIntToBytes=wIe;function ZJ(t){(0,Ho.assert)(typeof t=="number","Value must be a number."),(0,Ho.assert)(t>=0,"Value must be a non-negative number."),(0,Ho.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return fS(e)}rn.numberToBytes=ZJ;function XJ(t){return(0,Ho.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}rn.stringToBytes=XJ;function YJ(t){if(typeof t=="bigint")return QJ(t);if(typeof t=="number")return ZJ(t);if(typeof t=="string")return t.startsWith("0x")?fS(t):XJ(t);if(DT(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}rn.valueToBytes=YJ;function _Ie(t){const e=new Array(t.length);let r=0;for(let s=0;s<t.length;s++){const i=YJ(t[s]);e[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<e.length;s++)n.set(e[s],i),i+=e[s].length;return n}rn.concatBytes=_Ie;function EIe(t){if(typeof Re.Buffer<"u"&&t instanceof Re.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}rn.createDataView=EIe;var uS={};Object.defineProperty(uS,"__esModule",{value:!0});uS.ChecksumStruct=void 0;const Ck=vs,SIe=Xm;uS.ChecksumStruct=(0,Ck.size)((0,SIe.base64)((0,Ck.string)(),{paddingRequired:!0}),44,44);var ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.createHex=ff.createBytes=ff.createBigInt=ff.createNumber=void 0;const ei=vs,AIe=ps,eQ=rn,lS=Ym,tQ=(0,ei.union)([(0,ei.number)(),(0,ei.bigint)(),(0,ei.string)(),lS.StrictHexStruct]),xIe=(0,ei.coerce)((0,ei.number)(),tQ,Number),MIe=(0,ei.coerce)((0,ei.bigint)(),tQ,BigInt);(0,ei.union)([lS.StrictHexStruct,(0,ei.instance)(Uint8Array)]);const IIe=(0,ei.coerce)((0,ei.instance)(Uint8Array),(0,ei.union)([lS.StrictHexStruct]),eQ.hexToBytes),RIe=(0,ei.coerce)(lS.StrictHexStruct,(0,ei.instance)(Uint8Array),eQ.bytesToHex);function TIe(t){try{const e=(0,ei.create)(t,xIe);return(0,AIe.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof ei.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ff.createNumber=TIe;function $Ie(t){try{return(0,ei.create)(t,MIe)}catch(e){throw e instanceof ei.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ff.createBigInt=$Ie;function CIe(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,ei.create)(t,IIe)}catch(e){throw e instanceof ei.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ff.createBytes=CIe;function OIe(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,ei.create)(t,RIe)}catch(e){throw e instanceof ei.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ff.createHex=OIe;var Tp={},rQ=He&&He.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Js=He&&He.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ya,Wc;Object.defineProperty(Tp,"__esModule",{value:!0});Tp.FrozenSet=Tp.FrozenMap=void 0;let UT=class{constructor(e){Ya.set(this,void 0),rQ(this,Ya,new Map(e),"f"),Object.freeze(this)}get size(){return Js(this,Ya,"f").size}[(Ya=new WeakMap,Symbol.iterator)](){return Js(this,Ya,"f")[Symbol.iterator]()}entries(){return Js(this,Ya,"f").entries()}forEach(e,r){return Js(this,Ya,"f").forEach((n,s,i)=>e.call(r,n,s,this))}get(e){return Js(this,Ya,"f").get(e)}has(e){return Js(this,Ya,"f").has(e)}keys(){return Js(this,Ya,"f").keys()}values(){return Js(this,Ya,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}};Tp.FrozenMap=UT;let FT=class{constructor(e){Wc.set(this,void 0),rQ(this,Wc,new Set(e),"f"),Object.freeze(this)}get size(){return Js(this,Wc,"f").size}[(Wc=new WeakMap,Symbol.iterator)](){return Js(this,Wc,"f")[Symbol.iterator]()}entries(){return Js(this,Wc,"f").entries()}forEach(e,r){return Js(this,Wc,"f").forEach((n,s,i)=>e.call(r,n,s,this))}has(e){return Js(this,Wc,"f").has(e)}keys(){return Js(this,Wc,"f").keys()}values(){return Js(this,Wc,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Tp.FrozenSet=FT;Object.freeze(UT);Object.freeze(UT.prototype);Object.freeze(FT);Object.freeze(FT.prototype);var nQ={};Object.defineProperty(nQ,"__esModule",{value:!0});var iQ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;const e=vs,r=ps,n=()=>(0,e.define)("finite number",F=>(0,e.is)(F,(0,e.number)())&&Number.isFinite(F));t.UnsafeJsonStruct=(0,e.union)([(0,e.literal)(null),(0,e.boolean)(),n(),(0,e.string)(),(0,e.array)((0,e.lazy)(()=>t.UnsafeJsonStruct)),(0,e.record)((0,e.string)(),(0,e.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,e.define)("Json",(F,H)=>{function V(J,Z){const S=[...Z.validator(J,H)];return S.length>0?S:!0}try{const J=V(F,t.UnsafeJsonStruct);return J!==!0?J:V(JSON.parse(JSON.stringify(F)),t.UnsafeJsonStruct)}catch(J){return J instanceof RangeError?"Circular reference detected":!1}});function s(F){return(0,e.is)(F,t.JsonStruct)}t.isValidJson=s;function i(F){(0,r.assertStruct)(F,t.JsonStruct,"Invalid JSON value");const H=JSON.stringify(F);return new TextEncoder().encode(H).byteLength}t.getJsonSize=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function o(F){return(0,e.is)(F,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=o;function c(F,H){(0,r.assertStruct)(F,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",H)}t.assertIsJsonRpcNotification=c;function l(F){return(0,e.is)(F,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=l;function d(F,H){(0,r.assertStruct)(F,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",H)}t.assertIsJsonRpcRequest=d,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function v(F){return(0,e.is)(F,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=v;function b(F,H){(0,r.assertStruct)(F,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",H)}t.assertIsPendingJsonRpcResponse=b;function A(F){return(0,e.is)(F,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=A;function x(F,H){(0,r.assertStruct)(F,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",H)}t.assertIsJsonRpcResponse=x;function R(F){return(0,e.is)(F,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=R;function C(F,H){(0,r.assertStruct)(F,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",H)}t.assertIsJsonRpcSuccess=C;function T(F){return(0,e.is)(F,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=T;function $(F,H){(0,r.assertStruct)(F,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",H)}t.assertIsJsonRpcFailure=$;function O(F){return(0,e.is)(F,t.JsonRpcErrorStruct)}t.isJsonRpcError=O;function D(F,H){(0,r.assertStruct)(F,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",H)}t.assertIsJsonRpcError=D;function L(F){const{permitEmptyString:H,permitFractions:V,permitNull:J}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},F);return se=>!!(typeof se=="number"&&(V||Number.isInteger(se))||typeof se=="string"&&(H||se.length>0)||J&&se===null)}t.getJsonRpcIdValidator=L})(iQ);var sQ={};Object.defineProperty(sQ,"__esModule",{value:!0});var $p={},BIe=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($p,"__esModule",{value:!0});$p.createModuleLogger=$p.createProjectLogger=void 0;const PIe=BIe(wV),NIe=(0,PIe.default)("metamask");function kIe(t){return NIe.extend(t)}$p.createProjectLogger=kIe;function LIe(t,e){return t.extend(e)}$p.createModuleLogger=LIe;var oQ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(d){return Array.isArray(d)&&d.length>0}t.isNonEmptyArray=e;function r(d){return d==null}t.isNullOrUndefined=r;function n(d){return!!d&&typeof d=="object"&&!Array.isArray(d)}t.isObject=n;const s=(d,v)=>Object.hasOwnProperty.call(d,v);t.hasProperty=s,function(d){d[d.Null=4]="Null",d[d.Comma=1]="Comma",d[d.Wrapper=1]="Wrapper",d[d.True=4]="True",d[d.False=5]="False",d[d.Quote=1]="Quote",d[d.Colon=1]="Colon",d[d.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function i(d){if(typeof d!="object"||d===null)return!1;try{let v=d;for(;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(d)===v}catch{return!1}}t.isPlainObject=i;function o(d){return d.charCodeAt(0)<=127}t.isASCII=o;function c(d){var v;return d.split("").reduce((A,x)=>o(x)?A+1:A+2,0)+((v=d.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&v!==void 0?v:[]).length}t.calculateStringSize=c;function l(d){return d.toString().length}t.calculateNumberSize=l})(oQ);var uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.hexToBigInt=uf.hexToNumber=uf.bigIntToHex=uf.numberToHex=void 0;const ep=ps,Ky=Ym,DIe=t=>((0,ep.assert)(typeof t=="number","Value must be a number."),(0,ep.assert)(t>=0,"Value must be a non-negative number."),(0,ep.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Ky.add0x)(t.toString(16)));uf.numberToHex=DIe;const UIe=t=>((0,ep.assert)(typeof t=="bigint","Value must be a bigint."),(0,ep.assert)(t>=0,"Value must be a non-negative bigint."),(0,Ky.add0x)(t.toString(16)));uf.bigIntToHex=UIe;const FIe=t=>{(0,Ky.assertIsHexString)(t);const e=parseInt(t,16);return(0,ep.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};uf.hexToNumber=FIe;const jIe=t=>((0,Ky.assertIsHexString)(t),BigInt((0,Ky.add0x)(t)));uf.hexToBigInt=jIe;var aQ={};Object.defineProperty(aQ,"__esModule",{value:!0});var cQ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(i){i[i.Millisecond=1]="Millisecond",i[i.Second=1e3]="Second",i[i.Minute=6e4]="Minute",i[i.Hour=36e5]="Hour",i[i.Day=864e5]="Day",i[i.Week=6048e5]="Week",i[i.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=i=>Number.isInteger(i)&&i>=0,r=(i,o)=>{if(!e(i))throw new Error(`"${o}" must be a non-negative integer. Received: "${i}".`)};function n(i,o){return r(i,"count"),i*o}t.inMilliseconds=n;function s(i){return r(i,"timestamp"),Date.now()-i}t.timeSince=s})(cQ);var fQ={};Object.defineProperty(fQ,"__esModule",{value:!0});var uQ={},L8={exports:{}};const qIe="2.0.0",lQ=256,zIe=Number.MAX_SAFE_INTEGER||9007199254740991,HIe=16,VIe=lQ-6,KIe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var hS={MAX_LENGTH:lQ,MAX_SAFE_COMPONENT_LENGTH:HIe,MAX_SAFE_BUILD_LENGTH:VIe,MAX_SAFE_INTEGER:zIe,RELEASE_TYPES:KIe,SEMVER_SPEC_VERSION:qIe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const GIe=typeof mt=="object"&&mt.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var dS=GIe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=hS,i=dS;e=t.exports={};const o=e.re=[],c=e.safeRe=[],l=e.src=[],d=e.t={};let v=0;const b="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",s],[b,n]],x=C=>{for(const[T,$]of A)C=C.split(`${T}*`).join(`${T}{0,${$}}`).split(`${T}+`).join(`${T}{1,${$}}`);return C},R=(C,T,$)=>{const O=x(T),D=v++;i(C,D,T),d[C]=D,l[D]=T,o[D]=new RegExp(T,$?"g":void 0),c[D]=new RegExp(O,$?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),R("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${b}+`),R("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),R("FULL",`^${l[d.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),R("LOOSE",`^${l[d.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),R("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),R("COERCERTL",l[d.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",R("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",R("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(L8,L8.exports);var e1=L8.exports;const WIe=Object.freeze({loose:!0}),JIe=Object.freeze({}),QIe=t=>t?typeof t!="object"?WIe:t:JIe;var jT=QIe;const Ok=/^[0-9]+$/,hQ=(t,e)=>{const r=Ok.test(t),n=Ok.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},ZIe=(t,e)=>hQ(e,t);var dQ={compareIdentifiers:hQ,rcompareIdentifiers:ZIe};const Nb=dS,{MAX_LENGTH:Bk,MAX_SAFE_INTEGER:kb}=hS,{safeRe:Pk,t:Nk}=e1,XIe=jT,{compareIdentifiers:g0}=dQ;let YIe=class Qc{constructor(e,r){if(r=XIe(r),e instanceof Qc){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Bk)throw new TypeError(`version is longer than ${Bk} characters`);Nb("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Pk[Nk.LOOSE]:Pk[Nk.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>kb||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kb||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kb||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<kb)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Nb("SemVer.compare",this.version,this.options,e),!(e instanceof Qc)){if(typeof e=="string"&&e===this.version)return 0;e=new Qc(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Qc||(e=new Qc(e,this.options)),g0(this.major,e.major)||g0(this.minor,e.minor)||g0(this.patch,e.patch)}comparePre(e){if(e instanceof Qc||(e=new Qc(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(Nb("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return g0(n,s)}while(++r)}compareBuild(e){e instanceof Qc||(e=new Qc(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(Nb("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return g0(n,s)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),g0(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ro=YIe;const kk=ro,eRe=(t,e,r=!1)=>{if(t instanceof kk)return t;try{return new kk(t,e)}catch(n){if(!r)return null;throw n}};var Bg=eRe;const tRe=Bg,rRe=(t,e)=>{const r=tRe(t,e);return r?r.version:null};var nRe=rRe;const iRe=Bg,sRe=(t,e)=>{const r=iRe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var oRe=sRe;const Lk=ro,aRe=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Lk(t instanceof Lk?t.version:t,r).inc(e,n,s).version}catch{return null}};var cRe=aRe;const Dk=Bg,fRe=(t,e)=>{const r=Dk(t,null,!0),n=Dk(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,c=i?n:r,l=!!o.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";const v=l?"pre":"";return r.major!==n.major?v+"major":r.minor!==n.minor?v+"minor":r.patch!==n.patch?v+"patch":"prerelease"};var uRe=fRe;const lRe=ro,hRe=(t,e)=>new lRe(t,e).major;var dRe=hRe;const pRe=ro,gRe=(t,e)=>new pRe(t,e).minor;var vRe=gRe;const yRe=ro,mRe=(t,e)=>new yRe(t,e).patch;var bRe=mRe;const wRe=Bg,_Re=(t,e)=>{const r=wRe(t,e);return r&&r.prerelease.length?r.prerelease:null};var ERe=_Re;const Uk=ro,SRe=(t,e,r)=>new Uk(t,r).compare(new Uk(e,r));var Rc=SRe;const ARe=Rc,xRe=(t,e,r)=>ARe(e,t,r);var MRe=xRe;const IRe=Rc,RRe=(t,e)=>IRe(t,e,!0);var TRe=RRe;const Fk=ro,$Re=(t,e,r)=>{const n=new Fk(t,r),s=new Fk(e,r);return n.compare(s)||n.compareBuild(s)};var qT=$Re;const CRe=qT,ORe=(t,e)=>t.sort((r,n)=>CRe(r,n,e));var BRe=ORe;const PRe=qT,NRe=(t,e)=>t.sort((r,n)=>PRe(n,r,e));var kRe=NRe;const LRe=Rc,DRe=(t,e,r)=>LRe(t,e,r)>0;var pS=DRe;const URe=Rc,FRe=(t,e,r)=>URe(t,e,r)<0;var zT=FRe;const jRe=Rc,qRe=(t,e,r)=>jRe(t,e,r)===0;var pQ=qRe;const zRe=Rc,HRe=(t,e,r)=>zRe(t,e,r)!==0;var gQ=HRe;const VRe=Rc,KRe=(t,e,r)=>VRe(t,e,r)>=0;var HT=KRe;const GRe=Rc,WRe=(t,e,r)=>GRe(t,e,r)<=0;var VT=WRe;const JRe=pQ,QRe=gQ,ZRe=pS,XRe=HT,YRe=zT,eTe=VT,tTe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return JRe(t,r,n);case"!=":return QRe(t,r,n);case">":return ZRe(t,r,n);case">=":return XRe(t,r,n);case"<":return YRe(t,r,n);case"<=":return eTe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var vQ=tTe;const rTe=ro,nTe=Bg,{safeRe:Lb,t:Db}=e1,iTe=(t,e)=>{if(t instanceof rTe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Lb[Db.COERCE]);else{let n;for(;(n=Lb[Db.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Lb[Db.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Lb[Db.COERCERTL].lastIndex=-1}return r===null?null:nTe(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var sTe=iTe,p6,jk;function Tc(){if(jk)return p6;jk=1;class t{constructor(h,p){if(p=n(p),h instanceof t)return h.loose===!!p.loose&&h.includePrerelease===!!p.includePrerelease?h:new t(h.raw,p);if(h instanceof s)return this.raw=h.value,this.set=[[h]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(y=>this.parseRange(y.trim())).filter(y=>y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const y=this.set[0];if(this.set=this.set.filter(w=>!R(w[0])),this.set.length===0)this.set=[y];else if(this.set.length>1){for(const w of this.set)if(w.length===1&&C(w[0])){this.set=[w];break}}}this.format()}format(){return this.range=this.set.map(h=>h.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(h){const y=((this.options.includePrerelease&&A)|(this.options.loose&&x))+":"+h,w=r.get(y);if(w)return w;const _=this.options.loose,g=_?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];h=h.replace(g,S(this.options.includePrerelease)),i("hyphen replace",h),h=h.replace(c[l.COMPARATORTRIM],d),i("comparator trim",h),h=h.replace(c[l.TILDETRIM],v),i("tilde trim",h),h=h.replace(c[l.CARETTRIM],b),i("caret trim",h);let f=h.split(" ").map(j=>$(j,this.options)).join(" ").split(/\s+/).map(j=>se(j,this.options));_&&(f=f.filter(j=>(i("loose invalid filter",j,this.options),!!j.match(c[l.COMPARATORLOOSE])))),i("range list",f);const m=new Map,I=f.map(j=>new s(j,this.options));for(const j of I){if(R(j))return[j];m.set(j.value,j)}m.size>1&&m.has("")&&m.delete("");const P=[...m.values()];return r.set(y,P),P}intersects(h,p){if(!(h instanceof t))throw new TypeError("a Range is required");return this.set.some(y=>T(y,p)&&h.set.some(w=>T(w,p)&&y.every(_=>w.every(g=>_.intersects(g,p)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new o(h,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(a(this.set[p],h,this.options))return!0;return!1}}p6=t;const e=X2,r=new e({max:1e3}),n=jT,s=gS(),i=dS,o=ro,{safeRe:c,t:l,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:b}=e1,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:x}=hS,R=u=>u.value==="<0.0.0-0",C=u=>u.value==="",T=(u,h)=>{let p=!0;const y=u.slice();let w=y.pop();for(;p&&y.length;)p=y.every(_=>w.intersects(_,h)),w=y.pop();return p},$=(u,h)=>(i("comp",u,h),u=F(u,h),i("caret",u),u=D(u,h),i("tildes",u),u=V(u,h),i("xrange",u),u=Z(u,h),i("stars",u),u),O=u=>!u||u.toLowerCase()==="x"||u==="*",D=(u,h)=>u.trim().split(/\s+/).map(p=>L(p,h)).join(" "),L=(u,h)=>{const p=h.loose?c[l.TILDELOOSE]:c[l.TILDE];return u.replace(p,(y,w,_,g,f)=>{i("tilde",u,y,w,_,g,f);let m;return O(w)?m="":O(_)?m=`>=${w}.0.0 <${+w+1}.0.0-0`:O(g)?m=`>=${w}.${_}.0 <${w}.${+_+1}.0-0`:f?(i("replaceTilde pr",f),m=`>=${w}.${_}.${g}-${f} <${w}.${+_+1}.0-0`):m=`>=${w}.${_}.${g} <${w}.${+_+1}.0-0`,i("tilde return",m),m})},F=(u,h)=>u.trim().split(/\s+/).map(p=>H(p,h)).join(" "),H=(u,h)=>{i("caret",u,h);const p=h.loose?c[l.CARETLOOSE]:c[l.CARET],y=h.includePrerelease?"-0":"";return u.replace(p,(w,_,g,f,m)=>{i("caret",u,w,_,g,f,m);let I;return O(_)?I="":O(g)?I=`>=${_}.0.0${y} <${+_+1}.0.0-0`:O(f)?_==="0"?I=`>=${_}.${g}.0${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.0${y} <${+_+1}.0.0-0`:m?(i("replaceCaret pr",m),_==="0"?g==="0"?I=`>=${_}.${g}.${f}-${m} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}-${m} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f}-${m} <${+_+1}.0.0-0`):(i("no pr"),_==="0"?g==="0"?I=`>=${_}.${g}.${f}${y} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f} <${+_+1}.0.0-0`),i("caret return",I),I})},V=(u,h)=>(i("replaceXRanges",u,h),u.split(/\s+/).map(p=>J(p,h)).join(" ")),J=(u,h)=>{u=u.trim();const p=h.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return u.replace(p,(y,w,_,g,f,m)=>{i("xRange",u,y,w,_,g,f,m);const I=O(_),P=I||O(g),j=P||O(f),k=j;return w==="="&&k&&(w=""),m=h.includePrerelease?"-0":"",I?w===">"||w==="<"?y="<0.0.0-0":y="*":w&&k?(P&&(g=0),f=0,w===">"?(w=">=",P?(_=+_+1,g=0,f=0):(g=+g+1,f=0)):w==="<="&&(w="<",P?_=+_+1:g=+g+1),w==="<"&&(m="-0"),y=`${w+_}.${g}.${f}${m}`):P?y=`>=${_}.0.0${m} <${+_+1}.0.0-0`:j&&(y=`>=${_}.${g}.0${m} <${_}.${+g+1}.0-0`),i("xRange return",y),y})},Z=(u,h)=>(i("replaceStars",u,h),u.trim().replace(c[l.STAR],"")),se=(u,h)=>(i("replaceGTE0",u,h),u.trim().replace(c[h.includePrerelease?l.GTE0PRE:l.GTE0],"")),S=u=>(h,p,y,w,_,g,f,m,I,P,j,k,z)=>(O(y)?p="":O(w)?p=`>=${y}.0.0${u?"-0":""}`:O(_)?p=`>=${y}.${w}.0${u?"-0":""}`:g?p=`>=${p}`:p=`>=${p}${u?"-0":""}`,O(I)?m="":O(P)?m=`<${+I+1}.0.0-0`:O(j)?m=`<${I}.${+P+1}.0-0`:k?m=`<=${I}.${P}.${j}-${k}`:u?m=`<${I}.${P}.${+j+1}-0`:m=`<=${m}`,`${p} ${m}`.trim()),a=(u,h,p)=>{for(let y=0;y<u.length;y++)if(!u[y].test(h))return!1;if(h.prerelease.length&&!p.includePrerelease){for(let y=0;y<u.length;y++)if(i(u[y].semver),u[y].semver!==s.ANY&&u[y].semver.prerelease.length>0){const w=u[y].semver;if(w.major===h.major&&w.minor===h.minor&&w.patch===h.patch)return!0}return!1}return!0};return p6}var g6,qk;function gS(){if(qk)return g6;qk=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(v,b){if(b=r(b),v instanceof e){if(v.loose===!!b.loose)return v;v=v.value}v=v.trim().split(/\s+/).join(" "),o("comparator",v,b),this.options=b,this.loose=!!b.loose,this.parse(v),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(v){const b=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],A=v.match(b);if(!A)throw new TypeError(`Invalid comparator: ${v}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new c(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(v){if(o("Comparator.test",v,this.options.loose),this.semver===t||v===t)return!0;if(typeof v=="string")try{v=new c(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,b){if(!(v instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(v.value,b).test(this.value):v.operator===""?v.value===""?!0:new l(this.value,b).test(v.semver):(b=r(b),b.includePrerelease&&(this.value==="<0.0.0-0"||v.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||v.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&v.operator.startsWith(">")||this.operator.startsWith("<")&&v.operator.startsWith("<")||this.semver.version===v.semver.version&&this.operator.includes("=")&&v.operator.includes("=")||i(this.semver,"<",v.semver,b)&&this.operator.startsWith(">")&&v.operator.startsWith("<")||i(this.semver,">",v.semver,b)&&this.operator.startsWith("<")&&v.operator.startsWith(">")))}}g6=e;const r=jT,{safeRe:n,t:s}=e1,i=vQ,o=dS,c=ro,l=Tc();return g6}const oTe=Tc(),aTe=(t,e,r)=>{try{e=new oTe(e,r)}catch{return!1}return e.test(t)};var vS=aTe;const cTe=Tc(),fTe=(t,e)=>new cTe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var uTe=fTe;const lTe=ro,hTe=Tc(),dTe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new hTe(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new lTe(n,r))}),n};var pTe=dTe;const gTe=ro,vTe=Tc(),yTe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new vTe(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new gTe(n,r))}),n};var mTe=yTe;const v6=ro,bTe=Tc(),zk=pS,wTe=(t,e)=>{t=new bTe(t,e);let r=new v6("0.0.0");if(t.test(r)||(r=new v6("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(o=>{const c=new v6(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||zk(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||zk(r,i))&&(r=i)}return r&&t.test(r)?r:null};var _Te=wTe;const ETe=Tc(),STe=(t,e)=>{try{return new ETe(t,e).range||"*"}catch{return null}};var ATe=STe;const xTe=ro,yQ=gS(),{ANY:MTe}=yQ,ITe=Tc(),RTe=vS,Hk=pS,Vk=zT,TTe=VT,$Te=HT,CTe=(t,e,r,n)=>{t=new xTe(t,n),e=new ITe(e,n);let s,i,o,c,l;switch(r){case">":s=Hk,i=TTe,o=Vk,c=">",l=">=";break;case"<":s=Vk,i=$Te,o=Hk,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(RTe(t,e,n))return!1;for(let d=0;d<e.set.length;++d){const v=e.set[d];let b=null,A=null;if(v.forEach(x=>{x.semver===MTe&&(x=new yQ(">=0.0.0")),b=b||x,A=A||x,s(x.semver,b.semver,n)?b=x:o(x.semver,A.semver,n)&&(A=x)}),b.operator===c||b.operator===l||(!A.operator||A.operator===c)&&i(t,A.semver))return!1;if(A.operator===l&&o(t,A.semver))return!1}return!0};var KT=CTe;const OTe=KT,BTe=(t,e,r)=>OTe(t,e,">",r);var PTe=BTe;const NTe=KT,kTe=(t,e,r)=>NTe(t,e,"<",r);var LTe=kTe;const Kk=Tc(),DTe=(t,e,r)=>(t=new Kk(t,r),e=new Kk(e,r),t.intersects(e,r));var UTe=DTe;const FTe=vS,jTe=Rc;var qTe=(t,e,r)=>{const n=[];let s=null,i=null;const o=t.sort((v,b)=>jTe(v,b,r));for(const v of o)FTe(v,e,r)?(i=v,s||(s=v)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[v,b]of n)v===b?c.push(v):!b&&v===o[0]?c.push("*"):b?v===o[0]?c.push(`<=${b}`):c.push(`${v} - ${b}`):c.push(`>=${v}`);const l=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e};const Gk=Tc(),GT=gS(),{ANY:y6}=GT,Dv=vS,WT=Rc,zTe=(t,e,r={})=>{if(t===e)return!0;t=new Gk(t,r),e=new Gk(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const o=VTe(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},HTe=[new GT(">=0.0.0-0")],Wk=[new GT(">=0.0.0")],VTe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===y6){if(e.length===1&&e[0].semver===y6)return!0;r.includePrerelease?t=HTe:t=Wk}if(e.length===1&&e[0].semver===y6){if(r.includePrerelease)return!0;e=Wk}const n=new Set;let s,i;for(const x of t)x.operator===">"||x.operator===">="?s=Jk(s,x,r):x.operator==="<"||x.operator==="<="?i=Qk(i,x,r):n.add(x.semver);if(n.size>1)return null;let o;if(s&&i){if(o=WT(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const x of n){if(s&&!Dv(x,String(s),r)||i&&!Dv(x,String(i),r))return null;for(const R of e)if(!Dv(x,String(R),r))return!1;return!0}let c,l,d,v,b=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,A=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;b&&b.prerelease.length===1&&i.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const x of e){if(v=v||x.operator===">"||x.operator===">=",d=d||x.operator==="<"||x.operator==="<=",s){if(A&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===A.major&&x.semver.minor===A.minor&&x.semver.patch===A.patch&&(A=!1),x.operator===">"||x.operator===">="){if(c=Jk(s,x,r),c===x&&c!==s)return!1}else if(s.operator===">="&&!Dv(s.semver,String(x),r))return!1}if(i){if(b&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===b.major&&x.semver.minor===b.minor&&x.semver.patch===b.patch&&(b=!1),x.operator==="<"||x.operator==="<="){if(l=Qk(i,x,r),l===x&&l!==i)return!1}else if(i.operator==="<="&&!Dv(i.semver,String(x),r))return!1}if(!x.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&v&&!s&&o!==0||A||b)},Jk=(t,e,r)=>{if(!t)return e;const n=WT(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Qk=(t,e,r)=>{if(!t)return e;const n=WT(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var KTe=zTe;const m6=e1,Zk=hS,GTe=ro,Xk=dQ,WTe=Bg,JTe=nRe,QTe=oRe,ZTe=cRe,XTe=uRe,YTe=dRe,e$e=vRe,t$e=bRe,r$e=ERe,n$e=Rc,i$e=MRe,s$e=TRe,o$e=qT,a$e=BRe,c$e=kRe,f$e=pS,u$e=zT,l$e=pQ,h$e=gQ,d$e=HT,p$e=VT,g$e=vQ,v$e=sTe,y$e=gS(),m$e=Tc(),b$e=vS,w$e=uTe,_$e=pTe,E$e=mTe,S$e=_Te,A$e=ATe,x$e=KT,M$e=PTe,I$e=LTe,R$e=UTe,T$e=qTe,$$e=KTe;var C$e={parse:WTe,valid:JTe,clean:QTe,inc:ZTe,diff:XTe,major:YTe,minor:e$e,patch:t$e,prerelease:r$e,compare:n$e,rcompare:i$e,compareLoose:s$e,compareBuild:o$e,sort:a$e,rsort:c$e,gt:f$e,lt:u$e,eq:l$e,neq:h$e,gte:d$e,lte:p$e,cmp:g$e,coerce:v$e,Comparator:y$e,Range:m$e,satisfies:b$e,toComparators:w$e,maxSatisfying:_$e,minSatisfying:E$e,minVersion:S$e,validRange:A$e,outside:x$e,gtr:M$e,ltr:I$e,intersects:R$e,simplifyRange:T$e,subset:$$e,SemVer:GTe,re:m6.re,src:m6.src,tokens:m6.t,SEMVER_SPEC_VERSION:Zk.SEMVER_SPEC_VERSION,RELEASE_TYPES:Zk.RELEASE_TYPES,compareIdentifiers:Xk.compareIdentifiers,rcompareIdentifiers:Xk.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=C$e,r=vs,n=ps;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",b=>(0,e.valid)(b)===null?`Expected SemVer version, got "${b}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",b=>(0,e.validRange)(b)===null?`Expected SemVer range, got "${b}"`:!0);function s(b){return(0,r.is)(b,t.VersionStruct)}t.isValidSemVerVersion=s;function i(b){return(0,r.is)(b,t.VersionRangeStruct)}t.isValidSemVerRange=i;function o(b){(0,n.assertStruct)(b,t.VersionStruct)}t.assertIsSemVerVersion=o;function c(b){(0,n.assertStruct)(b,t.VersionRangeStruct)}t.assertIsSemVerRange=c;function l(b,A){return(0,e.gt)(b,A)}t.gtVersion=l;function d(b,A){return(0,e.gtr)(b,A)}t.gtRange=d;function v(b,A){return(0,e.satisfies)(b,A,{includePrerelease:!0})}t.satisfiesVersionRange=v})(uQ);(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(ps,t),r(Xm,t),r(rn,t),r(uS,t),r(ff,t),r(Tp,t),r(nQ,t),r(Ym,t),r(iQ,t),r(sQ,t),r($p,t),r(oQ,t),r(uf,t),r(aQ,t),r(cQ,t),r(fQ,t),r(uQ,t)})(cS);var O$e=Gy;Gy.default=Gy;Gy.stable=wQ;Gy.stableStringify=wQ;var W_="[...]",mQ="[Circular]",bd=[],Jh=[];function bQ(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Gy(t,e,r,n){typeof n>"u"&&(n=bQ()),D8(t,"",0,[],void 0,0,n);var s;try{Jh.length===0?s=JSON.stringify(t,e,r):s=JSON.stringify(t,_Q(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;bd.length!==0;){var i=bd.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function tp(t,e,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:t}),bd.push([n,r,e,s])):Jh.push([e,r,t]):(n[r]=t,bd.push([n,r,e]))}function D8(t,e,r,n,s,i,o){i+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<n.length;c++)if(n[c]===t){tp(mQ,t,e,s);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){tp(W_,t,e,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){tp(W_,t,e,s);return}if(n.push(t),Array.isArray(t))for(c=0;c<t.length;c++)D8(t[c],c,c,n,t,i,o);else{var l=Object.keys(t);for(c=0;c<l.length;c++){var d=l[c];D8(t[d],d,c,n,t,i,o)}}n.pop()}}function B$e(t,e){return t<e?-1:t>e?1:0}function wQ(t,e,r,n){typeof n>"u"&&(n=bQ());var s=U8(t,"",0,[],void 0,0,n)||t,i;try{Jh.length===0?i=JSON.stringify(s,e,r):i=JSON.stringify(s,_Q(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;bd.length!==0;){var o=bd.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function U8(t,e,r,n,s,i,o){i+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<n.length;c++)if(n[c]===t){tp(mQ,t,e,s);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){tp(W_,t,e,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){tp(W_,t,e,s);return}if(n.push(t),Array.isArray(t))for(c=0;c<t.length;c++)U8(t[c],c,c,n,t,i,o);else{var l={},d=Object.keys(t).sort(B$e);for(c=0;c<d.length;c++){var v=d[c];U8(t[v],v,c,n,t,i,o),l[v]=t[v]}if(typeof s<"u")bd.push([s,e,t]),s[e]=l;else return l}n.pop()}}function _Q(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Jh.length>0)for(var n=0;n<Jh.length;n++){var s=Jh[n];if(s[1]===e&&s[0]===r){r=s[2],Jh.splice(n,1);break}}return t.call(this,e,r)}}var yS={},Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.errorValues=Jl.errorCodes=void 0;Jl.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Jl.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeCause=t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=cS,r=Jl,n=r.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(x,R=s){if(c(x)){const C=x.toString();if((0,e.hasProperty)(r.errorValues,C))return r.errorValues[C].message;if(v(x))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return R}t.getMessageFromCode=o;function c(x){return Number.isInteger(x)}t.isValidCode=c;function l(x,{fallbackError:R=i,shouldIncludeStack:C=!0}={}){if(!(0,e.isJsonRpcError)(R))throw new Error("Must provide fallback error with integer number code and string message.");const T=d(x,R);return C||delete T.stack,T}t.serializeError=l;function d(x,R){if(x&&typeof x=="object"&&"serialize"in x&&typeof x.serialize=="function")return x.serialize();if((0,e.isJsonRpcError)(x))return x;const C=b(x);return{...R,data:{cause:C}}}function v(x){return x>=-32099&&x<=-32e3}function b(x){return Array.isArray(x)?x.map(R=>(0,e.isValidJson)(R)?R:(0,e.isObject)(R)?A(R):null):(0,e.isObject)(x)?A(x):(0,e.isValidJson)(x)?x:null}t.serializeCause=b;function A(x){return Object.getOwnPropertyNames(x).reduce((R,C)=>{const T=x[C];return(0,e.isValidJson)(T)&&(R[C]=T),R},{})}})(yS);var P$e=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(md,"__esModule",{value:!0});md.EthereumProviderError=md.JsonRpcError=void 0;const N$e=cS,k$e=P$e(O$e),L$e=yS;class EQ extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,(0,N$e.isPlainObject)(this.data)&&(e.data.cause=(0,L$e.serializeCause)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,k$e.default)(this.serialize(),F$e,2)}}md.JsonRpcError=EQ;class D$e extends EQ{constructor(e,r,n){if(!U$e(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}md.EthereumProviderError=D$e;function U$e(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function F$e(t,e){if(e!=="[Circular]")return e}var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.providerErrors=Cp.rpcErrors=void 0;const JT=md,Ns=Jl,SQ=yS;Cp.rpcErrors={parse:t=>oa(Ns.errorCodes.rpc.parse,t),invalidRequest:t=>oa(Ns.errorCodes.rpc.invalidRequest,t),invalidParams:t=>oa(Ns.errorCodes.rpc.invalidParams,t),methodNotFound:t=>oa(Ns.errorCodes.rpc.methodNotFound,t),internal:t=>oa(Ns.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return oa(e,t)},invalidInput:t=>oa(Ns.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>oa(Ns.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>oa(Ns.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>oa(Ns.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>oa(Ns.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>oa(Ns.errorCodes.rpc.limitExceeded,t)};Cp.providerErrors={userRejectedRequest:t=>Uv(Ns.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Uv(Ns.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Uv(Ns.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Uv(Ns.errorCodes.provider.disconnected,t),chainDisconnected:t=>Uv(Ns.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new JT.EthereumProviderError(e,r,n)}};function oa(t,e){const[r,n]=AQ(e);return new JT.JsonRpcError(t,r??(0,SQ.getMessageFromCode)(t),n)}function Uv(t,e){const[r,n]=AQ(e);return new JT.EthereumProviderError(t,r??(0,SQ.getMessageFromCode)(t),n)}function AQ(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodes=t.providerErrors=t.rpcErrors=t.getMessageFromCode=t.serializeError=t.serializeCause=t.EthereumProviderError=t.JsonRpcError=void 0;var e=md;Object.defineProperty(t,"JsonRpcError",{enumerable:!0,get:function(){return e.JsonRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});var r=yS;Object.defineProperty(t,"serializeCause",{enumerable:!0,get:function(){return r.serializeCause}}),Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});var n=Cp;Object.defineProperty(t,"rpcErrors",{enumerable:!0,get:function(){return n.rpcErrors}}),Object.defineProperty(t,"providerErrors",{enumerable:!0,get:function(){return n.providerErrors}});var s=Jl;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(KJ);var Ub=He&&He.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Zn=He&&He.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},j$e=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},au,lu,J_,Al,D0,Ww,F8,j8,Yk,q8,eL,Q_,tL;Object.defineProperty(Zm,"__esModule",{value:!0});Zm.JsonRpcEngine=void 0;const aa=KJ,q$e=j$e(Vm),Fb=cS,z$e="This engine is destroyed and can no longer be used.";class Ti extends q$e.default{constructor({notificationHandler:e}={}){super(),au.add(this),J_.set(this,!1),Al.set(this,void 0),D0.set(this,void 0),Ub(this,Al,[],"f"),Ub(this,D0,e,"f")}destroy(){Zn(this,Al,"f").forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),Ub(this,Al,[],"f"),Ub(this,J_,!0,"f")}push(e){Zn(this,au,"m",Ww).call(this),Zn(this,Al,"f").push(e)}handle(e,r){if(Zn(this,au,"m",Ww).call(this),r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?Zn(this,au,"m",F8).call(this,e,r):Zn(this,au,"m",F8).call(this,e):r?Zn(this,au,"m",j8).call(this,e,r):this._promiseHandle(e)}asMiddleware(){return Zn(this,au,"m",Ww).call(this),async(e,r,n,s)=>{try{const[i,o,c]=await Zn(Ti,lu,"m",q8).call(Ti,e,r,Zn(this,Al,"f"));return o?(await Zn(Ti,lu,"m",Q_).call(Ti,c),s(i)):n(async l=>{try{await Zn(Ti,lu,"m",Q_).call(Ti,c)}catch(d){return l(d)}return l()})}catch(i){return s(i)}}}async _promiseHandle(e){return new Promise((r,n)=>{Zn(this,au,"m",j8).call(this,e,(s,i)=>{s&&i===void 0&&n(s),r(i)}).catch(n)})}}Zm.JsonRpcEngine=Ti;lu=Ti,J_=new WeakMap,Al=new WeakMap,D0=new WeakMap,au=new WeakSet,Ww=function(){if(Zn(this,J_,"f"))throw new Error(z$e)},F8=async function(e,r){try{const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(s=>s!==void 0);return r?r(null,n):n}catch(n){if(r)return r(n);throw n}},j8=async function(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new aa.JsonRpcError(aa.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:null,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new aa.JsonRpcError(aa.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return Zn(this,D0,"f")&&!(0,Fb.isJsonRpcRequest)(e)?r(null):r(o,{id:e.id??null,jsonrpc:"2.0",error:o})}if(Zn(this,D0,"f")&&!(0,Fb.isJsonRpcRequest)(e)){try{await Zn(this,D0,"f").call(this,e)}catch(o){return r(o)}return r(null)}let n=null;const s={...e},i={id:s.id,jsonrpc:s.jsonrpc};try{await Zn(Ti,lu,"m",Yk).call(Ti,s,i,Zn(this,Al,"f"))}catch(o){n=o}return n&&(delete i.result,i.error||(i.error=(0,aa.serializeError)(n))),r(n,i)},Yk=async function(e,r,n){const[s,i,o]=await Zn(Ti,lu,"m",q8).call(Ti,e,r,n);if(Zn(Ti,lu,"m",tL).call(Ti,e,r,i),await Zn(Ti,lu,"m",Q_).call(Ti,o),s)throw s},q8=async function(e,r,n){const s=[];let i=null,o=!1;for(const c of n)if([i,o]=await Zn(Ti,lu,"m",eL).call(Ti,e,r,c,s),o)break;return[i,o,s.reverse()]},eL=async function(e,r,n,s){return new Promise(i=>{const o=l=>{const d=l||r.error;d&&(r.error=(0,aa.serializeError)(d)),i([d,!0])},c=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new aa.JsonRpcError(aa.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${b6(e)}`,{request:e})),s.push(l)),i([null,!1]))};try{n(e,r,c,o)}catch(l){o(l)}})},Q_=async function(e){for(const r of e)await new Promise((n,s)=>{r(i=>i?s(i):n())})},tL=function(e,r,n){if(!(0,Fb.hasProperty)(r,"result")&&!(0,Fb.hasProperty)(r,"error"))throw new aa.JsonRpcError(aa.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${b6(e)}`,{request:e});if(!n)throw new aa.JsonRpcError(aa.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${b6(e)}`,{request:e})};function b6(t){return JSON.stringify(t,null,2)}var mS={};Object.defineProperty(mS,"__esModule",{value:!0});mS.mergeMiddleware=void 0;const H$e=Zm;function V$e(t){const e=new H$e.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}mS.mergeMiddleware=V$e;(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(sS,t),r(oS,t),r(Qm,t),r(aS,t),r(Zm,t),r(mS,t)})(Fd);var K$e=Object.defineProperty,G$e=Object.getOwnPropertyDescriptor,W$e=(t,e,r,n)=>{for(var s=n>1?void 0:n?G$e(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&K$e(e,r,s),s};let z8=class{constructor(t,e,r,n,s){Oe(this,"requestsCounter",0);this.engine=t,this.id=e,this.origin=r,this.subject=n,this.container=s}getRouter(){return this.container.get(tt.Router)}getState(){return this.container.get(tt.State)}asMiddleware(){return(t,e,r)=>{t.id!==void 0&&(t.connectionContext=this),r()}}};z8=W$e([Lr()],z8);class J$e{constructor(e,r=[]){this._state=e,this._prefix=r}get state(){return this._state.state}onUpdateState(e){return this._state.onUpdateState(e)}connect(e,r,n){const s=[...this._prefix,e].filter(Boolean).join(".");this._state.connect(s,r,n)}destroy(){this._state.destroy()}}var xQ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,d,v){this.fn=l,this.context=d,this.once=v||!1}function i(l,d,v,b,A){if(typeof v!="function")throw new TypeError("The listener must be a function");var x=new s(v,b||l,A),R=r?r+d:d;return l._events[R]?l._events[R].fn?l._events[R]=[l._events[R],x]:l._events[R].push(x):(l._events[R]=x,l._eventsCount++),l}function o(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],v,b;if(this._eventsCount===0)return d;for(b in v=this._events)e.call(v,b)&&d.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},c.prototype.listeners=function(d){var v=r?r+d:d,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var A=0,x=b.length,R=new Array(x);A<x;A++)R[A]=b[A].fn;return R},c.prototype.listenerCount=function(d){var v=r?r+d:d,b=this._events[v];return b?b.fn?1:b.length:0},c.prototype.emit=function(d,v,b,A,x,R){var C=r?r+d:d;if(!this._events[C])return!1;var T=this._events[C],$=arguments.length,O,D;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),$){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,b),!0;case 4:return T.fn.call(T.context,v,b,A),!0;case 5:return T.fn.call(T.context,v,b,A,x),!0;case 6:return T.fn.call(T.context,v,b,A,x,R),!0}for(D=1,O=new Array($-1);D<$;D++)O[D-1]=arguments[D];T.fn.apply(T.context,O)}else{var L=T.length,F;for(D=0;D<L;D++)switch(T[D].once&&this.removeListener(d,T[D].fn,void 0,!0),$){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,v);break;case 3:T[D].fn.call(T[D].context,v,b);break;case 4:T[D].fn.call(T[D].context,v,b,A);break;default:if(!O)for(F=1,O=new Array($-1);F<$;F++)O[F-1]=arguments[F];T[D].fn.apply(T[D].context,O)}}return!0},c.prototype.on=function(d,v,b){return i(this,d,v,b,!1)},c.prototype.once=function(d,v,b){return i(this,d,v,b,!0)},c.prototype.removeListener=function(d,v,b,A){var x=r?r+d:d;if(!this._events[x])return this;if(!v)return o(this,x),this;var R=this._events[x];if(R.fn)R.fn===v&&(!A||R.once)&&(!b||R.context===b)&&o(this,x);else{for(var C=0,T=[],$=R.length;C<$;C++)(R[C].fn!==v||A&&!R[C].once||b&&R[C].context!==b)&&T.push(R[C]);T.length?this._events[x]=T.length===1?T[0]:T:o(this,x)}return this},c.prototype.removeAllListeners=function(d){var v;return d?(v=r?r+d:d,this._events[v]&&o(this,v)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(xQ);var Q$e=xQ.exports;const Uu=Mr(Q$e);var Z_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Z_.exports;(function(t,e){(function(){var r,n="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,v="__lodash_placeholder__",b=1,A=2,x=4,R=1,C=2,T=1,$=2,O=4,D=8,L=16,F=32,H=64,V=128,J=256,Z=512,se=30,S="...",a=800,u=16,h=1,p=2,y=3,w=1/0,_=9007199254740991,g=17976931348623157e292,f=0/0,m=4294967295,I=m-1,P=m>>>1,j=[["ary",V],["bind",T],["bindKey",$],["curry",D],["curryRight",L],["flip",Z],["partial",F],["partialRight",H],["rearg",J]],k="[object Arguments]",z="[object Array]",B="[object AsyncFunction]",U="[object Boolean]",K="[object Date]",Y="[object DOMException]",X="[object Error]",G="[object Function]",ne="[object GeneratorFunction]",le="[object Map]",de="[object Number]",me="[object Null]",rt="[object Object]",Ae="[object Promise]",he="[object Proxy]",Rt="[object RegExp]",Ie="[object Set]",ke="[object String]",$t="[object Symbol]",ae="[object Undefined]",ue="[object WeakMap]",je="[object WeakSet]",ge="[object ArrayBuffer]",we="[object DataView]",jt="[object Float32Array]",Ee="[object Float64Array]",Me="[object Int8Array]",dt="[object Int16Array]",xe="[object Int32Array]",$e="[object Uint8Array]",Gt="[object Uint8ClampedArray]",Le="[object Uint16Array]",Ke="[object Uint32Array]",sr=/\b__p \+= '';/g,Ue=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hr=/&(?:amp|lt|gt|quot|#39);/g,ze=/[&<>"']/g,et=RegExp(hr.source),rr=RegExp(ze.source),De=/<%-([\s\S]+?)%>/g,Ge=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xe=/^\w*$/,gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Ye=RegExp(Pe.source),Q=/^\s+/,ee=/\s/,te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Se=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,Ct=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=/($^)/,Dt=/['\n\r\u2028\u2029\\]/g,Nt="\\ud800-\\udfff",Ut="\\u0300-\\u036f",At="\\ufe20-\\ufe2f",Tt="\\u20d0-\\u20ff",wt=Ut+At+Tt,xt="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",vt="\\xac\\xb1\\xd7\\xf7",Be="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ne="\\u2000-\\u206f",pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ot="A-Z\\xc0-\\xd6\\xd8-\\xde",ct="\\ufe0e\\ufe0f",Et=vt+Be+Ne+pt,er="[']",wr="["+Nt+"]",_r="["+Et+"]",vr="["+wt+"]",ye="\\d+",Ir="["+xt+"]",jr="["+Mt+"]",qr="[^"+Nt+Et+ye+xt+Mt+ot+"]",Er="\\ud83c[\\udffb-\\udfff]",zr="(?:"+vr+"|"+Er+")",Dr="[^"+Nt+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+ot+"]",Pn="\\u200d",Nn="(?:"+jr+"|"+qr+")",di="(?:"+pn+"|"+qr+")",Si="(?:"+er+"(?:d|ll|m|re|s|t|ve))?",Ai="(?:"+er+"(?:D|LL|M|RE|S|T|VE))?",xi=zr+"?",zB="["+ct+"]?",xce="(?:"+Pn+"(?:"+[Dr,Bn,tn].join("|")+")"+zB+xi+")*",Mce="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ice="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",HB=zB+xi+xce,Rce="(?:"+[Ir,Bn,tn].join("|")+")"+HB,Tce="(?:"+[Dr+vr+"?",vr,Bn,tn,wr].join("|")+")",$ce=RegExp(er,"g"),Cce=RegExp(vr,"g"),gx=RegExp(Er+"(?="+Er+")|"+Tce+HB,"g"),Oce=RegExp([pn+"?"+jr+"+"+Si+"(?="+[_r,pn,"$"].join("|")+")",di+"+"+Ai+"(?="+[_r,pn+Nn,"$"].join("|")+")",pn+"?"+Nn+"+"+Si,pn+"+"+Ai,Ice,Mce,ye,Rce].join("|"),"g"),Bce=RegExp("["+Pn+Nt+wt+ct+"]"),Pce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kce=-1,kn={};kn[jt]=kn[Ee]=kn[Me]=kn[dt]=kn[xe]=kn[$e]=kn[Gt]=kn[Le]=kn[Ke]=!0,kn[k]=kn[z]=kn[ge]=kn[U]=kn[we]=kn[K]=kn[X]=kn[G]=kn[le]=kn[de]=kn[rt]=kn[Rt]=kn[Ie]=kn[ke]=kn[ue]=!1;var Mn={};Mn[k]=Mn[z]=Mn[ge]=Mn[we]=Mn[U]=Mn[K]=Mn[jt]=Mn[Ee]=Mn[Me]=Mn[dt]=Mn[xe]=Mn[le]=Mn[de]=Mn[rt]=Mn[Rt]=Mn[Ie]=Mn[ke]=Mn[$t]=Mn[$e]=Mn[Gt]=Mn[Le]=Mn[Ke]=!0,Mn[X]=Mn[G]=Mn[ue]=!1;var Lce={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Dce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uce={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jce=parseFloat,qce=parseInt,VB=typeof He=="object"&&He&&He.Object===Object&&He,zce=typeof self=="object"&&self&&self.Object===Object&&self,ts=VB||zce||Function("return this")(),vx=e&&!e.nodeType&&e,mh=vx&&!0&&t&&!t.nodeType&&t,KB=mh&&mh.exports===vx,yx=KB&&VB.process,Zo=function(){try{var Te=mh&&mh.require&&mh.require("util").types;return Te||yx&&yx.binding&&yx.binding("util")}catch{}}(),GB=Zo&&Zo.isArrayBuffer,WB=Zo&&Zo.isDate,JB=Zo&&Zo.isMap,QB=Zo&&Zo.isRegExp,ZB=Zo&&Zo.isSet,XB=Zo&&Zo.isTypedArray;function To(Te,it,Je){switch(Je.length){case 0:return Te.call(it);case 1:return Te.call(it,Je[0]);case 2:return Te.call(it,Je[0],Je[1]);case 3:return Te.call(it,Je[0],Je[1],Je[2])}return Te.apply(it,Je)}function Hce(Te,it,Je,Kt){for(var Sr=-1,fn=Te==null?0:Te.length;++Sr<fn;){var Mi=Te[Sr];it(Kt,Mi,Je(Mi),Te)}return Kt}function Xo(Te,it){for(var Je=-1,Kt=Te==null?0:Te.length;++Je<Kt&&it(Te[Je],Je,Te)!==!1;);return Te}function Vce(Te,it){for(var Je=Te==null?0:Te.length;Je--&&it(Te[Je],Je,Te)!==!1;);return Te}function YB(Te,it){for(var Je=-1,Kt=Te==null?0:Te.length;++Je<Kt;)if(!it(Te[Je],Je,Te))return!1;return!0}function Xu(Te,it){for(var Je=-1,Kt=Te==null?0:Te.length,Sr=0,fn=[];++Je<Kt;){var Mi=Te[Je];it(Mi,Je,Te)&&(fn[Sr++]=Mi)}return fn}function j1(Te,it){var Je=Te==null?0:Te.length;return!!Je&&Xd(Te,it,0)>-1}function mx(Te,it,Je){for(var Kt=-1,Sr=Te==null?0:Te.length;++Kt<Sr;)if(Je(it,Te[Kt]))return!0;return!1}function Hn(Te,it){for(var Je=-1,Kt=Te==null?0:Te.length,Sr=Array(Kt);++Je<Kt;)Sr[Je]=it(Te[Je],Je,Te);return Sr}function Yu(Te,it){for(var Je=-1,Kt=it.length,Sr=Te.length;++Je<Kt;)Te[Sr+Je]=it[Je];return Te}function bx(Te,it,Je,Kt){var Sr=-1,fn=Te==null?0:Te.length;for(Kt&&fn&&(Je=Te[++Sr]);++Sr<fn;)Je=it(Je,Te[Sr],Sr,Te);return Je}function Kce(Te,it,Je,Kt){var Sr=Te==null?0:Te.length;for(Kt&&Sr&&(Je=Te[--Sr]);Sr--;)Je=it(Je,Te[Sr],Sr,Te);return Je}function wx(Te,it){for(var Je=-1,Kt=Te==null?0:Te.length;++Je<Kt;)if(it(Te[Je],Je,Te))return!0;return!1}var Gce=_x("length");function Wce(Te){return Te.split("")}function Jce(Te){return Te.match(fe)||[]}function eP(Te,it,Je){var Kt;return Je(Te,function(Sr,fn,Mi){if(it(Sr,fn,Mi))return Kt=fn,!1}),Kt}function q1(Te,it,Je,Kt){for(var Sr=Te.length,fn=Je+(Kt?1:-1);Kt?fn--:++fn<Sr;)if(it(Te[fn],fn,Te))return fn;return-1}function Xd(Te,it,Je){return it===it?afe(Te,it,Je):q1(Te,tP,Je)}function Qce(Te,it,Je,Kt){for(var Sr=Je-1,fn=Te.length;++Sr<fn;)if(Kt(Te[Sr],it))return Sr;return-1}function tP(Te){return Te!==Te}function rP(Te,it){var Je=Te==null?0:Te.length;return Je?Sx(Te,it)/Je:f}function _x(Te){return function(it){return it==null?r:it[Te]}}function Ex(Te){return function(it){return Te==null?r:Te[it]}}function nP(Te,it,Je,Kt,Sr){return Sr(Te,function(fn,Mi,Sn){Je=Kt?(Kt=!1,fn):it(Je,fn,Mi,Sn)}),Je}function Zce(Te,it){var Je=Te.length;for(Te.sort(it);Je--;)Te[Je]=Te[Je].value;return Te}function Sx(Te,it){for(var Je,Kt=-1,Sr=Te.length;++Kt<Sr;){var fn=it(Te[Kt]);fn!==r&&(Je=Je===r?fn:Je+fn)}return Je}function Ax(Te,it){for(var Je=-1,Kt=Array(Te);++Je<Te;)Kt[Je]=it(Je);return Kt}function Xce(Te,it){return Hn(it,function(Je){return[Je,Te[Je]]})}function iP(Te){return Te&&Te.slice(0,cP(Te)+1).replace(Q,"")}function $o(Te){return function(it){return Te(it)}}function xx(Te,it){return Hn(it,function(Je){return Te[Je]})}function uv(Te,it){return Te.has(it)}function sP(Te,it){for(var Je=-1,Kt=Te.length;++Je<Kt&&Xd(it,Te[Je],0)>-1;);return Je}function oP(Te,it){for(var Je=Te.length;Je--&&Xd(it,Te[Je],0)>-1;);return Je}function Yce(Te,it){for(var Je=Te.length,Kt=0;Je--;)Te[Je]===it&&++Kt;return Kt}var efe=Ex(Lce),tfe=Ex(Dce);function rfe(Te){return"\\"+Fce[Te]}function nfe(Te,it){return Te==null?r:Te[it]}function Yd(Te){return Bce.test(Te)}function ife(Te){return Pce.test(Te)}function sfe(Te){for(var it,Je=[];!(it=Te.next()).done;)Je.push(it.value);return Je}function Mx(Te){var it=-1,Je=Array(Te.size);return Te.forEach(function(Kt,Sr){Je[++it]=[Sr,Kt]}),Je}function aP(Te,it){return function(Je){return Te(it(Je))}}function el(Te,it){for(var Je=-1,Kt=Te.length,Sr=0,fn=[];++Je<Kt;){var Mi=Te[Je];(Mi===it||Mi===v)&&(Te[Je]=v,fn[Sr++]=Je)}return fn}function z1(Te){var it=-1,Je=Array(Te.size);return Te.forEach(function(Kt){Je[++it]=Kt}),Je}function ofe(Te){var it=-1,Je=Array(Te.size);return Te.forEach(function(Kt){Je[++it]=[Kt,Kt]}),Je}function afe(Te,it,Je){for(var Kt=Je-1,Sr=Te.length;++Kt<Sr;)if(Te[Kt]===it)return Kt;return-1}function cfe(Te,it,Je){for(var Kt=Je+1;Kt--;)if(Te[Kt]===it)return Kt;return Kt}function e0(Te){return Yd(Te)?ufe(Te):Gce(Te)}function Wa(Te){return Yd(Te)?lfe(Te):Wce(Te)}function cP(Te){for(var it=Te.length;it--&&ee.test(Te.charAt(it)););return it}var ffe=Ex(Uce);function ufe(Te){for(var it=gx.lastIndex=0;gx.test(Te);)++it;return it}function lfe(Te){return Te.match(gx)||[]}function hfe(Te){return Te.match(Oce)||[]}var dfe=function Te(it){it=it==null?ts:t0.defaults(ts.Object(),it,t0.pick(ts,Nce));var Je=it.Array,Kt=it.Date,Sr=it.Error,fn=it.Function,Mi=it.Math,Sn=it.Object,Ix=it.RegExp,pfe=it.String,Yo=it.TypeError,H1=Je.prototype,gfe=fn.prototype,r0=Sn.prototype,V1=it["__core-js_shared__"],K1=gfe.toString,gn=r0.hasOwnProperty,vfe=0,fP=function(){var E=/[^.]+$/.exec(V1&&V1.keys&&V1.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),G1=r0.toString,yfe=K1.call(Sn),mfe=ts._,bfe=Ix("^"+K1.call(gn).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W1=KB?it.Buffer:r,tl=it.Symbol,J1=it.Uint8Array,uP=W1?W1.allocUnsafe:r,Q1=aP(Sn.getPrototypeOf,Sn),lP=Sn.create,hP=r0.propertyIsEnumerable,Z1=H1.splice,dP=tl?tl.isConcatSpreadable:r,lv=tl?tl.iterator:r,bh=tl?tl.toStringTag:r,X1=function(){try{var E=Ah(Sn,"defineProperty");return E({},"",{}),E}catch{}}(),wfe=it.clearTimeout!==ts.clearTimeout&&it.clearTimeout,_fe=Kt&&Kt.now!==ts.Date.now&&Kt.now,Efe=it.setTimeout!==ts.setTimeout&&it.setTimeout,Y1=Mi.ceil,eb=Mi.floor,Rx=Sn.getOwnPropertySymbols,Sfe=W1?W1.isBuffer:r,pP=it.isFinite,Afe=H1.join,xfe=aP(Sn.keys,Sn),Ii=Mi.max,_s=Mi.min,Mfe=Kt.now,Ife=it.parseInt,gP=Mi.random,Rfe=H1.reverse,Tx=Ah(it,"DataView"),hv=Ah(it,"Map"),$x=Ah(it,"Promise"),n0=Ah(it,"Set"),dv=Ah(it,"WeakMap"),pv=Ah(Sn,"create"),tb=dv&&new dv,i0={},Tfe=xh(Tx),$fe=xh(hv),Cfe=xh($x),Ofe=xh(n0),Bfe=xh(dv),rb=tl?tl.prototype:r,gv=rb?rb.valueOf:r,vP=rb?rb.toString:r;function oe(E){if(ri(E)&&!Ar(E)&&!(E instanceof Hr)){if(E instanceof ea)return E;if(gn.call(E,"__wrapped__"))return yN(E)}return new ea(E)}var s0=function(){function E(){}return function(M){if(!Jn(M))return{};if(lP)return lP(M);E.prototype=M;var N=new E;return E.prototype=r,N}}();function nb(){}function ea(E,M){this.__wrapped__=E,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=r}oe.templateSettings={escape:De,evaluate:Ge,interpolate:cr,variable:"",imports:{_:oe}},oe.prototype=nb.prototype,oe.prototype.constructor=oe,ea.prototype=s0(nb.prototype),ea.prototype.constructor=ea;function Hr(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Pfe(){var E=new Hr(this.__wrapped__);return E.__actions__=co(this.__actions__),E.__dir__=this.__dir__,E.__filtered__=this.__filtered__,E.__iteratees__=co(this.__iteratees__),E.__takeCount__=this.__takeCount__,E.__views__=co(this.__views__),E}function Nfe(){if(this.__filtered__){var E=new Hr(this);E.__dir__=-1,E.__filtered__=!0}else E=this.clone(),E.__dir__*=-1;return E}function kfe(){var E=this.__wrapped__.value(),M=this.__dir__,N=Ar(E),W=M<0,ie=N?E.length:0,ce=Wue(0,ie,this.__views__),ve=ce.start,_e=ce.end,Ce=_e-ve,ft=W?_e:ve-1,lt=this.__iteratees__,yt=lt.length,Ft=0,Xt=_s(Ce,this.__takeCount__);if(!N||!W&&ie==Ce&&Xt==Ce)return FP(E,this.__actions__);var fr=[];e:for(;Ce--&&Ft<Xt;){ft+=M;for(var $r=-1,ur=E[ft];++$r<yt;){var Ur=lt[$r],Qr=Ur.iteratee,Bo=Ur.type,Gs=Qr(ur);if(Bo==p)ur=Gs;else if(!Gs){if(Bo==h)continue e;break e}}fr[Ft++]=ur}return fr}Hr.prototype=s0(nb.prototype),Hr.prototype.constructor=Hr;function wh(E){var M=-1,N=E==null?0:E.length;for(this.clear();++M<N;){var W=E[M];this.set(W[0],W[1])}}function Lfe(){this.__data__=pv?pv(null):{},this.size=0}function Dfe(E){var M=this.has(E)&&delete this.__data__[E];return this.size-=M?1:0,M}function Ufe(E){var M=this.__data__;if(pv){var N=M[E];return N===l?r:N}return gn.call(M,E)?M[E]:r}function Ffe(E){var M=this.__data__;return pv?M[E]!==r:gn.call(M,E)}function jfe(E,M){var N=this.__data__;return this.size+=this.has(E)?0:1,N[E]=pv&&M===r?l:M,this}wh.prototype.clear=Lfe,wh.prototype.delete=Dfe,wh.prototype.get=Ufe,wh.prototype.has=Ffe,wh.prototype.set=jfe;function Gf(E){var M=-1,N=E==null?0:E.length;for(this.clear();++M<N;){var W=E[M];this.set(W[0],W[1])}}function qfe(){this.__data__=[],this.size=0}function zfe(E){var M=this.__data__,N=ib(M,E);if(N<0)return!1;var W=M.length-1;return N==W?M.pop():Z1.call(M,N,1),--this.size,!0}function Hfe(E){var M=this.__data__,N=ib(M,E);return N<0?r:M[N][1]}function Vfe(E){return ib(this.__data__,E)>-1}function Kfe(E,M){var N=this.__data__,W=ib(N,E);return W<0?(++this.size,N.push([E,M])):N[W][1]=M,this}Gf.prototype.clear=qfe,Gf.prototype.delete=zfe,Gf.prototype.get=Hfe,Gf.prototype.has=Vfe,Gf.prototype.set=Kfe;function Wf(E){var M=-1,N=E==null?0:E.length;for(this.clear();++M<N;){var W=E[M];this.set(W[0],W[1])}}function Gfe(){this.size=0,this.__data__={hash:new wh,map:new(hv||Gf),string:new wh}}function Wfe(E){var M=vb(this,E).delete(E);return this.size-=M?1:0,M}function Jfe(E){return vb(this,E).get(E)}function Qfe(E){return vb(this,E).has(E)}function Zfe(E,M){var N=vb(this,E),W=N.size;return N.set(E,M),this.size+=N.size==W?0:1,this}Wf.prototype.clear=Gfe,Wf.prototype.delete=Wfe,Wf.prototype.get=Jfe,Wf.prototype.has=Qfe,Wf.prototype.set=Zfe;function _h(E){var M=-1,N=E==null?0:E.length;for(this.__data__=new Wf;++M<N;)this.add(E[M])}function Xfe(E){return this.__data__.set(E,l),this}function Yfe(E){return this.__data__.has(E)}_h.prototype.add=_h.prototype.push=Xfe,_h.prototype.has=Yfe;function Ja(E){var M=this.__data__=new Gf(E);this.size=M.size}function eue(){this.__data__=new Gf,this.size=0}function tue(E){var M=this.__data__,N=M.delete(E);return this.size=M.size,N}function rue(E){return this.__data__.get(E)}function nue(E){return this.__data__.has(E)}function iue(E,M){var N=this.__data__;if(N instanceof Gf){var W=N.__data__;if(!hv||W.length<s-1)return W.push([E,M]),this.size=++N.size,this;N=this.__data__=new Wf(W)}return N.set(E,M),this.size=N.size,this}Ja.prototype.clear=eue,Ja.prototype.delete=tue,Ja.prototype.get=rue,Ja.prototype.has=nue,Ja.prototype.set=iue;function yP(E,M){var N=Ar(E),W=!N&&Mh(E),ie=!N&&!W&&ol(E),ce=!N&&!W&&!ie&&f0(E),ve=N||W||ie||ce,_e=ve?Ax(E.length,pfe):[],Ce=_e.length;for(var ft in E)(M||gn.call(E,ft))&&!(ve&&(ft=="length"||ie&&(ft=="offset"||ft=="parent")||ce&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||Xf(ft,Ce)))&&_e.push(ft);return _e}function mP(E){var M=E.length;return M?E[jx(0,M-1)]:r}function sue(E,M){return yb(co(E),Eh(M,0,E.length))}function oue(E){return yb(co(E))}function Cx(E,M,N){(N!==r&&!Qa(E[M],N)||N===r&&!(M in E))&&Jf(E,M,N)}function vv(E,M,N){var W=E[M];(!(gn.call(E,M)&&Qa(W,N))||N===r&&!(M in E))&&Jf(E,M,N)}function ib(E,M){for(var N=E.length;N--;)if(Qa(E[N][0],M))return N;return-1}function aue(E,M,N,W){return rl(E,function(ie,ce,ve){M(W,ie,N(ie),ve)}),W}function bP(E,M){return E&&zc(M,Li(M),E)}function cue(E,M){return E&&zc(M,uo(M),E)}function Jf(E,M,N){M=="__proto__"&&X1?X1(E,M,{configurable:!0,enumerable:!0,value:N,writable:!0}):E[M]=N}function Ox(E,M){for(var N=-1,W=M.length,ie=Je(W),ce=E==null;++N<W;)ie[N]=ce?r:h3(E,M[N]);return ie}function Eh(E,M,N){return E===E&&(N!==r&&(E=E<=N?E:N),M!==r&&(E=E>=M?E:M)),E}function ta(E,M,N,W,ie,ce){var ve,_e=M&b,Ce=M&A,ft=M&x;if(N&&(ve=ie?N(E,W,ie,ce):N(E)),ve!==r)return ve;if(!Jn(E))return E;var lt=Ar(E);if(lt){if(ve=Que(E),!_e)return co(E,ve)}else{var yt=Es(E),Ft=yt==G||yt==ne;if(ol(E))return zP(E,_e);if(yt==rt||yt==k||Ft&&!ie){if(ve=Ce||Ft?{}:cN(E),!_e)return Ce?Uue(E,cue(ve,E)):Due(E,bP(ve,E))}else{if(!Mn[yt])return ie?E:{};ve=Zue(E,yt,_e)}}ce||(ce=new Ja);var Xt=ce.get(E);if(Xt)return Xt;ce.set(E,ve),LN(E)?E.forEach(function(ur){ve.add(ta(ur,M,N,ur,E,ce))}):NN(E)&&E.forEach(function(ur,Ur){ve.set(Ur,ta(ur,M,N,Ur,E,ce))});var fr=ft?Ce?Xx:Zx:Ce?uo:Li,$r=lt?r:fr(E);return Xo($r||E,function(ur,Ur){$r&&(Ur=ur,ur=E[Ur]),vv(ve,Ur,ta(ur,M,N,Ur,E,ce))}),ve}function fue(E){var M=Li(E);return function(N){return wP(N,E,M)}}function wP(E,M,N){var W=N.length;if(E==null)return!W;for(E=Sn(E);W--;){var ie=N[W],ce=M[ie],ve=E[ie];if(ve===r&&!(ie in E)||!ce(ve))return!1}return!0}function _P(E,M,N){if(typeof E!="function")throw new Yo(o);return Sv(function(){E.apply(r,N)},M)}function yv(E,M,N,W){var ie=-1,ce=j1,ve=!0,_e=E.length,Ce=[],ft=M.length;if(!_e)return Ce;N&&(M=Hn(M,$o(N))),W?(ce=mx,ve=!1):M.length>=s&&(ce=uv,ve=!1,M=new _h(M));e:for(;++ie<_e;){var lt=E[ie],yt=N==null?lt:N(lt);if(lt=W||lt!==0?lt:0,ve&&yt===yt){for(var Ft=ft;Ft--;)if(M[Ft]===yt)continue e;Ce.push(lt)}else ce(M,yt,W)||Ce.push(lt)}return Ce}var rl=WP(qc),EP=WP(Px,!0);function uue(E,M){var N=!0;return rl(E,function(W,ie,ce){return N=!!M(W,ie,ce),N}),N}function sb(E,M,N){for(var W=-1,ie=E.length;++W<ie;){var ce=E[W],ve=M(ce);if(ve!=null&&(_e===r?ve===ve&&!Oo(ve):N(ve,_e)))var _e=ve,Ce=ce}return Ce}function lue(E,M,N,W){var ie=E.length;for(N=Rr(N),N<0&&(N=-N>ie?0:ie+N),W=W===r||W>ie?ie:Rr(W),W<0&&(W+=ie),W=N>W?0:UN(W);N<W;)E[N++]=M;return E}function SP(E,M){var N=[];return rl(E,function(W,ie,ce){M(W,ie,ce)&&N.push(W)}),N}function rs(E,M,N,W,ie){var ce=-1,ve=E.length;for(N||(N=Yue),ie||(ie=[]);++ce<ve;){var _e=E[ce];M>0&&N(_e)?M>1?rs(_e,M-1,N,W,ie):Yu(ie,_e):W||(ie[ie.length]=_e)}return ie}var Bx=JP(),AP=JP(!0);function qc(E,M){return E&&Bx(E,M,Li)}function Px(E,M){return E&&AP(E,M,Li)}function ob(E,M){return Xu(M,function(N){return Yf(E[N])})}function Sh(E,M){M=il(M,E);for(var N=0,W=M.length;E!=null&&N<W;)E=E[Hc(M[N++])];return N&&N==W?E:r}function xP(E,M,N){var W=M(E);return Ar(E)?W:Yu(W,N(E))}function Vs(E){return E==null?E===r?ae:me:bh&&bh in Sn(E)?Gue(E):ole(E)}function Nx(E,M){return E>M}function hue(E,M){return E!=null&&gn.call(E,M)}function due(E,M){return E!=null&&M in Sn(E)}function pue(E,M,N){return E>=_s(M,N)&&E<Ii(M,N)}function kx(E,M,N){for(var W=N?mx:j1,ie=E[0].length,ce=E.length,ve=ce,_e=Je(ce),Ce=1/0,ft=[];ve--;){var lt=E[ve];ve&&M&&(lt=Hn(lt,$o(M))),Ce=_s(lt.length,Ce),_e[ve]=!N&&(M||ie>=120&&lt.length>=120)?new _h(ve&&lt):r}lt=E[0];var yt=-1,Ft=_e[0];e:for(;++yt<ie&&ft.length<Ce;){var Xt=lt[yt],fr=M?M(Xt):Xt;if(Xt=N||Xt!==0?Xt:0,!(Ft?uv(Ft,fr):W(ft,fr,N))){for(ve=ce;--ve;){var $r=_e[ve];if(!($r?uv($r,fr):W(E[ve],fr,N)))continue e}Ft&&Ft.push(fr),ft.push(Xt)}}return ft}function gue(E,M,N,W){return qc(E,function(ie,ce,ve){M(W,N(ie),ce,ve)}),W}function mv(E,M,N){M=il(M,E),E=hN(E,M);var W=E==null?E:E[Hc(na(M))];return W==null?r:To(W,E,N)}function MP(E){return ri(E)&&Vs(E)==k}function vue(E){return ri(E)&&Vs(E)==ge}function yue(E){return ri(E)&&Vs(E)==K}function bv(E,M,N,W,ie){return E===M?!0:E==null||M==null||!ri(E)&&!ri(M)?E!==E&&M!==M:mue(E,M,N,W,bv,ie)}function mue(E,M,N,W,ie,ce){var ve=Ar(E),_e=Ar(M),Ce=ve?z:Es(E),ft=_e?z:Es(M);Ce=Ce==k?rt:Ce,ft=ft==k?rt:ft;var lt=Ce==rt,yt=ft==rt,Ft=Ce==ft;if(Ft&&ol(E)){if(!ol(M))return!1;ve=!0,lt=!1}if(Ft&&!lt)return ce||(ce=new Ja),ve||f0(E)?sN(E,M,N,W,ie,ce):Vue(E,M,Ce,N,W,ie,ce);if(!(N&R)){var Xt=lt&&gn.call(E,"__wrapped__"),fr=yt&&gn.call(M,"__wrapped__");if(Xt||fr){var $r=Xt?E.value():E,ur=fr?M.value():M;return ce||(ce=new Ja),ie($r,ur,N,W,ce)}}return Ft?(ce||(ce=new Ja),Kue(E,M,N,W,ie,ce)):!1}function bue(E){return ri(E)&&Es(E)==le}function Lx(E,M,N,W){var ie=N.length,ce=ie,ve=!W;if(E==null)return!ce;for(E=Sn(E);ie--;){var _e=N[ie];if(ve&&_e[2]?_e[1]!==E[_e[0]]:!(_e[0]in E))return!1}for(;++ie<ce;){_e=N[ie];var Ce=_e[0],ft=E[Ce],lt=_e[1];if(ve&&_e[2]){if(ft===r&&!(Ce in E))return!1}else{var yt=new Ja;if(W)var Ft=W(ft,lt,Ce,E,M,yt);if(!(Ft===r?bv(lt,ft,R|C,W,yt):Ft))return!1}}return!0}function IP(E){if(!Jn(E)||tle(E))return!1;var M=Yf(E)?bfe:bt;return M.test(xh(E))}function wue(E){return ri(E)&&Vs(E)==Rt}function _ue(E){return ri(E)&&Es(E)==Ie}function Eue(E){return ri(E)&&Sb(E.length)&&!!kn[Vs(E)]}function RP(E){return typeof E=="function"?E:E==null?lo:typeof E=="object"?Ar(E)?CP(E[0],E[1]):$P(E):QN(E)}function Dx(E){if(!Ev(E))return xfe(E);var M=[];for(var N in Sn(E))gn.call(E,N)&&N!="constructor"&&M.push(N);return M}function Sue(E){if(!Jn(E))return sle(E);var M=Ev(E),N=[];for(var W in E)W=="constructor"&&(M||!gn.call(E,W))||N.push(W);return N}function Ux(E,M){return E<M}function TP(E,M){var N=-1,W=fo(E)?Je(E.length):[];return rl(E,function(ie,ce,ve){W[++N]=M(ie,ce,ve)}),W}function $P(E){var M=e3(E);return M.length==1&&M[0][2]?uN(M[0][0],M[0][1]):function(N){return N===E||Lx(N,E,M)}}function CP(E,M){return r3(E)&&fN(M)?uN(Hc(E),M):function(N){var W=h3(N,E);return W===r&&W===M?d3(N,E):bv(M,W,R|C)}}function ab(E,M,N,W,ie){E!==M&&Bx(M,function(ce,ve){if(ie||(ie=new Ja),Jn(ce))Aue(E,M,ve,N,ab,W,ie);else{var _e=W?W(i3(E,ve),ce,ve+"",E,M,ie):r;_e===r&&(_e=ce),Cx(E,ve,_e)}},uo)}function Aue(E,M,N,W,ie,ce,ve){var _e=i3(E,N),Ce=i3(M,N),ft=ve.get(Ce);if(ft){Cx(E,N,ft);return}var lt=ce?ce(_e,Ce,N+"",E,M,ve):r,yt=lt===r;if(yt){var Ft=Ar(Ce),Xt=!Ft&&ol(Ce),fr=!Ft&&!Xt&&f0(Ce);lt=Ce,Ft||Xt||fr?Ar(_e)?lt=_e:pi(_e)?lt=co(_e):Xt?(yt=!1,lt=zP(Ce,!0)):fr?(yt=!1,lt=HP(Ce,!0)):lt=[]:Av(Ce)||Mh(Ce)?(lt=_e,Mh(_e)?lt=FN(_e):(!Jn(_e)||Yf(_e))&&(lt=cN(Ce))):yt=!1}yt&&(ve.set(Ce,lt),ie(lt,Ce,W,ce,ve),ve.delete(Ce)),Cx(E,N,lt)}function OP(E,M){var N=E.length;if(N)return M+=M<0?N:0,Xf(M,N)?E[M]:r}function BP(E,M,N){M.length?M=Hn(M,function(ce){return Ar(ce)?function(ve){return Sh(ve,ce.length===1?ce[0]:ce)}:ce}):M=[lo];var W=-1;M=Hn(M,$o(or()));var ie=TP(E,function(ce,ve,_e){var Ce=Hn(M,function(ft){return ft(ce)});return{criteria:Ce,index:++W,value:ce}});return Zce(ie,function(ce,ve){return Lue(ce,ve,N)})}function xue(E,M){return PP(E,M,function(N,W){return d3(E,W)})}function PP(E,M,N){for(var W=-1,ie=M.length,ce={};++W<ie;){var ve=M[W],_e=Sh(E,ve);N(_e,ve)&&wv(ce,il(ve,E),_e)}return ce}function Mue(E){return function(M){return Sh(M,E)}}function Fx(E,M,N,W){var ie=W?Qce:Xd,ce=-1,ve=M.length,_e=E;for(E===M&&(M=co(M)),N&&(_e=Hn(E,$o(N)));++ce<ve;)for(var Ce=0,ft=M[ce],lt=N?N(ft):ft;(Ce=ie(_e,lt,Ce,W))>-1;)_e!==E&&Z1.call(_e,Ce,1),Z1.call(E,Ce,1);return E}function NP(E,M){for(var N=E?M.length:0,W=N-1;N--;){var ie=M[N];if(N==W||ie!==ce){var ce=ie;Xf(ie)?Z1.call(E,ie,1):Hx(E,ie)}}return E}function jx(E,M){return E+eb(gP()*(M-E+1))}function Iue(E,M,N,W){for(var ie=-1,ce=Ii(Y1((M-E)/(N||1)),0),ve=Je(ce);ce--;)ve[W?ce:++ie]=E,E+=N;return ve}function qx(E,M){var N="";if(!E||M<1||M>_)return N;do M%2&&(N+=E),M=eb(M/2),M&&(E+=E);while(M);return N}function Pr(E,M){return s3(lN(E,M,lo),E+"")}function Rue(E){return mP(u0(E))}function Tue(E,M){var N=u0(E);return yb(N,Eh(M,0,N.length))}function wv(E,M,N,W){if(!Jn(E))return E;M=il(M,E);for(var ie=-1,ce=M.length,ve=ce-1,_e=E;_e!=null&&++ie<ce;){var Ce=Hc(M[ie]),ft=N;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return E;if(ie!=ve){var lt=_e[Ce];ft=W?W(lt,Ce,_e):r,ft===r&&(ft=Jn(lt)?lt:Xf(M[ie+1])?[]:{})}vv(_e,Ce,ft),_e=_e[Ce]}return E}var kP=tb?function(E,M){return tb.set(E,M),E}:lo,$ue=X1?function(E,M){return X1(E,"toString",{configurable:!0,enumerable:!1,value:g3(M),writable:!0})}:lo;function Cue(E){return yb(u0(E))}function ra(E,M,N){var W=-1,ie=E.length;M<0&&(M=-M>ie?0:ie+M),N=N>ie?ie:N,N<0&&(N+=ie),ie=M>N?0:N-M>>>0,M>>>=0;for(var ce=Je(ie);++W<ie;)ce[W]=E[W+M];return ce}function Oue(E,M){var N;return rl(E,function(W,ie,ce){return N=M(W,ie,ce),!N}),!!N}function cb(E,M,N){var W=0,ie=E==null?W:E.length;if(typeof M=="number"&&M===M&&ie<=P){for(;W<ie;){var ce=W+ie>>>1,ve=E[ce];ve!==null&&!Oo(ve)&&(N?ve<=M:ve<M)?W=ce+1:ie=ce}return ie}return zx(E,M,lo,N)}function zx(E,M,N,W){var ie=0,ce=E==null?0:E.length;if(ce===0)return 0;M=N(M);for(var ve=M!==M,_e=M===null,Ce=Oo(M),ft=M===r;ie<ce;){var lt=eb((ie+ce)/2),yt=N(E[lt]),Ft=yt!==r,Xt=yt===null,fr=yt===yt,$r=Oo(yt);if(ve)var ur=W||fr;else ft?ur=fr&&(W||Ft):_e?ur=fr&&Ft&&(W||!Xt):Ce?ur=fr&&Ft&&!Xt&&(W||!$r):Xt||$r?ur=!1:ur=W?yt<=M:yt<M;ur?ie=lt+1:ce=lt}return _s(ce,I)}function LP(E,M){for(var N=-1,W=E.length,ie=0,ce=[];++N<W;){var ve=E[N],_e=M?M(ve):ve;if(!N||!Qa(_e,Ce)){var Ce=_e;ce[ie++]=ve===0?0:ve}}return ce}function DP(E){return typeof E=="number"?E:Oo(E)?f:+E}function Co(E){if(typeof E=="string")return E;if(Ar(E))return Hn(E,Co)+"";if(Oo(E))return vP?vP.call(E):"";var M=E+"";return M=="0"&&1/E==-w?"-0":M}function nl(E,M,N){var W=-1,ie=j1,ce=E.length,ve=!0,_e=[],Ce=_e;if(N)ve=!1,ie=mx;else if(ce>=s){var ft=M?null:zue(E);if(ft)return z1(ft);ve=!1,ie=uv,Ce=new _h}else Ce=M?[]:_e;e:for(;++W<ce;){var lt=E[W],yt=M?M(lt):lt;if(lt=N||lt!==0?lt:0,ve&&yt===yt){for(var Ft=Ce.length;Ft--;)if(Ce[Ft]===yt)continue e;M&&Ce.push(yt),_e.push(lt)}else ie(Ce,yt,N)||(Ce!==_e&&Ce.push(yt),_e.push(lt))}return _e}function Hx(E,M){return M=il(M,E),E=hN(E,M),E==null||delete E[Hc(na(M))]}function UP(E,M,N,W){return wv(E,M,N(Sh(E,M)),W)}function fb(E,M,N,W){for(var ie=E.length,ce=W?ie:-1;(W?ce--:++ce<ie)&&M(E[ce],ce,E););return N?ra(E,W?0:ce,W?ce+1:ie):ra(E,W?ce+1:0,W?ie:ce)}function FP(E,M){var N=E;return N instanceof Hr&&(N=N.value()),bx(M,function(W,ie){return ie.func.apply(ie.thisArg,Yu([W],ie.args))},N)}function Vx(E,M,N){var W=E.length;if(W<2)return W?nl(E[0]):[];for(var ie=-1,ce=Je(W);++ie<W;)for(var ve=E[ie],_e=-1;++_e<W;)_e!=ie&&(ce[ie]=yv(ce[ie]||ve,E[_e],M,N));return nl(rs(ce,1),M,N)}function jP(E,M,N){for(var W=-1,ie=E.length,ce=M.length,ve={};++W<ie;){var _e=W<ce?M[W]:r;N(ve,E[W],_e)}return ve}function Kx(E){return pi(E)?E:[]}function Gx(E){return typeof E=="function"?E:lo}function il(E,M){return Ar(E)?E:r3(E,M)?[E]:vN(ln(E))}var Bue=Pr;function sl(E,M,N){var W=E.length;return N=N===r?W:N,!M&&N>=W?E:ra(E,M,N)}var qP=wfe||function(E){return ts.clearTimeout(E)};function zP(E,M){if(M)return E.slice();var N=E.length,W=uP?uP(N):new E.constructor(N);return E.copy(W),W}function Wx(E){var M=new E.constructor(E.byteLength);return new J1(M).set(new J1(E)),M}function Pue(E,M){var N=M?Wx(E.buffer):E.buffer;return new E.constructor(N,E.byteOffset,E.byteLength)}function Nue(E){var M=new E.constructor(E.source,ut.exec(E));return M.lastIndex=E.lastIndex,M}function kue(E){return gv?Sn(gv.call(E)):{}}function HP(E,M){var N=M?Wx(E.buffer):E.buffer;return new E.constructor(N,E.byteOffset,E.length)}function VP(E,M){if(E!==M){var N=E!==r,W=E===null,ie=E===E,ce=Oo(E),ve=M!==r,_e=M===null,Ce=M===M,ft=Oo(M);if(!_e&&!ft&&!ce&&E>M||ce&&ve&&Ce&&!_e&&!ft||W&&ve&&Ce||!N&&Ce||!ie)return 1;if(!W&&!ce&&!ft&&E<M||ft&&N&&ie&&!W&&!ce||_e&&N&&ie||!ve&&ie||!Ce)return-1}return 0}function Lue(E,M,N){for(var W=-1,ie=E.criteria,ce=M.criteria,ve=ie.length,_e=N.length;++W<ve;){var Ce=VP(ie[W],ce[W]);if(Ce){if(W>=_e)return Ce;var ft=N[W];return Ce*(ft=="desc"?-1:1)}}return E.index-M.index}function KP(E,M,N,W){for(var ie=-1,ce=E.length,ve=N.length,_e=-1,Ce=M.length,ft=Ii(ce-ve,0),lt=Je(Ce+ft),yt=!W;++_e<Ce;)lt[_e]=M[_e];for(;++ie<ve;)(yt||ie<ce)&&(lt[N[ie]]=E[ie]);for(;ft--;)lt[_e++]=E[ie++];return lt}function GP(E,M,N,W){for(var ie=-1,ce=E.length,ve=-1,_e=N.length,Ce=-1,ft=M.length,lt=Ii(ce-_e,0),yt=Je(lt+ft),Ft=!W;++ie<lt;)yt[ie]=E[ie];for(var Xt=ie;++Ce<ft;)yt[Xt+Ce]=M[Ce];for(;++ve<_e;)(Ft||ie<ce)&&(yt[Xt+N[ve]]=E[ie++]);return yt}function co(E,M){var N=-1,W=E.length;for(M||(M=Je(W));++N<W;)M[N]=E[N];return M}function zc(E,M,N,W){var ie=!N;N||(N={});for(var ce=-1,ve=M.length;++ce<ve;){var _e=M[ce],Ce=W?W(N[_e],E[_e],_e,N,E):r;Ce===r&&(Ce=E[_e]),ie?Jf(N,_e,Ce):vv(N,_e,Ce)}return N}function Due(E,M){return zc(E,t3(E),M)}function Uue(E,M){return zc(E,oN(E),M)}function ub(E,M){return function(N,W){var ie=Ar(N)?Hce:aue,ce=M?M():{};return ie(N,E,or(W,2),ce)}}function o0(E){return Pr(function(M,N){var W=-1,ie=N.length,ce=ie>1?N[ie-1]:r,ve=ie>2?N[2]:r;for(ce=E.length>3&&typeof ce=="function"?(ie--,ce):r,ve&&Ks(N[0],N[1],ve)&&(ce=ie<3?r:ce,ie=1),M=Sn(M);++W<ie;){var _e=N[W];_e&&E(M,_e,W,ce)}return M})}function WP(E,M){return function(N,W){if(N==null)return N;if(!fo(N))return E(N,W);for(var ie=N.length,ce=M?ie:-1,ve=Sn(N);(M?ce--:++ce<ie)&&W(ve[ce],ce,ve)!==!1;);return N}}function JP(E){return function(M,N,W){for(var ie=-1,ce=Sn(M),ve=W(M),_e=ve.length;_e--;){var Ce=ve[E?_e:++ie];if(N(ce[Ce],Ce,ce)===!1)break}return M}}function Fue(E,M,N){var W=M&T,ie=_v(E);function ce(){var ve=this&&this!==ts&&this instanceof ce?ie:E;return ve.apply(W?N:this,arguments)}return ce}function QP(E){return function(M){M=ln(M);var N=Yd(M)?Wa(M):r,W=N?N[0]:M.charAt(0),ie=N?sl(N,1).join(""):M.slice(1);return W[E]()+ie}}function a0(E){return function(M){return bx(WN(GN(M).replace($ce,"")),E,"")}}function _v(E){return function(){var M=arguments;switch(M.length){case 0:return new E;case 1:return new E(M[0]);case 2:return new E(M[0],M[1]);case 3:return new E(M[0],M[1],M[2]);case 4:return new E(M[0],M[1],M[2],M[3]);case 5:return new E(M[0],M[1],M[2],M[3],M[4]);case 6:return new E(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new E(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var N=s0(E.prototype),W=E.apply(N,M);return Jn(W)?W:N}}function jue(E,M,N){var W=_v(E);function ie(){for(var ce=arguments.length,ve=Je(ce),_e=ce,Ce=c0(ie);_e--;)ve[_e]=arguments[_e];var ft=ce<3&&ve[0]!==Ce&&ve[ce-1]!==Ce?[]:el(ve,Ce);if(ce-=ft.length,ce<N)return tN(E,M,lb,ie.placeholder,r,ve,ft,r,r,N-ce);var lt=this&&this!==ts&&this instanceof ie?W:E;return To(lt,this,ve)}return ie}function ZP(E){return function(M,N,W){var ie=Sn(M);if(!fo(M)){var ce=or(N,3);M=Li(M),N=function(_e){return ce(ie[_e],_e,ie)}}var ve=E(M,N,W);return ve>-1?ie[ce?M[ve]:ve]:r}}function XP(E){return Zf(function(M){var N=M.length,W=N,ie=ea.prototype.thru;for(E&&M.reverse();W--;){var ce=M[W];if(typeof ce!="function")throw new Yo(o);if(ie&&!ve&&gb(ce)=="wrapper")var ve=new ea([],!0)}for(W=ve?W:N;++W<N;){ce=M[W];var _e=gb(ce),Ce=_e=="wrapper"?Yx(ce):r;Ce&&n3(Ce[0])&&Ce[1]==(V|D|F|J)&&!Ce[4].length&&Ce[9]==1?ve=ve[gb(Ce[0])].apply(ve,Ce[3]):ve=ce.length==1&&n3(ce)?ve[_e]():ve.thru(ce)}return function(){var ft=arguments,lt=ft[0];if(ve&&ft.length==1&&Ar(lt))return ve.plant(lt).value();for(var yt=0,Ft=N?M[yt].apply(this,ft):lt;++yt<N;)Ft=M[yt].call(this,Ft);return Ft}})}function lb(E,M,N,W,ie,ce,ve,_e,Ce,ft){var lt=M&V,yt=M&T,Ft=M&$,Xt=M&(D|L),fr=M&Z,$r=Ft?r:_v(E);function ur(){for(var Ur=arguments.length,Qr=Je(Ur),Bo=Ur;Bo--;)Qr[Bo]=arguments[Bo];if(Xt)var Gs=c0(ur),Po=Yce(Qr,Gs);if(W&&(Qr=KP(Qr,W,ie,Xt)),ce&&(Qr=GP(Qr,ce,ve,Xt)),Ur-=Po,Xt&&Ur<ft){var gi=el(Qr,Gs);return tN(E,M,lb,ur.placeholder,N,Qr,gi,_e,Ce,ft-Ur)}var Za=yt?N:this,tu=Ft?Za[E]:E;return Ur=Qr.length,_e?Qr=ale(Qr,_e):fr&&Ur>1&&Qr.reverse(),lt&&Ce<Ur&&(Qr.length=Ce),this&&this!==ts&&this instanceof ur&&(tu=$r||_v(tu)),tu.apply(Za,Qr)}return ur}function YP(E,M){return function(N,W){return gue(N,E,M(W),{})}}function hb(E,M){return function(N,W){var ie;if(N===r&&W===r)return M;if(N!==r&&(ie=N),W!==r){if(ie===r)return W;typeof N=="string"||typeof W=="string"?(N=Co(N),W=Co(W)):(N=DP(N),W=DP(W)),ie=E(N,W)}return ie}}function Jx(E){return Zf(function(M){return M=Hn(M,$o(or())),Pr(function(N){var W=this;return E(M,function(ie){return To(ie,W,N)})})})}function db(E,M){M=M===r?" ":Co(M);var N=M.length;if(N<2)return N?qx(M,E):M;var W=qx(M,Y1(E/e0(M)));return Yd(M)?sl(Wa(W),0,E).join(""):W.slice(0,E)}function que(E,M,N,W){var ie=M&T,ce=_v(E);function ve(){for(var _e=-1,Ce=arguments.length,ft=-1,lt=W.length,yt=Je(lt+Ce),Ft=this&&this!==ts&&this instanceof ve?ce:E;++ft<lt;)yt[ft]=W[ft];for(;Ce--;)yt[ft++]=arguments[++_e];return To(Ft,ie?N:this,yt)}return ve}function eN(E){return function(M,N,W){return W&&typeof W!="number"&&Ks(M,N,W)&&(N=W=r),M=eu(M),N===r?(N=M,M=0):N=eu(N),W=W===r?M<N?1:-1:eu(W),Iue(M,N,W,E)}}function pb(E){return function(M,N){return typeof M=="string"&&typeof N=="string"||(M=ia(M),N=ia(N)),E(M,N)}}function tN(E,M,N,W,ie,ce,ve,_e,Ce,ft){var lt=M&D,yt=lt?ve:r,Ft=lt?r:ve,Xt=lt?ce:r,fr=lt?r:ce;M|=lt?F:H,M&=~(lt?H:F),M&O||(M&=~(T|$));var $r=[E,M,ie,Xt,yt,fr,Ft,_e,Ce,ft],ur=N.apply(r,$r);return n3(E)&&dN(ur,$r),ur.placeholder=W,pN(ur,E,M)}function Qx(E){var M=Mi[E];return function(N,W){if(N=ia(N),W=W==null?0:_s(Rr(W),292),W&&pP(N)){var ie=(ln(N)+"e").split("e"),ce=M(ie[0]+"e"+(+ie[1]+W));return ie=(ln(ce)+"e").split("e"),+(ie[0]+"e"+(+ie[1]-W))}return M(N)}}var zue=n0&&1/z1(new n0([,-0]))[1]==w?function(E){return new n0(E)}:m3;function rN(E){return function(M){var N=Es(M);return N==le?Mx(M):N==Ie?ofe(M):Xce(M,E(M))}}function Qf(E,M,N,W,ie,ce,ve,_e){var Ce=M&$;if(!Ce&&typeof E!="function")throw new Yo(o);var ft=W?W.length:0;if(ft||(M&=~(F|H),W=ie=r),ve=ve===r?ve:Ii(Rr(ve),0),_e=_e===r?_e:Rr(_e),ft-=ie?ie.length:0,M&H){var lt=W,yt=ie;W=ie=r}var Ft=Ce?r:Yx(E),Xt=[E,M,N,W,ie,lt,yt,ce,ve,_e];if(Ft&&ile(Xt,Ft),E=Xt[0],M=Xt[1],N=Xt[2],W=Xt[3],ie=Xt[4],_e=Xt[9]=Xt[9]===r?Ce?0:E.length:Ii(Xt[9]-ft,0),!_e&&M&(D|L)&&(M&=~(D|L)),!M||M==T)var fr=Fue(E,M,N);else M==D||M==L?fr=jue(E,M,_e):(M==F||M==(T|F))&&!ie.length?fr=que(E,M,N,W):fr=lb.apply(r,Xt);var $r=Ft?kP:dN;return pN($r(fr,Xt),E,M)}function nN(E,M,N,W){return E===r||Qa(E,r0[N])&&!gn.call(W,N)?M:E}function iN(E,M,N,W,ie,ce){return Jn(E)&&Jn(M)&&(ce.set(M,E),ab(E,M,r,iN,ce),ce.delete(M)),E}function Hue(E){return Av(E)?r:E}function sN(E,M,N,W,ie,ce){var ve=N&R,_e=E.length,Ce=M.length;if(_e!=Ce&&!(ve&&Ce>_e))return!1;var ft=ce.get(E),lt=ce.get(M);if(ft&&lt)return ft==M&&lt==E;var yt=-1,Ft=!0,Xt=N&C?new _h:r;for(ce.set(E,M),ce.set(M,E);++yt<_e;){var fr=E[yt],$r=M[yt];if(W)var ur=ve?W($r,fr,yt,M,E,ce):W(fr,$r,yt,E,M,ce);if(ur!==r){if(ur)continue;Ft=!1;break}if(Xt){if(!wx(M,function(Ur,Qr){if(!uv(Xt,Qr)&&(fr===Ur||ie(fr,Ur,N,W,ce)))return Xt.push(Qr)})){Ft=!1;break}}else if(!(fr===$r||ie(fr,$r,N,W,ce))){Ft=!1;break}}return ce.delete(E),ce.delete(M),Ft}function Vue(E,M,N,W,ie,ce,ve){switch(N){case we:if(E.byteLength!=M.byteLength||E.byteOffset!=M.byteOffset)return!1;E=E.buffer,M=M.buffer;case ge:return!(E.byteLength!=M.byteLength||!ce(new J1(E),new J1(M)));case U:case K:case de:return Qa(+E,+M);case X:return E.name==M.name&&E.message==M.message;case Rt:case ke:return E==M+"";case le:var _e=Mx;case Ie:var Ce=W&R;if(_e||(_e=z1),E.size!=M.size&&!Ce)return!1;var ft=ve.get(E);if(ft)return ft==M;W|=C,ve.set(E,M);var lt=sN(_e(E),_e(M),W,ie,ce,ve);return ve.delete(E),lt;case $t:if(gv)return gv.call(E)==gv.call(M)}return!1}function Kue(E,M,N,W,ie,ce){var ve=N&R,_e=Zx(E),Ce=_e.length,ft=Zx(M),lt=ft.length;if(Ce!=lt&&!ve)return!1;for(var yt=Ce;yt--;){var Ft=_e[yt];if(!(ve?Ft in M:gn.call(M,Ft)))return!1}var Xt=ce.get(E),fr=ce.get(M);if(Xt&&fr)return Xt==M&&fr==E;var $r=!0;ce.set(E,M),ce.set(M,E);for(var ur=ve;++yt<Ce;){Ft=_e[yt];var Ur=E[Ft],Qr=M[Ft];if(W)var Bo=ve?W(Qr,Ur,Ft,M,E,ce):W(Ur,Qr,Ft,E,M,ce);if(!(Bo===r?Ur===Qr||ie(Ur,Qr,N,W,ce):Bo)){$r=!1;break}ur||(ur=Ft=="constructor")}if($r&&!ur){var Gs=E.constructor,Po=M.constructor;Gs!=Po&&"constructor"in E&&"constructor"in M&&!(typeof Gs=="function"&&Gs instanceof Gs&&typeof Po=="function"&&Po instanceof Po)&&($r=!1)}return ce.delete(E),ce.delete(M),$r}function Zf(E){return s3(lN(E,r,wN),E+"")}function Zx(E){return xP(E,Li,t3)}function Xx(E){return xP(E,uo,oN)}var Yx=tb?function(E){return tb.get(E)}:m3;function gb(E){for(var M=E.name+"",N=i0[M],W=gn.call(i0,M)?N.length:0;W--;){var ie=N[W],ce=ie.func;if(ce==null||ce==E)return ie.name}return M}function c0(E){var M=gn.call(oe,"placeholder")?oe:E;return M.placeholder}function or(){var E=oe.iteratee||v3;return E=E===v3?RP:E,arguments.length?E(arguments[0],arguments[1]):E}function vb(E,M){var N=E.__data__;return ele(M)?N[typeof M=="string"?"string":"hash"]:N.map}function e3(E){for(var M=Li(E),N=M.length;N--;){var W=M[N],ie=E[W];M[N]=[W,ie,fN(ie)]}return M}function Ah(E,M){var N=nfe(E,M);return IP(N)?N:r}function Gue(E){var M=gn.call(E,bh),N=E[bh];try{E[bh]=r;var W=!0}catch{}var ie=G1.call(E);return W&&(M?E[bh]=N:delete E[bh]),ie}var t3=Rx?function(E){return E==null?[]:(E=Sn(E),Xu(Rx(E),function(M){return hP.call(E,M)}))}:b3,oN=Rx?function(E){for(var M=[];E;)Yu(M,t3(E)),E=Q1(E);return M}:b3,Es=Vs;(Tx&&Es(new Tx(new ArrayBuffer(1)))!=we||hv&&Es(new hv)!=le||$x&&Es($x.resolve())!=Ae||n0&&Es(new n0)!=Ie||dv&&Es(new dv)!=ue)&&(Es=function(E){var M=Vs(E),N=M==rt?E.constructor:r,W=N?xh(N):"";if(W)switch(W){case Tfe:return we;case $fe:return le;case Cfe:return Ae;case Ofe:return Ie;case Bfe:return ue}return M});function Wue(E,M,N){for(var W=-1,ie=N.length;++W<ie;){var ce=N[W],ve=ce.size;switch(ce.type){case"drop":E+=ve;break;case"dropRight":M-=ve;break;case"take":M=_s(M,E+ve);break;case"takeRight":E=Ii(E,M-ve);break}}return{start:E,end:M}}function Jue(E){var M=E.match(q);return M?M[1].split(re):[]}function aN(E,M,N){M=il(M,E);for(var W=-1,ie=M.length,ce=!1;++W<ie;){var ve=Hc(M[W]);if(!(ce=E!=null&&N(E,ve)))break;E=E[ve]}return ce||++W!=ie?ce:(ie=E==null?0:E.length,!!ie&&Sb(ie)&&Xf(ve,ie)&&(Ar(E)||Mh(E)))}function Que(E){var M=E.length,N=new E.constructor(M);return M&&typeof E[0]=="string"&&gn.call(E,"index")&&(N.index=E.index,N.input=E.input),N}function cN(E){return typeof E.constructor=="function"&&!Ev(E)?s0(Q1(E)):{}}function Zue(E,M,N){var W=E.constructor;switch(M){case ge:return Wx(E);case U:case K:return new W(+E);case we:return Pue(E,N);case jt:case Ee:case Me:case dt:case xe:case $e:case Gt:case Le:case Ke:return HP(E,N);case le:return new W;case de:case ke:return new W(E);case Rt:return Nue(E);case Ie:return new W;case $t:return kue(E)}}function Xue(E,M){var N=M.length;if(!N)return E;var W=N-1;return M[W]=(N>1?"& ":"")+M[W],M=M.join(N>2?", ":" "),E.replace(te,`{
/* [wrapped with `+M+`] */
`)}function Yue(E){return Ar(E)||Mh(E)||!!(dP&&E&&E[dP])}function Xf(E,M){var N=typeof E;return M=M??_,!!M&&(N=="number"||N!="symbol"&&Bt.test(E))&&E>-1&&E%1==0&&E<M}function Ks(E,M,N){if(!Jn(N))return!1;var W=typeof M;return(W=="number"?fo(N)&&Xf(M,N.length):W=="string"&&M in N)?Qa(N[M],E):!1}function r3(E,M){if(Ar(E))return!1;var N=typeof E;return N=="number"||N=="symbol"||N=="boolean"||E==null||Oo(E)?!0:Xe.test(E)||!qe.test(E)||M!=null&&E in Sn(M)}function ele(E){var M=typeof E;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?E!=="__proto__":E===null}function n3(E){var M=gb(E),N=oe[M];if(typeof N!="function"||!(M in Hr.prototype))return!1;if(E===N)return!0;var W=Yx(N);return!!W&&E===W[0]}function tle(E){return!!fP&&fP in E}var rle=V1?Yf:w3;function Ev(E){var M=E&&E.constructor,N=typeof M=="function"&&M.prototype||r0;return E===N}function fN(E){return E===E&&!Jn(E)}function uN(E,M){return function(N){return N==null?!1:N[E]===M&&(M!==r||E in Sn(N))}}function nle(E){var M=_b(E,function(W){return N.size===d&&N.clear(),W}),N=M.cache;return M}function ile(E,M){var N=E[1],W=M[1],ie=N|W,ce=ie<(T|$|V),ve=W==V&&N==D||W==V&&N==J&&E[7].length<=M[8]||W==(V|J)&&M[7].length<=M[8]&&N==D;if(!(ce||ve))return E;W&T&&(E[2]=M[2],ie|=N&T?0:O);var _e=M[3];if(_e){var Ce=E[3];E[3]=Ce?KP(Ce,_e,M[4]):_e,E[4]=Ce?el(E[3],v):M[4]}return _e=M[5],_e&&(Ce=E[5],E[5]=Ce?GP(Ce,_e,M[6]):_e,E[6]=Ce?el(E[5],v):M[6]),_e=M[7],_e&&(E[7]=_e),W&V&&(E[8]=E[8]==null?M[8]:_s(E[8],M[8])),E[9]==null&&(E[9]=M[9]),E[0]=M[0],E[1]=ie,E}function sle(E){var M=[];if(E!=null)for(var N in Sn(E))M.push(N);return M}function ole(E){return G1.call(E)}function lN(E,M,N){return M=Ii(M===r?E.length-1:M,0),function(){for(var W=arguments,ie=-1,ce=Ii(W.length-M,0),ve=Je(ce);++ie<ce;)ve[ie]=W[M+ie];ie=-1;for(var _e=Je(M+1);++ie<M;)_e[ie]=W[ie];return _e[M]=N(ve),To(E,this,_e)}}function hN(E,M){return M.length<2?E:Sh(E,ra(M,0,-1))}function ale(E,M){for(var N=E.length,W=_s(M.length,N),ie=co(E);W--;){var ce=M[W];E[W]=Xf(ce,N)?ie[ce]:r}return E}function i3(E,M){if(!(M==="constructor"&&typeof E[M]=="function")&&M!="__proto__")return E[M]}var dN=gN(kP),Sv=Efe||function(E,M){return ts.setTimeout(E,M)},s3=gN($ue);function pN(E,M,N){var W=M+"";return s3(E,Xue(W,cle(Jue(W),N)))}function gN(E){var M=0,N=0;return function(){var W=Mfe(),ie=u-(W-N);if(N=W,ie>0){if(++M>=a)return arguments[0]}else M=0;return E.apply(r,arguments)}}function yb(E,M){var N=-1,W=E.length,ie=W-1;for(M=M===r?W:M;++N<M;){var ce=jx(N,ie),ve=E[ce];E[ce]=E[N],E[N]=ve}return E.length=M,E}var vN=nle(function(E){var M=[];return E.charCodeAt(0)===46&&M.push(""),E.replace(gr,function(N,W,ie,ce){M.push(ie?ce.replace(pe,"$1"):W||N)}),M});function Hc(E){if(typeof E=="string"||Oo(E))return E;var M=E+"";return M=="0"&&1/E==-w?"-0":M}function xh(E){if(E!=null){try{return K1.call(E)}catch{}try{return E+""}catch{}}return""}function cle(E,M){return Xo(j,function(N){var W="_."+N[0];M&N[1]&&!j1(E,W)&&E.push(W)}),E.sort()}function yN(E){if(E instanceof Hr)return E.clone();var M=new ea(E.__wrapped__,E.__chain__);return M.__actions__=co(E.__actions__),M.__index__=E.__index__,M.__values__=E.__values__,M}function fle(E,M,N){(N?Ks(E,M,N):M===r)?M=1:M=Ii(Rr(M),0);var W=E==null?0:E.length;if(!W||M<1)return[];for(var ie=0,ce=0,ve=Je(Y1(W/M));ie<W;)ve[ce++]=ra(E,ie,ie+=M);return ve}function ule(E){for(var M=-1,N=E==null?0:E.length,W=0,ie=[];++M<N;){var ce=E[M];ce&&(ie[W++]=ce)}return ie}function lle(){var E=arguments.length;if(!E)return[];for(var M=Je(E-1),N=arguments[0],W=E;W--;)M[W-1]=arguments[W];return Yu(Ar(N)?co(N):[N],rs(M,1))}var hle=Pr(function(E,M){return pi(E)?yv(E,rs(M,1,pi,!0)):[]}),dle=Pr(function(E,M){var N=na(M);return pi(N)&&(N=r),pi(E)?yv(E,rs(M,1,pi,!0),or(N,2)):[]}),ple=Pr(function(E,M){var N=na(M);return pi(N)&&(N=r),pi(E)?yv(E,rs(M,1,pi,!0),r,N):[]});function gle(E,M,N){var W=E==null?0:E.length;return W?(M=N||M===r?1:Rr(M),ra(E,M<0?0:M,W)):[]}function vle(E,M,N){var W=E==null?0:E.length;return W?(M=N||M===r?1:Rr(M),M=W-M,ra(E,0,M<0?0:M)):[]}function yle(E,M){return E&&E.length?fb(E,or(M,3),!0,!0):[]}function mle(E,M){return E&&E.length?fb(E,or(M,3),!0):[]}function ble(E,M,N,W){var ie=E==null?0:E.length;return ie?(N&&typeof N!="number"&&Ks(E,M,N)&&(N=0,W=ie),lue(E,M,N,W)):[]}function mN(E,M,N){var W=E==null?0:E.length;if(!W)return-1;var ie=N==null?0:Rr(N);return ie<0&&(ie=Ii(W+ie,0)),q1(E,or(M,3),ie)}function bN(E,M,N){var W=E==null?0:E.length;if(!W)return-1;var ie=W-1;return N!==r&&(ie=Rr(N),ie=N<0?Ii(W+ie,0):_s(ie,W-1)),q1(E,or(M,3),ie,!0)}function wN(E){var M=E==null?0:E.length;return M?rs(E,1):[]}function wle(E){var M=E==null?0:E.length;return M?rs(E,w):[]}function _le(E,M){var N=E==null?0:E.length;return N?(M=M===r?1:Rr(M),rs(E,M)):[]}function Ele(E){for(var M=-1,N=E==null?0:E.length,W={};++M<N;){var ie=E[M];W[ie[0]]=ie[1]}return W}function _N(E){return E&&E.length?E[0]:r}function Sle(E,M,N){var W=E==null?0:E.length;if(!W)return-1;var ie=N==null?0:Rr(N);return ie<0&&(ie=Ii(W+ie,0)),Xd(E,M,ie)}function Ale(E){var M=E==null?0:E.length;return M?ra(E,0,-1):[]}var xle=Pr(function(E){var M=Hn(E,Kx);return M.length&&M[0]===E[0]?kx(M):[]}),Mle=Pr(function(E){var M=na(E),N=Hn(E,Kx);return M===na(N)?M=r:N.pop(),N.length&&N[0]===E[0]?kx(N,or(M,2)):[]}),Ile=Pr(function(E){var M=na(E),N=Hn(E,Kx);return M=typeof M=="function"?M:r,M&&N.pop(),N.length&&N[0]===E[0]?kx(N,r,M):[]});function Rle(E,M){return E==null?"":Afe.call(E,M)}function na(E){var M=E==null?0:E.length;return M?E[M-1]:r}function Tle(E,M,N){var W=E==null?0:E.length;if(!W)return-1;var ie=W;return N!==r&&(ie=Rr(N),ie=ie<0?Ii(W+ie,0):_s(ie,W-1)),M===M?cfe(E,M,ie):q1(E,tP,ie,!0)}function $le(E,M){return E&&E.length?OP(E,Rr(M)):r}var Cle=Pr(EN);function EN(E,M){return E&&E.length&&M&&M.length?Fx(E,M):E}function Ole(E,M,N){return E&&E.length&&M&&M.length?Fx(E,M,or(N,2)):E}function Ble(E,M,N){return E&&E.length&&M&&M.length?Fx(E,M,r,N):E}var Ple=Zf(function(E,M){var N=E==null?0:E.length,W=Ox(E,M);return NP(E,Hn(M,function(ie){return Xf(ie,N)?+ie:ie}).sort(VP)),W});function Nle(E,M){var N=[];if(!(E&&E.length))return N;var W=-1,ie=[],ce=E.length;for(M=or(M,3);++W<ce;){var ve=E[W];M(ve,W,E)&&(N.push(ve),ie.push(W))}return NP(E,ie),N}function o3(E){return E==null?E:Rfe.call(E)}function kle(E,M,N){var W=E==null?0:E.length;return W?(N&&typeof N!="number"&&Ks(E,M,N)?(M=0,N=W):(M=M==null?0:Rr(M),N=N===r?W:Rr(N)),ra(E,M,N)):[]}function Lle(E,M){return cb(E,M)}function Dle(E,M,N){return zx(E,M,or(N,2))}function Ule(E,M){var N=E==null?0:E.length;if(N){var W=cb(E,M);if(W<N&&Qa(E[W],M))return W}return-1}function Fle(E,M){return cb(E,M,!0)}function jle(E,M,N){return zx(E,M,or(N,2),!0)}function qle(E,M){var N=E==null?0:E.length;if(N){var W=cb(E,M,!0)-1;if(Qa(E[W],M))return W}return-1}function zle(E){return E&&E.length?LP(E):[]}function Hle(E,M){return E&&E.length?LP(E,or(M,2)):[]}function Vle(E){var M=E==null?0:E.length;return M?ra(E,1,M):[]}function Kle(E,M,N){return E&&E.length?(M=N||M===r?1:Rr(M),ra(E,0,M<0?0:M)):[]}function Gle(E,M,N){var W=E==null?0:E.length;return W?(M=N||M===r?1:Rr(M),M=W-M,ra(E,M<0?0:M,W)):[]}function Wle(E,M){return E&&E.length?fb(E,or(M,3),!1,!0):[]}function Jle(E,M){return E&&E.length?fb(E,or(M,3)):[]}var Qle=Pr(function(E){return nl(rs(E,1,pi,!0))}),Zle=Pr(function(E){var M=na(E);return pi(M)&&(M=r),nl(rs(E,1,pi,!0),or(M,2))}),Xle=Pr(function(E){var M=na(E);return M=typeof M=="function"?M:r,nl(rs(E,1,pi,!0),r,M)});function Yle(E){return E&&E.length?nl(E):[]}function ehe(E,M){return E&&E.length?nl(E,or(M,2)):[]}function the(E,M){return M=typeof M=="function"?M:r,E&&E.length?nl(E,r,M):[]}function a3(E){if(!(E&&E.length))return[];var M=0;return E=Xu(E,function(N){if(pi(N))return M=Ii(N.length,M),!0}),Ax(M,function(N){return Hn(E,_x(N))})}function SN(E,M){if(!(E&&E.length))return[];var N=a3(E);return M==null?N:Hn(N,function(W){return To(M,r,W)})}var rhe=Pr(function(E,M){return pi(E)?yv(E,M):[]}),nhe=Pr(function(E){return Vx(Xu(E,pi))}),ihe=Pr(function(E){var M=na(E);return pi(M)&&(M=r),Vx(Xu(E,pi),or(M,2))}),she=Pr(function(E){var M=na(E);return M=typeof M=="function"?M:r,Vx(Xu(E,pi),r,M)}),ohe=Pr(a3);function ahe(E,M){return jP(E||[],M||[],vv)}function che(E,M){return jP(E||[],M||[],wv)}var fhe=Pr(function(E){var M=E.length,N=M>1?E[M-1]:r;return N=typeof N=="function"?(E.pop(),N):r,SN(E,N)});function AN(E){var M=oe(E);return M.__chain__=!0,M}function uhe(E,M){return M(E),E}function mb(E,M){return M(E)}var lhe=Zf(function(E){var M=E.length,N=M?E[0]:0,W=this.__wrapped__,ie=function(ce){return Ox(ce,E)};return M>1||this.__actions__.length||!(W instanceof Hr)||!Xf(N)?this.thru(ie):(W=W.slice(N,+N+(M?1:0)),W.__actions__.push({func:mb,args:[ie],thisArg:r}),new ea(W,this.__chain__).thru(function(ce){return M&&!ce.length&&ce.push(r),ce}))});function hhe(){return AN(this)}function dhe(){return new ea(this.value(),this.__chain__)}function phe(){this.__values__===r&&(this.__values__=DN(this.value()));var E=this.__index__>=this.__values__.length,M=E?r:this.__values__[this.__index__++];return{done:E,value:M}}function ghe(){return this}function vhe(E){for(var M,N=this;N instanceof nb;){var W=yN(N);W.__index__=0,W.__values__=r,M?ie.__wrapped__=W:M=W;var ie=W;N=N.__wrapped__}return ie.__wrapped__=E,M}function yhe(){var E=this.__wrapped__;if(E instanceof Hr){var M=E;return this.__actions__.length&&(M=new Hr(this)),M=M.reverse(),M.__actions__.push({func:mb,args:[o3],thisArg:r}),new ea(M,this.__chain__)}return this.thru(o3)}function mhe(){return FP(this.__wrapped__,this.__actions__)}var bhe=ub(function(E,M,N){gn.call(E,N)?++E[N]:Jf(E,N,1)});function whe(E,M,N){var W=Ar(E)?YB:uue;return N&&Ks(E,M,N)&&(M=r),W(E,or(M,3))}function _he(E,M){var N=Ar(E)?Xu:SP;return N(E,or(M,3))}var Ehe=ZP(mN),She=ZP(bN);function Ahe(E,M){return rs(bb(E,M),1)}function xhe(E,M){return rs(bb(E,M),w)}function Mhe(E,M,N){return N=N===r?1:Rr(N),rs(bb(E,M),N)}function xN(E,M){var N=Ar(E)?Xo:rl;return N(E,or(M,3))}function MN(E,M){var N=Ar(E)?Vce:EP;return N(E,or(M,3))}var Ihe=ub(function(E,M,N){gn.call(E,N)?E[N].push(M):Jf(E,N,[M])});function Rhe(E,M,N,W){E=fo(E)?E:u0(E),N=N&&!W?Rr(N):0;var ie=E.length;return N<0&&(N=Ii(ie+N,0)),Ab(E)?N<=ie&&E.indexOf(M,N)>-1:!!ie&&Xd(E,M,N)>-1}var The=Pr(function(E,M,N){var W=-1,ie=typeof M=="function",ce=fo(E)?Je(E.length):[];return rl(E,function(ve){ce[++W]=ie?To(M,ve,N):mv(ve,M,N)}),ce}),$he=ub(function(E,M,N){Jf(E,N,M)});function bb(E,M){var N=Ar(E)?Hn:TP;return N(E,or(M,3))}function Che(E,M,N,W){return E==null?[]:(Ar(M)||(M=M==null?[]:[M]),N=W?r:N,Ar(N)||(N=N==null?[]:[N]),BP(E,M,N))}var Ohe=ub(function(E,M,N){E[N?0:1].push(M)},function(){return[[],[]]});function Bhe(E,M,N){var W=Ar(E)?bx:nP,ie=arguments.length<3;return W(E,or(M,4),N,ie,rl)}function Phe(E,M,N){var W=Ar(E)?Kce:nP,ie=arguments.length<3;return W(E,or(M,4),N,ie,EP)}function Nhe(E,M){var N=Ar(E)?Xu:SP;return N(E,Eb(or(M,3)))}function khe(E){var M=Ar(E)?mP:Rue;return M(E)}function Lhe(E,M,N){(N?Ks(E,M,N):M===r)?M=1:M=Rr(M);var W=Ar(E)?sue:Tue;return W(E,M)}function Dhe(E){var M=Ar(E)?oue:Cue;return M(E)}function Uhe(E){if(E==null)return 0;if(fo(E))return Ab(E)?e0(E):E.length;var M=Es(E);return M==le||M==Ie?E.size:Dx(E).length}function Fhe(E,M,N){var W=Ar(E)?wx:Oue;return N&&Ks(E,M,N)&&(M=r),W(E,or(M,3))}var jhe=Pr(function(E,M){if(E==null)return[];var N=M.length;return N>1&&Ks(E,M[0],M[1])?M=[]:N>2&&Ks(M[0],M[1],M[2])&&(M=[M[0]]),BP(E,rs(M,1),[])}),wb=_fe||function(){return ts.Date.now()};function qhe(E,M){if(typeof M!="function")throw new Yo(o);return E=Rr(E),function(){if(--E<1)return M.apply(this,arguments)}}function IN(E,M,N){return M=N?r:M,M=E&&M==null?E.length:M,Qf(E,V,r,r,r,r,M)}function RN(E,M){var N;if(typeof M!="function")throw new Yo(o);return E=Rr(E),function(){return--E>0&&(N=M.apply(this,arguments)),E<=1&&(M=r),N}}var c3=Pr(function(E,M,N){var W=T;if(N.length){var ie=el(N,c0(c3));W|=F}return Qf(E,W,M,N,ie)}),TN=Pr(function(E,M,N){var W=T|$;if(N.length){var ie=el(N,c0(TN));W|=F}return Qf(M,W,E,N,ie)});function $N(E,M,N){M=N?r:M;var W=Qf(E,D,r,r,r,r,r,M);return W.placeholder=$N.placeholder,W}function CN(E,M,N){M=N?r:M;var W=Qf(E,L,r,r,r,r,r,M);return W.placeholder=CN.placeholder,W}function ON(E,M,N){var W,ie,ce,ve,_e,Ce,ft=0,lt=!1,yt=!1,Ft=!0;if(typeof E!="function")throw new Yo(o);M=ia(M)||0,Jn(N)&&(lt=!!N.leading,yt="maxWait"in N,ce=yt?Ii(ia(N.maxWait)||0,M):ce,Ft="trailing"in N?!!N.trailing:Ft);function Xt(gi){var Za=W,tu=ie;return W=ie=r,ft=gi,ve=E.apply(tu,Za),ve}function fr(gi){return ft=gi,_e=Sv(Ur,M),lt?Xt(gi):ve}function $r(gi){var Za=gi-Ce,tu=gi-ft,ZN=M-Za;return yt?_s(ZN,ce-tu):ZN}function ur(gi){var Za=gi-Ce,tu=gi-ft;return Ce===r||Za>=M||Za<0||yt&&tu>=ce}function Ur(){var gi=wb();if(ur(gi))return Qr(gi);_e=Sv(Ur,$r(gi))}function Qr(gi){return _e=r,Ft&&W?Xt(gi):(W=ie=r,ve)}function Bo(){_e!==r&&qP(_e),ft=0,W=Ce=ie=_e=r}function Gs(){return _e===r?ve:Qr(wb())}function Po(){var gi=wb(),Za=ur(gi);if(W=arguments,ie=this,Ce=gi,Za){if(_e===r)return fr(Ce);if(yt)return qP(_e),_e=Sv(Ur,M),Xt(Ce)}return _e===r&&(_e=Sv(Ur,M)),ve}return Po.cancel=Bo,Po.flush=Gs,Po}var zhe=Pr(function(E,M){return _P(E,1,M)}),Hhe=Pr(function(E,M,N){return _P(E,ia(M)||0,N)});function Vhe(E){return Qf(E,Z)}function _b(E,M){if(typeof E!="function"||M!=null&&typeof M!="function")throw new Yo(o);var N=function(){var W=arguments,ie=M?M.apply(this,W):W[0],ce=N.cache;if(ce.has(ie))return ce.get(ie);var ve=E.apply(this,W);return N.cache=ce.set(ie,ve)||ce,ve};return N.cache=new(_b.Cache||Wf),N}_b.Cache=Wf;function Eb(E){if(typeof E!="function")throw new Yo(o);return function(){var M=arguments;switch(M.length){case 0:return!E.call(this);case 1:return!E.call(this,M[0]);case 2:return!E.call(this,M[0],M[1]);case 3:return!E.call(this,M[0],M[1],M[2])}return!E.apply(this,M)}}function Khe(E){return RN(2,E)}var Ghe=Bue(function(E,M){M=M.length==1&&Ar(M[0])?Hn(M[0],$o(or())):Hn(rs(M,1),$o(or()));var N=M.length;return Pr(function(W){for(var ie=-1,ce=_s(W.length,N);++ie<ce;)W[ie]=M[ie].call(this,W[ie]);return To(E,this,W)})}),f3=Pr(function(E,M){var N=el(M,c0(f3));return Qf(E,F,r,M,N)}),BN=Pr(function(E,M){var N=el(M,c0(BN));return Qf(E,H,r,M,N)}),Whe=Zf(function(E,M){return Qf(E,J,r,r,r,M)});function Jhe(E,M){if(typeof E!="function")throw new Yo(o);return M=M===r?M:Rr(M),Pr(E,M)}function Qhe(E,M){if(typeof E!="function")throw new Yo(o);return M=M==null?0:Ii(Rr(M),0),Pr(function(N){var W=N[M],ie=sl(N,0,M);return W&&Yu(ie,W),To(E,this,ie)})}function Zhe(E,M,N){var W=!0,ie=!0;if(typeof E!="function")throw new Yo(o);return Jn(N)&&(W="leading"in N?!!N.leading:W,ie="trailing"in N?!!N.trailing:ie),ON(E,M,{leading:W,maxWait:M,trailing:ie})}function Xhe(E){return IN(E,1)}function Yhe(E,M){return f3(Gx(M),E)}function ede(){if(!arguments.length)return[];var E=arguments[0];return Ar(E)?E:[E]}function tde(E){return ta(E,x)}function rde(E,M){return M=typeof M=="function"?M:r,ta(E,x,M)}function nde(E){return ta(E,b|x)}function ide(E,M){return M=typeof M=="function"?M:r,ta(E,b|x,M)}function sde(E,M){return M==null||wP(E,M,Li(M))}function Qa(E,M){return E===M||E!==E&&M!==M}var ode=pb(Nx),ade=pb(function(E,M){return E>=M}),Mh=MP(function(){return arguments}())?MP:function(E){return ri(E)&&gn.call(E,"callee")&&!hP.call(E,"callee")},Ar=Je.isArray,cde=GB?$o(GB):vue;function fo(E){return E!=null&&Sb(E.length)&&!Yf(E)}function pi(E){return ri(E)&&fo(E)}function fde(E){return E===!0||E===!1||ri(E)&&Vs(E)==U}var ol=Sfe||w3,ude=WB?$o(WB):yue;function lde(E){return ri(E)&&E.nodeType===1&&!Av(E)}function hde(E){if(E==null)return!0;if(fo(E)&&(Ar(E)||typeof E=="string"||typeof E.splice=="function"||ol(E)||f0(E)||Mh(E)))return!E.length;var M=Es(E);if(M==le||M==Ie)return!E.size;if(Ev(E))return!Dx(E).length;for(var N in E)if(gn.call(E,N))return!1;return!0}function dde(E,M){return bv(E,M)}function pde(E,M,N){N=typeof N=="function"?N:r;var W=N?N(E,M):r;return W===r?bv(E,M,r,N):!!W}function u3(E){if(!ri(E))return!1;var M=Vs(E);return M==X||M==Y||typeof E.message=="string"&&typeof E.name=="string"&&!Av(E)}function gde(E){return typeof E=="number"&&pP(E)}function Yf(E){if(!Jn(E))return!1;var M=Vs(E);return M==G||M==ne||M==B||M==he}function PN(E){return typeof E=="number"&&E==Rr(E)}function Sb(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=_}function Jn(E){var M=typeof E;return E!=null&&(M=="object"||M=="function")}function ri(E){return E!=null&&typeof E=="object"}var NN=JB?$o(JB):bue;function vde(E,M){return E===M||Lx(E,M,e3(M))}function yde(E,M,N){return N=typeof N=="function"?N:r,Lx(E,M,e3(M),N)}function mde(E){return kN(E)&&E!=+E}function bde(E){if(rle(E))throw new Sr(i);return IP(E)}function wde(E){return E===null}function _de(E){return E==null}function kN(E){return typeof E=="number"||ri(E)&&Vs(E)==de}function Av(E){if(!ri(E)||Vs(E)!=rt)return!1;var M=Q1(E);if(M===null)return!0;var N=gn.call(M,"constructor")&&M.constructor;return typeof N=="function"&&N instanceof N&&K1.call(N)==yfe}var l3=QB?$o(QB):wue;function Ede(E){return PN(E)&&E>=-_&&E<=_}var LN=ZB?$o(ZB):_ue;function Ab(E){return typeof E=="string"||!Ar(E)&&ri(E)&&Vs(E)==ke}function Oo(E){return typeof E=="symbol"||ri(E)&&Vs(E)==$t}var f0=XB?$o(XB):Eue;function Sde(E){return E===r}function Ade(E){return ri(E)&&Es(E)==ue}function xde(E){return ri(E)&&Vs(E)==je}var Mde=pb(Ux),Ide=pb(function(E,M){return E<=M});function DN(E){if(!E)return[];if(fo(E))return Ab(E)?Wa(E):co(E);if(lv&&E[lv])return sfe(E[lv]());var M=Es(E),N=M==le?Mx:M==Ie?z1:u0;return N(E)}function eu(E){if(!E)return E===0?E:0;if(E=ia(E),E===w||E===-w){var M=E<0?-1:1;return M*g}return E===E?E:0}function Rr(E){var M=eu(E),N=M%1;return M===M?N?M-N:M:0}function UN(E){return E?Eh(Rr(E),0,m):0}function ia(E){if(typeof E=="number")return E;if(Oo(E))return f;if(Jn(E)){var M=typeof E.valueOf=="function"?E.valueOf():E;E=Jn(M)?M+"":M}if(typeof E!="string")return E===0?E:+E;E=iP(E);var N=Vt.test(E);return N||Ct.test(E)?qce(E.slice(2),N?2:8):nt.test(E)?f:+E}function FN(E){return zc(E,uo(E))}function Rde(E){return E?Eh(Rr(E),-_,_):E===0?E:0}function ln(E){return E==null?"":Co(E)}var Tde=o0(function(E,M){if(Ev(M)||fo(M)){zc(M,Li(M),E);return}for(var N in M)gn.call(M,N)&&vv(E,N,M[N])}),jN=o0(function(E,M){zc(M,uo(M),E)}),xb=o0(function(E,M,N,W){zc(M,uo(M),E,W)}),$de=o0(function(E,M,N,W){zc(M,Li(M),E,W)}),Cde=Zf(Ox);function Ode(E,M){var N=s0(E);return M==null?N:bP(N,M)}var Bde=Pr(function(E,M){E=Sn(E);var N=-1,W=M.length,ie=W>2?M[2]:r;for(ie&&Ks(M[0],M[1],ie)&&(W=1);++N<W;)for(var ce=M[N],ve=uo(ce),_e=-1,Ce=ve.length;++_e<Ce;){var ft=ve[_e],lt=E[ft];(lt===r||Qa(lt,r0[ft])&&!gn.call(E,ft))&&(E[ft]=ce[ft])}return E}),Pde=Pr(function(E){return E.push(r,iN),To(qN,r,E)});function Nde(E,M){return eP(E,or(M,3),qc)}function kde(E,M){return eP(E,or(M,3),Px)}function Lde(E,M){return E==null?E:Bx(E,or(M,3),uo)}function Dde(E,M){return E==null?E:AP(E,or(M,3),uo)}function Ude(E,M){return E&&qc(E,or(M,3))}function Fde(E,M){return E&&Px(E,or(M,3))}function jde(E){return E==null?[]:ob(E,Li(E))}function qde(E){return E==null?[]:ob(E,uo(E))}function h3(E,M,N){var W=E==null?r:Sh(E,M);return W===r?N:W}function zde(E,M){return E!=null&&aN(E,M,hue)}function d3(E,M){return E!=null&&aN(E,M,due)}var Hde=YP(function(E,M,N){M!=null&&typeof M.toString!="function"&&(M=G1.call(M)),E[M]=N},g3(lo)),Vde=YP(function(E,M,N){M!=null&&typeof M.toString!="function"&&(M=G1.call(M)),gn.call(E,M)?E[M].push(N):E[M]=[N]},or),Kde=Pr(mv);function Li(E){return fo(E)?yP(E):Dx(E)}function uo(E){return fo(E)?yP(E,!0):Sue(E)}function Gde(E,M){var N={};return M=or(M,3),qc(E,function(W,ie,ce){Jf(N,M(W,ie,ce),W)}),N}function Wde(E,M){var N={};return M=or(M,3),qc(E,function(W,ie,ce){Jf(N,ie,M(W,ie,ce))}),N}var Jde=o0(function(E,M,N){ab(E,M,N)}),qN=o0(function(E,M,N,W){ab(E,M,N,W)}),Qde=Zf(function(E,M){var N={};if(E==null)return N;var W=!1;M=Hn(M,function(ce){return ce=il(ce,E),W||(W=ce.length>1),ce}),zc(E,Xx(E),N),W&&(N=ta(N,b|A|x,Hue));for(var ie=M.length;ie--;)Hx(N,M[ie]);return N});function Zde(E,M){return zN(E,Eb(or(M)))}var Xde=Zf(function(E,M){return E==null?{}:xue(E,M)});function zN(E,M){if(E==null)return{};var N=Hn(Xx(E),function(W){return[W]});return M=or(M),PP(E,N,function(W,ie){return M(W,ie[0])})}function Yde(E,M,N){M=il(M,E);var W=-1,ie=M.length;for(ie||(ie=1,E=r);++W<ie;){var ce=E==null?r:E[Hc(M[W])];ce===r&&(W=ie,ce=N),E=Yf(ce)?ce.call(E):ce}return E}function e0e(E,M,N){return E==null?E:wv(E,M,N)}function t0e(E,M,N,W){return W=typeof W=="function"?W:r,E==null?E:wv(E,M,N,W)}var HN=rN(Li),VN=rN(uo);function r0e(E,M,N){var W=Ar(E),ie=W||ol(E)||f0(E);if(M=or(M,4),N==null){var ce=E&&E.constructor;ie?N=W?new ce:[]:Jn(E)?N=Yf(ce)?s0(Q1(E)):{}:N={}}return(ie?Xo:qc)(E,function(ve,_e,Ce){return M(N,ve,_e,Ce)}),N}function n0e(E,M){return E==null?!0:Hx(E,M)}function i0e(E,M,N){return E==null?E:UP(E,M,Gx(N))}function s0e(E,M,N,W){return W=typeof W=="function"?W:r,E==null?E:UP(E,M,Gx(N),W)}function u0(E){return E==null?[]:xx(E,Li(E))}function o0e(E){return E==null?[]:xx(E,uo(E))}function a0e(E,M,N){return N===r&&(N=M,M=r),N!==r&&(N=ia(N),N=N===N?N:0),M!==r&&(M=ia(M),M=M===M?M:0),Eh(ia(E),M,N)}function c0e(E,M,N){return M=eu(M),N===r?(N=M,M=0):N=eu(N),E=ia(E),pue(E,M,N)}function f0e(E,M,N){if(N&&typeof N!="boolean"&&Ks(E,M,N)&&(M=N=r),N===r&&(typeof M=="boolean"?(N=M,M=r):typeof E=="boolean"&&(N=E,E=r)),E===r&&M===r?(E=0,M=1):(E=eu(E),M===r?(M=E,E=0):M=eu(M)),E>M){var W=E;E=M,M=W}if(N||E%1||M%1){var ie=gP();return _s(E+ie*(M-E+jce("1e-"+((ie+"").length-1))),M)}return jx(E,M)}var u0e=a0(function(E,M,N){return M=M.toLowerCase(),E+(N?KN(M):M)});function KN(E){return p3(ln(E).toLowerCase())}function GN(E){return E=ln(E),E&&E.replace(kt,efe).replace(Cce,"")}function l0e(E,M,N){E=ln(E),M=Co(M);var W=E.length;N=N===r?W:Eh(Rr(N),0,W);var ie=N;return N-=M.length,N>=0&&E.slice(N,ie)==M}function h0e(E){return E=ln(E),E&&rr.test(E)?E.replace(ze,tfe):E}function d0e(E){return E=ln(E),E&&Ye.test(E)?E.replace(Pe,"\\$&"):E}var p0e=a0(function(E,M,N){return E+(N?"-":"")+M.toLowerCase()}),g0e=a0(function(E,M,N){return E+(N?" ":"")+M.toLowerCase()}),v0e=QP("toLowerCase");function y0e(E,M,N){E=ln(E),M=Rr(M);var W=M?e0(E):0;if(!M||W>=M)return E;var ie=(M-W)/2;return db(eb(ie),N)+E+db(Y1(ie),N)}function m0e(E,M,N){E=ln(E),M=Rr(M);var W=M?e0(E):0;return M&&W<M?E+db(M-W,N):E}function b0e(E,M,N){E=ln(E),M=Rr(M);var W=M?e0(E):0;return M&&W<M?db(M-W,N)+E:E}function w0e(E,M,N){return N||M==null?M=0:M&&(M=+M),Ife(ln(E).replace(Q,""),M||0)}function _0e(E,M,N){return(N?Ks(E,M,N):M===r)?M=1:M=Rr(M),qx(ln(E),M)}function E0e(){var E=arguments,M=ln(E[0]);return E.length<3?M:M.replace(E[1],E[2])}var S0e=a0(function(E,M,N){return E+(N?"_":"")+M.toLowerCase()});function A0e(E,M,N){return N&&typeof N!="number"&&Ks(E,M,N)&&(M=N=r),N=N===r?m:N>>>0,N?(E=ln(E),E&&(typeof M=="string"||M!=null&&!l3(M))&&(M=Co(M),!M&&Yd(E))?sl(Wa(E),0,N):E.split(M,N)):[]}var x0e=a0(function(E,M,N){return E+(N?" ":"")+p3(M)});function M0e(E,M,N){return E=ln(E),N=N==null?0:Eh(Rr(N),0,E.length),M=Co(M),E.slice(N,N+M.length)==M}function I0e(E,M,N){var W=oe.templateSettings;N&&Ks(E,M,N)&&(M=r),E=ln(E),M=xb({},M,W,nN);var ie=xb({},M.imports,W.imports,nN),ce=Li(ie),ve=xx(ie,ce),_e,Ce,ft=0,lt=M.interpolate||Lt,yt="__p += '",Ft=Ix((M.escape||Lt).source+"|"+lt.source+"|"+(lt===cr?be:Lt).source+"|"+(M.evaluate||Lt).source+"|$","g"),Xt="//# sourceURL="+(gn.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kce+"]")+`
`;E.replace(Ft,function(ur,Ur,Qr,Bo,Gs,Po){return Qr||(Qr=Bo),yt+=E.slice(ft,Po).replace(Dt,rfe),Ur&&(_e=!0,yt+=`' +
__e(`+Ur+`) +
'`),Gs&&(Ce=!0,yt+=`';
`+Gs+`;
__p += '`),Qr&&(yt+=`' +
((__t = (`+Qr+`)) == null ? '' : __t) +
'`),ft=Po+ur.length,ur}),yt+=`';
`;var fr=gn.call(M,"variable")&&M.variable;if(!fr)yt=`with (obj) {
`+yt+`
}
`;else if(Se.test(fr))throw new Sr(c);yt=(Ce?yt.replace(sr,""):yt).replace(Ue,"$1").replace(Ze,"$1;"),yt="function("+(fr||"obj")+`) {
`+(fr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_e?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var $r=JN(function(){return fn(ce,Xt+"return "+yt).apply(r,ve)});if($r.source=yt,u3($r))throw $r;return $r}function R0e(E){return ln(E).toLowerCase()}function T0e(E){return ln(E).toUpperCase()}function $0e(E,M,N){if(E=ln(E),E&&(N||M===r))return iP(E);if(!E||!(M=Co(M)))return E;var W=Wa(E),ie=Wa(M),ce=sP(W,ie),ve=oP(W,ie)+1;return sl(W,ce,ve).join("")}function C0e(E,M,N){if(E=ln(E),E&&(N||M===r))return E.slice(0,cP(E)+1);if(!E||!(M=Co(M)))return E;var W=Wa(E),ie=oP(W,Wa(M))+1;return sl(W,0,ie).join("")}function O0e(E,M,N){if(E=ln(E),E&&(N||M===r))return E.replace(Q,"");if(!E||!(M=Co(M)))return E;var W=Wa(E),ie=sP(W,Wa(M));return sl(W,ie).join("")}function B0e(E,M){var N=se,W=S;if(Jn(M)){var ie="separator"in M?M.separator:ie;N="length"in M?Rr(M.length):N,W="omission"in M?Co(M.omission):W}E=ln(E);var ce=E.length;if(Yd(E)){var ve=Wa(E);ce=ve.length}if(N>=ce)return E;var _e=N-e0(W);if(_e<1)return W;var Ce=ve?sl(ve,0,_e).join(""):E.slice(0,_e);if(ie===r)return Ce+W;if(ve&&(_e+=Ce.length-_e),l3(ie)){if(E.slice(_e).search(ie)){var ft,lt=Ce;for(ie.global||(ie=Ix(ie.source,ln(ut.exec(ie))+"g")),ie.lastIndex=0;ft=ie.exec(lt);)var yt=ft.index;Ce=Ce.slice(0,yt===r?_e:yt)}}else if(E.indexOf(Co(ie),_e)!=_e){var Ft=Ce.lastIndexOf(ie);Ft>-1&&(Ce=Ce.slice(0,Ft))}return Ce+W}function P0e(E){return E=ln(E),E&&et.test(E)?E.replace(hr,ffe):E}var N0e=a0(function(E,M,N){return E+(N?" ":"")+M.toUpperCase()}),p3=QP("toUpperCase");function WN(E,M,N){return E=ln(E),M=N?r:M,M===r?ife(E)?hfe(E):Jce(E):E.match(M)||[]}var JN=Pr(function(E,M){try{return To(E,r,M)}catch(N){return u3(N)?N:new Sr(N)}}),k0e=Zf(function(E,M){return Xo(M,function(N){N=Hc(N),Jf(E,N,c3(E[N],E))}),E});function L0e(E){var M=E==null?0:E.length,N=or();return E=M?Hn(E,function(W){if(typeof W[1]!="function")throw new Yo(o);return[N(W[0]),W[1]]}):[],Pr(function(W){for(var ie=-1;++ie<M;){var ce=E[ie];if(To(ce[0],this,W))return To(ce[1],this,W)}})}function D0e(E){return fue(ta(E,b))}function g3(E){return function(){return E}}function U0e(E,M){return E==null||E!==E?M:E}var F0e=XP(),j0e=XP(!0);function lo(E){return E}function v3(E){return RP(typeof E=="function"?E:ta(E,b))}function q0e(E){return $P(ta(E,b))}function z0e(E,M){return CP(E,ta(M,b))}var H0e=Pr(function(E,M){return function(N){return mv(N,E,M)}}),V0e=Pr(function(E,M){return function(N){return mv(E,N,M)}});function y3(E,M,N){var W=Li(M),ie=ob(M,W);N==null&&!(Jn(M)&&(ie.length||!W.length))&&(N=M,M=E,E=this,ie=ob(M,Li(M)));var ce=!(Jn(N)&&"chain"in N)||!!N.chain,ve=Yf(E);return Xo(ie,function(_e){var Ce=M[_e];E[_e]=Ce,ve&&(E.prototype[_e]=function(){var ft=this.__chain__;if(ce||ft){var lt=E(this.__wrapped__),yt=lt.__actions__=co(this.__actions__);return yt.push({func:Ce,args:arguments,thisArg:E}),lt.__chain__=ft,lt}return Ce.apply(E,Yu([this.value()],arguments))})}),E}function K0e(){return ts._===this&&(ts._=mfe),this}function m3(){}function G0e(E){return E=Rr(E),Pr(function(M){return OP(M,E)})}var W0e=Jx(Hn),J0e=Jx(YB),Q0e=Jx(wx);function QN(E){return r3(E)?_x(Hc(E)):Mue(E)}function Z0e(E){return function(M){return E==null?r:Sh(E,M)}}var X0e=eN(),Y0e=eN(!0);function b3(){return[]}function w3(){return!1}function epe(){return{}}function tpe(){return""}function rpe(){return!0}function npe(E,M){if(E=Rr(E),E<1||E>_)return[];var N=m,W=_s(E,m);M=or(M),E-=m;for(var ie=Ax(W,M);++N<E;)M(N);return ie}function ipe(E){return Ar(E)?Hn(E,Hc):Oo(E)?[E]:co(vN(ln(E)))}function spe(E){var M=++vfe;return ln(E)+M}var ope=hb(function(E,M){return E+M},0),ape=Qx("ceil"),cpe=hb(function(E,M){return E/M},1),fpe=Qx("floor");function upe(E){return E&&E.length?sb(E,lo,Nx):r}function lpe(E,M){return E&&E.length?sb(E,or(M,2),Nx):r}function hpe(E){return rP(E,lo)}function dpe(E,M){return rP(E,or(M,2))}function ppe(E){return E&&E.length?sb(E,lo,Ux):r}function gpe(E,M){return E&&E.length?sb(E,or(M,2),Ux):r}var vpe=hb(function(E,M){return E*M},1),ype=Qx("round"),mpe=hb(function(E,M){return E-M},0);function bpe(E){return E&&E.length?Sx(E,lo):0}function wpe(E,M){return E&&E.length?Sx(E,or(M,2)):0}return oe.after=qhe,oe.ary=IN,oe.assign=Tde,oe.assignIn=jN,oe.assignInWith=xb,oe.assignWith=$de,oe.at=Cde,oe.before=RN,oe.bind=c3,oe.bindAll=k0e,oe.bindKey=TN,oe.castArray=ede,oe.chain=AN,oe.chunk=fle,oe.compact=ule,oe.concat=lle,oe.cond=L0e,oe.conforms=D0e,oe.constant=g3,oe.countBy=bhe,oe.create=Ode,oe.curry=$N,oe.curryRight=CN,oe.debounce=ON,oe.defaults=Bde,oe.defaultsDeep=Pde,oe.defer=zhe,oe.delay=Hhe,oe.difference=hle,oe.differenceBy=dle,oe.differenceWith=ple,oe.drop=gle,oe.dropRight=vle,oe.dropRightWhile=yle,oe.dropWhile=mle,oe.fill=ble,oe.filter=_he,oe.flatMap=Ahe,oe.flatMapDeep=xhe,oe.flatMapDepth=Mhe,oe.flatten=wN,oe.flattenDeep=wle,oe.flattenDepth=_le,oe.flip=Vhe,oe.flow=F0e,oe.flowRight=j0e,oe.fromPairs=Ele,oe.functions=jde,oe.functionsIn=qde,oe.groupBy=Ihe,oe.initial=Ale,oe.intersection=xle,oe.intersectionBy=Mle,oe.intersectionWith=Ile,oe.invert=Hde,oe.invertBy=Vde,oe.invokeMap=The,oe.iteratee=v3,oe.keyBy=$he,oe.keys=Li,oe.keysIn=uo,oe.map=bb,oe.mapKeys=Gde,oe.mapValues=Wde,oe.matches=q0e,oe.matchesProperty=z0e,oe.memoize=_b,oe.merge=Jde,oe.mergeWith=qN,oe.method=H0e,oe.methodOf=V0e,oe.mixin=y3,oe.negate=Eb,oe.nthArg=G0e,oe.omit=Qde,oe.omitBy=Zde,oe.once=Khe,oe.orderBy=Che,oe.over=W0e,oe.overArgs=Ghe,oe.overEvery=J0e,oe.overSome=Q0e,oe.partial=f3,oe.partialRight=BN,oe.partition=Ohe,oe.pick=Xde,oe.pickBy=zN,oe.property=QN,oe.propertyOf=Z0e,oe.pull=Cle,oe.pullAll=EN,oe.pullAllBy=Ole,oe.pullAllWith=Ble,oe.pullAt=Ple,oe.range=X0e,oe.rangeRight=Y0e,oe.rearg=Whe,oe.reject=Nhe,oe.remove=Nle,oe.rest=Jhe,oe.reverse=o3,oe.sampleSize=Lhe,oe.set=e0e,oe.setWith=t0e,oe.shuffle=Dhe,oe.slice=kle,oe.sortBy=jhe,oe.sortedUniq=zle,oe.sortedUniqBy=Hle,oe.split=A0e,oe.spread=Qhe,oe.tail=Vle,oe.take=Kle,oe.takeRight=Gle,oe.takeRightWhile=Wle,oe.takeWhile=Jle,oe.tap=uhe,oe.throttle=Zhe,oe.thru=mb,oe.toArray=DN,oe.toPairs=HN,oe.toPairsIn=VN,oe.toPath=ipe,oe.toPlainObject=FN,oe.transform=r0e,oe.unary=Xhe,oe.union=Qle,oe.unionBy=Zle,oe.unionWith=Xle,oe.uniq=Yle,oe.uniqBy=ehe,oe.uniqWith=the,oe.unset=n0e,oe.unzip=a3,oe.unzipWith=SN,oe.update=i0e,oe.updateWith=s0e,oe.values=u0,oe.valuesIn=o0e,oe.without=rhe,oe.words=WN,oe.wrap=Yhe,oe.xor=nhe,oe.xorBy=ihe,oe.xorWith=she,oe.zip=ohe,oe.zipObject=ahe,oe.zipObjectDeep=che,oe.zipWith=fhe,oe.entries=HN,oe.entriesIn=VN,oe.extend=jN,oe.extendWith=xb,y3(oe,oe),oe.add=ope,oe.attempt=JN,oe.camelCase=u0e,oe.capitalize=KN,oe.ceil=ape,oe.clamp=a0e,oe.clone=tde,oe.cloneDeep=nde,oe.cloneDeepWith=ide,oe.cloneWith=rde,oe.conformsTo=sde,oe.deburr=GN,oe.defaultTo=U0e,oe.divide=cpe,oe.endsWith=l0e,oe.eq=Qa,oe.escape=h0e,oe.escapeRegExp=d0e,oe.every=whe,oe.find=Ehe,oe.findIndex=mN,oe.findKey=Nde,oe.findLast=She,oe.findLastIndex=bN,oe.findLastKey=kde,oe.floor=fpe,oe.forEach=xN,oe.forEachRight=MN,oe.forIn=Lde,oe.forInRight=Dde,oe.forOwn=Ude,oe.forOwnRight=Fde,oe.get=h3,oe.gt=ode,oe.gte=ade,oe.has=zde,oe.hasIn=d3,oe.head=_N,oe.identity=lo,oe.includes=Rhe,oe.indexOf=Sle,oe.inRange=c0e,oe.invoke=Kde,oe.isArguments=Mh,oe.isArray=Ar,oe.isArrayBuffer=cde,oe.isArrayLike=fo,oe.isArrayLikeObject=pi,oe.isBoolean=fde,oe.isBuffer=ol,oe.isDate=ude,oe.isElement=lde,oe.isEmpty=hde,oe.isEqual=dde,oe.isEqualWith=pde,oe.isError=u3,oe.isFinite=gde,oe.isFunction=Yf,oe.isInteger=PN,oe.isLength=Sb,oe.isMap=NN,oe.isMatch=vde,oe.isMatchWith=yde,oe.isNaN=mde,oe.isNative=bde,oe.isNil=_de,oe.isNull=wde,oe.isNumber=kN,oe.isObject=Jn,oe.isObjectLike=ri,oe.isPlainObject=Av,oe.isRegExp=l3,oe.isSafeInteger=Ede,oe.isSet=LN,oe.isString=Ab,oe.isSymbol=Oo,oe.isTypedArray=f0,oe.isUndefined=Sde,oe.isWeakMap=Ade,oe.isWeakSet=xde,oe.join=Rle,oe.kebabCase=p0e,oe.last=na,oe.lastIndexOf=Tle,oe.lowerCase=g0e,oe.lowerFirst=v0e,oe.lt=Mde,oe.lte=Ide,oe.max=upe,oe.maxBy=lpe,oe.mean=hpe,oe.meanBy=dpe,oe.min=ppe,oe.minBy=gpe,oe.stubArray=b3,oe.stubFalse=w3,oe.stubObject=epe,oe.stubString=tpe,oe.stubTrue=rpe,oe.multiply=vpe,oe.nth=$le,oe.noConflict=K0e,oe.noop=m3,oe.now=wb,oe.pad=y0e,oe.padEnd=m0e,oe.padStart=b0e,oe.parseInt=w0e,oe.random=f0e,oe.reduce=Bhe,oe.reduceRight=Phe,oe.repeat=_0e,oe.replace=E0e,oe.result=Yde,oe.round=ype,oe.runInContext=Te,oe.sample=khe,oe.size=Uhe,oe.snakeCase=S0e,oe.some=Fhe,oe.sortedIndex=Lle,oe.sortedIndexBy=Dle,oe.sortedIndexOf=Ule,oe.sortedLastIndex=Fle,oe.sortedLastIndexBy=jle,oe.sortedLastIndexOf=qle,oe.startCase=x0e,oe.startsWith=M0e,oe.subtract=mpe,oe.sum=bpe,oe.sumBy=wpe,oe.template=I0e,oe.times=npe,oe.toFinite=eu,oe.toInteger=Rr,oe.toLength=UN,oe.toLower=R0e,oe.toNumber=ia,oe.toSafeInteger=Rde,oe.toString=ln,oe.toUpper=T0e,oe.trim=$0e,oe.trimEnd=C0e,oe.trimStart=O0e,oe.truncate=B0e,oe.unescape=P0e,oe.uniqueId=spe,oe.upperCase=N0e,oe.upperFirst=p3,oe.each=xN,oe.eachRight=MN,oe.first=_N,y3(oe,function(){var E={};return qc(oe,function(M,N){gn.call(oe.prototype,N)||(E[N]=M)}),E}(),{chain:!1}),oe.VERSION=n,Xo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(E){oe[E].placeholder=oe}),Xo(["drop","take"],function(E,M){Hr.prototype[E]=function(N){N=N===r?1:Ii(Rr(N),0);var W=this.__filtered__&&!M?new Hr(this):this.clone();return W.__filtered__?W.__takeCount__=_s(N,W.__takeCount__):W.__views__.push({size:_s(N,m),type:E+(W.__dir__<0?"Right":"")}),W},Hr.prototype[E+"Right"]=function(N){return this.reverse()[E](N).reverse()}}),Xo(["filter","map","takeWhile"],function(E,M){var N=M+1,W=N==h||N==y;Hr.prototype[E]=function(ie){var ce=this.clone();return ce.__iteratees__.push({iteratee:or(ie,3),type:N}),ce.__filtered__=ce.__filtered__||W,ce}}),Xo(["head","last"],function(E,M){var N="take"+(M?"Right":"");Hr.prototype[E]=function(){return this[N](1).value()[0]}}),Xo(["initial","tail"],function(E,M){var N="drop"+(M?"":"Right");Hr.prototype[E]=function(){return this.__filtered__?new Hr(this):this[N](1)}}),Hr.prototype.compact=function(){return this.filter(lo)},Hr.prototype.find=function(E){return this.filter(E).head()},Hr.prototype.findLast=function(E){return this.reverse().find(E)},Hr.prototype.invokeMap=Pr(function(E,M){return typeof E=="function"?new Hr(this):this.map(function(N){return mv(N,E,M)})}),Hr.prototype.reject=function(E){return this.filter(Eb(or(E)))},Hr.prototype.slice=function(E,M){E=Rr(E);var N=this;return N.__filtered__&&(E>0||M<0)?new Hr(N):(E<0?N=N.takeRight(-E):E&&(N=N.drop(E)),M!==r&&(M=Rr(M),N=M<0?N.dropRight(-M):N.take(M-E)),N)},Hr.prototype.takeRightWhile=function(E){return this.reverse().takeWhile(E).reverse()},Hr.prototype.toArray=function(){return this.take(m)},qc(Hr.prototype,function(E,M){var N=/^(?:filter|find|map|reject)|While$/.test(M),W=/^(?:head|last)$/.test(M),ie=oe[W?"take"+(M=="last"?"Right":""):M],ce=W||/^find/.test(M);ie&&(oe.prototype[M]=function(){var ve=this.__wrapped__,_e=W?[1]:arguments,Ce=ve instanceof Hr,ft=_e[0],lt=Ce||Ar(ve),yt=function(Ur){var Qr=ie.apply(oe,Yu([Ur],_e));return W&&Ft?Qr[0]:Qr};lt&&N&&typeof ft=="function"&&ft.length!=1&&(Ce=lt=!1);var Ft=this.__chain__,Xt=!!this.__actions__.length,fr=ce&&!Ft,$r=Ce&&!Xt;if(!ce&&lt){ve=$r?ve:new Hr(this);var ur=E.apply(ve,_e);return ur.__actions__.push({func:mb,args:[yt],thisArg:r}),new ea(ur,Ft)}return fr&&$r?E.apply(this,_e):(ur=this.thru(yt),fr?W?ur.value()[0]:ur.value():ur)})}),Xo(["pop","push","shift","sort","splice","unshift"],function(E){var M=H1[E],N=/^(?:push|sort|unshift)$/.test(E)?"tap":"thru",W=/^(?:pop|shift)$/.test(E);oe.prototype[E]=function(){var ie=arguments;if(W&&!this.__chain__){var ce=this.value();return M.apply(Ar(ce)?ce:[],ie)}return this[N](function(ve){return M.apply(Ar(ve)?ve:[],ie)})}}),qc(Hr.prototype,function(E,M){var N=oe[M];if(N){var W=N.name+"";gn.call(i0,W)||(i0[W]=[]),i0[W].push({name:M,func:N})}}),i0[lb(r,$).name]=[{name:"wrapper",func:r}],Hr.prototype.clone=Pfe,Hr.prototype.reverse=Nfe,Hr.prototype.value=kfe,oe.prototype.at=lhe,oe.prototype.chain=hhe,oe.prototype.commit=dhe,oe.prototype.next=phe,oe.prototype.plant=vhe,oe.prototype.reverse=yhe,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=mhe,oe.prototype.first=oe.prototype.head,lv&&(oe.prototype[lv]=ghe),oe},t0=dfe();mh?((mh.exports=t0)._=t0,vx._=t0):ts._=t0}).call(He)})(Z_,Z_.exports);var Br=Z_.exports,id={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.Pointer=void 0;function Z$e(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function X$e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Y$e=function(){function t(e){e===void 0&&(e=[""]),this.tokens=e}return t.fromJSON=function(e){var r=e.split("/").map(Z$e);if(r[0]!=="")throw new Error("Invalid JSON Pointer: "+e);return new t(r)},t.prototype.toString=function(){return this.tokens.map(X$e).join("/")},t.prototype.evaluate=function(e){for(var r=null,n="",s=e,i=1,o=this.tokens.length;i<o;i++)r=s,n=this.tokens[i],!(n=="__proto__"||n=="constructor"||n=="prototype")&&(s=(r||{})[n]);return{parent:r,key:n,value:s}},t.prototype.get=function(e){return this.evaluate(e).value},t.prototype.set=function(e,r){for(var n=e,s=1,i=this.tokens.length-1,o=this.tokens[s];s<i;s++)n=(n||{})[o];n&&(n[this.tokens[this.tokens.length-1]]=r)},t.prototype.push=function(e){this.tokens.push(e)},t.prototype.add=function(e){var r=this.tokens.concat(String(e));return new t(r)},t}();t1.Pointer=Y$e;var ai={},QT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(s){return s===void 0?"undefined":s===null?"null":Array.isArray(s)?"array":typeof s}t.objectType=e;function r(s){return s!=null&&typeof s=="object"}function n(s){if(!r(s))return s;if(s.constructor==Array){for(var i=s.length,o=new Array(i),c=0;c<i;c++)o[c]=n(s[c]);return o}if(s.constructor==Date){var l=new Date(+s);return l}var d={};for(var v in s)t.hasOwnProperty.call(s,v)&&(d[v]=n(s[v]));return d}t.clone=n})(QT);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.diffAny=Zs.diffObjects=Zs.diffArrays=Zs.intersection=Zs.subtract=Zs.isDestructive=void 0;var Wy=QT;function eCe(t){var e=t.op;return e==="remove"||e==="replace"||e==="copy"||e==="move"}Zs.isDestructive=eCe;function H8(t,e){var r={};for(var n in t)Wy.hasOwnProperty.call(t,n)&&t[n]!==void 0&&(r[n]=1);for(var s in e)Wy.hasOwnProperty.call(e,s)&&e[s]!==void 0&&delete r[s];return Object.keys(r)}Zs.subtract=H8;function MQ(t){for(var e=t.length,r={},n=0;n<e;n++){var s=t[n];for(var i in s)Wy.hasOwnProperty.call(s,i)&&s[i]!==void 0&&(r[i]=(r[i]||0)+1)}for(var i in r)r[i]<e&&delete r[i];return Object.keys(r)}Zs.intersection=MQ;function tCe(t){return t.op==="add"}function rCe(t){return t.op==="remove"}function w6(t,e){return{operations:t.operations.concat(e),cost:t.cost+1}}function IQ(t,e,r,n){n===void 0&&(n=bS);var s={"0,0":{operations:[],cost:0}};function i(v,b){var A=v+","+b,x=s[A];if(x===void 0){if(v>0&&b>0&&!n(t[v-1],e[b-1],r.add(String(v-1))).length)x=i(v-1,b-1);else{var R=[];if(v>0){var C=i(v-1,b),T={op:"remove",index:v-1};R.push(w6(C,T))}if(b>0){var $=i(v,b-1),O={op:"add",index:v-1,value:e[b-1]};R.push(w6($,O))}if(v>0&&b>0){var D=i(v-1,b-1),L={op:"replace",index:v-1,original:t[v-1],value:e[b-1]};R.push(w6(D,L))}var F=R.sort(function(H,V){return H.cost-V.cost})[0];x=F}s[A]=x}return x}var o=isNaN(t.length)||t.length<=0?0:t.length,c=isNaN(e.length)||e.length<=0?0:e.length,l=i(o,c).operations,d=l.reduce(function(v,b){var A=v[0],x=v[1];if(tCe(b)){var R=b.index+1+x,C=R<o+x?String(R):"-",T={op:b.op,path:r.add(C).toString(),value:b.value};return[A.concat(T),x+1]}else if(rCe(b)){var T={op:b.op,path:r.add(String(b.index+x)).toString()};return[A.concat(T),x-1]}else{var $=r.add(String(b.index+x)),O=n(b.original,b.value,$);return[A.concat.apply(A,O),x]}},[[],0])[0];return d}Zs.diffArrays=IQ;function RQ(t,e,r,n){n===void 0&&(n=bS);var s=[];return H8(t,e).forEach(function(i){s.push({op:"remove",path:r.add(i).toString()})}),H8(e,t).forEach(function(i){s.push({op:"add",path:r.add(i).toString(),value:e[i]})}),MQ([t,e]).forEach(function(i){s.push.apply(s,n(t[i],e[i],r.add(i)))}),s}Zs.diffObjects=RQ;function bS(t,e,r,n){if(n===void 0&&(n=bS),t===e)return[];var s=Wy.objectType(t),i=Wy.objectType(e);return s=="array"&&i=="array"?IQ(t,e,r,n):s=="object"&&i=="object"?RQ(t,e,r,n):[{op:"replace",path:r.toString(),value:e}]}Zs.diffAny=bS;var ZT=He&&He.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ai,"__esModule",{value:!0});ai.apply=ai.InvalidOperationError=ai.test=ai.copy=ai.move=ai.replace=ai.remove=ai.add=ai.TestError=ai.MissingError=void 0;var Fu=t1,TQ=QT,nCe=Zs,wf=function(t){ZT(e,t);function e(r){var n=t.call(this,"Value required at path: "+r)||this;return n.path=r,n.name="MissingError",n}return e}(Error);ai.MissingError=wf;var $Q=function(t){ZT(e,t);function e(r,n){var s=t.call(this,"Test failed: "+r+" != "+n)||this;return s.actual=r,s.expected=n,s.name="TestError",s}return e}(Error);ai.TestError=$Q;function XT(t,e,r){if(Array.isArray(t))if(e=="-")t.push(r);else{var n=parseInt(e,10);t.splice(n,0,r)}else t[e]=r}function CQ(t,e){if(Array.isArray(t)){var r=parseInt(e,10);t.splice(r,1)}else delete t[e]}function OQ(t,e){var r=Fu.Pointer.fromJSON(e.path).evaluate(t);return r.parent===void 0?new wf(e.path):(XT(r.parent,r.key,TQ.clone(e.value)),null)}ai.add=OQ;function BQ(t,e){var r=Fu.Pointer.fromJSON(e.path).evaluate(t);return r.value===void 0?new wf(e.path):(CQ(r.parent,r.key),null)}ai.remove=BQ;function PQ(t,e){var r=Fu.Pointer.fromJSON(e.path).evaluate(t);if(r.parent===null)return new wf(e.path);if(Array.isArray(r.parent)){if(parseInt(r.key,10)>=r.parent.length)return new wf(e.path)}else if(r.value===void 0)return new wf(e.path);return r.parent[r.key]=e.value,null}ai.replace=PQ;function NQ(t,e){var r=Fu.Pointer.fromJSON(e.from).evaluate(t);if(r.value===void 0)return new wf(e.from);var n=Fu.Pointer.fromJSON(e.path).evaluate(t);return n.parent===void 0?new wf(e.path):(CQ(r.parent,r.key),XT(n.parent,n.key,r.value),null)}ai.move=NQ;function kQ(t,e){var r=Fu.Pointer.fromJSON(e.from).evaluate(t);if(r.value===void 0)return new wf(e.from);var n=Fu.Pointer.fromJSON(e.path).evaluate(t);return n.parent===void 0?new wf(e.path):(XT(n.parent,n.key,TQ.clone(r.value)),null)}ai.copy=kQ;function LQ(t,e){var r=Fu.Pointer.fromJSON(e.path).evaluate(t);return nCe.diffAny(r.value,e.value,new Fu.Pointer).length?new $Q(r.value,e.value):null}ai.test=LQ;var DQ=function(t){ZT(e,t);function e(r){var n=t.call(this,"Invalid operation: "+r.op)||this;return n.operation=r,n.name="InvalidOperationError",n}return e}(Error);ai.InvalidOperationError=DQ;function iCe(t,e){switch(e.op){case"add":return OQ(t,e);case"remove":return BQ(t,e);case"replace":return PQ(t,e);case"move":return NQ(t,e);case"copy":return kQ(t,e);case"test":return LQ(t,e)}return new DQ(e)}ai.apply=iCe;Object.defineProperty(id,"__esModule",{value:!0});id.createTests=e$=id.createPatch=aCe=id.applyPatch=void 0;var UQ=t1,sCe=ai,YT=Zs;function oCe(t,e){return e.map(function(r){return sCe.apply(t,r)})}var aCe=id.applyPatch=oCe;function cCe(t){function e(r,n,s){var i=t(r,n,s);return Array.isArray(i)?i:YT.diffAny(r,n,s,e)}return e}function fCe(t,e,r){var n=new UQ.Pointer;return(r?cCe(r):YT.diffAny)(t,e,n)}var e$=id.createPatch=fCe;function rL(t,e){var r=UQ.Pointer.fromJSON(e).evaluate(t);if(r!==void 0)return{op:"test",path:e,value:r.value}}function uCe(t,e){var r=new Array;return e.filter(YT.isDestructive).forEach(function(n){var s=rL(t,n.path);if(s&&r.push(s),"from"in n){var i=rL(t,n.from);i&&r.push(i)}}),r}id.createTests=uCe;class FQ extends zn.ObservableStore{constructor(r){super({});Oe(this,"_children");Oe(this,"_childrenListeners");this._childrenListeners=new Map,this._children=r||{},Object.keys(this._children).forEach(n=>{const s=this._children[n];this._addChild(n,s)})}_addChild(r,n){const s=i=>{const o=this.getState();o[r]=i,this.putState(o)};this._childrenListeners.set(r,s),n.subscribe(s),s(n.getState())}_unsubscribeChildren(){for(const r in this._children)this._children[r].unsubscribe(this._childrenListeners.get(r));this._childrenListeners.clear()}destroy(){this._unsubscribeChildren(),this.removeAllListeners()}}var lCe=Object.defineProperty,hCe=Object.getOwnPropertyDescriptor,dCe=(t,e,r,n)=>{for(var s=n>1?void 0:n?hCe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&lCe(e,r,s),s};let V8=class{constructor(){Oe(this,"_store");Oe(this,"_emitter");Oe(this,"timerId");Oe(this,"_currentState");Oe(this,"_formatters",{});this._emitter=new Uu,this._store=new FQ({}),this._store.subscribe(this.handleUpdateStore.bind(this)),this.updateState()}get state(){return this._currentState}onUpdateState(t){return this._emitter.on("updateState",t),()=>this._emitter.removeListener("update",t)}connect(t,e,r){this._formatters[t]&&console.warn(`[State] Key ${t} already exists`),this._formatters[t]=r,this._store._addChild(t,e)}destroy(){this._emitter.removeAllListeners(),this._store.destroy()}withPrefix(t){return new J$e(this,Array.isArray(t)?t:[t])}handleUpdateStore(){this.timerId===void 0&&(this.timerId=setTimeout(()=>{this.updateState(),this.timerId=void 0}))}updateState(){const t=this._store.getState(),e=Br.mapValues(t,(n,s)=>this._formatters[s]?this._formatters[s](n):n),r=e$(this._currentState,e);this._currentState=Br.cloneDeep(e),r&&r.length>0&&this._emitter.emit("updateState",{state:Br.cloneDeep(this._currentState),patch:r})}};V8=dCe([Lr()],V8);const pCe=1e3;function gCe(t=pCe){return Fd.createAsyncMiddleware(async(e,r,n)=>{const s=e.connectionContext;try{if(s.requestsCounter++,s.requestsCounter>=t)throw new Error("Too many active requests");await n()}catch(i){r.error=i}finally{s.requestsCounter--}})}var t$={exports:{}},vCe=jQ;function jQ(t,e){if(t&&e)return jQ(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var i=t.apply(this,n),o=n[n.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(c){i[c]=o[c]}),i}}var qQ=vCe;t$.exports=qQ(Jw);t$.exports.strict=qQ(zQ);Jw.proto=Jw(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Jw(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return zQ(this)},configurable:!0})});function Jw(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function zQ(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}var yCe=t$.exports,mCe=yCe,bCe=function(){},wCe=function(t){return t.setHeader&&typeof t.abort=="function"},_Ce=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},HQ=function(t,e,r){if(typeof e=="function")return HQ(t,null,e);e||(e={}),r=mCe(r||bCe);var n=t._writableState,s=t._readableState,i=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,c=!1,l=function(){t.writable||d()},d=function(){o=!1,i||r.call(t)},v=function(){i=!1,o||r.call(t)},b=function(T){r.call(t,T?new Error("exited with error code: "+T):null)},A=function(T){r.call(t,T)},x=function(){mt.nextTick(R)},R=function(){if(!c){if(i&&!(s&&s.ended&&!s.destroyed))return r.call(t,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},C=function(){t.req.on("finish",d)};return wCe(t)?(t.on("complete",d),t.on("abort",x),t.req?C():t.on("request",C)):o&&!n&&(t.on("end",l),t.on("close",l)),_Ce(t)&&t.on("exit",b),t.on("end",v),t.on("finish",d),e.error!==!1&&t.on("error",A),t.on("close",x),function(){c=!0,t.removeListener("complete",d),t.removeListener("abort",x),t.removeListener("request",C),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("exit",b),t.removeListener("end",v),t.removeListener("error",A),t.removeListener("close",x)}},ECe=HQ;const VQ=Mr(ECe);var Jy={},r$={},K8={exports:{}},G8={exports:{}};typeof mt>"u"||!mt.version||mt.version.indexOf("v0.")===0||mt.version.indexOf("v1.")===0&&mt.version.indexOf("v1.8.")!==0?G8.exports={nextTick:SCe}:G8.exports=mt;function SCe(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,i,o;switch(s){case 0:case 1:return mt.nextTick(t);case 2:return mt.nextTick(function(){t.call(null,e)});case 3:return mt.nextTick(function(){t.call(null,e,r)});case 4:return mt.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return mt.nextTick(function(){t.apply(null,i)})}}var wS=G8.exports,ACe={}.toString,xCe=Array.isArray||function(t){return ACe.call(t)=="[object Array]"},KQ=Of.EventEmitter,W8={exports:{}};(function(t,e){var r=Re,n=r.Buffer;function s(o,c){for(var l in o)c[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,c,l){return n(o,c,l)}s(n,i),i.from=function(o,c,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,l)},i.alloc=function(o,c,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return c!==void 0?typeof l=="string"?d.fill(c,l):d.fill(c):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(W8,W8.exports);var _S=W8.exports,_6={exports:{}},nL;function MCe(){return nL||(nL=1,function(t){function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}var r=_S.Buffer,n=nh;function s(i,o,c){i.copy(o,c)}t.exports=function(){function i(){e(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(c){var l={data:c,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},i.prototype.unshift=function(c){var l={data:c,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},i.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(c){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=c+l.data;return d},i.prototype.concat=function(c){if(this.length===0)return r.alloc(0);for(var l=r.allocUnsafe(c>>>0),d=this.head,v=0;d;)s(d.data,l,v),v+=d.data.length,d=d.next;return l},i}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var i=n.inspect({length:this.length});return this.constructor.name+" "+i})}(_6)),_6.exports}var jb=wS;function ICe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,jb.nextTick(qb,this,t)):jb.nextTick(qb,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,jb.nextTick(qb,r,i)):jb.nextTick(qb,r,i):e&&e(i)}),this)}function RCe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qb(t,e){t.emit("error",e)}var GQ={destroy:ICe,undestroy:RCe},E6,iL;function WQ(){if(iL)return E6;iL=1;var t=wS;E6=C;function e(w){var _=this;this.next=null,this.entry=null,this.finish=function(){y(_,w)}}var r=!mt.browser&&["v0.10","v0.9."].indexOf(mt.version.slice(0,5))>-1?setImmediate:t.nextTick,n;C.WritableState=x;var s=Object.create(Bf);s.inherits=ir;var i={deprecate:fR},o=KQ,c=_S.Buffer,l=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(w){return c.from(w)}function v(w){return c.isBuffer(w)||w instanceof l}var b=GQ;s.inherits(C,o);function A(){}function x(w,_){n=n||Op(),w=w||{};var g=_ instanceof n;this.objectMode=!!w.objectMode,g&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var f=w.highWaterMark,m=w.writableHighWaterMark,I=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:g&&(m||m===0)?this.highWaterMark=m:this.highWaterMark=I,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=w.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){V(_,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}x.prototype.getBuffer=function(){for(var _=this.bufferedRequest,g=[];_;)g.push(_),_=_.next;return g},function(){try{Object.defineProperty(x.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(w){return R.call(this,w)?!0:this!==C?!1:w&&w._writableState instanceof x}})):R=function(w){return w instanceof this};function C(w){if(n=n||Op(),!R.call(C,this)&&!(this instanceof n))return new C(w);this._writableState=new x(w,this),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),o.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function T(w,_){var g=new Error("write after end");w.emit("error",g),t.nextTick(_,g)}function $(w,_,g,f){var m=!0,I=!1;return g===null?I=new TypeError("May not write null values to stream"):typeof g!="string"&&g!==void 0&&!_.objectMode&&(I=new TypeError("Invalid non-string/buffer chunk")),I&&(w.emit("error",I),t.nextTick(f,I),m=!1),m}C.prototype.write=function(w,_,g){var f=this._writableState,m=!1,I=!f.objectMode&&v(w);return I&&!c.isBuffer(w)&&(w=d(w)),typeof _=="function"&&(g=_,_=null),I?_="buffer":_||(_=f.defaultEncoding),typeof g!="function"&&(g=A),f.ended?T(this,g):(I||$(this,f,w,g))&&(f.pendingcb++,m=D(this,f,I,w,_,g)),m},C.prototype.cork=function(){var w=this._writableState;w.corked++},C.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,!w.writing&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&se(this,w))},C.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_);return this._writableState.defaultEncoding=_,this};function O(w,_,g){return!w.objectMode&&w.decodeStrings!==!1&&typeof _=="string"&&(_=c.from(_,g)),_}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(w,_,g,f,m,I){if(!g){var P=O(_,f,m);f!==P&&(g=!0,m="buffer",f=P)}var j=_.objectMode?1:f.length;_.length+=j;var k=_.length<_.highWaterMark;if(k||(_.needDrain=!0),_.writing||_.corked){var z=_.lastBufferedRequest;_.lastBufferedRequest={chunk:f,encoding:m,isBuf:g,callback:I,next:null},z?z.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else L(w,_,!1,j,f,m,I);return k}function L(w,_,g,f,m,I,P){_.writelen=f,_.writecb=P,_.writing=!0,_.sync=!0,g?w._writev(m,_.onwrite):w._write(m,I,_.onwrite),_.sync=!1}function F(w,_,g,f,m){--_.pendingcb,g?(t.nextTick(m,f),t.nextTick(h,w,_),w._writableState.errorEmitted=!0,w.emit("error",f)):(m(f),w._writableState.errorEmitted=!0,w.emit("error",f),h(w,_))}function H(w){w.writing=!1,w.writecb=null,w.length-=w.writelen,w.writelen=0}function V(w,_){var g=w._writableState,f=g.sync,m=g.writecb;if(H(g),_)F(w,g,f,_,m);else{var I=S(g);!I&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&se(w,g),f?r(J,w,g,I,m):J(w,g,I,m)}}function J(w,_,g,f){g||Z(w,_),_.pendingcb--,f(),h(w,_)}function Z(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))}function se(w,_){_.bufferProcessing=!0;var g=_.bufferedRequest;if(w._writev&&g&&g.next){var f=_.bufferedRequestCount,m=new Array(f),I=_.corkedRequestsFree;I.entry=g;for(var P=0,j=!0;g;)m[P]=g,g.isBuf||(j=!1),g=g.next,P+=1;m.allBuffers=j,L(w,_,!0,_.length,m,"",I.finish),_.pendingcb++,_.lastBufferedRequest=null,I.next?(_.corkedRequestsFree=I.next,I.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;g;){var k=g.chunk,z=g.encoding,B=g.callback,U=_.objectMode?1:k.length;if(L(w,_,!1,U,k,z,B),g=g.next,_.bufferedRequestCount--,_.writing)break}g===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=g,_.bufferProcessing=!1}C.prototype._write=function(w,_,g){g(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(w,_,g){var f=this._writableState;typeof w=="function"?(g=w,w=null,_=null):typeof _=="function"&&(g=_,_=null),w!=null&&this.write(w,_),f.corked&&(f.corked=1,this.uncork()),f.ending||p(this,f,g)};function S(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function a(w,_){w._final(function(g){_.pendingcb--,g&&w.emit("error",g),_.prefinished=!0,w.emit("prefinish"),h(w,_)})}function u(w,_){!_.prefinished&&!_.finalCalled&&(typeof w._final=="function"?(_.pendingcb++,_.finalCalled=!0,t.nextTick(a,w,_)):(_.prefinished=!0,w.emit("prefinish")))}function h(w,_){var g=S(_);return g&&(u(w,_),_.pendingcb===0&&(_.finished=!0,w.emit("finish"))),g}function p(w,_,g){_.ending=!0,h(w,_),g&&(_.finished?t.nextTick(g):w.once("finish",g)),_.ended=!0,w.writable=!1}function y(w,_,g){var f=w.entry;for(w.entry=null;f;){var m=f.callback;_.pendingcb--,m(g),f=f.next}_.corkedRequestsFree.next=w}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(w,_){this.end(),_(w)},E6}var S6,sL;function Op(){if(sL)return S6;sL=1;var t=wS,e=Object.keys||function(b){var A=[];for(var x in b)A.push(x);return A};S6=l;var r=Object.create(Bf);r.inherits=ir;var n=JQ(),s=WQ();r.inherits(l,n);for(var i=e(s.prototype),o=0;o<i.length;o++){var c=i[o];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(b){if(!(this instanceof l))return new l(b);n.call(this,b),s.call(this,b),b&&b.readable===!1&&(this.readable=!1),b&&b.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,b&&b.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(b){b.end()}return Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),l.prototype._destroy=function(b,A){this.push(null),this.end(),t.nextTick(A,b)},S6}var A6={},oL;function aL(){if(oL)return A6;oL=1;var t=_S.Buffer,e=t.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r($){if(!$)return"utf8";for(var O;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(O)return;$=(""+$).toLowerCase(),O=!0}}function n($){var O=r($);if(typeof O!="string"&&(t.isEncoding===e||!e($)))throw new Error("Unknown encoding: "+$);return O||$}A6.StringDecoder=s;function s($){this.encoding=n($);var O;switch(this.encoding){case"utf16le":this.text=b,this.end=A,O=4;break;case"utf8":this.fillLast=l,O=4;break;case"base64":this.text=x,this.end=R,O=3;break;default:this.write=C,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}s.prototype.write=function($){if($.length===0)return"";var O,D;if(this.lastNeed){if(O=this.fillLast($),O===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<$.length?O?O+this.text($,D):this.text($,D):O||""},s.prototype.end=v,s.prototype.text=d,s.prototype.fillLast=function($){if(this.lastNeed<=$.length)return $.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),this.lastNeed-=$.length};function i($){return $<=127?0:$>>5===6?2:$>>4===14?3:$>>3===30?4:$>>6===2?-1:-2}function o($,O,D){var L=O.length-1;if(L<D)return 0;var F=i(O[L]);return F>=0?(F>0&&($.lastNeed=F-1),F):--L<D||F===-2?0:(F=i(O[L]),F>=0?(F>0&&($.lastNeed=F-2),F):--L<D||F===-2?0:(F=i(O[L]),F>=0?(F>0&&(F===2?F=0:$.lastNeed=F-3),F):0))}function c($,O,D){if((O[0]&192)!==128)return $.lastNeed=0,"";if($.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return $.lastNeed=1,"";if($.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return $.lastNeed=2,""}}function l($){var O=this.lastTotal-this.lastNeed,D=c(this,$);if(D!==void 0)return D;if(this.lastNeed<=$.length)return $.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,O,0,$.length),this.lastNeed-=$.length}function d($,O){var D=o(this,$,O);if(!this.lastNeed)return $.toString("utf8",O);this.lastTotal=D;var L=$.length-(D-this.lastNeed);return $.copy(this.lastChar,0,L),$.toString("utf8",O,L)}function v($){var O=$&&$.length?this.write($):"";return this.lastNeed?O+"":O}function b($,O){if(($.length-O)%2===0){var D=$.toString("utf16le",O);if(D){var L=D.charCodeAt(D.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",O,$.length-1)}function A($){var O=$&&$.length?this.write($):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,D)}return O}function x($,O){var D=($.length-O)%3;return D===0?$.toString("base64",O):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",O,$.length-D))}function R($){var O=$&&$.length?this.write($):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function C($){return $.toString(this.encoding)}function T($){return $&&$.length?this.write($):""}return A6}var x6,cL;function JQ(){if(cL)return x6;cL=1;var t=wS;x6=O;var e=xCe,r;O.ReadableState=$,Of.EventEmitter;var n=function(B,U){return B.listeners(U).length},s=KQ,i=_S.Buffer,o=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(B){return i.from(B)}function l(B){return i.isBuffer(B)||B instanceof o}var d=Object.create(Bf);d.inherits=ir;var v=nh,b=void 0;v&&v.debuglog?b=v.debuglog("stream"):b=function(){};var A=MCe(),x=GQ,R;d.inherits(O,s);var C=["error","close","destroy","pause","resume"];function T(B,U,K){if(typeof B.prependListener=="function")return B.prependListener(U,K);!B._events||!B._events[U]?B.on(U,K):e(B._events[U])?B._events[U].unshift(K):B._events[U]=[K,B._events[U]]}function $(B,U){r=r||Op(),B=B||{};var K=U instanceof r;this.objectMode=!!B.objectMode,K&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var Y=B.highWaterMark,X=B.readableHighWaterMark,G=this.objectMode?16:16*1024;Y||Y===0?this.highWaterMark=Y:K&&(X||X===0)?this.highWaterMark=X:this.highWaterMark=G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(R||(R=aL().StringDecoder),this.decoder=new R(B.encoding),this.encoding=B.encoding)}function O(B){if(r=r||Op(),!(this instanceof O))return new O(B);this._readableState=new $(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),s.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),O.prototype.destroy=x.destroy,O.prototype._undestroy=x.undestroy,O.prototype._destroy=function(B,U){this.push(null),U(B)},O.prototype.push=function(B,U){var K=this._readableState,Y;return K.objectMode?Y=!0:typeof B=="string"&&(U=U||K.defaultEncoding,U!==K.encoding&&(B=i.from(B,U),U=""),Y=!0),D(this,B,U,!1,Y)},O.prototype.unshift=function(B){return D(this,B,null,!0,!1)};function D(B,U,K,Y,X){var G=B._readableState;if(U===null)G.reading=!1,se(B,G);else{var ne;X||(ne=F(G,U)),ne?B.emit("error",ne):G.objectMode||U&&U.length>0?(typeof U!="string"&&!G.objectMode&&Object.getPrototypeOf(U)!==i.prototype&&(U=c(U)),Y?G.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):L(B,G,U,!0):G.ended?B.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!K?(U=G.decoder.write(U),G.objectMode||U.length!==0?L(B,G,U,!1):u(B,G)):L(B,G,U,!1))):Y||(G.reading=!1)}return H(G)}function L(B,U,K,Y){U.flowing&&U.length===0&&!U.sync?(B.emit("data",K),B.read(0)):(U.length+=U.objectMode?1:K.length,Y?U.buffer.unshift(K):U.buffer.push(K),U.needReadable&&S(B)),u(B,U)}function F(B,U){var K;return!l(U)&&typeof U!="string"&&U!==void 0&&!B.objectMode&&(K=new TypeError("Invalid non-string/buffer chunk")),K}function H(B){return!B.ended&&(B.needReadable||B.length<B.highWaterMark||B.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(B){return R||(R=aL().StringDecoder),this._readableState.decoder=new R(B),this._readableState.encoding=B,this};var V=8388608;function J(B){return B>=V?B=V:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function Z(B,U){return B<=0||U.length===0&&U.ended?0:U.objectMode?1:B!==B?U.flowing&&U.length?U.buffer.head.data.length:U.length:(B>U.highWaterMark&&(U.highWaterMark=J(B)),B<=U.length?B:U.ended?U.length:(U.needReadable=!0,0))}O.prototype.read=function(B){b("read",B),B=parseInt(B,10);var U=this._readableState,K=B;if(B!==0&&(U.emittedReadable=!1),B===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return b("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?j(this):S(this),null;if(B=Z(B,U),B===0&&U.ended)return U.length===0&&j(this),null;var Y=U.needReadable;b("need readable",Y),(U.length===0||U.length-B<U.highWaterMark)&&(Y=!0,b("length less than watermark",Y)),U.ended||U.reading?(Y=!1,b("reading or ended",Y)):Y&&(b("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(B=Z(K,U)));var X;return B>0?X=f(B,U):X=null,X===null?(U.needReadable=!0,B=0):U.length-=B,U.length===0&&(U.ended||(U.needReadable=!0),K!==B&&U.ended&&j(this)),X!==null&&this.emit("data",X),X};function se(B,U){if(!U.ended){if(U.decoder){var K=U.decoder.end();K&&K.length&&(U.buffer.push(K),U.length+=U.objectMode?1:K.length)}U.ended=!0,S(B)}}function S(B){var U=B._readableState;U.needReadable=!1,U.emittedReadable||(b("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?t.nextTick(a,B):a(B))}function a(B){b("emit readable"),B.emit("readable"),g(B)}function u(B,U){U.readingMore||(U.readingMore=!0,t.nextTick(h,B,U))}function h(B,U){for(var K=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(b("maybeReadMore read 0"),B.read(0),K!==U.length);)K=U.length;U.readingMore=!1}O.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(B,U){var K=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=B;break;case 1:Y.pipes=[Y.pipes,B];break;default:Y.pipes.push(B);break}Y.pipesCount+=1,b("pipe count=%d opts=%j",Y.pipesCount,U);var X=(!U||U.end!==!1)&&B!==mt.stdout&&B!==mt.stderr,G=X?le:$t;Y.endEmitted?t.nextTick(G):K.once("end",G),B.on("unpipe",ne);function ne(ae,ue){b("onunpipe"),ae===K&&ue&&ue.hasUnpiped===!1&&(ue.hasUnpiped=!0,rt())}function le(){b("onend"),B.end()}var de=p(K);B.on("drain",de);var me=!1;function rt(){b("cleanup"),B.removeListener("close",Ie),B.removeListener("finish",ke),B.removeListener("drain",de),B.removeListener("error",Rt),B.removeListener("unpipe",ne),K.removeListener("end",le),K.removeListener("end",$t),K.removeListener("data",he),me=!0,Y.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&de()}var Ae=!1;K.on("data",he);function he(ae){b("ondata"),Ae=!1;var ue=B.write(ae);ue===!1&&!Ae&&((Y.pipesCount===1&&Y.pipes===B||Y.pipesCount>1&&z(Y.pipes,B)!==-1)&&!me&&(b("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Ae=!0),K.pause())}function Rt(ae){b("onerror",ae),$t(),B.removeListener("error",Rt),n(B,"error")===0&&B.emit("error",ae)}T(B,"error",Rt);function Ie(){B.removeListener("finish",ke),$t()}B.once("close",Ie);function ke(){b("onfinish"),B.removeListener("close",Ie),$t()}B.once("finish",ke);function $t(){b("unpipe"),K.unpipe(B)}return B.emit("pipe",K),Y.flowing||(b("pipe resume"),K.resume()),B};function p(B){return function(){var U=B._readableState;b("pipeOnDrain",U.awaitDrain),U.awaitDrain&&U.awaitDrain--,U.awaitDrain===0&&n(B,"data")&&(U.flowing=!0,g(B))}}O.prototype.unpipe=function(B){var U=this._readableState,K={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return B&&B!==U.pipes?this:(B||(B=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,B&&B.emit("unpipe",this,K),this);if(!B){var Y=U.pipes,X=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var G=0;G<X;G++)Y[G].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=z(U.pipes,B);return ne===-1?this:(U.pipes.splice(ne,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),B.emit("unpipe",this,K),this)},O.prototype.on=function(B,U){var K=s.prototype.on.call(this,B,U);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var Y=this._readableState;!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&S(this):t.nextTick(y,this))}return K},O.prototype.addListener=O.prototype.on;function y(B){b("readable nexttick read 0"),B.read(0)}O.prototype.resume=function(){var B=this._readableState;return B.flowing||(b("resume"),B.flowing=!0,w(this,B)),this};function w(B,U){U.resumeScheduled||(U.resumeScheduled=!0,t.nextTick(_,B,U))}function _(B,U){U.reading||(b("resume read 0"),B.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,B.emit("resume"),g(B),U.flowing&&!U.reading&&B.read(0)}O.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function g(B){var U=B._readableState;for(b("flow",U.flowing);U.flowing&&B.read()!==null;);}O.prototype.wrap=function(B){var U=this,K=this._readableState,Y=!1;B.on("end",function(){if(b("wrapped end"),K.decoder&&!K.ended){var ne=K.decoder.end();ne&&ne.length&&U.push(ne)}U.push(null)}),B.on("data",function(ne){if(b("wrapped data"),K.decoder&&(ne=K.decoder.write(ne)),!(K.objectMode&&ne==null)&&!(!K.objectMode&&(!ne||!ne.length))){var le=U.push(ne);le||(Y=!0,B.pause())}});for(var X in B)this[X]===void 0&&typeof B[X]=="function"&&(this[X]=function(ne){return function(){return B[ne].apply(B,arguments)}}(X));for(var G=0;G<C.length;G++)B.on(C[G],this.emit.bind(this,C[G]));return this._read=function(ne){b("wrapped _read",ne),Y&&(Y=!1,B.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=f;function f(B,U){if(U.length===0)return null;var K;return U.objectMode?K=U.buffer.shift():!B||B>=U.length?(U.decoder?K=U.buffer.join(""):U.buffer.length===1?K=U.buffer.head.data:K=U.buffer.concat(U.length),U.buffer.clear()):K=m(B,U.buffer,U.decoder),K}function m(B,U,K){var Y;return B<U.head.data.length?(Y=U.head.data.slice(0,B),U.head.data=U.head.data.slice(B)):B===U.head.data.length?Y=U.shift():Y=K?I(B,U):P(B,U),Y}function I(B,U){var K=U.head,Y=1,X=K.data;for(B-=X.length;K=K.next;){var G=K.data,ne=B>G.length?G.length:B;if(ne===G.length?X+=G:X+=G.slice(0,B),B-=ne,B===0){ne===G.length?(++Y,K.next?U.head=K.next:U.head=U.tail=null):(U.head=K,K.data=G.slice(ne));break}++Y}return U.length-=Y,X}function P(B,U){var K=i.allocUnsafe(B),Y=U.head,X=1;for(Y.data.copy(K),B-=Y.data.length;Y=Y.next;){var G=Y.data,ne=B>G.length?G.length:B;if(G.copy(K,K.length-B,0,ne),B-=ne,B===0){ne===G.length?(++X,Y.next?U.head=Y.next:U.head=U.tail=null):(U.head=Y,Y.data=G.slice(ne));break}++X}return U.length-=X,K}function j(B){var U=B._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,t.nextTick(k,U,B))}function k(B,U){!B.endEmitted&&B.length===0&&(B.endEmitted=!0,U.readable=!1,U.emit("end"))}function z(B,U){for(var K=0,Y=B.length;K<Y;K++)if(B[K]===U)return K;return-1}return x6}var QQ=ju,ES=Op(),ZQ=Object.create(Bf);ZQ.inherits=ir;ZQ.inherits(ju,ES);function TCe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function ju(t){if(!(this instanceof ju))return new ju(t);ES.call(this,t),this._transformState={afterTransform:TCe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",$Ce)}function $Ce(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){fL(t,e,r)}):fL(this,null,null)}ju.prototype.push=function(t,e){return this._transformState.needTransform=!1,ES.prototype.push.call(this,t,e)};ju.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ju.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};ju.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ju.prototype._destroy=function(t,e){var r=this;ES.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function fL(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var CCe=Qy,XQ=QQ,YQ=Object.create(Bf);YQ.inherits=ir;YQ.inherits(Qy,XQ);function Qy(t){if(!(this instanceof Qy))return new Qy(t);XQ.call(this,t)}Qy.prototype._transform=function(t,e,r){r(null,t)};(function(t,e){e=t.exports=JQ(),e.Stream=e,e.Readable=e,e.Writable=WQ(),e.Duplex=Op(),e.Transform=QQ,e.PassThrough=CCe})(K8,K8.exports);var eZ=K8.exports;Object.defineProperty(r$,"__esModule",{value:!0});const OCe=eZ;function BCe(t){if(!t||!t.engine)throw new Error("Missing engine parameter!");const{engine:e}=t,r=new OCe.Duplex({objectMode:!0,read:()=>{},write:n});return e.on&&e.on("notification",s=>{r.push(s)}),r;function n(s,i,o){e.handle(s,(c,l)=>{r.push(l)}),o()}}r$.default=BCe;var n$={},PCe=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n$,"__esModule",{value:!0});const NCe=PCe(Vm),kCe=eZ;function LCe(t={}){const e={},r=new kCe.Duplex({objectMode:!0,read:()=>{},write:o}),n=new NCe.default;return{events:n,middleware:(v,b,A,x)=>{i(v),e[v.id]={req:v,res:b,next:A,end:x}},stream:r};function i(v){r.push(v)}function o(v,b,A){let x=null;try{!v.id?l(v):c(v)}catch(R){x=R}A(x)}function c(v){const b=e[v.id];if(!b){console.warn(`StreamMiddleware - Unknown response id "${v.id}"`);return}delete e[v.id],Object.assign(b.res,v),setTimeout(b.end)}function l(v){t!=null&&t.retryOnMessage&&v.method===t.retryOnMessage&&d(),n.emit("notification",v)}function d(){Object.values(e).forEach(({req:v,retryCount:b=0})=>{if(v.id){if(b>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${v.id}"`);e[v.id].retryCount=b+1,i(v)}})}}n$.default=LCe;var tZ=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.createStreamMiddleware=i$=Jy.createEngineStream=void 0;const DCe=tZ(r$);var i$=Jy.createEngineStream=DCe.default;const UCe=tZ(n$);Jy.createStreamMiddleware=UCe.default;let SS=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");class FCe{constructor(e,r=[]){this.router=e,this._prefix=r}add(e,r){const n=[...this._prefix,e].filter(Boolean).join(".");this.router.add(n,r)}asMiddleware(){return this.router.asMiddleware()}}const rZ="TYPED_ARRAY",jCe=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array"];function qCe(t){return JSON.parse(t,function(e,r){try{if(typeof r=="object"&&"flag"in r&&r.flag===rZ&&jCe.includes(r.constructor))return new hd[r.constructor](r.data)}catch{}if(typeof r=="string"){const n=r.match(/(-?\d+)n/);n&&n[0]===r&&(r=BigInt(n[1]))}return r})}function zCe(t){return JSON.stringify(t,function(e,r){return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array?{constructor:r.constructor.name,data:Array.apply([],r),flag:rZ}:typeof r=="bigint"?`${r.toString()}n`:r})}function nZ(t){return JSON.parse(zCe(t),(e,r)=>{if(typeof r=="string"){const n=r.match(/(-?\d+)n/);n&&n[0]===r&&(r=BigInt(n[1]))}return r})}function iZ(t){return qCe(JSON.stringify(t,(e,r)=>typeof r=="bigint"?`${r.toString()}n`:r))}class HCe{constructor(e,r){this.connectionContext=e,this.requestId=r}get connectionId(){return this.connectionContext.id}get origin(){return this.connectionContext.origin}getState(){return this.connectionContext.getState()}}var AS={},xS={};Object.defineProperty(xS,"__esModule",{value:!0});xS.isPrimitive=function(t){if(t==null)return!0;switch(typeof t){case"string":case"number":case"bigint":case"boolean":case"symbol":return!0;default:return!1}};xS.isFalsy=function(t){return!t};var s$={};Object.defineProperty(s$,"__esModule",{value:!0});function VCe(t){}s$.getReturnOfExpression=VCe;/**
 * @author Piotr Witek <piotrek.witek@gmail.com> (http://piotrwitek.github.io)
 * @copyright Copyright (c) 2016 Piotr Witek
 * @license MIT
 */Object.defineProperty(AS,"__esModule",{value:!0});var sZ=xS;AS.isFalsy=sZ.isFalsy;var X_=AS.isPrimitive=sZ.isPrimitive,KCe=s$;AS.getReturnOfExpression=KCe.getReturnOfExpression;function GCe(t){return Fd.createAsyncMiddleware(async(e,r,n)=>{try{const s=X_(e)?e:iZ(e);if(s.id!==void 0){const i=new HCe(e.connectionContext,e.id);e.requestContext=i;const o=t[s.method];if(o){const c=await o(i,...Array.isArray(s.params)?s.params:[]);r.result=X_(c)?c:nZ(c);return}}await n()}catch(s){r.error=s}})}var WCe=Object.defineProperty,JCe=Object.getOwnPropertyDescriptor,QCe=(t,e,r,n)=>{for(var s=n>1?void 0:n?JCe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&WCe(e,r,s),s};let J8=class{constructor(){Oe(this,"_routes",{})}add(t,e){this._routes[t]&&console.warn(`Route ${t} already registered`),this._routes[t]=e}withPrefix(t){return new FCe(this,Array.isArray(t)?t:[t])}asMiddleware(){return GCe(this._routes)}};J8=QCe([Lr()],J8);var ZCe=Object.defineProperty,XCe=Object.getOwnPropertyDescriptor,YCe=(t,e,r,n)=>{for(var s=n>1?void 0:n?XCe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&ZCe(e,r,s),s},uL=(t,e)=>(r,n)=>e(r,n,t);let lL=class{constructor(t,e){Oe(this,"_connections",new Map);this._rootContainer=t,this._externalApiServiceProvider=e}async __load(){await this.init()}async init(){}async createUntrustedConnection({origin:t}){const e=new URL(t).host,r=new Fd.JsonRpcEngine,n=this._createContext(r,e,tT.External),i=await(await this._externalApiServiceProvider()).initializeConnection(n);r.push(n.asMiddleware()),r.push(gCe()),r.push(n.getRouter().asMiddleware()),r.push(i),n.getState().onUpdateState(({patch:c})=>{r.emit("notification",{method:YG.StateUpdated,jsonrpc:"2.0",params:{patch:c}})}),this._addConnection(n);const o=i$({engine:r});return VQ(o,c=>{r.destroy(),n.getState().destroy(),this._removeConnection(n.id)}),{id:n.id,engine:r,stream:o}}hasConnection(t){return this._connections.has(t)}_addConnection(t){this._connections.set(t.id,t)}_removeConnection(t){this._connections.delete(t)}_createContext(t,e,r){const n=SS(),s=new V8,i=new J8,o=this._rootContainer.createChild(),c=new z8(t,n,e,r,o);return o.bind(tt.State).toConstantValue(s),o.bind(tt.Router).toConstantValue(i),c}};lL=YCe([Lr(),uL(0,st(tt.RootContainer)),uL(1,st(tt.ExternalApiServiceProvider))],lL);var eOe=Object.defineProperty,tOe=Object.getOwnPropertyDescriptor,rOe=(t,e,r,n)=>{for(var s=n>1?void 0:n?tOe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&eOe(e,r,s),s};let hL=class extends Uu{constructor(){super()}};hL=rOe([Lr()],hL);var nOe=Object.defineProperty,iOe=Object.getOwnPropertyDescriptor,sOe=(t,e,r,n)=>{for(var s=n>1?void 0:n?iOe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&nOe(e,r,s),s},Oh=(t,e)=>(r,n)=>e(r,n,t);let dL=class{constructor(t,e,r,n,s,i,o){Oe(this,"_permissionsService");Oe(this,"_walletController");Oe(this,"_externalRequests");Oe(this,"_networkController");Oe(this,"_preferencesController");Oe(this,"_coinController");this._container=t,this._permissionsServiceProvider=e,this._walletControllerProvider=r,this._networkControllerProvider=n,this._externalRequestsProvider=s,this._preferencesControllerProvider=i,this._coinControllerProvider=o}async __load(){await this.init()}async init(){this._permissionsService=await this._permissionsServiceProvider(),this._walletController=await this._walletControllerProvider(),this._externalRequests=await this._externalRequestsProvider(),this._networkController=await this._networkControllerProvider(),this._preferencesController=await this._preferencesControllerProvider(),this._coinController=await this._coinControllerProvider()}async initializeConnection(t){const e=t.getRouter();t.getState().connect("evm.options",this._preferencesController.store,o=>({currentProvider:(o==null?void 0:o.lastUsedEvmProvider)??Qt.Ethereum,usePontemAsDefault:(o==null?void 0:o.usePontemAsDefault)??!0,anotherProviderDetected:o.anotherProviderDetected??!1})),e.add("wallet.connect",this.connect.bind(this)),e.add("wallet.disconnect",this.disconnect.bind(this)),e.add("wallet.getCurrentState",this.getCurrentState.bind(this)),e.add("wallet.detectAnotherProvider",this.detectAnotherProvider.bind(this)),e.add("wallet.detectedEvmContainerOccupiedError",this.detectedEvmContainerOccupiedError.bind(this)),e.add("system.ACK",async()=>{});const n=[],s=(o,c,l)=>{l()};s.destroy=()=>{this._externalRequests.requests.filter(c=>c.connectionId===t.id).forEach(c=>this._externalRequests.resolveRequest(c.id,new Error("Connection closed")),void 0)},await Promise.all(this._container.getAll(tt.ExternalChainApiServiceProvider).map(o=>o().then(c=>c.initializeConnection(t)))),n.push(s);const i=Fd.mergeMiddleware(n.filter(Boolean));return i.destroy=()=>{n.forEach(o=>{var c;try{(c=o==null?void 0:o.destroy)==null||c.call(o)}catch(l){console.error("Error of destroy middleware inside mergedMiddleware",l)}})},i}async detectAnotherProvider(t,e){await this._preferencesController.update("anotherProviderDetected",!!e)}async detectedEvmContainerOccupiedError(t,e){await this._preferencesController.update("detectedEvmContainerOccupiedError",!!e)}async getCurrentState(t){return t.getState().state}async changeNetworkMode(t,e){if(!e)throw Error("Unrecognized network");let r=this._getCurrentAccount(t.origin,e.chain);if(r||(await this.connect(t,e==null?void 0:e.chain),r=this._getCurrentAccount(t.origin,e.chain)),!r)throw new Error("Access denied");if(this._networkController.networkMode===e.mode)return!0;const n=this._externalRequests.createChangeNetworkModeRequest(t,e);return this._externalRequests.registerRequest(n)}async changeNetwork(t,e,r){if(jl.includes(r.chain)&&e.mode===r.mode)return await this._preferencesController.update("lastUsedEvmProvider",r.chain),await this.connect(t,r.chain,jl);const n=this._externalRequests.createChangeNetworkRequest(t,e,r);return this._externalRequests.registerRequest(n)}async connect(t,e,r=[]){const n=this._walletController.getChainAccounts(e).filter(d=>{var v;return((v=this._walletController.getWalletById(d.walletId))==null?void 0:v.type)!==Kn.ReadOnly});let s=this._permissionsService.getCurrentAccount(t.connectionContext.origin,e);const i=this._permissionsService.getOriginAccounts(t.connectionContext.origin).filter(d=>{var v;return((v=this._walletController.getAccountById(d))==null?void 0:v.chain)===e});if(!s&&i[0]&&(s=i[0],this._permissionsService.setCurrentAccount(t.connectionContext.origin,e,i[0])),s){const d=this._walletController.getAccountById(s);return{id:d.id,address:d.address,publicKey:d.publicKey}}const o=r.flatMap(d=>this._walletController.getChainAccounts(d)),c=r.length===0,l=this._externalRequests.createConnectOriginRequest(t,e,c?n.length===0:o.length===0,c);try{await this._externalRequests.registerRequest(l);const d=this._permissionsService.getCurrentAccount(t.origin,e);if(d){const v=this._walletController.getAccountById(d);return{id:v.id,address:v.address,publicKey:v.publicKey}}}catch(d){throw d}}async disconnect(t,e){const r=this._permissionsService.getCurrentAccount(t.connectionContext.origin,e);r&&(this._permissionsService.setCurrentAccount(t.connectionContext.origin,e,void 0),this._permissionsService.setConnected(t.connectionContext.origin,r,!1))}async addCustomToken(t,e){var o;const{address:r,chain:n}=this._walletController.currentAccount??{};if(!n||!jl.includes(n))throw new Error("Please switch to EVM chain.");if(!r)return!0;const s=(o=this._coinController.store.getState().cachedCustomCoinList.ethereum)==null?void 0:o[r];if(s&&s.includes(e.address))return!0;const i=this._externalRequests.createAddCustomTokenRequest(t,n,e);return this._externalRequests.registerRequest(i)}_getCurrentAccount(t,e){if(!e)return;const r=this._permissionsService.getCurrentAccount(t,e);return r?this._walletController.getAccountById(r):void 0}};dL=sOe([Lr(),Oh(0,st(tt.RootContainer)),Oh(1,st(tt.PermissionsServiceProvider)),Oh(2,st(tt.WalletControllerProvider)),Oh(3,st(tt.NetworkControllerProvider)),Oh(4,st(tt.ExternalRequestsServiceProvider)),Oh(5,st(tt.PreferencesControllerProvider)),Oh(6,st(tt.CoinControllerProvider))],dL);function oOe(){const t={resolve:void 0,reject:void 0,promise:void 0};return t.promise=new Promise((e,r)=>{t.reject=r,t.resolve=e}),t}var aOe=Object.defineProperty,cOe=Object.getOwnPropertyDescriptor,fOe=(t,e,r,n)=>{for(var s=n>1?void 0:n?cOe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&aOe(e,r,s),s},pL=(t,e)=>(r,n)=>e(r,n,t);let gL=class extends mn{constructor(e,r){super();Oe(this,"_store");Oe(this,"_emitter",new Uu);Oe(this,"_connectionService");Oe(this,"_promises",{});this._storage=e,this._connectionServiceProvider=r,this._store=new zn.ObservableStore({})}get store(){return this._store}get requests(){return Object.values(this._store.getState())}async init(){this._connectionService=await this._connectionServiceProvider();const e=await this._storage.get("requests",{});Object.values(e).filter(r=>r.status===la.Created&&this._connectionService.hasConnection(r.connectionId)).map(r=>this.registerRequest(r,!1)),this._store.subscribe(r=>this._storage.set("requests",r))}onRequestFailed(e){return this._emitter.on("requestFailed",e),()=>this._emitter.removeListener("requestFailed",e)}onRequestSuccess(e){return this._emitter.on("requestSuccess",e),()=>this._emitter.removeListener("requestSuccess",e)}onRequestCreated(e){return this._emitter.on("requestCreated",e),()=>this._emitter.removeListener("requestCreated",e)}getRequestById(e){return this._store.getState()[e]}getRequestByPayloadAndOrigin(e,r){const n=this._store.getState();return Object.values(n).find(s=>JSON.stringify(s.payload)===JSON.stringify(e)&&s.origin===r&&s.status===la.Created)}createSignTypedDataRequest(e,r,n,s){return this._createRequest({type:Os.SignTypedData,accountId:r.id,chain:n,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:s})}createChangeNetworkModeRequest(e,r){const n=this.requests.find(s=>{var i;return s.type===Os.ChangeNetworkMode&&s.status===la.Created&&((i=s.payload)==null?void 0:i.network.id)===r.id});return n||this._createRequest({type:Os.ChangeNetworkMode,accountId:void 0,chain:r.chain,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{network:r}})}createChangeNetworkRequest(e,r,n){const s=this.requests.find(i=>{var o,c;return i.type===Os.ChangeNetwork&&i.status===la.Created&&((o=i.payload)==null?void 0:o.fromNetwork.id)===r.id&&((c=i.payload)==null?void 0:c.toNetwork.id)===n.id});return s||this._createRequest({type:Os.ChangeNetwork,accountId:void 0,chain:r.chain,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{fromNetwork:r,toNetwork:n}})}createConfirmDefaultProviderRequest(e,r){const n=this.requests.find(s=>s.type===Os.ConfirmDefaultProvider&&s.status===la.Created);return n||this._createRequest({type:Os.ConfirmDefaultProvider,accountId:void 0,chain:r,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{}})}createConfirmTransactionRequest(e,r,n,s){return this._createRequest({type:Os.ConfirmTransaction,accountId:r.id,chain:r.chain,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{payload:n,options:s}})}createSignTransactionRequest(e,r,n,s){return this._createRequest({type:Os.SignTransaction,accountId:r.id,chain:r.chain,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{payload:n,options:s}})}createSignMessageRequest(e,r,n){return this._createRequest({type:Os.SignMessage,accountId:r.id,chain:r.chain,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:n})}createConnectOriginRequest(e,r,n,s=!1){const i=this.requests.find(o=>o.origin===e.origin&&o.type===Os.ConnectOrigin&&o.status===la.Created&&o.chain===r);return i||this._createRequest({type:Os.ConnectOrigin,accountId:void 0,chain:r,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{chain:r,shouldCreateNewWallet:n,exactlyThisChain:s}})}createSignInOriginRequest(e,r,n,s){const i=this.requests.find(o=>o.origin===e.origin&&o.type===Os.SignIn&&o.status===la.Created&&o.chain===r);return i||this._createRequest({type:Os.SignIn,accountId:n.id,chain:r,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:{chain:r,signInParams:s}})}createAddCustomTokenRequest(e,r,n){return this._createRequest({type:Os.WatchAsset,accountId:void 0,chain:r,origin:e.connectionContext.origin,connectionId:e.connectionId,requestId:e.requestId,payload:n})}resolveRequest(e,r,n){const s=Br.cloneDeep(this.getRequestById(e));if(!s)throw new Error("Request not found");if(s.status!==la.Created)throw new Error("Request already completed");if(s.completedAt=Date.now(),r){s.status=la.Failed,this._store.updateState({...this._store.getState(),[e]:s}),this._promises[s.id].reject(r),this._emitter.emit("requestFailed",e,r),delete this._promises[s.id];return}s.status=la.Success,this._store.updateState({...this._store.getState(),[e]:s}),this._promises[s.id].resolve(n),this._emitter.emit("requestSuccess",e,n),delete this._promises[s.id]}registerRequest(e,r=!0){const n=this.getRequestById(e.id),s=this.getRequestByPayloadAndOrigin(e.payload,e.origin);if(n||s){const i=(e==null?void 0:e.id)||(s==null?void 0:s.id);return this._promises[i].promise}return this._promises[e.id]=oOe(),this._store.updateState({...this._store.getState(),[e.id]:e}),r&&this._emitter.emit("requestCreated",e.id),this._promises[e.id].promise}_createRequest(e){return{...e,status:la.Created,createdAt:Date.now(),completedAt:void 0,id:SS()}}};gL=fOe([Lr(),pL(0,st(tt.StorageService)),pL(1,st(tt.ConnectionServiceProvider))],gL);var Q8=function(t,e){return Q8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Q8(t,e)};function $c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qe=function(){return Qe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qe.apply(this,arguments)};function Ql(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function xl(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(v){try{d(n.next(v))}catch(b){o(b)}}function l(v){try{d(n.throw(v))}catch(b){o(b)}}function d(v){v.done?i(v.value):s(v.value).then(c,l)}d((n=n.apply(t,e||[])).next())})}function Ml(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(v){return l([d,v])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(v){d=[6,v],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function lAt(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hAt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Zy(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Qw(t,e){if(!!!t)throw new Error(e)}function uOe(t){return typeof t=="object"&&t!==null}function lOe(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const hOe=/\r\n|[\n\r]/g;function Z8(t,e){let r=0,n=1;for(const s of t.body.matchAll(hOe)){if(typeof s.index=="number"||lOe(!1),s.index>=e)break;r=s.index+s[0].length,n+=1}return{line:n,column:e+1-r}}function dOe(t){return oZ(t.source,Z8(t.source,t.start))}function oZ(t,e){const r=t.locationOffset.column-1,n="".padStart(r)+t.body,s=e.line-1,i=t.locationOffset.line-1,o=e.line+i,c=e.line===1?r:0,l=e.column+c,d=`${t.name}:${o}:${l}
`,v=n.split(/\r\n|[\n\r]/g),b=v[s];if(b.length>120){const A=Math.floor(l/80),x=l%80,R=[];for(let C=0;C<b.length;C+=80)R.push(b.slice(C,C+80));return d+vL([[`${o} |`,R[0]],...R.slice(1,A+1).map(C=>["|",C]),["|","^".padStart(x)],["|",R[A+1]]])}return d+vL([[`${o-1} |`,v[s-1]],[`${o} |`,b],["|","^".padStart(l)],[`${o+1} |`,v[s+1]]])}function vL(t){const e=t.filter(([n,s])=>s!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,s])=>n.padStart(r)+(s?" "+s:"")).join(`
`)}function pOe(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class o$ extends Error{constructor(e,...r){var n,s,i;const{nodes:o,source:c,positions:l,path:d,originalError:v,extensions:b}=pOe(r);super(e),this.name="GraphQLError",this.path=d??void 0,this.originalError=v??void 0,this.nodes=yL(Array.isArray(o)?o:o?[o]:void 0);const A=yL((n=this.nodes)===null||n===void 0?void 0:n.map(R=>R.loc).filter(R=>R!=null));this.source=c??(A==null||(s=A[0])===null||s===void 0?void 0:s.source),this.positions=l??(A==null?void 0:A.map(R=>R.start)),this.locations=l&&c?l.map(R=>Z8(c,R)):A==null?void 0:A.map(R=>Z8(R.source,R.start));const x=uOe(v==null?void 0:v.extensions)?v==null?void 0:v.extensions:void 0;this.extensions=(i=b??x)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),v!=null&&v.stack?Object.defineProperty(this,"stack",{value:v.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,o$):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(e+=`

`+dOe(r.loc));else if(this.source&&this.locations)for(const r of this.locations)e+=`

`+oZ(this.source,r);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function yL(t){return t===void 0||t.length===0?void 0:t}function dAt(t){return t.toString()}function pAt(t){return t.toJSON()}function Hi(t,e,r){return new o$(`Syntax Error: ${r}`,{source:t,positions:[e]})}class gOe{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class aZ{constructor(e,r,n,s,i,o){this.kind=e,this.start=r,this.end=n,this.line=s,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const cZ={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},vOe=new Set(Object.keys(cZ));function mL(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&vOe.has(e)}var U0;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(U0||(U0={}));var X8;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(X8||(X8={}));var St;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(St||(St={}));function Y8(t){return t===9||t===32}function Xy(t){return t>=48&&t<=57}function fZ(t){return t>=97&&t<=122||t>=65&&t<=90}function uZ(t){return fZ(t)||t===95}function yOe(t){return fZ(t)||Xy(t)||t===95}function mOe(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,s=-1;for(let o=0;o<t.length;++o){var i;const c=t[o],l=bOe(c);l!==c.length&&(n=(i=n)!==null&&i!==void 0?i:o,s=o,o!==0&&l<r&&(r=l))}return t.map((o,c)=>c===0?o:o.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,s+1)}function bOe(t){let e=0;for(;e<t.length&&Y8(t.charCodeAt(e));)++e;return e}function gAt(t){if(t==="")return!0;let e=!0,r=!1,n=!0,s=!1;for(let i=0;i<t.length;++i)switch(t.codePointAt(i)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(e&&!s)return!1;s=!0,e=!0,r=!1;break;case 9:case 32:r||(r=e);break;default:n&&(n=r),e=!1}return!(e||n&&s)}function wOe(t,e){const r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),s=n.length===1,i=n.length>1&&n.slice(1).every(x=>x.length===0||Y8(x.charCodeAt(0))),o=r.endsWith('\\"""'),c=t.endsWith('"')&&!o,l=t.endsWith("\\"),d=c||l,v=!(e!=null&&e.minimize)&&(!s||t.length>70||d||i||o);let b="";const A=s&&Y8(t.charCodeAt(0));return(v&&!A||i)&&(b+=`
`),b+=r,(v||d)&&(b+=`
`),'"""'+b+'"""'}var at;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(at||(at={}));class _Oe{constructor(e){const r=new aZ(at.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==at.EOF)do if(e.next)e=e.next;else{const r=SOe(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===at.COMMENT);return e}}function EOe(t){return t===at.BANG||t===at.DOLLAR||t===at.AMP||t===at.PAREN_L||t===at.PAREN_R||t===at.SPREAD||t===at.COLON||t===at.EQUALS||t===at.AT||t===at.BRACKET_L||t===at.BRACKET_R||t===at.BRACE_L||t===at.PIPE||t===at.BRACE_R}function Pg(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function MS(t,e){return lZ(t.charCodeAt(e))&&hZ(t.charCodeAt(e+1))}function lZ(t){return t>=55296&&t<=56319}function hZ(t){return t>=56320&&t<=57343}function wd(t,e){const r=t.source.body.codePointAt(e);if(r===void 0)return at.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function wi(t,e,r,n,s){const i=t.line,o=1+r-t.lineStart;return new aZ(e,r,n,i,o,s)}function SOe(t,e){const r=t.source.body,n=r.length;let s=e;for(;s<n;){const i=r.charCodeAt(s);switch(i){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:r.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 35:return AOe(t,s);case 33:return wi(t,at.BANG,s,s+1);case 36:return wi(t,at.DOLLAR,s,s+1);case 38:return wi(t,at.AMP,s,s+1);case 40:return wi(t,at.PAREN_L,s,s+1);case 41:return wi(t,at.PAREN_R,s,s+1);case 46:if(r.charCodeAt(s+1)===46&&r.charCodeAt(s+2)===46)return wi(t,at.SPREAD,s,s+3);break;case 58:return wi(t,at.COLON,s,s+1);case 61:return wi(t,at.EQUALS,s,s+1);case 64:return wi(t,at.AT,s,s+1);case 91:return wi(t,at.BRACKET_L,s,s+1);case 93:return wi(t,at.BRACKET_R,s,s+1);case 123:return wi(t,at.BRACE_L,s,s+1);case 124:return wi(t,at.PIPE,s,s+1);case 125:return wi(t,at.BRACE_R,s,s+1);case 34:return r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34?$Oe(t,s):MOe(t,s)}if(Xy(i)||i===45)return xOe(t,s,i);if(uZ(i))return COe(t,s);throw Hi(t.source,s,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Pg(i)||MS(r,s)?`Unexpected character: ${wd(t,s)}.`:`Invalid character: ${wd(t,s)}.`)}return wi(t,at.EOF,n,n)}function AOe(t,e){const r=t.source.body,n=r.length;let s=e+1;for(;s<n;){const i=r.charCodeAt(s);if(i===10||i===13)break;if(Pg(i))++s;else if(MS(r,s))s+=2;else break}return wi(t,at.COMMENT,e,s,r.slice(e+1,s))}function xOe(t,e,r){const n=t.source.body;let s=e,i=r,o=!1;if(i===45&&(i=n.charCodeAt(++s)),i===48){if(i=n.charCodeAt(++s),Xy(i))throw Hi(t.source,s,`Invalid number, unexpected digit after 0: ${wd(t,s)}.`)}else s=M6(t,s,i),i=n.charCodeAt(s);if(i===46&&(o=!0,i=n.charCodeAt(++s),s=M6(t,s,i),i=n.charCodeAt(s)),(i===69||i===101)&&(o=!0,i=n.charCodeAt(++s),(i===43||i===45)&&(i=n.charCodeAt(++s)),s=M6(t,s,i),i=n.charCodeAt(s)),i===46||uZ(i))throw Hi(t.source,s,`Invalid number, expected digit but got: ${wd(t,s)}.`);return wi(t,o?at.FLOAT:at.INT,e,s,n.slice(e,s))}function M6(t,e,r){if(!Xy(r))throw Hi(t.source,e,`Invalid number, expected digit but got: ${wd(t,e)}.`);const n=t.source.body;let s=e+1;for(;Xy(n.charCodeAt(s));)++s;return s}function MOe(t,e){const r=t.source.body,n=r.length;let s=e+1,i=s,o="";for(;s<n;){const c=r.charCodeAt(s);if(c===34)return o+=r.slice(i,s),wi(t,at.STRING,e,s+1,o);if(c===92){o+=r.slice(i,s);const l=r.charCodeAt(s+1)===117?r.charCodeAt(s+2)===123?IOe(t,s):ROe(t,s):TOe(t,s);o+=l.value,s+=l.size,i=s;continue}if(c===10||c===13)break;if(Pg(c))++s;else if(MS(r,s))s+=2;else throw Hi(t.source,s,`Invalid character within String: ${wd(t,s)}.`)}throw Hi(t.source,s,"Unterminated string.")}function IOe(t,e){const r=t.source.body;let n=0,s=3;for(;s<12;){const i=r.charCodeAt(e+s++);if(i===125){if(s<5||!Pg(n))break;return{value:String.fromCodePoint(n),size:s}}if(n=n<<4|ly(i),n<0)break}throw Hi(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+s)}".`)}function ROe(t,e){const r=t.source.body,n=bL(r,e+2);if(Pg(n))return{value:String.fromCodePoint(n),size:6};if(lZ(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){const s=bL(r,e+8);if(hZ(s))return{value:String.fromCodePoint(n,s),size:12}}throw Hi(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function bL(t,e){return ly(t.charCodeAt(e))<<12|ly(t.charCodeAt(e+1))<<8|ly(t.charCodeAt(e+2))<<4|ly(t.charCodeAt(e+3))}function ly(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function TOe(t,e){const r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Hi(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function $Oe(t,e){const r=t.source.body,n=r.length;let s=t.lineStart,i=e+3,o=i,c="";const l=[];for(;i<n;){const d=r.charCodeAt(i);if(d===34&&r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34){c+=r.slice(o,i),l.push(c);const v=wi(t,at.BLOCK_STRING,e,i+3,mOe(l).join(`
`));return t.line+=l.length-1,t.lineStart=s,v}if(d===92&&r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34&&r.charCodeAt(i+3)===34){c+=r.slice(o,i),o=i+1,i+=4;continue}if(d===10||d===13){c+=r.slice(o,i),l.push(c),d===13&&r.charCodeAt(i+1)===10?i+=2:++i,c="",o=i,s=i;continue}if(Pg(d))++i;else if(MS(r,i))i+=2;else throw Hi(t.source,i,`Invalid character within String: ${wd(t,i)}.`)}throw Hi(t.source,i,"Unterminated string.")}function COe(t,e){const r=t.source.body,n=r.length;let s=e+1;for(;s<n;){const i=r.charCodeAt(s);if(yOe(i))++s;else break}return wi(t,at.NAME,e,s,r.slice(e,s))}const OOe=10,dZ=2;function pZ(t){return IS(t,[])}function IS(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return BOe(t,e);default:return String(t)}}function BOe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const r=[...e,t];if(POe(t)){const n=t.toJSON();if(n!==t)return typeof n=="string"?n:IS(n,r)}else if(Array.isArray(t))return kOe(t,r);return NOe(t,r)}function POe(t){return typeof t.toJSON=="function"}function NOe(t,e){const r=Object.entries(t);return r.length===0?"{}":e.length>dZ?"["+LOe(t)+"]":"{ "+r.map(([s,i])=>s+": "+IS(i,e)).join(", ")+" }"}function kOe(t,e){if(t.length===0)return"[]";if(e.length>dZ)return"[Array]";const r=Math.min(OOe,t.length),n=t.length-r,s=[];for(let i=0;i<r;++i)s.push(IS(t[i],e));return n===1?s.push("... 1 more item"):n>1&&s.push(`... ${n} more items`),"["+s.join(", ")+"]"}function LOe(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}const DOe=function(e,r){return e instanceof r};class a${constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||Qw(!1,`Body must be a string. Received: ${pZ(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||Qw(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Qw(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function UOe(t){return DOe(t,a$)}function FOe(t,e){return new RS(t,e).parseDocument()}function vAt(t,e){const r=new RS(t,e);r.expectToken(at.SOF);const n=r.parseValueLiteral(!1);return r.expectToken(at.EOF),n}function yAt(t,e){const r=new RS(t,e);r.expectToken(at.SOF);const n=r.parseConstValueLiteral();return r.expectToken(at.EOF),n}function mAt(t,e){const r=new RS(t,e);r.expectToken(at.SOF);const n=r.parseTypeReference();return r.expectToken(at.EOF),n}class RS{constructor(e,r={}){const n=UOe(e)?e:new a$(e);this._lexer=new _Oe(n),this._options=r,this._tokenCounter=0}parseName(){const e=this.expectToken(at.NAME);return this.node(e,{kind:St.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:St.DOCUMENT,definitions:this.many(at.SOF,this.parseDefinition,at.EOF)})}parseDefinition(){if(this.peek(at.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(r.kind===at.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Hi(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(at.BRACE_L))return this.node(e,{kind:St.OPERATION_DEFINITION,operation:U0.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(at.NAME)&&(n=this.parseName()),this.node(e,{kind:St.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(at.NAME);switch(e.value){case"query":return U0.QUERY;case"mutation":return U0.MUTATION;case"subscription":return U0.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(at.PAREN_L,this.parseVariableDefinition,at.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:St.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(at.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(at.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(at.DOLLAR),this.node(e,{kind:St.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:St.SELECTION_SET,selections:this.many(at.BRACE_L,this.parseSelection,at.BRACE_R)})}parseSelection(){return this.peek(at.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,r=this.parseName();let n,s;return this.expectOptionalToken(at.COLON)?(n=r,s=this.parseName()):s=r,this.node(e,{kind:St.FIELD,alias:n,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(at.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(at.PAREN_L,r,at.PAREN_R)}parseArgument(e=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(at.COLON),this.node(r,{kind:St.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(at.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(at.NAME)?this.node(e,{kind:St.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:St.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:St.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:St.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const r=this._lexer.token;switch(r.kind){case at.BRACKET_L:return this.parseList(e);case at.BRACE_L:return this.parseObject(e);case at.INT:return this.advanceLexer(),this.node(r,{kind:St.INT,value:r.value});case at.FLOAT:return this.advanceLexer(),this.node(r,{kind:St.FLOAT,value:r.value});case at.STRING:case at.BLOCK_STRING:return this.parseStringLiteral();case at.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:St.BOOLEAN,value:!0});case"false":return this.node(r,{kind:St.BOOLEAN,value:!1});case"null":return this.node(r,{kind:St.NULL});default:return this.node(r,{kind:St.ENUM,value:r.value})}case at.DOLLAR:if(e)if(this.expectToken(at.DOLLAR),this._lexer.token.kind===at.NAME){const n=this._lexer.token.value;throw Hi(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:St.STRING,value:e.value,block:e.kind===at.BLOCK_STRING})}parseList(e){const r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:St.LIST,values:this.any(at.BRACKET_L,r,at.BRACKET_R)})}parseObject(e){const r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:St.OBJECT,fields:this.any(at.BRACE_L,r,at.BRACE_R)})}parseObjectField(e){const r=this._lexer.token,n=this.parseName();return this.expectToken(at.COLON),this.node(r,{kind:St.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const r=[];for(;this.peek(at.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const r=this._lexer.token;return this.expectToken(at.AT),this.node(r,{kind:St.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let r;if(this.expectOptionalToken(at.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(at.BRACKET_R),r=this.node(e,{kind:St.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(at.BANG)?this.node(e,{kind:St.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:St.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(at.STRING)||this.peek(at.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),s=this.many(at.BRACE_L,this.parseOperationTypeDefinition,at.BRACE_R);return this.node(e,{kind:St.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:s})}parseOperationTypeDefinition(){const e=this._lexer.token,r=this.parseOperationType();this.expectToken(at.COLON);const n=this.parseNamedType();return this.node(e,{kind:St.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),s=this.parseConstDirectives();return this.node(e,{kind:St.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:s})}parseObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:St.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:s,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(at.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(at.BRACE_L,this.parseFieldDefinition,at.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),s=this.parseArgumentDefs();this.expectToken(at.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:St.FIELD_DEFINITION,description:r,name:n,arguments:s,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(at.PAREN_L,this.parseInputValueDef,at.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(at.COLON);const s=this.parseTypeReference();let i;this.expectOptionalToken(at.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:St.INPUT_VALUE_DEFINITION,description:r,name:n,type:s,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:St.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:s,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),s=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:St.UNION_TYPE_DEFINITION,description:r,name:n,directives:s,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(at.EQUALS)?this.delimitedMany(at.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),s=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:St.ENUM_TYPE_DEFINITION,description:r,name:n,directives:s,values:i})}parseEnumValuesDefinition(){return this.optionalMany(at.BRACE_L,this.parseEnumValueDefinition,at.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(e,{kind:St.ENUM_VALUE_DEFINITION,description:r,name:n,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Hi(this._lexer.source,this._lexer.token.start,`${zb(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),s=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:St.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:s,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(at.BRACE_L,this.parseInputValueDef,at.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===at.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(at.BRACE_L,this.parseOperationTypeDefinition,at.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:St.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:St.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&s.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:St.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:s,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&s.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:St.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:s,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:St.UNION_TYPE_EXTENSION,name:r,directives:n,types:s})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:St.ENUM_TYPE_EXTENSION,name:r,directives:n,values:s})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:St.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:s})}parseDirectiveDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(at.AT);const n=this.parseName(),s=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:St.DIRECTIVE_DEFINITION,description:r,name:n,arguments:s,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(at.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(X8,r.value))return r;throw this.unexpected(e)}node(e,r){return this._options.noLocation!==!0&&(r.loc=new gOe(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){const r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw Hi(this._lexer.source,r.start,`Expected ${gZ(e)}, found ${zb(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const r=this._lexer.token;if(r.kind===at.NAME&&r.value===e)this.advanceLexer();else throw Hi(this._lexer.source,r.start,`Expected "${e}", found ${zb(r)}.`)}expectOptionalKeyword(e){const r=this._lexer.token;return r.kind===at.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const r=e??this._lexer.token;return Hi(this._lexer.source,r.start,`Unexpected ${zb(r)}.`)}any(e,r,n){this.expectToken(e);const s=[];for(;!this.expectOptionalToken(n);)s.push(r.call(this));return s}optionalMany(e,r,n){if(this.expectOptionalToken(e)){const s=[];do s.push(r.call(this));while(!this.expectOptionalToken(n));return s}return[]}many(e,r,n){this.expectToken(e);const s=[];do s.push(r.call(this));while(!this.expectOptionalToken(n));return s}delimitedMany(e,r){this.expectOptionalToken(e);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,r=this._lexer.advance();if(e!==void 0&&r.kind!==at.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Hi(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function zb(t){const e=t.value;return gZ(t.kind)+(e!=null?` "${e}"`:"")}function gZ(t){return EOe(t)?`"${t}"`:t}function jOe(t){return`"${t.replace(qOe,zOe)}"`}const qOe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function zOe(t){return HOe[t.charCodeAt(0)]}const HOe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Qh=Object.freeze({});function Pa(t,e,r=cZ){const n=new Map;for(const $ of Object.values(St))n.set($,c$(e,$));let s,i=Array.isArray(t),o=[t],c=-1,l=[],d=t,v,b;const A=[],x=[];do{c++;const $=c===o.length,O=$&&l.length!==0;if($){if(v=x.length===0?void 0:A[A.length-1],d=b,b=x.pop(),O)if(i){d=d.slice();let L=0;for(const[F,H]of l){const V=F-L;H===null?(d.splice(V,1),L++):d[V]=H}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(const[L,F]of l)d[L]=F}c=s.index,o=s.keys,l=s.edits,i=s.inArray,s=s.prev}else if(b){if(v=i?c:o[c],d=b[v],d==null)continue;A.push(v)}let D;if(!Array.isArray(d)){var R,C;mL(d)||Qw(!1,`Invalid AST Node: ${pZ(d)}.`);const L=$?(R=n.get(d.kind))===null||R===void 0?void 0:R.leave:(C=n.get(d.kind))===null||C===void 0?void 0:C.enter;if(D=L==null?void 0:L.call(e,d,v,b,A,x),D===Qh)break;if(D===!1){if(!$){A.pop();continue}}else if(D!==void 0&&(l.push([v,D]),!$))if(mL(D))d=D;else{A.pop();continue}}if(D===void 0&&O&&l.push([v,d]),$)A.pop();else{var T;s={inArray:i,index:c,keys:o,edits:l,prev:s},i=Array.isArray(d),o=i?d:(T=r[d.kind])!==null&&T!==void 0?T:[],c=-1,l=[],b&&x.push(b),b=d}}while(s!==void 0);return l.length!==0?l[l.length-1][1]:t}function bAt(t){const e=new Array(t.length).fill(null),r=Object.create(null);for(const n of Object.values(St)){let s=!1;const i=new Array(t.length).fill(void 0),o=new Array(t.length).fill(void 0);for(let l=0;l<t.length;++l){const{enter:d,leave:v}=c$(t[l],n);s||(s=d!=null||v!=null),i[l]=d,o[l]=v}if(!s)continue;const c={enter(...l){const d=l[0];for(let b=0;b<t.length;b++)if(e[b]===null){var v;const A=(v=i[b])===null||v===void 0?void 0:v.apply(t[b],l);if(A===!1)e[b]=d;else if(A===Qh)e[b]=Qh;else if(A!==void 0)return A}},leave(...l){const d=l[0];for(let b=0;b<t.length;b++)if(e[b]===null){var v;const A=(v=o[b])===null||v===void 0?void 0:v.apply(t[b],l);if(A===Qh)e[b]=Qh;else if(A!==void 0&&A!==!1)return A}else e[b]===d&&(e[b]=null)}};r[n]=c}return r}function c$(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function wAt(t,e,r){const{enter:n,leave:s}=c$(t,e);return r?s:n}function VOe(t){return Pa(t,GOe)}const KOe=80,GOe={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Wt(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Gr("(",Wt(t.variableDefinitions,", "),")"),r=Wt([t.operation,Wt([t.name,e]),Wt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Gr(" = ",r)+Gr(" ",Wt(n," "))},SelectionSet:{leave:({selections:t})=>ec(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:s}){const i=Gr("",t,": ")+e;let o=i+Gr("(",Wt(r,", "),")");return o.length>KOe&&(o=i+Gr(`(
`,Zw(Wt(r,`
`)),`
)`)),Wt([o,Wt(n," "),s]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Gr(" ",Wt(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>Wt(["...",Gr("on ",t),Wt(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:s})=>`fragment ${t}${Gr("(",Wt(r,", "),")")} on ${e} ${Gr("",Wt(n," ")," ")}`+s},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?wOe(t):jOe(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Wt(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Wt(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Gr("(",Wt(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>Gr("",t,`
`)+Wt(["schema",Wt(e," "),ec(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>Gr("",t,`
`)+Wt(["scalar",e,Wt(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:s})=>Gr("",t,`
`)+Wt(["type",e,Gr("implements ",Wt(r," & ")),Wt(n," "),ec(s)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:s})=>Gr("",t,`
`)+e+(wL(r)?Gr(`(
`,Zw(Wt(r,`
`)),`
)`):Gr("(",Wt(r,", "),")"))+": "+n+Gr(" ",Wt(s," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:s})=>Gr("",t,`
`)+Wt([e+": "+r,Gr("= ",n),Wt(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:s})=>Gr("",t,`
`)+Wt(["interface",e,Gr("implements ",Wt(r," & ")),Wt(n," "),ec(s)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>Gr("",t,`
`)+Wt(["union",e,Wt(r," "),Gr("= ",Wt(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>Gr("",t,`
`)+Wt(["enum",e,Wt(r," "),ec(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>Gr("",t,`
`)+Wt([e,Wt(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>Gr("",t,`
`)+Wt(["input",e,Wt(r," "),ec(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:s})=>Gr("",t,`
`)+"directive @"+e+(wL(r)?Gr(`(
`,Zw(Wt(r,`
`)),`
)`):Gr("(",Wt(r,", "),")"))+(n?" repeatable":"")+" on "+Wt(s," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Wt(["extend schema",Wt(t," "),ec(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Wt(["extend scalar",t,Wt(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Wt(["extend type",t,Gr("implements ",Wt(e," & ")),Wt(r," "),ec(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Wt(["extend interface",t,Gr("implements ",Wt(e," & ")),Wt(r," "),ec(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>Wt(["extend union",t,Wt(e," "),Gr("= ",Wt(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>Wt(["extend enum",t,Wt(e," "),ec(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>Wt(["extend input",t,Wt(e," "),ec(r)]," ")}};function Wt(t,e=""){var r;return(r=t==null?void 0:t.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function ec(t){return Gr(`{
`,Zw(Wt(t,`
`)),`
}`)}function Gr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function Zw(t){return Gr("  ",t.replace(/\n/g,`
  `))}function wL(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function _At(t){return WOe(t)||QOe(t)||XOe(t)}function WOe(t){return t.kind===St.OPERATION_DEFINITION||t.kind===St.FRAGMENT_DEFINITION}function _L(t){return t.kind===St.FIELD||t.kind===St.FRAGMENT_SPREAD||t.kind===St.INLINE_FRAGMENT}function JOe(t){return t.kind===St.VARIABLE||t.kind===St.INT||t.kind===St.FLOAT||t.kind===St.STRING||t.kind===St.BOOLEAN||t.kind===St.NULL||t.kind===St.ENUM||t.kind===St.LIST||t.kind===St.OBJECT}function EL(t){return JOe(t)&&(t.kind===St.LIST?t.values.some(EL):t.kind===St.OBJECT?t.fields.some(e=>EL(e.value)):t.kind!==St.VARIABLE)}function EAt(t){return t.kind===St.NAMED_TYPE||t.kind===St.LIST_TYPE||t.kind===St.NON_NULL_TYPE}function QOe(t){return t.kind===St.SCHEMA_DEFINITION||ZOe(t)||t.kind===St.DIRECTIVE_DEFINITION}function ZOe(t){return t.kind===St.SCALAR_TYPE_DEFINITION||t.kind===St.OBJECT_TYPE_DEFINITION||t.kind===St.INTERFACE_TYPE_DEFINITION||t.kind===St.UNION_TYPE_DEFINITION||t.kind===St.ENUM_TYPE_DEFINITION||t.kind===St.INPUT_OBJECT_TYPE_DEFINITION}function XOe(t){return t.kind===St.SCHEMA_EXTENSION||YOe(t)}function YOe(t){return t.kind===St.SCALAR_TYPE_EXTENSION||t.kind===St.OBJECT_TYPE_EXTENSION||t.kind===St.INTERFACE_TYPE_EXTENSION||t.kind===St.UNION_TYPE_EXTENSION||t.kind===St.ENUM_TYPE_EXTENSION||t.kind===St.INPUT_OBJECT_TYPE_EXTENSION}var Xw=new Map,e5=new Map,vZ=!0,Y_=!1;function yZ(t){return t.replace(/[\s,]+/g," ").trim()}function eBe(t){return yZ(t.source.body.substring(t.start,t.end))}function tBe(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var s=n.name.value,i=eBe(n.loc),o=e5.get(s);o&&!o.has(i)?vZ&&console.warn("Warning: fragment with name "+s+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||e5.set(s,o=new Set),o.add(i),e.has(i)||(e.add(i),r.push(n))}else r.push(n)}),Qe(Qe({},t),{definitions:r})}function rBe(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(s){var i=n[s];i&&typeof i=="object"&&e.add(i)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function nBe(t){var e=yZ(t);if(!Xw.has(e)){var r=FOe(t,{experimentalFragmentVariables:Y_,allowLegacyFragmentVariables:Y_});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");Xw.set(e,rBe(tBe(r)))}return Xw.get(e)}function Bp(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(s,i){s&&s.kind==="Document"?n+=s.loc.source.body:n+=s,n+=t[i+1]}),nBe(n)}function iBe(){Xw.clear(),e5.clear()}function sBe(){vZ=!1}function oBe(){Y_=!0}function aBe(){Y_=!1}var Fv={gql:Bp,resetCaches:iBe,disableFragmentWarnings:sBe,enableExperimentalFragmentVariables:oBe,disableExperimentalFragmentVariables:aBe};(function(t){t.gql=Fv.gql,t.resetCaches=Fv.resetCaches,t.disableFragmentWarnings=Fv.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Fv.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Fv.disableExperimentalFragmentVariables})(Bp||(Bp={}));Bp.default=Bp;const Hs=Bp,cBe=Hs`
    fragment AssetMetadata on fungible_asset_metadata {
  asset_type
  decimals
  symbol
  name
}
    `,fBe=Hs`
    fragment LumioCoinInfo on coin_infos {
  coin_type
  decimals
  symbol
  name
}
    `,SAt=Hs`
    query GetAccountNftById($address: String, $nftId: String) {
  current_token_ownerships_v2(
    where: {current_token_data: {token_data_id: {_eq: $nftId}}, owner_address: {_eq: $address}, amount: {_gt: "0"}}
  ) {
    current_token_data {
      collection_id
      largest_property_version_v1
      current_collection {
        collection_id
        collection_name
        description
        creator_address
        uri
      }
      description
      token_name
      token_data_id
      token_standard
      token_uri
    }
    owner_address
    amount
  }
}
    `,AAt=Hs`
    query GetAccountNftCollections($address: String) {
  current_collection_ownership_v2_view(
    where: {owner_address: {_eq: $address}}
    limit: 1000000
    offset: 0
    order_by: [{last_transaction_version: desc}, {collection_id: asc}]
  ) {
    collection_id
    distinct_tokens
    last_transaction_version
    owner_address
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,xAt=Hs`
    query GetAccountNfts($address: String) {
  current_token_ownerships_v2(
    where: {owner_address: {_eq: $address}, amount: {_gt: "0"}}
  ) {
    current_token_data {
      collection_id
      largest_property_version_v1
      current_collection {
        collection_id
        collection_name
        description
        creator_address
        uri
      }
      description
      token_name
      token_data_id
      token_standard
      token_uri
    }
    owner_address
    amount
  }
}
    `,MAt=Hs`
    query GetAccountTransactionsData($address: String, $limit: Int) {
  address_version_from_move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    limit: $limit
  ) {
    transaction_version
    __typename
  }
}
    `,IAt=Hs`
    query GetAccountTransactionsDataGt($address: String, $limit: Int, $gt: bigint) {
  address_version_from_move_resources(
    where: {address: {_eq: $address}, transaction_version: {_gt: $gt}}
    order_by: {transaction_version: desc}
    limit: $limit
  ) {
    transaction_version
    __typename
  }
}
    `,RAt=Hs`
    query GetAccountTransactionsDataLt($address: String, $limit: Int, $lt: bigint) {
  address_version_from_move_resources(
    where: {address: {_eq: $address}, transaction_version: {_lt: $lt}}
    order_by: {transaction_version: desc}
    limit: $limit
  ) {
    transaction_version
    __typename
  }
}
    `,TAt=Hs`
    query GetAssetsMetadata($offset: Int, $in: [String!]) {
  fungible_asset_metadata(
    where: {asset_type: {_in: $in}, token_standard: {_eq: "v1"}}
    offset: $offset
    limit: 100
  ) {
    asset_type
    decimals
    symbol
    name
  }
}
    `,$At=Hs`
    query GetCoinBalance($address: String, $coinType: String) {
  current_fungible_asset_balances(
    where: {owner_address: {_eq: $address}, asset_type: {_eq: $coinType}, token_standard: {_eq: "v1"}}
    limit: 1
  ) {
    asset_type
    amount
  }
}
    `,CAt=Hs`
    query GetCoinBalances($address: String, $offset: Int) {
  current_fungible_asset_balances(
    where: {owner_address: {_eq: $address}, token_standard: {_eq: "v1"}}
    offset: $offset
    limit: 100
    order_by: {amount: desc}
  ) {
    asset_type
    amount
  }
}
    `,uBe=Hs`
    query GetLumioCoinBalance($address: String, $coinType: String) {
  current_coin_balances(
    where: {owner_address: {_eq: $address}, coin_type: {_eq: $coinType}}
  ) {
    coin_type
    amount
  }
}
    `,lBe=Hs`
    query GetLumioCoinBalances($address: String, $offset: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $address}}
    offset: $offset
    limit: 100
    order_by: {amount: desc}
  ) {
    coin_type
    amount
  }
}
    `,hBe=Hs`
    query GetLumioCoinInfos($in: [String!], $offset: Int) {
  coin_infos(where: {coin_type: {_in: $in}}, offset: $offset, limit: 100) {
    symbol
    name
    decimals
    coin_type
  }
}
    `,OAt=Hs`
    query GetNftById($id: String) {
  current_token_datas_v2(where: {token_data_id: {_eq: $id}}) {
    collection_id
    current_collection {
      collection_id
      collection_name
      creator_address
      description
      uri
    }
    largest_property_version_v1
    description
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
  }
}
    `,BAt=Hs`
    query GetTokensDataByName($name: String, $collectionName: String) {
  current_token_datas(
    where: {name: {_eq: $name}, collection_name: {_eq: $collectionName}}
  ) {
    metadata_uri
  }
}
    `;function mZ(t,e,r=1/0){t=t.trim();const n=t.indexOf("<"),s=t.lastIndexOf(">");if(n!==-1&&s===-1)throw new Error("Missing closing bracket '>' for "+t);if(n===-1&&s!==-1)throw new Error("Missing opening bracket '<' for "+t);if(n===-1&&s===-1)return{name:t,generics:[]};{const i=t.substring(0,n),o=t.substring(n+1,s);return{name:i,generics:e++!==r?o.split(/\s*,\s*/).map(c=>mZ(c,e,r)):[]}}}function bZ(t,e=1/0){return mZ(t,0,e)}var dBe=function(){function t(r,n){if(typeof r!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+r+"."));this._batchLoadFn=r,this._maxBatchSize=yBe(n),this._batchScheduleFn=mBe(n),this._cacheKeyFn=bBe(n),this._cacheMap=wBe(n),this._batch=null,this.name=_Be(n)}var e=t.prototype;return e.load=function(n){if(n==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(n)+"."));var s=gBe(this),i=this._cacheMap,o=this._cacheKeyFn(n);if(i){var c=i.get(o);if(c){var l=s.cacheHits||(s.cacheHits=[]);return new Promise(function(v){l.push(function(){v(c)})})}}s.keys.push(n);var d=new Promise(function(v,b){s.callbacks.push({resolve:v,reject:b})});return i&&i.set(o,d),d},e.loadMany=function(n){if(!wZ(n))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+n+"."));for(var s=[],i=0;i<n.length;i++)s.push(this.load(n[i]).catch(function(o){return o}));return Promise.all(s)},e.clear=function(n){var s=this._cacheMap;if(s){var i=this._cacheKeyFn(n);s.delete(i)}return this},e.clearAll=function(){var n=this._cacheMap;return n&&n.clear(),this},e.prime=function(n,s){var i=this._cacheMap;if(i){var o=this._cacheKeyFn(n);if(i.get(o)===void 0){var c;s instanceof Error?(c=Promise.reject(s),c.catch(function(){})):c=Promise.resolve(s),i.set(o,c)}}return this},t}(),pBe=typeof mt=="object"&&typeof mt.nextTick=="function"?function(t){I6||(I6=Promise.resolve()),I6.then(function(){mt.nextTick(t)})}:typeof setImmediate=="function"?function(t){setImmediate(t)}:function(t){setTimeout(t)},I6;function gBe(t){var e=t._batch;if(e!==null&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=r,t._batchScheduleFn(function(){vBe(t,r)}),r}function vBe(t,e){if(e.hasDispatched=!0,e.keys.length===0){t5(e);return}var r;try{r=t._batchLoadFn(e.keys)}catch(n){return R6(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(n)+".")))}if(!r||typeof r.then!="function")return R6(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(r)+".")));r.then(function(n){if(!wZ(n))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(n)+"."));if(n.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(e.keys))+(`

Values:
`+String(n)));t5(e);for(var s=0;s<e.callbacks.length;s++){var i=n[s];i instanceof Error?e.callbacks[s].reject(i):e.callbacks[s].resolve(i)}}).catch(function(n){R6(t,e,n)})}function R6(t,e,r){t5(e);for(var n=0;n<e.keys.length;n++)t.clear(e.keys[n]),e.callbacks[n].reject(r)}function t5(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function yBe(t){var e=!t||t.batch!==!1;if(!e)return 1;var r=t&&t.maxBatchSize;if(r===void 0)return 1/0;if(typeof r!="number"||r<1)throw new TypeError("maxBatchSize must be a positive number: "+r);return r}function mBe(t){var e=t&&t.batchScheduleFn;if(e===void 0)return pBe;if(typeof e!="function")throw new TypeError("batchScheduleFn must be a function: "+e);return e}function bBe(t){var e=t&&t.cacheKeyFn;if(e===void 0)return function(r){return r};if(typeof e!="function")throw new TypeError("cacheKeyFn must be a function: "+e);return e}function wBe(t){var e=!t||t.cache!==!1;if(!e)return null;var r=t&&t.cacheMap;if(r===void 0)return new Map;if(r!==null){var n=["get","set","delete","clear"],s=n.filter(function(i){return r&&typeof r[i]!="function"});if(s.length!==0)throw new TypeError("Custom cacheMap missing methods: "+s.join(", "))}return r}function _Be(t){return t&&t.name?t.name:null}function wZ(t){return typeof t=="object"&&t!==null&&typeof t.length=="number"&&(t.length===0||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}var EBe=dBe;const SBe=Mr(EBe);var SL=Object.prototype.toString,_Z=function(e){var r=SL.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&SL.call(e.callee)==="[object Function]"),n},T6,AL;function ABe(){if(AL)return T6;AL=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=_Z,s=Object.prototype.propertyIsEnumerable,i=!s.call({toString:null},"toString"),o=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(A){var x=A.constructor;return x&&x.prototype===A},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},v=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!d["$"+A]&&e.call(window,A)&&window[A]!==null&&typeof window[A]=="object")try{l(window[A])}catch{return!0}}catch{return!0}return!1}(),b=function(A){if(typeof window>"u"||!v)return l(A);try{return l(A)}catch{return!1}};t=function(x){var R=x!==null&&typeof x=="object",C=r.call(x)==="[object Function]",T=n(x),$=R&&r.call(x)==="[object String]",O=[];if(!R&&!C&&!T)throw new TypeError("Object.keys called on a non-object");var D=o&&C;if($&&x.length>0&&!e.call(x,0))for(var L=0;L<x.length;++L)O.push(String(L));if(T&&x.length>0)for(var F=0;F<x.length;++F)O.push(String(F));else for(var H in x)!(D&&H==="prototype")&&e.call(x,H)&&O.push(String(H));if(i)for(var V=b(x),J=0;J<c.length;++J)!(V&&c[J]==="constructor")&&e.call(x,c[J])&&O.push(c[J]);return O}}return T6=t,T6}var xBe=Array.prototype.slice,MBe=_Z,xL=Object.keys,Yw=xL?function(e){return xL(e)}:ABe(),ML=Object.keys;Yw.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return MBe(n)?ML(xBe.call(n)):ML(n)})}else Object.keys=Yw;return Object.keys||Yw};var f$=Yw,IBe=f$,RBe=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",TBe=Object.prototype.toString,$Be=Array.prototype.concat,IL=aT,CBe=function(t){return typeof t=="function"&&TBe.call(t)==="[object Function]"},EZ=jE(),OBe=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!CBe(n)||!n())return}EZ?IL(t,e,r,!0):IL(t,e,r)},SZ=function(t,e){var r=arguments.length>2?arguments[2]:{},n=IBe(e);RBe&&(n=$Be.call(n,Object.getOwnPropertySymbols(e)));for(var s=0;s<n.length;s+=1)OBe(t,n[s],e[n[s]],r[n[s]])};SZ.supportsDescriptors=!!EZ;var jd=SZ,BBe=f$,AZ=FE(),xZ=qa,RL=Object,PBe=xZ("Array.prototype.push"),TL=xZ("Object.prototype.propertyIsEnumerable"),NBe=AZ?Object.getOwnPropertySymbols:null,MZ=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=RL(e);if(arguments.length===1)return n;for(var s=1;s<arguments.length;++s){var i=RL(arguments[s]),o=BBe(i),c=AZ&&(Object.getOwnPropertySymbols||NBe);if(c)for(var l=c(i),d=0;d<l.length;++d){var v=l[d];TL(i,v)&&PBe(o,v)}for(var b=0;b<o.length;++b){var A=o[b];if(TL(i,A)){var x=i[A];n[A]=x}}}return n},$6=MZ,kBe=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var s=Object.assign({},r),i="";for(var o in s)i+=o;return t!==i},LBe=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},IZ=function(){return!Object.assign||kBe()||LBe()?$6:Object.assign},DBe=jd,UBe=IZ,FBe=function(){var e=UBe();return DBe(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},jBe=jd,qBe=_g,zBe=MZ,RZ=IZ,HBe=FBe,VBe=qBe.apply(RZ()),TZ=function(e,r){return VBe(Object,arguments)};jBe(TZ,{getPolyfill:RZ,implementation:zBe,shim:HBe});var KBe=TZ,Yy=function(){return typeof function(){}.name=="string"},xy=Object.getOwnPropertyDescriptor;if(xy)try{xy([],"length")}catch{xy=null}Yy.functionsHaveConfigurableNames=function(){if(!Yy()||!xy)return!1;var e=xy(function(){},"name");return!!e&&!!e.configurable};var GBe=Function.prototype.bind;Yy.boundFunctionsHaveNames=function(){return Yy()&&typeof GBe=="function"&&function(){}.bind().name!==""};var WBe=Yy,$L=aT,JBe=jE(),QBe=WBe.functionsHaveConfigurableNames(),ZBe=TypeError,XBe=function(e,r){if(typeof e!="function")throw new ZBe("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||QBe)&&(JBe?$L(e,"name",r,!0,!0):$L(e,"name",r)),e},YBe=XBe,ePe=Object,tPe=TypeError,$Z=YBe(function(){if(this!=null&&this!==ePe(this))throw new tPe("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),rPe=$Z,nPe=jd.supportsDescriptors,iPe=Object.getOwnPropertyDescriptor,CZ=function(){if(nPe&&/a/mig.flags==="gim"){var e=iPe(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return rPe},sPe=jd.supportsDescriptors,oPe=CZ,aPe=Object.getOwnPropertyDescriptor,cPe=Object.defineProperty,fPe=TypeError,CL=Object.getPrototypeOf,uPe=/a/,lPe=function(){if(!sPe||!CL)throw new fPe("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=oPe(),r=CL(uPe),n=aPe(r,"flags");return(!n||n.get!==e)&&cPe(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},hPe=jd,dPe=_g,pPe=$Z,OZ=CZ,gPe=lPe,BZ=dPe(OZ());hPe(BZ,{getPolyfill:OZ,implementation:pPe,shim:gPe});var vPe=BZ,e_={exports:{}},u$=typeof Map=="function"&&Map.prototype,C6=Object.getOwnPropertyDescriptor&&u$?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e2=u$&&C6&&typeof C6.get=="function"?C6.get:null,OL=u$&&Map.prototype.forEach,l$=typeof Set=="function"&&Set.prototype,O6=Object.getOwnPropertyDescriptor&&l$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,t2=l$&&O6&&typeof O6.get=="function"?O6.get:null,BL=l$&&Set.prototype.forEach,yPe=typeof WeakMap=="function"&&WeakMap.prototype,My=yPe?WeakMap.prototype.has:null,mPe=typeof WeakSet=="function"&&WeakSet.prototype,Iy=mPe?WeakSet.prototype.has:null,bPe=typeof WeakRef=="function"&&WeakRef.prototype,PL=bPe?WeakRef.prototype.deref:null,wPe=Boolean.prototype.valueOf,_Pe=Object.prototype.toString,EPe=Function.prototype.toString,SPe=String.prototype.match,h$=String.prototype.slice,kl=String.prototype.replace,APe=String.prototype.toUpperCase,NL=String.prototype.toLowerCase,PZ=RegExp.prototype.test,kL=Array.prototype.concat,of=Array.prototype.join,xPe=Array.prototype.slice,LL=Math.floor,r5=typeof BigInt=="function"?BigInt.prototype.valueOf:null,B6=Object.getOwnPropertySymbols,n5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qs=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Pp||"symbol")?Symbol.toStringTag:null,NZ=Object.prototype.propertyIsEnumerable,DL=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function UL(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||PZ.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-LL(-t):LL(t);if(n!==t){var s=String(n),i=h$.call(e,s.length+1);return kl.call(s,r,"$&_")+"."+kl.call(kl.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kl.call(e,r,"$&_")}var i5=nh,FL=i5.custom,jL=LZ(FL)?FL:null,MPe=function t(e,r,n,s){var i=r||{};if(Il(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Il(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Il(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Il(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Il(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return UZ(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return c?UL(e,l):l}if(typeof e=="bigint"){var d=String(e)+"n";return c?UL(e,d):d}var v=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=v&&v>0&&typeof e=="object")return s5(e)?"[Array]":"[Object]";var b=HPe(i,n);if(typeof s>"u")s=[];else if(DZ(s,e)>=0)return"[Circular]";function A(u,h,p){if(h&&(s=xPe.call(s),s.push(h)),p){var y={depth:i.depth};return Il(i,"quoteStyle")&&(y.quoteStyle=i.quoteStyle),t(u,y,n+1,s)}return t(u,i,n+1,s)}if(typeof e=="function"&&!qL(e)){var x=NPe(e),R=Hb(e,A);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(R.length>0?" { "+of.call(R,", ")+" }":"")}if(LZ(e)){var C=Pp?kl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):n5.call(e);return typeof e=="object"&&!Pp?jv(C):C}if(jPe(e)){for(var T="<"+NL.call(String(e.nodeName)),$=e.attributes||[],O=0;O<$.length;O++)T+=" "+$[O].name+"="+kZ(IPe($[O].value),"double",i);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+NL.call(String(e.nodeName))+">",T}if(s5(e)){if(e.length===0)return"[]";var D=Hb(e,A);return b&&!zPe(D)?"["+o5(D,b)+"]":"[ "+of.call(D,", ")+" ]"}if(TPe(e)){var L=Hb(e,A);return!("cause"in Error.prototype)&&"cause"in e&&!NZ.call(e,"cause")?"{ ["+String(e)+"] "+of.call(kL.call("[cause]: "+A(e.cause),L),", ")+" }":L.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+of.call(L,", ")+" }"}if(typeof e=="object"&&o){if(jL&&typeof e[jL]=="function"&&i5)return i5(e,{depth:v-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(kPe(e)){var F=[];return OL&&OL.call(e,function(u,h){F.push(A(h,e,!0)+" => "+A(u,e))}),zL("Map",e2.call(e),F,b)}if(UPe(e)){var H=[];return BL&&BL.call(e,function(u){H.push(A(u,e))}),zL("Set",t2.call(e),H,b)}if(LPe(e))return P6("WeakMap");if(FPe(e))return P6("WeakSet");if(DPe(e))return P6("WeakRef");if(CPe(e))return jv(A(Number(e)));if(BPe(e))return jv(A(r5.call(e)));if(OPe(e))return jv(wPe.call(e));if($Pe(e))return jv(A(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===He)return"{ [object globalThis] }";if(!RPe(e)&&!qL(e)){var V=Hb(e,A),J=DL?DL(e)===Object.prototype:e instanceof Object||e.constructor===Object,Z=e instanceof Object?"":"null prototype",se=!J&&qs&&Object(e)===e&&qs in e?h$.call(fh(e),8,-1):Z?"Object":"",S=J||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",a=S+(se||Z?"["+of.call(kL.call([],se||[],Z||[]),": ")+"] ":"");return V.length===0?a+"{}":b?a+"{"+o5(V,b)+"}":a+"{ "+of.call(V,", ")+" }"}return String(e)};function kZ(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function IPe(t){return kl.call(String(t),/"/g,"&quot;")}function s5(t){return fh(t)==="[object Array]"&&(!qs||!(typeof t=="object"&&qs in t))}function RPe(t){return fh(t)==="[object Date]"&&(!qs||!(typeof t=="object"&&qs in t))}function qL(t){return fh(t)==="[object RegExp]"&&(!qs||!(typeof t=="object"&&qs in t))}function TPe(t){return fh(t)==="[object Error]"&&(!qs||!(typeof t=="object"&&qs in t))}function $Pe(t){return fh(t)==="[object String]"&&(!qs||!(typeof t=="object"&&qs in t))}function CPe(t){return fh(t)==="[object Number]"&&(!qs||!(typeof t=="object"&&qs in t))}function OPe(t){return fh(t)==="[object Boolean]"&&(!qs||!(typeof t=="object"&&qs in t))}function LZ(t){if(Pp)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!n5)return!1;try{return n5.call(t),!0}catch{}return!1}function BPe(t){if(!t||typeof t!="object"||!r5)return!1;try{return r5.call(t),!0}catch{}return!1}var PPe=Object.prototype.hasOwnProperty||function(t){return t in this};function Il(t,e){return PPe.call(t,e)}function fh(t){return _Pe.call(t)}function NPe(t){if(t.name)return t.name;var e=SPe.call(EPe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function DZ(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function kPe(t){if(!e2||!t||typeof t!="object")return!1;try{e2.call(t);try{t2.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function LPe(t){if(!My||!t||typeof t!="object")return!1;try{My.call(t,My);try{Iy.call(t,Iy)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function DPe(t){if(!PL||!t||typeof t!="object")return!1;try{return PL.call(t),!0}catch{}return!1}function UPe(t){if(!t2||!t||typeof t!="object")return!1;try{t2.call(t);try{e2.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function FPe(t){if(!Iy||!t||typeof t!="object")return!1;try{Iy.call(t,Iy);try{My.call(t,My)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function jPe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function UZ(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return UZ(h$.call(t,0,e.maxStringLength),e)+n}var s=kl.call(kl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qPe);return kZ(s,"single",e)}function qPe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+APe.call(e.toString(16))}function jv(t){return"Object("+t+")"}function P6(t){return t+" { ? }"}function zL(t,e,r,n){var s=n?o5(r,n):of.call(r,", ");return t+" ("+e+") {"+s+"}"}function zPe(t){for(var e=0;e<t.length;e++)if(DZ(t[e],`
`)>=0)return!1;return!0}function HPe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=of.call(Array(t.indent+1)," ");else return null;return{base:r,prev:of.call(Array(e+1),r)}}function o5(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+of.call(t,","+r)+`
`+e.prev}function Hb(t,e){var r=s5(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=Il(t,s)?e(t[s],t):""}var i=typeof B6=="function"?B6(t):[],o;if(Pp){o={};for(var c=0;c<i.length;c++)o["$"+i[c]]=i[c]}for(var l in t)Il(t,l)&&(r&&String(Number(l))===l&&l<t.length||Pp&&o["$"+l]instanceof Symbol||(PZ.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof B6=="function")for(var d=0;d<i.length;d++)NZ.call(t,i[d])&&n.push("["+e(i[d])+"]: "+e(t[i[d]],t));return n}var d$=ja,Ng=qa,VPe=MPe,KPe=d$("%TypeError%"),Vb=d$("%WeakMap%",!0),Kb=d$("%Map%",!0),GPe=Ng("WeakMap.prototype.get",!0),WPe=Ng("WeakMap.prototype.set",!0),JPe=Ng("WeakMap.prototype.has",!0),QPe=Ng("Map.prototype.get",!0),ZPe=Ng("Map.prototype.set",!0),XPe=Ng("Map.prototype.has",!0),p$=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},YPe=function(t,e){var r=p$(t,e);return r&&r.value},eNe=function(t,e,r){var n=p$(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},tNe=function(t,e){return!!p$(t,e)},g$=function(){var e,r,n,s={assert:function(i){if(!s.has(i))throw new KPe("Side channel does not contain "+VPe(i))},get:function(i){if(Vb&&i&&(typeof i=="object"||typeof i=="function")){if(e)return GPe(e,i)}else if(Kb){if(r)return QPe(r,i)}else if(n)return YPe(n,i)},has:function(i){if(Vb&&i&&(typeof i=="object"||typeof i=="function")){if(e)return JPe(e,i)}else if(Kb){if(r)return XPe(r,i)}else if(n)return tNe(n,i);return!1},set:function(i,o){Vb&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Vb),WPe(e,i,o)):Kb?(r||(r=new Kb),ZPe(r,i,o)):(n||(n={key:{},next:null}),eNe(n,i,o))}};return s},rNe=ja,nNe=pW,qv=g$(),iu=rNe("%TypeError%"),v$={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new iu("`O` is not an object");if(typeof e!="string")throw new iu("`slot` must be a string");if(qv.assert(t),!v$.has(t,e))throw new iu("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new iu("`O` is not an object");if(typeof e!="string")throw new iu("`slot` must be a string");var r=qv.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new iu("`O` is not an object");if(typeof e!="string")throw new iu("`slot` must be a string");var r=qv.get(t);return!!r&&nNe(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new iu("`O` is not an object");if(typeof e!="string")throw new iu("`slot` must be a string");var n=qv.get(t);n||(n={},qv.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(v$);var iNe=v$,zv=iNe,sNe=SyntaxError,HL=typeof StopIteration=="object"?StopIteration:null,oNe=function(e){if(!HL)throw new sNe("this environment lacks StopIteration");zv.set(e,"[[Done]]",!1);var r={next:function(){var s=zv.get(this,"[[Iterator]]"),i=zv.get(s,"[[Done]]");try{return{done:i,value:i?void 0:s.next()}}catch(o){if(zv.set(s,"[[Done]]",!0),o!==HL)throw o;return{done:!0,value:void 0}}}};return zv.set(r,"[[Iterator]]",e),r},aNe={}.toString,FZ=Array.isArray||function(t){return aNe.call(t)=="[object Array]"},cNe=String.prototype.valueOf,fNe=function(e){try{return cNe.call(e),!0}catch{return!1}},uNe=Object.prototype.toString,lNe="[object String]",hNe=ah(),jZ=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:hNe?fNe(e):uNe.call(e)===lNe},y$=typeof Map=="function"&&Map.prototype?Map:null,dNe=typeof Set=="function"&&Set.prototype?Set:null,r2;y$||(r2=function(e){return!1});var qZ=y$?Map.prototype.has:null,VL=dNe?Set.prototype.has:null;!r2&&!qZ&&(r2=function(e){return!1});var zZ=r2||function(e){if(!e||typeof e!="object")return!1;try{if(qZ.call(e),VL)try{VL.call(e)}catch{return!0}return e instanceof y$}catch{}return!1},pNe=typeof Map=="function"&&Map.prototype?Map:null,m$=typeof Set=="function"&&Set.prototype?Set:null,n2;m$||(n2=function(e){return!1});var KL=pNe?Map.prototype.has:null,HZ=m$?Set.prototype.has:null;!n2&&!HZ&&(n2=function(e){return!1});var VZ=n2||function(e){if(!e||typeof e!="object")return!1;try{if(HZ.call(e),KL)try{KL.call(e)}catch{return!0}return e instanceof m$}catch{}return!1},GL=cT,WL=oNe;if(nT()||FE()){var N6=Symbol.iterator;e_.exports=function(e){if(e!=null&&typeof e[N6]<"u")return e[N6]();if(GL(e))return Array.prototype[N6].call(e)}}else{var gNe=FZ,vNe=jZ,JL=ja,yNe=JL("%Map%",!0),mNe=JL("%Set%",!0),tc=qa,QL=tc("Array.prototype.push"),ZL=tc("String.prototype.charCodeAt"),bNe=tc("String.prototype.slice"),wNe=function(e,r){var n=e.length;if(r+1>=n)return r+1;var s=ZL(e,r);if(s<55296||s>56319)return r+1;var i=ZL(e,r+1);return i<56320||i>57343?r+1:r+2},k6=function(e){var r=0;return{next:function(){var s=r>=e.length,i;return s||(i=e[r],r+=1),{done:s,value:i}}}},XL=function(e,r){if(gNe(e)||GL(e))return k6(e);if(vNe(e)){var n=0;return{next:function(){var i=wNe(e,n),o=bNe(e,n,i);return n=i,{done:i>e.length,value:o}}}}if(r&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!yNe&&!mNe)e_.exports=function(e){if(e!=null)return XL(e,!0)};else{var _Ne=zZ,ENe=VZ,YL=tc("Map.prototype.forEach",!0),eD=tc("Set.prototype.forEach",!0);if(typeof mt>"u"||!mt.versions||!mt.versions.node)var tD=tc("Map.prototype.iterator",!0),rD=tc("Set.prototype.iterator",!0);var nD=tc("Map.prototype.@@iterator",!0)||tc("Map.prototype._es6-shim iterator_",!0),iD=tc("Set.prototype.@@iterator",!0)||tc("Set.prototype._es6-shim iterator_",!0),SNe=function(e){if(_Ne(e)){if(tD)return WL(tD(e));if(nD)return nD(e);if(YL){var r=[];return YL(e,function(s,i){QL(r,[i,s])}),k6(r)}}if(ENe(e)){if(rD)return WL(rD(e));if(iD)return iD(e);if(eD){var n=[];return eD(e,function(s){QL(n,s)}),k6(n)}}};e_.exports=function(e){return SNe(e)||XL(e)}}}var ANe=e_.exports,sD=function(t){return t!==t},KZ=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||sD(e)&&sD(r))},xNe=KZ,GZ=function(){return typeof Object.is=="function"?Object.is:xNe},MNe=GZ,INe=jd,RNe=function(){var e=MNe();return INe(Object,{is:e},{is:function(){return Object.is!==e}}),e},TNe=jd,$Ne=_g,CNe=KZ,WZ=GZ,ONe=RNe,JZ=$Ne(WZ(),Object);TNe(JZ,{getPolyfill:WZ,implementation:CNe,shim:ONe});var BNe=JZ,PNe=_g,NNe=qa,QZ=ja,kNe=xW,oD=QZ("ArrayBuffer",!0),aD=QZ("Float32Array",!0),t_=NNe("ArrayBuffer.prototype.byteLength",!0),cD=oD&&!t_&&new oD().slice,fD=cD&&PNe(cD),ZZ=t_||fD?function(e){if(!e||typeof e!="object")return!1;try{return t_?t_(e):fD(e,0),!0}catch{return!1}}:aD?function(e){try{return new aD(e).buffer===e&&!kNe(e)}catch(r){return typeof e=="object"&&r.name==="RangeError"}}:function(e){return!1},LNe=Date.prototype.getDay,DNe=function(e){try{return LNe.call(e),!0}catch{return!1}},UNe=Object.prototype.toString,FNe="[object Date]",jNe=ah(),qNe=function(e){return typeof e!="object"||e===null?!1:jNe?DNe(e):UNe.call(e)===FNe},a5=qa,XZ=ah(),YZ,eX,c5,f5;if(XZ){YZ=a5("Object.prototype.hasOwnProperty"),eX=a5("RegExp.prototype.exec"),c5={};var L6=function(){throw c5};f5={toString:L6,valueOf:L6},typeof Symbol.toPrimitive=="symbol"&&(f5[Symbol.toPrimitive]=L6)}var zNe=a5("Object.prototype.toString"),HNe=Object.getOwnPropertyDescriptor,VNe="[object RegExp]",KNe=XZ?function(e){if(!e||typeof e!="object")return!1;var r=HNe(e,"lastIndex"),n=r&&YZ(r,"value");if(!n)return!1;try{eX(e,f5)}catch(s){return s===c5}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:zNe(e)===VNe},GNe=qa,uD=GNe("SharedArrayBuffer.prototype.byteLength",!0),WNe=uD?function(e){if(!e||typeof e!="object")return!1;try{return uD(e),!0}catch{return!1}}:function(e){return!1},JNe=Number.prototype.toString,QNe=function(e){try{return JNe.call(e),!0}catch{return!1}},ZNe=Object.prototype.toString,XNe="[object Number]",YNe=ah(),e7e=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:YNe?QNe(e):ZNe.call(e)===XNe},tX=qa,t7e=tX("Boolean.prototype.toString"),r7e=tX("Object.prototype.toString"),n7e=function(e){try{return t7e(e),!0}catch{return!1}},i7e="[object Boolean]",s7e=ah(),o7e=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:s7e&&Symbol.toStringTag in e?n7e(e):r7e(e)===i7e},u5={exports:{}},a7e=Object.prototype.toString,c7e=nT();if(c7e){var f7e=Symbol.prototype.toString,u7e=/^Symbol\(.*\)$/,l7e=function(e){return typeof e.valueOf()!="symbol"?!1:u7e.test(f7e.call(e))};u5.exports=function(e){if(typeof e=="symbol")return!0;if(a7e.call(e)!=="[object Symbol]")return!1;try{return l7e(e)}catch{return!1}}}else u5.exports=function(e){return!1};var h7e=u5.exports,l5={exports:{}},lD=typeof BigInt<"u"&&BigInt,d7e=function(){return typeof lD=="function"&&typeof BigInt=="function"&&typeof lD(42)=="bigint"&&typeof BigInt(42)=="bigint"},p7e=d7e();if(p7e){var g7e=BigInt.prototype.valueOf,v7e=function(e){try{return g7e.call(e),!0}catch{}return!1};l5.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:v7e(e)}}else l5.exports=function(e){return!1};var y7e=l5.exports,m7e=jZ,b7e=e7e,w7e=o7e,_7e=h7e,E7e=y7e,S7e=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(m7e(e))return"String";if(b7e(e))return"Number";if(w7e(e))return"Boolean";if(_7e(e))return"Symbol";if(E7e(e))return"BigInt"},i2=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,hD=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,s2;i2||(s2=function(e){return!1});var h5=i2?i2.prototype.has:null,D6=hD?hD.prototype.has:null;!s2&&!h5&&(s2=function(e){return!1});var A7e=s2||function(e){if(!e||typeof e!="object")return!1;try{if(h5.call(e,h5),D6)try{D6.call(e,D6)}catch{return!0}return e instanceof i2}catch{}return!1},d5={exports:{}},x7e=ja,rX=qa,M7e=x7e("%WeakSet%",!0),U6=rX("WeakSet.prototype.has",!0);if(U6){var F6=rX("WeakMap.prototype.has",!0);d5.exports=function(e){if(!e||typeof e!="object")return!1;try{if(U6(e,U6),F6)try{F6(e,F6)}catch{return!0}return e instanceof M7e}catch{}return!1}}else d5.exports=function(e){return!1};var I7e=d5.exports,R7e=zZ,T7e=VZ,$7e=A7e,C7e=I7e,O7e=function(e){if(e&&typeof e=="object"){if(R7e(e))return"Map";if(T7e(e))return"Set";if($7e(e))return"WeakMap";if(C7e(e))return"WeakSet"}return!1},B7e=qa,dD=B7e("ArrayBuffer.prototype.byteLength",!0),P7e=ZZ,N7e=function(e){return P7e(e)?dD?dD(e):e.byteLength:NaN},nX=KBe,Uf=qa,pD=vPe,k7e=ja,Np=ANe,L7e=g$,gD=BNe,vD=cT,yD=FZ,mD=ZZ,bD=qNe,wD=KNe,_D=WNe,ED=f$,SD=S7e,AD=O7e,xD=lT,MD=N7e,ID=Uf("SharedArrayBuffer.prototype.byteLength",!0),RD=Uf("Date.prototype.getTime"),j6=Object.getPrototypeOf,TD=Uf("Object.prototype.toString"),o2=k7e("%Set%",!0),p5=Uf("Map.prototype.has",!0),a2=Uf("Map.prototype.get",!0),$D=Uf("Map.prototype.size",!0),c2=Uf("Set.prototype.add",!0),iX=Uf("Set.prototype.delete",!0),f2=Uf("Set.prototype.has",!0),r_=Uf("Set.prototype.size",!0);function CD(t,e,r,n){for(var s=Np(t),i;(i=s.next())&&!i.done;)if(vc(e,i.value,r,n))return iX(t,i.value),!0;return!1}function sX(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function D7e(t,e,r,n,s,i){var o=sX(r);if(o!=null)return o;var c=a2(e,o),l=nX({},s,{strict:!1});return typeof c>"u"&&!p5(e,o)||!vc(n,c,l,i)?!1:!p5(t,o)&&vc(n,c,l,i)}function U7e(t,e,r){var n=sX(r);return n??(f2(e,n)&&!f2(t,n))}function OD(t,e,r,n,s,i){for(var o=Np(t),c,l;(c=o.next())&&!c.done;)if(l=c.value,vc(r,l,s,i)&&vc(n,a2(e,l),s,i))return iX(t,l),!0;return!1}function vc(t,e,r,n){var s=r||{};if(s.strict?gD(t,e):t===e)return!0;var i=SD(t),o=SD(e);if(i!==o)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return s.strict?gD(t,e):t==e;var c=n.has(t),l=n.has(e),d;if(c&&l){if(n.get(t)===n.get(e))return!0}else d={};return c||n.set(t,d),l||n.set(e,d),q7e(t,e,s,n)}function BD(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function F7e(t,e,r,n){if(r_(t)!==r_(e))return!1;for(var s=Np(t),i=Np(e),o,c,l;(o=s.next())&&!o.done;)if(o.value&&typeof o.value=="object")l||(l=new o2),c2(l,o.value);else if(!f2(e,o.value)){if(r.strict||!U7e(t,e,o.value))return!1;l||(l=new o2),c2(l,o.value)}if(l){for(;(c=i.next())&&!c.done;)if(c.value&&typeof c.value=="object"){if(!CD(l,c.value,r.strict,n))return!1}else if(!r.strict&&!f2(t,c.value)&&!CD(l,c.value,r.strict,n))return!1;return r_(l)===0}return!0}function j7e(t,e,r,n){if($D(t)!==$D(e))return!1;for(var s=Np(t),i=Np(e),o,c,l,d,v,b;(o=s.next())&&!o.done;)if(d=o.value[0],v=o.value[1],d&&typeof d=="object")l||(l=new o2),c2(l,d);else if(b=a2(e,d),typeof b>"u"&&!p5(e,d)||!vc(v,b,r,n)){if(r.strict||!D7e(t,e,d,v,r,n))return!1;l||(l=new o2),c2(l,d)}if(l){for(;(c=i.next())&&!c.done;)if(d=c.value[0],b=c.value[1],d&&typeof d=="object"){if(!OD(l,t,d,b,r,n))return!1}else if(!r.strict&&(!t.has(d)||!vc(a2(t,d),b,r,n))&&!OD(l,t,d,b,nX({},r,{strict:!1}),n))return!1;return r_(l)===0}return!0}function q7e(t,e,r,n){var s,i;if(typeof t!=typeof e||t==null||e==null||TD(t)!==TD(e)||vD(t)!==vD(e))return!1;var o=yD(t),c=yD(e);if(o!==c)return!1;var l=t instanceof Error,d=e instanceof Error;if(l!==d||(l||d)&&(t.name!==e.name||t.message!==e.message))return!1;var v=wD(t),b=wD(e);if(v!==b||(v||b)&&(t.source!==e.source||pD(t)!==pD(e)))return!1;var A=bD(t),x=bD(e);if(A!==x||(A||x)&&RD(t)!==RD(e)||r.strict&&j6&&j6(t)!==j6(e))return!1;var R=xD(t),C=xD(e);if(R!==C)return!1;if(R||C){if(t.length!==e.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}var T=BD(t),$=BD(e);if(T!==$)return!1;if(T||$){if(t.length!==e.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}var O=mD(t),D=mD(e);if(O!==D)return!1;if(O||D)return MD(t)!==MD(e)?!1:typeof Uint8Array=="function"&&vc(new Uint8Array(t),new Uint8Array(e),r,n);var L=_D(t),F=_D(e);if(L!==F)return!1;if(L||F)return ID(t)!==ID(e)?!1:typeof Uint8Array=="function"&&vc(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var H=ED(t),V=ED(e);if(H.length!==V.length)return!1;for(H.sort(),V.sort(),s=H.length-1;s>=0;s--)if(H[s]!=V[s])return!1;for(s=H.length-1;s>=0;s--)if(i=H[s],!vc(t[i],e[i],r,n))return!1;var J=AD(t),Z=AD(e);return J!==Z?!1:J==="Set"||Z==="Set"?F7e(t,e,r,n):J==="Map"?j7e(t,e,r,n):!0}var z7e=function(e,r,n){return vc(e,r,n,L7e())};const oX=Mr(z7e);function H7e(t,e,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;){var o=t[s];e(n,o,r(o),t)}return n}var V7e=H7e,K7e=FW,G7e=K7e(Object.keys,Object),W7e=G7e,J7e=yT,Q7e=W7e,Z7e=Object.prototype,X7e=Z7e.hasOwnProperty;function Y7e(t){if(!J7e(t))return Q7e(t);var e=[];for(var r in Object(t))X7e.call(t,r)&&r!="constructor"&&e.push(r);return e}var e9e=Y7e,t9e=GW,r9e=e9e,n9e=Ig;function i9e(t){return n9e(t)?t9e(t):r9e(t)}var kg=i9e;const PD=Mr(kg);var s9e=NW,o9e=kg;function a9e(t,e){return t&&s9e(t,e,o9e)}var c9e=a9e,f9e=Ig;function u9e(t,e){return function(r,n){if(r==null)return r;if(!f9e(r))return t(r,n);for(var s=r.length,i=e?s:-1,o=Object(r);(e?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var l9e=u9e,h9e=c9e,d9e=l9e,p9e=d9e(h9e),b$=p9e,g9e=b$;function v9e(t,e,r,n){return g9e(t,function(s,i,o){e(n,s,r(s),o)}),n}var y9e=v9e,m9e="__lodash_hash_undefined__";function b9e(t){return this.__data__.set(t,m9e),this}var w9e=b9e;function _9e(t){return this.__data__.has(t)}var E9e=_9e,S9e=pT,A9e=w9e,x9e=E9e;function u2(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new S9e;++e<r;)this.add(t[e])}u2.prototype.add=u2.prototype.push=A9e;u2.prototype.has=x9e;var TS=u2;function M9e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var I9e=M9e;function R9e(t,e){return t.has(e)}var $S=R9e,T9e=TS,$9e=I9e,C9e=$S,O9e=1,B9e=2;function P9e(t,e,r,n,s,i){var o=r&O9e,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;var d=i.get(t),v=i.get(e);if(d&&v)return d==e&&v==t;var b=-1,A=!0,x=r&B9e?new T9e:void 0;for(i.set(t,e),i.set(e,t);++b<c;){var R=t[b],C=e[b];if(n)var T=o?n(C,R,b,e,t,i):n(R,C,b,t,e,i);if(T!==void 0){if(T)continue;A=!1;break}if(x){if(!$9e(e,function($,O){if(!C9e(x,O)&&(R===$||s(R,$,r,n,i)))return x.push(O)})){A=!1;break}}else if(!(R===C||s(R,C,r,n,i))){A=!1;break}}return i.delete(t),i.delete(e),A}var aX=P9e;function N9e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var k9e=N9e;function L9e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var w$=L9e,ND=Sg,kD=LW,D9e=Gm,U9e=aX,F9e=k9e,j9e=w$,q9e=1,z9e=2,H9e="[object Boolean]",V9e="[object Date]",K9e="[object Error]",G9e="[object Map]",W9e="[object Number]",J9e="[object RegExp]",Q9e="[object Set]",Z9e="[object String]",X9e="[object Symbol]",Y9e="[object ArrayBuffer]",eke="[object DataView]",LD=ND?ND.prototype:void 0,q6=LD?LD.valueOf:void 0;function tke(t,e,r,n,s,i,o){switch(r){case eke:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Y9e:return!(t.byteLength!=e.byteLength||!i(new kD(t),new kD(e)));case H9e:case V9e:case W9e:return D9e(+t,+e);case K9e:return t.name==e.name&&t.message==e.message;case J9e:case Z9e:return t==e+"";case G9e:var c=F9e;case Q9e:var l=n&q9e;if(c||(c=j9e),t.size!=e.size&&!l)return!1;var d=o.get(t);if(d)return d==e;n|=z9e,o.set(t,e);var v=U9e(c(t),c(e),n,s,i,o);return o.delete(t),v;case X9e:if(q6)return q6.call(t)==q6.call(e)}return!1}var rke=tke;function nke(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var _$=nke,ike=_$,ske=ms;function oke(t,e,r){var n=e(t);return ske(t)?n:ike(n,r(t))}var cX=oke;function ake(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}var cke=ake;function fke(){return[]}var fX=fke,uke=cke,lke=fX,hke=Object.prototype,dke=hke.propertyIsEnumerable,DD=Object.getOwnPropertySymbols,pke=DD?function(t){return t==null?[]:(t=Object(t),uke(DD(t),function(e){return dke.call(t,e)}))}:lke,E$=pke,gke=cX,vke=E$,yke=kg;function mke(t){return gke(t,yke,vke)}var uX=mke,UD=uX,bke=1,wke=Object.prototype,_ke=wke.hasOwnProperty;function Eke(t,e,r,n,s,i){var o=r&bke,c=UD(t),l=c.length,d=UD(e),v=d.length;if(l!=v&&!o)return!1;for(var b=l;b--;){var A=c[b];if(!(o?A in e:_ke.call(e,A)))return!1}var x=i.get(t),R=i.get(e);if(x&&R)return x==e&&R==t;var C=!0;i.set(t,e),i.set(e,t);for(var T=o;++b<l;){A=c[b];var $=t[A],O=e[A];if(n)var D=o?n(O,$,A,e,t,i):n($,O,A,t,e,i);if(!(D===void 0?$===O||s($,O,r,n,i):D)){C=!1;break}T||(T=A=="constructor")}if(C&&!T){var L=t.constructor,F=e.constructor;L!=F&&"constructor"in t&&"constructor"in e&&!(typeof L=="function"&&L instanceof L&&typeof F=="function"&&F instanceof F)&&(C=!1)}return i.delete(t),i.delete(e),C}var Ske=Eke,Ake=Dd,xke=Lf,Mke=Ake(xke,"DataView"),Ike=Mke,Rke=Dd,Tke=Lf,$ke=Rke(Tke,"Promise"),Cke=$ke,Oke=Dd,Bke=Lf,Pke=Oke(Bke,"Set"),lX=Pke,Nke=Dd,kke=Lf,Lke=Nke(kke,"WeakMap"),Dke=Lke,g5=Ike,v5=dT,y5=Cke,m5=lX,b5=Dke,hX=Ld,Lg=OW,FD="[object Map]",Uke="[object Object]",jD="[object Promise]",qD="[object Set]",zD="[object WeakMap]",HD="[object DataView]",Fke=Lg(g5),jke=Lg(v5),qke=Lg(y5),zke=Lg(m5),Hke=Lg(b5),kh=hX;(g5&&kh(new g5(new ArrayBuffer(1)))!=HD||v5&&kh(new v5)!=FD||y5&&kh(y5.resolve())!=jD||m5&&kh(new m5)!=qD||b5&&kh(new b5)!=zD)&&(kh=function(t){var e=hX(t),r=e==Uke?t.constructor:void 0,n=r?Lg(r):"";if(n)switch(n){case Fke:return HD;case jke:return FD;case qke:return jD;case zke:return qD;case Hke:return zD}return e});var CS=kh,z6=WE,Vke=aX,Kke=rke,Gke=Ske,VD=CS,KD=ms,GD=QE,Wke=_T,Jke=1,WD="[object Arguments]",JD="[object Array]",Gb="[object Object]",Qke=Object.prototype,QD=Qke.hasOwnProperty;function Zke(t,e,r,n,s,i){var o=KD(t),c=KD(e),l=o?JD:VD(t),d=c?JD:VD(e);l=l==WD?Gb:l,d=d==WD?Gb:d;var v=l==Gb,b=d==Gb,A=l==d;if(A&&GD(t)){if(!GD(e))return!1;o=!0,v=!1}if(A&&!v)return i||(i=new z6),o||Wke(t)?Vke(t,e,r,n,s,i):Kke(t,e,l,r,n,s,i);if(!(r&Jke)){var x=v&&QD.call(t,"__wrapped__"),R=b&&QD.call(e,"__wrapped__");if(x||R){var C=x?t.value():t,T=R?e.value():e;return i||(i=new z6),s(C,T,r,n,i)}}return A?(i||(i=new z6),Gke(t,e,r,n,s,i)):!1}var Xke=Zke,Yke=Xke,ZD=Df;function dX(t,e,r,n,s){return t===e?!0:t==null||e==null||!ZD(t)&&!ZD(e)?t!==t&&e!==e:Yke(t,e,r,n,dX,s)}var S$=dX,eLe=WE,tLe=S$,rLe=1,nLe=2;function iLe(t,e,r,n){var s=r.length,i=s,o=!n;if(t==null)return!i;for(t=Object(t);s--;){var c=r[s];if(o&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<i;){c=r[s];var l=c[0],d=t[l],v=c[1];if(o&&c[2]){if(d===void 0&&!(l in t))return!1}else{var b=new eLe;if(n)var A=n(d,v,l,t,e,b);if(!(A===void 0?tLe(v,d,rLe|nLe,n,b):A))return!1}}return!0}var sLe=iLe,oLe=Ic;function aLe(t){return t===t&&!oLe(t)}var pX=aLe,cLe=pX,fLe=kg;function uLe(t){for(var e=fLe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,cLe(s)]}return e}var lLe=uLe;function hLe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var gX=hLe,dLe=sLe,pLe=lLe,gLe=gX;function vLe(t){var e=pLe(t);return e.length==1&&e[0][2]?gLe(e[0][0],e[0][1]):function(r){return r===t||dLe(r,t,e)}}var yLe=vLe,mLe=Ld,bLe=Df,wLe="[object Symbol]";function _Le(t){return typeof t=="symbol"||bLe(t)&&mLe(t)==wLe}var Dg=_Le,ELe=ms,SLe=Dg,ALe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xLe=/^\w*$/;function MLe(t,e){if(ELe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||SLe(t)?!0:xLe.test(t)||!ALe.test(t)||e!=null&&t in Object(e)}var A$=MLe,vX=pT,ILe="Expected a function";function x$(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ILe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(x$.Cache||vX),r}x$.Cache=vX;var yX=x$;const PAt=Mr(yX);var RLe=yX,TLe=500;function $Le(t){var e=RLe(t,function(n){return r.size===TLe&&r.clear(),n}),r=e.cache;return e}var CLe=$Le,OLe=CLe,BLe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PLe=/\\(\\)?/g,NLe=OLe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BLe,function(r,n,s,i){e.push(s?i.replace(PLe,"$1"):n||r)}),e}),kLe=NLe;function LLe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var qd=LLe,XD=Sg,DLe=qd,ULe=ms,FLe=Dg,jLe=1/0,YD=XD?XD.prototype:void 0,eU=YD?YD.toString:void 0;function mX(t){if(typeof t=="string")return t;if(ULe(t))return DLe(t,mX)+"";if(FLe(t))return eU?eU.call(t):"";var e=t+"";return e=="0"&&1/t==-jLe?"-0":e}var qLe=mX,zLe=qLe;function HLe(t){return t==null?"":zLe(t)}var VLe=HLe,KLe=ms,GLe=A$,WLe=kLe,JLe=VLe;function QLe(t,e){return KLe(t)?t:GLe(t,e)?[t]:WLe(JLe(t))}var OS=QLe,ZLe=Dg,XLe=1/0;function YLe(t){if(typeof t=="string"||ZLe(t))return t;var e=t+"";return e=="0"&&1/t==-XLe?"-0":e}var r1=YLe,eDe=OS,tDe=r1;function rDe(t,e){e=eDe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[tDe(e[r++])];return r&&r==n?t:void 0}var BS=rDe,nDe=BS;function iDe(t,e,r){var n=t==null?void 0:nDe(t,e);return n===void 0?r:n}var bX=iDe;const NAt=Mr(bX);function sDe(t,e){return t!=null&&e in Object(t)}var oDe=sDe,aDe=OS,cDe=JE,fDe=ms,uDe=ET,lDe=mT,hDe=r1;function dDe(t,e,r){e=aDe(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var o=hDe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&lDe(s)&&uDe(o,s)&&(fDe(t)||cDe(t)))}var pDe=dDe,gDe=oDe,vDe=pDe;function yDe(t,e){return t!=null&&vDe(t,e,gDe)}var mDe=yDe,bDe=S$,wDe=bX,_De=mDe,EDe=A$,SDe=pX,ADe=gX,xDe=r1,MDe=1,IDe=2;function RDe(t,e){return EDe(t)&&SDe(e)?ADe(xDe(t),e):function(r){var n=wDe(r,t);return n===void 0&&n===e?_De(r,t):bDe(e,n,MDe|IDe)}}var TDe=RDe;function $De(t){return function(e){return e==null?void 0:e[t]}}var CDe=$De,ODe=BS;function BDe(t){return function(e){return ODe(e,t)}}var PDe=BDe,NDe=CDe,kDe=PDe,LDe=A$,DDe=r1;function UDe(t){return LDe(t)?NDe(DDe(t)):kDe(t)}var FDe=UDe,jDe=yLe,qDe=TDe,zDe=$g,HDe=ms,VDe=FDe;function KDe(t){return typeof t=="function"?t:t==null?zDe:typeof t=="object"?HDe(t)?qDe(t[0],t[1]):jDe(t):VDe(t)}var PS=KDe,GDe=V7e,WDe=y9e,JDe=PS,QDe=ms;function ZDe(t,e){return function(r,n){var s=QDe(r)?GDe:WDe,i=e?e():{};return s(r,t,JDe(n),i)}}var wX=ZDe,XDe=Wm,YDe=wX,eUe=YDe(function(t,e,r){XDe(t,r,e)}),tUe=eUe;const Au=Mr(tUe);var rUe=Object.defineProperty,nUe=Object.getOwnPropertyDescriptor,iUe=(t,e,r,n)=>{for(var s=n>1?void 0:n?nUe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&rUe(e,r,s),s},Wb=(t,e)=>(r,n)=>e(r,n,t);const sUe="https://raw.githubusercontent.com/pontem-network/coins-registry/main/src/coins.json",oUe=36e5;let tU=class{constructor(t,e,r){Oe(this,"coinList",[]);Oe(this,"coinDataList",[]);Oe(this,"network");Oe(this,"initPromise");Oe(this,"lastUpdateTime",0);Oe(this,"indexer");Oe(this,"dataLoaders");this.http=t,this.online=e,this.indexerProvider=r,this.dataLoaders={coinInfos:new SBe(n=>this._fetchBatchInfos(n),{cacheKeyFn:n=>n.type,batchScheduleFn:n=>setTimeout(()=>n(),200)})}}get nativeCoin(){return this.network.nativeCoin??VG}async init(t){var e,r;return this.indexer=await this.indexerProvider(),((e=this.network)==null?void 0:e.id)!==t.id&&this.dataLoaders.coinInfos.clearAll(),((t.mode===Ui.Custom?!oX(this.network,t):((r=this.network)==null?void 0:r.id)!==t.id)||!this.initPromise||new Date().getTime()-oUe>this.lastUpdateTime)&&(this.network=t,this.initPromise=new Promise(async n=>{try{const s=await this.http.get(sUe);this.coinDataList=s.data,this.coinList=this.coinDataList.filter(i=>i.chainId===t.chainId).map(i=>i==null?void 0:i.type),this.coinDataList.forEach(i=>{i.chainId===t.chainId&&this.indexer.writeFragment({id:`coin_infos:${i.type}`,fragment:cBe,data:{__typename:"coin_infos",asset_type:i.type,decimals:i.decimals,name:i.name,symbol:i.symbol}})})}catch{this.coinList=[]}n()}),this.lastUpdateTime=new Date().getTime()),this.initPromise}async fetchInfos(t){return await this._fetchInfos(t.map(r=>({type:r,depth:0,maxDepth:2})))}async fetchInfo(t){return(await this.fetchInfos([t]))[0]}async fetchBalances(t,e){try{const r=await this._fetchBalances(t);return r.find(n=>n.coinType===this.nativeCoin)||r.push({amount:0,amountUSD:0,coinType:this.nativeCoin}),r}catch{return[]}}async getAllTokensWithBalances(t,e){console.warn("Method not supported")}async fetchBalance(t,e){return Ey.includes(e)?void 0:(await this.indexer.query({query:uBe,variables:{address:t,coinType:e},fetchPolicy:"network-only",errorPolicy:"all"}).catch(n=>{throw this.online.markApiError(),n})).data.current_coin_balances.map(n=>({amount:n.amount,coinType:n.coin_type})).find(n=>n.coinType===e)}_fetchInfos(t){return this.dataLoaders.coinInfos.loadMany(t)}async _fetchBatchInfos(t){const e=t.filter(l=>!!l.type&&!Ey.includes(l.type));if(!e.length)return[];const r=[],n=e.filter(l=>{const d=this.indexer.readFragment({id:`coin_infos:${l.type}`,fragment:fBe});return!d||!d.coin_type?!0:(r.push({data:d,depth:l.depth,maxDepth:l.maxDepth}),!1)}),i=Br.chunk(n,100).map(l=>this.indexer.query({query:hBe,variables:{in:l.map(d=>d.type),offset:0},fetchPolicy:"cache-first",errorPolicy:"all"}).catch(d=>{throw this.online.markApiError(),d}).then(d=>{const v=d.data.coin_infos.map(b=>{const A=l.find(x=>x.type===b.coin_type);if(A)return{data:b,depth:A.depth,maxDepth:A.maxDepth}}).filter(Boolean);return this._normalizeCoinInfos(v)}).then(d=>d)),o=await Promise.all([this._normalizeCoinInfos(r),...i]),c=Au(o.flat(),"coinType");return t.map(l=>c[l.type])}async _fetchBalances(t,e=0){const r=await this.indexer.query({query:lBe,variables:{address:t,offset:e},fetchPolicy:"network-only",errorPolicy:"all"}).catch(s=>{throw this.online.markApiError(),s});if(!(r!=null&&r.data))return[];const n=r.data.current_coin_balances.map(s=>({amount:s.amount,coinType:s.coin_type})).filter(s=>!Ey.includes(s.coinType??""));return n.length===100?[...n,...await this._fetchBalances(t,e+100)]:n}async _normalizeCoinInfos(t){const e=t.map(async r=>{const n=this.coinDataList.find(i=>i.type===r.data.coin_type);let s=[];if(r.depth+1<=r.maxDepth)try{const i=bZ(r.data.coin_type??"",1);s=i.name.endsWith("::lp_coin::LP")&&i.generics.length>=2?await this._fetchBatchInfos([{type:i.generics[0].name,depth:r.depth+1,maxDepth:r.maxDepth},{type:i.generics[1].name,depth:r.depth+1,maxDepth:r.maxDepth}]):[]}catch{}return{decimals:r.data.decimals,coinType:r.data.coin_type,name:r.data.name??(n==null?void 0:n.name)??"",symbol:r.data.symbol??(n==null?void 0:n.symbol)??"",logoUrl:n==null?void 0:n.logo_url,source:s.length?"liquidswap":(n==null?void 0:n.source)||"native",chain:this.network.chain,lpData:s,isHidden:KG.test(`${r.data.symbol} ${r.data.name}`)}});return Promise.all(e)}};tU=iUe([Lr(),Wb(0,st(tt.HttpService)),Wb(1,st(tt.OnlineService)),Wb(2,st(tt.AptosIndexerProvider)),Wb(2,Ep(Qt.Aptos))],tU);function aUe(t,e,r,n){for(var s=t.length,i=r+(n?1:-1);n?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var cUe=aUe;function fUe(t){return t!==t}var uUe=fUe;function lUe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var hUe=lUe,dUe=cUe,pUe=uUe,gUe=hUe;function vUe(t,e,r){return e===e?gUe(t,e,r):dUe(t,pUe,r)}var yUe=vUe,mUe=yUe;function bUe(t,e){var r=t==null?0:t.length;return!!r&&mUe(t,e,0)>-1}var M$=bUe;function wUe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var I$=wUe;function _Ue(){}var EUe=_Ue,H6=lX,SUe=EUe,AUe=w$,xUe=1/0,MUe=H6&&1/AUe(new H6([,-0]))[1]==xUe?function(t){return new H6(t)}:SUe,IUe=MUe,RUe=TS,TUe=M$,$Ue=I$,CUe=$S,OUe=IUe,BUe=w$,PUe=200;function NUe(t,e,r){var n=-1,s=TUe,i=t.length,o=!0,c=[],l=c;if(r)o=!1,s=$Ue;else if(i>=PUe){var d=e?null:OUe(t);if(d)return BUe(d);o=!1,s=CUe,l=new RUe}else l=e?[]:c;e:for(;++n<i;){var v=t[n],b=e?e(v):v;if(v=r||v!==0?v:0,o&&b===b){for(var A=l.length;A--;)if(l[A]===b)continue e;e&&l.push(b),c.push(v)}else s(l,b,r)||(l!==c&&l.push(b),c.push(v))}return c}var kUe=NUe,LUe=kUe;function DUe(t){return t&&t.length?LUe(t):[]}var UUe=DUe;const Ry=Mr(UUe);var w5={exports:{}};const FUe="2.0.0",jUe=256,qUe=Number.MAX_SAFE_INTEGER||9007199254740991,zUe=16;var NS={SEMVER_SPEC_VERSION:FUe,MAX_LENGTH:jUe,MAX_SAFE_INTEGER:qUe,MAX_SAFE_COMPONENT_LENGTH:zUe};const HUe=typeof mt=="object"&&mt.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var kS=HUe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=NS,n=kS;e=t.exports={};const s=e.re=[],i=e.src=[],o=e.t={};let c=0;const l=(d,v,b)=>{const A=c++;n(d,A,v),o[d]=A,i[A]=v,s[A]=new RegExp(v,b?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),l("FULL",`^${i[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),l("LOOSE",`^${i[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${i[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),l("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",i[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(w5,w5.exports);var Ug=w5.exports;const VUe=["includePrerelease","loose","rtl"],KUe=t=>t?typeof t!="object"?{loose:!0}:VUe.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};var LS=KUe;const rU=/^[0-9]+$/,_X=(t,e)=>{const r=rU.test(t),n=rU.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},GUe=(t,e)=>_X(e,t);var EX={compareIdentifiers:_X,rcompareIdentifiers:GUe};const Jb=kS,{MAX_LENGTH:nU,MAX_SAFE_INTEGER:Qb}=NS,{re:iU,t:sU}=Ug,WUe=LS,{compareIdentifiers:v0}=EX;let JUe=class Zc{constructor(e,r){if(r=WUe(r),e instanceof Zc){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>nU)throw new TypeError(`version is longer than ${nU} characters`);Jb("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?iU[sU.LOOSE]:iU[sU.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Qb||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Qb||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Qb||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Qb)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Jb("SemVer.compare",this.version,this.options,e),!(e instanceof Zc)){if(typeof e=="string"&&e===this.version)return 0;e=new Zc(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Zc||(e=new Zc(e,this.options)),v0(this.major,e.major)||v0(this.minor,e.minor)||v0(this.patch,e.patch)}comparePre(e){if(e instanceof Zc||(e=new Zc(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(Jb("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return v0(n,s)}while(++r)}compareBuild(e){e instanceof Zc||(e=new Zc(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(Jb("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return v0(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(v0(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var no=JUe;const{MAX_LENGTH:QUe}=NS,{re:oU,t:aU}=Ug,cU=no,ZUe=LS,XUe=(t,e)=>{if(e=ZUe(e),t instanceof cU)return t;if(typeof t!="string"||t.length>QUe||!(e.loose?oU[aU.LOOSE]:oU[aU.FULL]).test(t))return null;try{return new cU(t,e)}catch{return null}};var Fg=XUe;const YUe=Fg,eFe=(t,e)=>{const r=YUe(t,e);return r?r.version:null};var tFe=eFe;const rFe=Fg,nFe=(t,e)=>{const r=rFe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var iFe=nFe;const fU=no,sFe=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new fU(t instanceof fU?t.version:t,r).inc(e,n).version}catch{return null}};var oFe=sFe;const uU=no,aFe=(t,e,r)=>new uU(t,r).compare(new uU(e,r));var Cc=aFe;const cFe=Cc,fFe=(t,e,r)=>cFe(t,e,r)===0;var R$=fFe;const lU=Fg,uFe=R$,lFe=(t,e)=>{if(uFe(t,e))return null;{const r=lU(t),n=lU(e),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(const c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return i+c;return o}};var hFe=lFe;const dFe=no,pFe=(t,e)=>new dFe(t,e).major;var gFe=pFe;const vFe=no,yFe=(t,e)=>new vFe(t,e).minor;var mFe=yFe;const bFe=no,wFe=(t,e)=>new bFe(t,e).patch;var _Fe=wFe;const EFe=Fg,SFe=(t,e)=>{const r=EFe(t,e);return r&&r.prerelease.length?r.prerelease:null};var AFe=SFe;const xFe=Cc,MFe=(t,e,r)=>xFe(e,t,r);var IFe=MFe;const RFe=Cc,TFe=(t,e)=>RFe(t,e,!0);var $Fe=TFe;const hU=no,CFe=(t,e,r)=>{const n=new hU(t,r),s=new hU(e,r);return n.compare(s)||n.compareBuild(s)};var T$=CFe;const OFe=T$,BFe=(t,e)=>t.sort((r,n)=>OFe(r,n,e));var PFe=BFe;const NFe=T$,kFe=(t,e)=>t.sort((r,n)=>NFe(n,r,e));var LFe=kFe;const DFe=Cc,UFe=(t,e,r)=>DFe(t,e,r)>0;var DS=UFe;const FFe=Cc,jFe=(t,e,r)=>FFe(t,e,r)<0;var $$=jFe;const qFe=Cc,zFe=(t,e,r)=>qFe(t,e,r)!==0;var SX=zFe;const HFe=Cc,VFe=(t,e,r)=>HFe(t,e,r)>=0;var C$=VFe;const KFe=Cc,GFe=(t,e,r)=>KFe(t,e,r)<=0;var O$=GFe;const WFe=R$,JFe=SX,QFe=DS,ZFe=C$,XFe=$$,YFe=O$,eje=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return WFe(t,r,n);case"!=":return JFe(t,r,n);case">":return QFe(t,r,n);case">=":return ZFe(t,r,n);case"<":return XFe(t,r,n);case"<=":return YFe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var AX=eje;const tje=no,rje=Fg,{re:Zb,t:Xb}=Ug,nje=(t,e)=>{if(t instanceof tje)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Zb[Xb.COERCE]);else{let n;for(;(n=Zb[Xb.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Zb[Xb.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Zb[Xb.COERCERTL].lastIndex=-1}return r===null?null:rje(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var ije=nje,V6,dU;function Oc(){if(dU)return V6;dU=1;class t{constructor(a,u){if(u=n(u),a instanceof t)return a.loose===!!u.loose&&a.includePrerelease===!!u.includePrerelease?a:new t(a.raw,u);if(a instanceof s)return this.raw=a.value,this.set=[[a]],this.format(),this;if(this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease,this.raw=a,this.set=a.split("||").map(h=>this.parseRange(h.trim())).filter(h=>h.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${a}`);if(this.set.length>1){const h=this.set[0];if(this.set=this.set.filter(p=>!A(p[0])),this.set.length===0)this.set=[h];else if(this.set.length>1){for(const p of this.set)if(p.length===1&&x(p[0])){this.set=[p];break}}}this.format()}format(){return this.range=this.set.map(a=>a.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(a){a=a.trim();const h=`parseRange:${Object.keys(this.options).join(",")}:${a}`,p=r.get(h);if(p)return p;const y=this.options.loose,w=y?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];a=a.replace(w,Z(this.options.includePrerelease)),i("hyphen replace",a),a=a.replace(c[l.COMPARATORTRIM],d),i("comparator trim",a),a=a.replace(c[l.TILDETRIM],v),a=a.replace(c[l.CARETTRIM],b),a=a.split(/\s+/).join(" ");let _=a.split(" ").map(I=>C(I,this.options)).join(" ").split(/\s+/).map(I=>J(I,this.options));y&&(_=_.filter(I=>(i("loose invalid filter",I,this.options),!!I.match(c[l.COMPARATORLOOSE])))),i("range list",_);const g=new Map,f=_.map(I=>new s(I,this.options));for(const I of f){if(A(I))return[I];g.set(I.value,I)}g.size>1&&g.has("")&&g.delete("");const m=[...g.values()];return r.set(h,m),m}intersects(a,u){if(!(a instanceof t))throw new TypeError("a Range is required");return this.set.some(h=>R(h,u)&&a.set.some(p=>R(p,u)&&h.every(y=>p.every(w=>y.intersects(w,u)))))}test(a){if(!a)return!1;if(typeof a=="string")try{a=new o(a,this.options)}catch{return!1}for(let u=0;u<this.set.length;u++)if(se(this.set[u],a,this.options))return!0;return!1}}V6=t;const e=X2,r=new e({max:1e3}),n=LS,s=US(),i=kS,o=no,{re:c,t:l,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:b}=Ug,A=S=>S.value==="<0.0.0-0",x=S=>S.value==="",R=(S,a)=>{let u=!0;const h=S.slice();let p=h.pop();for(;u&&h.length;)u=h.every(y=>p.intersects(y,a)),p=h.pop();return u},C=(S,a)=>(i("comp",S,a),S=D(S,a),i("caret",S),S=$(S,a),i("tildes",S),S=F(S,a),i("xrange",S),S=V(S,a),i("stars",S),S),T=S=>!S||S.toLowerCase()==="x"||S==="*",$=(S,a)=>S.trim().split(/\s+/).map(u=>O(u,a)).join(" "),O=(S,a)=>{const u=a.loose?c[l.TILDELOOSE]:c[l.TILDE];return S.replace(u,(h,p,y,w,_)=>{i("tilde",S,h,p,y,w,_);let g;return T(p)?g="":T(y)?g=`>=${p}.0.0 <${+p+1}.0.0-0`:T(w)?g=`>=${p}.${y}.0 <${p}.${+y+1}.0-0`:_?(i("replaceTilde pr",_),g=`>=${p}.${y}.${w}-${_} <${p}.${+y+1}.0-0`):g=`>=${p}.${y}.${w} <${p}.${+y+1}.0-0`,i("tilde return",g),g})},D=(S,a)=>S.trim().split(/\s+/).map(u=>L(u,a)).join(" "),L=(S,a)=>{i("caret",S,a);const u=a.loose?c[l.CARETLOOSE]:c[l.CARET],h=a.includePrerelease?"-0":"";return S.replace(u,(p,y,w,_,g)=>{i("caret",S,p,y,w,_,g);let f;return T(y)?f="":T(w)?f=`>=${y}.0.0${h} <${+y+1}.0.0-0`:T(_)?y==="0"?f=`>=${y}.${w}.0${h} <${y}.${+w+1}.0-0`:f=`>=${y}.${w}.0${h} <${+y+1}.0.0-0`:g?(i("replaceCaret pr",g),y==="0"?w==="0"?f=`>=${y}.${w}.${_}-${g} <${y}.${w}.${+_+1}-0`:f=`>=${y}.${w}.${_}-${g} <${y}.${+w+1}.0-0`:f=`>=${y}.${w}.${_}-${g} <${+y+1}.0.0-0`):(i("no pr"),y==="0"?w==="0"?f=`>=${y}.${w}.${_}${h} <${y}.${w}.${+_+1}-0`:f=`>=${y}.${w}.${_}${h} <${y}.${+w+1}.0-0`:f=`>=${y}.${w}.${_} <${+y+1}.0.0-0`),i("caret return",f),f})},F=(S,a)=>(i("replaceXRanges",S,a),S.split(/\s+/).map(u=>H(u,a)).join(" ")),H=(S,a)=>{S=S.trim();const u=a.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return S.replace(u,(h,p,y,w,_,g)=>{i("xRange",S,h,p,y,w,_,g);const f=T(y),m=f||T(w),I=m||T(_),P=I;return p==="="&&P&&(p=""),g=a.includePrerelease?"-0":"",f?p===">"||p==="<"?h="<0.0.0-0":h="*":p&&P?(m&&(w=0),_=0,p===">"?(p=">=",m?(y=+y+1,w=0,_=0):(w=+w+1,_=0)):p==="<="&&(p="<",m?y=+y+1:w=+w+1),p==="<"&&(g="-0"),h=`${p+y}.${w}.${_}${g}`):m?h=`>=${y}.0.0${g} <${+y+1}.0.0-0`:I&&(h=`>=${y}.${w}.0${g} <${y}.${+w+1}.0-0`),i("xRange return",h),h})},V=(S,a)=>(i("replaceStars",S,a),S.trim().replace(c[l.STAR],"")),J=(S,a)=>(i("replaceGTE0",S,a),S.trim().replace(c[a.includePrerelease?l.GTE0PRE:l.GTE0],"")),Z=S=>(a,u,h,p,y,w,_,g,f,m,I,P,j)=>(T(h)?u="":T(p)?u=`>=${h}.0.0${S?"-0":""}`:T(y)?u=`>=${h}.${p}.0${S?"-0":""}`:w?u=`>=${u}`:u=`>=${u}${S?"-0":""}`,T(f)?g="":T(m)?g=`<${+f+1}.0.0-0`:T(I)?g=`<${f}.${+m+1}.0-0`:P?g=`<=${f}.${m}.${I}-${P}`:S?g=`<${f}.${m}.${+I+1}-0`:g=`<=${g}`,`${u} ${g}`.trim()),se=(S,a,u)=>{for(let h=0;h<S.length;h++)if(!S[h].test(a))return!1;if(a.prerelease.length&&!u.includePrerelease){for(let h=0;h<S.length;h++)if(i(S[h].semver),S[h].semver!==s.ANY&&S[h].semver.prerelease.length>0){const p=S[h].semver;if(p.major===a.major&&p.minor===a.minor&&p.patch===a.patch)return!0}return!1}return!0};return V6}var K6,pU;function US(){if(pU)return K6;pU=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(v,b){if(b=r(b),v instanceof e){if(v.loose===!!b.loose)return v;v=v.value}o("comparator",v,b),this.options=b,this.loose=!!b.loose,this.parse(v),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(v){const b=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],A=v.match(b);if(!A)throw new TypeError(`Invalid comparator: ${v}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new c(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(v){if(o("Comparator.test",v,this.options.loose),this.semver===t||v===t)return!0;if(typeof v=="string")try{v=new c(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,b){if(!(v instanceof e))throw new TypeError("a Comparator is required");if((!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(v.value,b).test(this.value);if(v.operator==="")return v.value===""?!0:new l(this.value,b).test(v.semver);const A=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),x=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),R=this.semver.version===v.semver.version,C=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),T=i(this.semver,"<",v.semver,b)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),$=i(this.semver,">",v.semver,b)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return A||x||R&&C||T||$}}K6=e;const r=LS,{re:n,t:s}=Ug,i=AX,o=kS,c=no,l=Oc();return K6}const sje=Oc(),oje=(t,e,r)=>{try{e=new sje(e,r)}catch{return!1}return e.test(t)};var FS=oje;const aje=Oc(),cje=(t,e)=>new aje(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var fje=cje;const uje=no,lje=Oc(),hje=(t,e,r)=>{let n=null,s=null,i=null;try{i=new lje(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new uje(n,r))}),n};var dje=hje;const pje=no,gje=Oc(),vje=(t,e,r)=>{let n=null,s=null,i=null;try{i=new gje(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new pje(n,r))}),n};var yje=vje;const G6=no,mje=Oc(),gU=DS,bje=(t,e)=>{t=new mje(t,e);let r=new G6("0.0.0");if(t.test(r)||(r=new G6("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(o=>{const c=new G6(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||gU(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||gU(r,i))&&(r=i)}return r&&t.test(r)?r:null};var wje=bje;const _je=Oc(),Eje=(t,e)=>{try{return new _je(t,e).range||"*"}catch{return null}};var Sje=Eje;const Aje=no,xX=US(),{ANY:xje}=xX,Mje=Oc(),Ije=FS,vU=DS,yU=$$,Rje=O$,Tje=C$,$je=(t,e,r,n)=>{t=new Aje(t,n),e=new Mje(e,n);let s,i,o,c,l;switch(r){case">":s=vU,i=Rje,o=yU,c=">",l=">=";break;case"<":s=yU,i=Tje,o=vU,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ije(t,e,n))return!1;for(let d=0;d<e.set.length;++d){const v=e.set[d];let b=null,A=null;if(v.forEach(x=>{x.semver===xje&&(x=new xX(">=0.0.0")),b=b||x,A=A||x,s(x.semver,b.semver,n)?b=x:o(x.semver,A.semver,n)&&(A=x)}),b.operator===c||b.operator===l||(!A.operator||A.operator===c)&&i(t,A.semver))return!1;if(A.operator===l&&o(t,A.semver))return!1}return!0};var B$=$je;const Cje=B$,Oje=(t,e,r)=>Cje(t,e,">",r);var Bje=Oje;const Pje=B$,Nje=(t,e,r)=>Pje(t,e,"<",r);var kje=Nje;const mU=Oc(),Lje=(t,e,r)=>(t=new mU(t,r),e=new mU(e,r),t.intersects(e));var Dje=Lje;const Uje=FS,Fje=Cc;var jje=(t,e,r)=>{const n=[];let s=null,i=null;const o=t.sort((v,b)=>Fje(v,b,r));for(const v of o)Uje(v,e,r)?(i=v,s||(s=v)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[v,b]of n)v===b?c.push(v):!b&&v===o[0]?c.push("*"):b?v===o[0]?c.push(`<=${b}`):c.push(`${v} - ${b}`):c.push(`>=${v}`);const l=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e};const bU=Oc(),n_=US(),{ANY:W6}=n_,Hv=FS,P$=Cc,qje=(t,e,r={})=>{if(t===e)return!0;t=new bU(t,r),e=new bU(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const o=zje(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},zje=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===W6){if(e.length===1&&e[0].semver===W6)return!0;r.includePrerelease?t=[new n_(">=0.0.0-0")]:t=[new n_(">=0.0.0")]}if(e.length===1&&e[0].semver===W6){if(r.includePrerelease)return!0;e=[new n_(">=0.0.0")]}const n=new Set;let s,i;for(const x of t)x.operator===">"||x.operator===">="?s=wU(s,x,r):x.operator==="<"||x.operator==="<="?i=_U(i,x,r):n.add(x.semver);if(n.size>1)return null;let o;if(s&&i){if(o=P$(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const x of n){if(s&&!Hv(x,String(s),r)||i&&!Hv(x,String(i),r))return null;for(const R of e)if(!Hv(x,String(R),r))return!1;return!0}let c,l,d,v,b=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,A=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;b&&b.prerelease.length===1&&i.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const x of e){if(v=v||x.operator===">"||x.operator===">=",d=d||x.operator==="<"||x.operator==="<=",s){if(A&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===A.major&&x.semver.minor===A.minor&&x.semver.patch===A.patch&&(A=!1),x.operator===">"||x.operator===">="){if(c=wU(s,x,r),c===x&&c!==s)return!1}else if(s.operator===">="&&!Hv(s.semver,String(x),r))return!1}if(i){if(b&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===b.major&&x.semver.minor===b.minor&&x.semver.patch===b.patch&&(b=!1),x.operator==="<"||x.operator==="<="){if(l=_U(i,x,r),l===x&&l!==i)return!1}else if(i.operator==="<="&&!Hv(i.semver,String(x),r))return!1}if(!x.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&v&&!s&&o!==0||A||b)},wU=(t,e,r)=>{if(!t)return e;const n=P$(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},_U=(t,e,r)=>{if(!t)return e;const n=P$(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Hje=qje;const J6=Ug,Vje=NS,Kje=no,EU=EX,Gje=Fg,Wje=tFe,Jje=iFe,Qje=oFe,Zje=hFe,Xje=gFe,Yje=mFe,eqe=_Fe,tqe=AFe,rqe=Cc,nqe=IFe,iqe=$Fe,sqe=T$,oqe=PFe,aqe=LFe,cqe=DS,fqe=$$,uqe=R$,lqe=SX,hqe=C$,dqe=O$,pqe=AX,gqe=ije,vqe=US(),yqe=Oc(),mqe=FS,bqe=fje,wqe=dje,_qe=yje,Eqe=wje,Sqe=Sje,Aqe=B$,xqe=Bje,Mqe=kje,Iqe=Dje,Rqe=jje,Tqe=Hje;var $qe={parse:Gje,valid:Wje,clean:Jje,inc:Qje,diff:Zje,major:Xje,minor:Yje,patch:eqe,prerelease:tqe,compare:rqe,rcompare:nqe,compareLoose:iqe,compareBuild:sqe,sort:oqe,rsort:aqe,gt:cqe,lt:fqe,eq:uqe,neq:lqe,gte:hqe,lte:dqe,cmp:pqe,coerce:gqe,Comparator:vqe,Range:yqe,satisfies:mqe,toComparators:bqe,maxSatisfying:wqe,minSatisfying:_qe,minVersion:Eqe,validRange:Sqe,outside:Aqe,gtr:xqe,ltr:Mqe,intersects:Iqe,simplifyRange:Rqe,subset:Tqe,SemVer:Kje,re:J6.re,src:J6.src,tokens:J6.t,SEMVER_SPEC_VERSION:Vje.SEMVER_SPEC_VERSION,compareIdentifiers:EU.compareIdentifiers,rcompareIdentifiers:EU.rcompareIdentifiers};const Yb=Mr($qe);var Cqe=Object.defineProperty,Oqe=Object.getOwnPropertyDescriptor,Bqe=(t,e,r,n)=>{for(var s=n>1?void 0:n?Oqe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Cqe(e,r,s),s};let SU=class extends Uu{constructor(e,r){super();Oe(this,"_state");Oe(this,"_migrations");Oe(this,"_emitter");Oe(this,"_asyncHandlers",{});this.app=e;const n={async:[],sync:[]};if(this._migrations=r.map(s=>{const i=Yb.parse(s.version);if(!i)throw new Error(`Invalid version in migrations ${s.version}`);return n[s.type].push(s.version),{...s,version:i}}),Ry(n.async).length!==n.async.length)throw new Error("Duplicate versions in async migrations");if(Ry(n.sync).length!==n.sync.length)throw new Error("Duplicate versions in sync migrations");this._emitter=new Uu}get state(){return this._state}init(e){this._state=e}async startSyncMigrations(){const e=this._getUnresolvedSyncMigrations();for(const r of e)await new Promise((s,i)=>{console.log("[MigrationService] Sync migration started",r.version),r.up(this.app,o=>{if(o instanceof Error)return console.error("[MigrationService] Error in sync migration",r.version,o),i(o);console.log("[MigrationService] Sync migration ended",r.version),s()})}),this._state.lastSyncMigration=r.version.version,this.emit("update")}startAsyncMigrations(){const e=Object.entries(this._state.asyncMigrations).map(([n,s])=>({version:Yb.parse(n),status:s})),r=this._migrations.filter(n=>n.type==="async").map(n=>{const s=e.find(i=>i.version.compare(n.version)===0);return{hasMigration:s&&s.status,migration:n}});for(const n of r)n.hasMigration?this._state.asyncMigrations[n.migration.version.version]=!0:this._registerAsyncMigration(n.migration);this.emit("update")}callHandler(e,...r){const n=this._asyncHandlers[e];if(!n)throw new Error("Migration handler not found");return n.call(...r)}_getUnresolvedSyncMigrations(){const e=this._migrations.filter(r=>r.type!=="sync"?!1:this._state.lastSyncMigration?Yb.gt(r.version,this._state.lastSyncMigration):!0);return e.sort((r,n)=>Yb.gt(r.version,n.version)?1:-1),e}_registerAsyncMigration(e){const r=e.version.version,n={counter:0,unsubscribes:[],call:(...o)=>new Promise((c,l)=>{const d=({counter:b,version:A,result:x,error:R})=>{A===r&&b===v&&(R?l(R):c(x),this._emitter.off("result",d))},v=n.counter++;this._emitter.on("result",d),this._emitter.emit("data",{counter:v,version:r,payload:o})})},s=o=>{const c=async({counter:d,version:v,payload:b})=>{try{if(e.version.compare(v)===0){const A=await o(...b);this._emitter.emit("result",{counter:d,version:v,result:A})}}catch(A){this._emitter.emit("result",{counter:d,version:v,error:A}),console.error("[MigrationService] Error in async migration",v,A)}};this._emitter.on("data",c);const l=()=>{this._emitter.off("data",c)};return n.unsubscribes.push(l),console.log("[MigrationService] Async migration registered",e.version.version),l},i=o=>{if(o instanceof Error){console.error("[MigrationService] Async migration done with error",o);return}n.unsubscribes.forEach(c=>c()),delete this._asyncHandlers[r],this._state.asyncMigrations[r]=!0,this.emit("update"),console.log("[MigrationService] Async migration ended",r)};this._state.asyncMigrations[r]=!1,this.emit("update");try{this._asyncHandlers[r]=n,e.up(this.app,s,i),console.log("[MigrationService] Async migration started",r)}catch(o){console.error("[MigrationService] Async migration started with error",r,o),i(o)}}};SU=Bqe([Lr()],SU);var Pqe=Object.defineProperty,Nqe=Object.getOwnPropertyDescriptor,kqe=(t,e,r,n)=>{for(var s=n>1?void 0:n?Nqe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Pqe(e,r,s),s},Vv=(t,e)=>(r,n)=>e(r,n,t);const Lqe="https://raw.githubusercontent.com/pontem-network/coins-registry/main/src/coins.json",Dqe=36e5;let AU=class{constructor(t,e,r,n){Oe(this,"coinList",[]);Oe(this,"coinDataList",[]);Oe(this,"network");Oe(this,"api");Oe(this,"initPromise");Oe(this,"lastUpdateTime");this.http=t,this.online=e,this.apiProvider=r,this.config=n}get nativeCoin(){return this.network.nativeCoin??VG}async init(t){var e;this.network=t,this.api=await this.apiProvider(),((t.mode===Ui.Custom?!oX(this.network,t):((e=this.network)==null?void 0:e.id)!==t.id)||!this.initPromise||new Date().getTime()-Dqe>this.lastUpdateTime)&&(this.network=t,this.initPromise=new Promise(async r=>{var n;try{const s=await this.http.get(Lqe);this.coinDataList=((n=s.data)==null?void 0:n.filter(i=>i.chainId===t.chainId))??[],this.coinList=this.coinDataList.filter(i=>i.chainId===t.chainId).map(i=>i==null?void 0:i.type)}catch{this.coinList=[]}r()}),this.lastUpdateTime=new Date().getTime())}async fetchInfos(t){const e=t.filter(s=>!!s&&!Ey.includes(s));if(!e.length)return[];const r=Br.chunk(e,5),n=[];for(const s of r){const i=s.map(l=>{const d=Uqe(l);return this.api.getAccountResource({accountAddress:d,resourceType:`0x1::coin::CoinInfo<${l}>`}).then(v=>({type:l,data:v})).catch(v=>{})}),o=await Promise.all(i),c=await Promise.all(o.filter(Boolean).map(async({data:l,type:d})=>{const v=this.coinDataList.find(A=>A.type===d);let b=[];try{const A=bZ(d,1);b=A.name.endsWith("::lp_coin::LP")&&A.generics.length>=2?await this.fetchInfos([A.generics[0].name,A.generics[1].name]):[]}catch{}return{decimals:l.decimals,coinType:d,name:l.name??(v==null?void 0:v.name)??"",symbol:l.symbol??(v==null?void 0:v.symbol)??"",logoUrl:v==null?void 0:v.logo_url,source:b.length?"liquidswap":(v==null?void 0:v.source)||"native",chain:Qt.Aptos,lpData:b,isHidden:KG.test(`${l.symbol} ${l.name}`)}}));n.push(...c)}return n}async fetchInfo(t){return(await this.fetchInfos([t]))[0]}async fetchBalances(t){try{const e=await this._fetchBalances(t);return e.find(r=>r.coinType===this.nativeCoin)||e.push({amount:0,amountUSD:0,coinType:this.nativeCoin}),e}catch{return[]}}async _fetchBalances(t){return(await this.api.account.getAccountResources({accountAddress:t}).catch(n=>[])).filter(n=>n.type.startsWith("0x1::coin::CoinStore")).map(({type:n,data:s})=>({coinType:Fqe(n),amount:s.coin.value}))}async fetchBalance(t,e){if(Ey.includes(e))return;const r=await this.api.account.getAccountResource({accountAddress:t,resourceType:`0x1::coin::CoinStore<${e}>`}).catch(n=>{});return r?{coinType:e,amount:r.coin.value}:void 0}async getAllTokensWithBalances(t,e){console.warn("Method not supported")}};AU=kqe([Lr(),Vv(0,st(tt.HttpService)),Vv(1,st(tt.OnlineService)),Vv(2,st(tt.ChainApiProvider)),Vv(2,Ep(Qt.Aptos)),Vv(3,st(tt.Config))],AU);function Uqe(t){return t.split("::")[0]}function Fqe(t=""){const e=t.match(/^0x1::coin::CoinStore<(.+)>$/);return e?e[1]:""}function jqe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var qqe=jqe,zqe=Tg,Hqe=kg;function Vqe(t,e){return t&&zqe(e,Hqe(e),t)}var Kqe=Vqe,Gqe=Tg,Wqe=Jm;function Jqe(t,e){return t&&Gqe(e,Wqe(e),t)}var Qqe=Jqe,Zqe=Tg,Xqe=E$;function Yqe(t,e){return Zqe(t,Xqe(t),e)}var eze=Yqe,tze=_$,rze=vT,nze=E$,ize=fX,sze=Object.getOwnPropertySymbols,oze=sze?function(t){for(var e=[];t;)tze(e,nze(t)),t=rze(t);return e}:ize,MX=oze,aze=Tg,cze=MX;function fze(t,e){return aze(t,cze(t),e)}var uze=fze,lze=cX,hze=MX,dze=Jm;function pze(t){return lze(t,dze,hze)}var IX=pze,gze=Object.prototype,vze=gze.hasOwnProperty;function yze(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&vze.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var mze=yze,bze=gT;function wze(t,e){var r=e?bze(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var _ze=wze,Eze=/\w*$/;function Sze(t){var e=new t.constructor(t.source,Eze.exec(t));return e.lastIndex=t.lastIndex,e}var Aze=Sze,xU=Sg,MU=xU?xU.prototype:void 0,IU=MU?MU.valueOf:void 0;function xze(t){return IU?Object(IU.call(t)):{}}var Mze=xze,Ize=gT,Rze=_ze,Tze=Aze,$ze=Mze,Cze=DW,Oze="[object Boolean]",Bze="[object Date]",Pze="[object Map]",Nze="[object Number]",kze="[object RegExp]",Lze="[object Set]",Dze="[object String]",Uze="[object Symbol]",Fze="[object ArrayBuffer]",jze="[object DataView]",qze="[object Float32Array]",zze="[object Float64Array]",Hze="[object Int8Array]",Vze="[object Int16Array]",Kze="[object Int32Array]",Gze="[object Uint8Array]",Wze="[object Uint8ClampedArray]",Jze="[object Uint16Array]",Qze="[object Uint32Array]";function Zze(t,e,r){var n=t.constructor;switch(e){case Fze:return Ize(t);case Oze:case Bze:return new n(+t);case jze:return Rze(t,r);case qze:case zze:case Hze:case Vze:case Kze:case Gze:case Wze:case Jze:case Qze:return Cze(t,r);case Pze:return new n;case Nze:case Dze:return new n(t);case kze:return Tze(t);case Lze:return new n;case Uze:return $ze(t)}}var Xze=Zze,Yze=CS,eHe=Df,tHe="[object Map]";function rHe(t){return eHe(t)&&Yze(t)==tHe}var nHe=rHe,iHe=nHe,sHe=Rg,RU=wT,TU=RU&&RU.isMap,oHe=TU?sHe(TU):iHe,aHe=oHe,cHe=CS,fHe=Df,uHe="[object Set]";function lHe(t){return fHe(t)&&cHe(t)==uHe}var hHe=lHe,dHe=hHe,pHe=Rg,$U=wT,CU=$U&&$U.isSet,gHe=CU?pHe(CU):dHe,vHe=gHe,yHe=WE,mHe=qqe,bHe=KW,wHe=Kqe,_He=Qqe,EHe=kW,SHe=UW,AHe=eze,xHe=uze,MHe=uX,IHe=IX,RHe=CS,THe=mze,$He=Xze,CHe=jW,OHe=ms,BHe=QE,PHe=aHe,NHe=Ic,kHe=vHe,LHe=kg,DHe=Jm,UHe=1,FHe=2,jHe=4,RX="[object Arguments]",qHe="[object Array]",zHe="[object Boolean]",HHe="[object Date]",VHe="[object Error]",TX="[object Function]",KHe="[object GeneratorFunction]",GHe="[object Map]",WHe="[object Number]",$X="[object Object]",JHe="[object RegExp]",QHe="[object Set]",ZHe="[object String]",XHe="[object Symbol]",YHe="[object WeakMap]",eVe="[object ArrayBuffer]",tVe="[object DataView]",rVe="[object Float32Array]",nVe="[object Float64Array]",iVe="[object Int8Array]",sVe="[object Int16Array]",oVe="[object Int32Array]",aVe="[object Uint8Array]",cVe="[object Uint8ClampedArray]",fVe="[object Uint16Array]",uVe="[object Uint32Array]",In={};In[RX]=In[qHe]=In[eVe]=In[tVe]=In[zHe]=In[HHe]=In[rVe]=In[nVe]=In[iVe]=In[sVe]=In[oVe]=In[GHe]=In[WHe]=In[$X]=In[JHe]=In[QHe]=In[ZHe]=In[XHe]=In[aVe]=In[cVe]=In[fVe]=In[uVe]=!0;In[VHe]=In[TX]=In[YHe]=!1;function i_(t,e,r,n,s,i){var o,c=e&UHe,l=e&FHe,d=e&jHe;if(r&&(o=s?r(t,n,s,i):r(t)),o!==void 0)return o;if(!NHe(t))return t;var v=OHe(t);if(v){if(o=THe(t),!c)return SHe(t,o)}else{var b=RHe(t),A=b==TX||b==KHe;if(BHe(t))return EHe(t,c);if(b==$X||b==RX||A&&!s){if(o=l||A?{}:CHe(t),!c)return l?xHe(t,_He(o,t)):AHe(t,wHe(o,t))}else{if(!In[b])return s?t:{};o=$He(t,b,c)}}i||(i=new yHe);var x=i.get(t);if(x)return x;i.set(t,o),kHe(t)?t.forEach(function(T){o.add(i_(T,e,r,T,t,i))}):PHe(t)&&t.forEach(function(T,$){o.set($,i_(T,e,r,$,t,i))});var R=d?l?IHe:MHe:l?DHe:LHe,C=v?void 0:R(t);return mHe(C||t,function(T,$){C&&($=T,T=t[$]),bHe(o,$,i_(T,e,r,$,t,i))}),o}var CX=i_,lVe=CX,hVe=1,dVe=4;function pVe(t){return lVe(t,hVe|dVe)}var gVe=pVe;const du=Mr(gVe);var vVe=Object.defineProperty,yVe=Object.getOwnPropertyDescriptor,mVe=(t,e,r,n)=>{for(var s=n>1?void 0:n?yVe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&vVe(e,r,s),s},bVe=(t,e)=>(r,n)=>e(r,n,t);let OU=class extends mn{constructor(e){super();Oe(this,"_store");this._storageService=e,this._store=new zn.ObservableStore({connectedAccountIds:[],connectedOrigins:[],currentOrigin:{url:void 0,origin:void 0},permissions:{},connections:{}})}get store(){return this._store}async init(){const e=await this._storageService.get("permissions",{connectedAccountIds:[],connectedOrigins:[],currentOrigin:{url:void 0,origin:void 0},permissions:{},connections:{}});this._store.updateState(e),this._store.subscribe(async r=>this._storageService.set("permissions",r))}onAccountChanged(e){const r=this._store.getState(),n={...r,connections:{...Br.mapValues(r.connections??{},s=>{if(!e)return s;const i=!!s.accounts[e.id];return{...s,currentAccounts:{...s.currentAccounts,[e.chain]:i?e.id:s.currentAccounts[e.chain]}}})}};this._store.updateState(n)}onResetApplication(){this._store.updateState({connectedAccountIds:[],connectedOrigins:[],permissions:{},connections:{}})}onAccountDeleted(e){const r=this._store.getState(),n={...r,connections:{...Br.mapValues(r.connections??{},s=>{const i={...s.accounts};return delete i[e.id],{...s,accounts:i,currentAccounts:{...Br.mapValues(s.currentAccounts??{},o=>o===e.id?void 0:o)}}})}};this._store.updateState(n)}setCurrentOrigin(e){this._store.updateState({currentOrigin:{url:e,origin:e?new URL(e).host:void 0}})}isCurrentAccount(e,r,n){var o,c;const s=this._store.getState(),i=typeof n=="string"?n:n==null?void 0:n.id;return i===void 0?!1:((c=(o=s.connections[e])==null?void 0:o.currentAccounts)==null?void 0:c[r])===i}isAccountConnected(e,r){var i,o;const n=this._store.getState(),s=typeof r=="string"?r:r.id;return!!((o=(i=n.connections[e])==null?void 0:i.accounts)!=null&&o[s])}setCurrentAccount(e,r,n){var o,c;const s=du(this._store.getState()),i=typeof n=="string"?n:n==null?void 0:n.id;this._store.updateState({connections:{...s.connections,[e]:{...s.connections[e]??{},currentAccounts:{...((o=s.connections[e])==null?void 0:o.currentAccounts)??{},[r]:i},accounts:{...((c=s.connections[e])==null?void 0:c.accounts)??{},...i?{[i]:!0}:{}}}}})}getCurrentAccount(e,r){var n,s;return(s=(n=this._store.getState().connections[e])==null?void 0:n.currentAccounts)==null?void 0:s[r]}getOriginAccounts(e){var r;return Object.keys(((r=this._store.getState().connections[e])==null?void 0:r.accounts)??[])}setConnected(e,r,n){var l,d;const s=this._store.getState(),i=typeof r=="string"?r:r.id,o=du(((l=s.connections[e])==null?void 0:l.accounts)??{});let c=du(((d=s.connections[e])==null?void 0:d.currentAccounts)??{});o[i]=n,n||(c=Object.fromEntries(Object.entries(c).filter(([v,b])=>b!==i))),this._store.updateState({connections:{...s.connections,[e]:{currentAccounts:c,accounts:o}}})}deleteConnected(e,r){var c,l;const n=this._store.getState(),s=typeof r=="string"?r:r.id,i=du(((c=n.connections[e])==null?void 0:c.accounts)??{});let o=du(((l=n.connections[e])==null?void 0:l.currentAccounts)??{});delete i[s],o=Object.fromEntries(Object.entries(o).filter(([d,v])=>v!==s)),this._store.updateState({connections:{...n.connections,[e]:{currentAccounts:o,accounts:i}}})}};OU=mVe([Lr(),bVe(0,st(tt.StorageService))],OU);function wVe(t){const e=OX(t);return t_e.createHash("sha256").update(JSON.stringify(e??{})).digest("hex")}const _Ve=t=>Object.keys(t??{}).sort().reduce((e,r)=>(e[r]=t[r],e),{}),OX=t=>{if(!t)return t;for(const[e,r]of Object.entries(t))typeof r=="object"&&(t[e]=OX(r));return _Ve(t)};function qu(t){return Array.isArray?Array.isArray(t):NX(t)==="[object Array]"}const EVe=1/0;function SVe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-EVe?"-0":e}function AVe(t){return t==null?"":SVe(t)}function lf(t){return typeof t=="string"}function BX(t){return typeof t=="number"}function xVe(t){return t===!0||t===!1||MVe(t)&&NX(t)=="[object Boolean]"}function PX(t){return typeof t=="object"}function MVe(t){return PX(t)&&t!==null}function zo(t){return t!=null}function Q6(t){return!t.trim().length}function NX(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const IVe="Incorrect 'index' type",RVe=t=>`Invalid value for key ${t}`,TVe=t=>`Pattern length exceeds max of ${t}.`,$Ve=t=>`Missing ${t} property in key`,CVe=t=>`Property 'weight' in key '${t}' must be a positive integer`,BU=Object.prototype.hasOwnProperty;class OVe{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let s=kX(n);this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function kX(t){let e=null,r=null,n=null,s=1,i=null;if(lf(t)||qu(t))n=t,e=PU(t),r=_5(t);else{if(!BU.call(t,"name"))throw new Error($Ve("name"));const o=t.name;if(n=o,BU.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(CVe(o));e=PU(o),r=_5(o),i=t.getFn}return{path:e,id:r,weight:s,src:n,getFn:i}}function PU(t){return qu(t)?t:t.split(".")}function _5(t){return qu(t)?t.join("."):t}function BVe(t,e){let r=[],n=!1;const s=(i,o,c)=>{if(zo(i))if(!o[c])r.push(i);else{let l=o[c];const d=i[l];if(!zo(d))return;if(c===o.length-1&&(lf(d)||BX(d)||xVe(d)))r.push(AVe(d));else if(qu(d)){n=!0;for(let v=0,b=d.length;v<b;v+=1)s(d[v],o,c+1)}else o.length&&s(d,o,c+1)}};return s(t,lf(e)?e.split("."):e,0),n?r:r[0]}const PVe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},NVe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},kVe={location:0,threshold:.6,distance:100},LVe={useExtendedSearch:!1,getFn:BVe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var br={...NVe,...PVe,...kVe,...LVe};const DVe=/[^ ]+/g;function UVe(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(s){const i=s.match(DVe).length;if(r.has(i))return r.get(i);const o=1/Math.pow(i,.5*t),c=parseFloat(Math.round(o*n)/n);return r.set(i,c),c},clear(){r.clear()}}}class N${constructor({getFn:e=br.getFn,fieldNormWeight:r=br.fieldNormWeight}={}){this.norm=UVe(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,lf(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();lf(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!zo(e)||Q6(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(e):this.getFn(e,s.path);if(zo(o)){if(qu(o)){let c=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:d,value:v}=l.pop();if(zo(v))if(lf(v)&&!Q6(v)){let b={v,i:d,n:this.norm.get(v)};c.push(b)}else qu(v)&&v.forEach((b,A)=>{l.push({nestedArrIndex:A,value:b})})}n.$[i]=c}else if(lf(o)&&!Q6(o)){let c={v:o,n:this.norm.get(o)};n.$[i]=c}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function LX(t,e,{getFn:r=br.getFn,fieldNormWeight:n=br.fieldNormWeight}={}){const s=new N$({getFn:r,fieldNormWeight:n});return s.setKeys(t.map(kX)),s.setSources(e),s.create(),s}function FVe(t,{getFn:e=br.getFn,fieldNormWeight:r=br.fieldNormWeight}={}){const{keys:n,records:s}=t,i=new N$({getFn:e,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(s),i}function ew(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:s=br.distance,ignoreLocation:i=br.ignoreLocation}={}){const o=e/t.length;if(i)return o;const c=Math.abs(n-r);return s?o+c/s:c?1:o}function jVe(t=[],e=br.minMatchCharLength){let r=[],n=-1,s=-1,i=0;for(let o=t.length;i<o;i+=1){let c=t[i];c&&n===-1?n=i:!c&&n!==-1&&(s=i-1,s-n+1>=e&&r.push([n,s]),n=-1)}return t[i-1]&&i-n>=e&&r.push([n,i-1]),r}const Uh=32;function qVe(t,e,r,{location:n=br.location,distance:s=br.distance,threshold:i=br.threshold,findAllMatches:o=br.findAllMatches,minMatchCharLength:c=br.minMatchCharLength,includeMatches:l=br.includeMatches,ignoreLocation:d=br.ignoreLocation}={}){if(e.length>Uh)throw new Error(TVe(Uh));const v=e.length,b=t.length,A=Math.max(0,Math.min(n,b));let x=i,R=A;const C=c>1||l,T=C?Array(b):[];let $;for(;($=t.indexOf(e,R))>-1;){let V=ew(e,{currentLocation:$,expectedLocation:A,distance:s,ignoreLocation:d});if(x=Math.min(V,x),R=$+v,C){let J=0;for(;J<v;)T[$+J]=1,J+=1}}R=-1;let O=[],D=1,L=v+b;const F=1<<v-1;for(let V=0;V<v;V+=1){let J=0,Z=L;for(;J<Z;)ew(e,{errors:V,currentLocation:A+Z,expectedLocation:A,distance:s,ignoreLocation:d})<=x?J=Z:L=Z,Z=Math.floor((L-J)/2+J);L=Z;let se=Math.max(1,A-Z+1),S=o?b:Math.min(A+Z,b)+v,a=Array(S+2);a[S+1]=(1<<V)-1;for(let h=S;h>=se;h-=1){let p=h-1,y=r[t.charAt(p)];if(C&&(T[p]=+!!y),a[h]=(a[h+1]<<1|1)&y,V&&(a[h]|=(O[h+1]|O[h])<<1|1|O[h+1]),a[h]&F&&(D=ew(e,{errors:V,currentLocation:p,expectedLocation:A,distance:s,ignoreLocation:d}),D<=x)){if(x=D,R=p,R<=A)break;se=Math.max(1,2*A-R)}}if(ew(e,{errors:V+1,currentLocation:A,expectedLocation:A,distance:s,ignoreLocation:d})>x)break;O=a}const H={isMatch:R>=0,score:Math.max(.001,D)};if(C){const V=jVe(T,c);V.length?l&&(H.indices=V):H.isMatch=!1}return H}function zVe(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const s=t.charAt(r);e[s]=(e[s]||0)|1<<n-r-1}return e}class DX{constructor(e,{location:r=br.location,threshold:n=br.threshold,distance:s=br.distance,includeMatches:i=br.includeMatches,findAllMatches:o=br.findAllMatches,minMatchCharLength:c=br.minMatchCharLength,isCaseSensitive:l=br.isCaseSensitive,ignoreLocation:d=br.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:d},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const v=(A,x)=>{this.chunks.push({pattern:A,alphabet:zVe(A),startIndex:x})},b=this.pattern.length;if(b>Uh){let A=0;const x=b%Uh,R=b-x;for(;A<R;)v(this.pattern.substr(A,Uh),A),A+=Uh;if(x){const C=b-Uh;v(this.pattern.substr(C),C)}}else v(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let R={isMatch:!0,score:0};return n&&(R.indices=[[0,e.length-1]]),R}const{location:s,distance:i,threshold:o,findAllMatches:c,minMatchCharLength:l,ignoreLocation:d}=this.options;let v=[],b=0,A=!1;this.chunks.forEach(({pattern:R,alphabet:C,startIndex:T})=>{const{isMatch:$,score:O,indices:D}=qVe(e,R,C,{location:s+T,distance:i,threshold:o,findAllMatches:c,minMatchCharLength:l,includeMatches:n,ignoreLocation:d});$&&(A=!0),b+=O,$&&D&&(v=[...v,...D])});let x={isMatch:A,score:A?b/this.chunks.length:1};return A&&n&&(x.indices=v),x}}class uh{constructor(e){this.pattern=e}static isMultiMatch(e){return NU(e,this.multiRegex)}static isSingleMatch(e){return NU(e,this.singleRegex)}search(){}}function NU(t,e){const r=t.match(e);return r?r[1]:null}class HVe extends uh{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class VVe extends uh{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class KVe extends uh{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class GVe extends uh{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class WVe extends uh{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class JVe extends uh{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class UX extends uh{constructor(e,{location:r=br.location,threshold:n=br.threshold,distance:s=br.distance,includeMatches:i=br.includeMatches,findAllMatches:o=br.findAllMatches,minMatchCharLength:c=br.minMatchCharLength,isCaseSensitive:l=br.isCaseSensitive,ignoreLocation:d=br.ignoreLocation}={}){super(e),this._bitapSearch=new DX(e,{location:r,threshold:n,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class FX extends uh{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const s=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+i,s.push([n,r-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const E5=[HVe,FX,KVe,GVe,JVe,WVe,VVe,UX],kU=E5.length,QVe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ZVe="|";function XVe(t,e={}){return t.split(ZVe).map(r=>{let n=r.trim().split(QVe).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=n.length;i<o;i+=1){const c=n[i];let l=!1,d=-1;for(;!l&&++d<kU;){const v=E5[d];let b=v.isMultiMatch(c);b&&(s.push(new v(b,e)),l=!0)}if(!l)for(d=-1;++d<kU;){const v=E5[d];let b=v.isSingleMatch(c);if(b){s.push(new v(b,e));break}}}return s})}const YVe=new Set([UX.type,FX.type]);class eKe{constructor(e,{isCaseSensitive:r=br.isCaseSensitive,includeMatches:n=br.includeMatches,minMatchCharLength:s=br.minMatchCharLength,ignoreLocation:i=br.ignoreLocation,findAllMatches:o=br.findAllMatches,location:c=br.location,threshold:l=br.threshold,distance:d=br.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:s,findAllMatches:o,ignoreLocation:i,location:c,threshold:l,distance:d},this.pattern=r?e:e.toLowerCase(),this.query=XVe(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let i=0,o=[],c=0;for(let l=0,d=r.length;l<d;l+=1){const v=r[l];o.length=0,i=0;for(let b=0,A=v.length;b<A;b+=1){const x=v[b],{isMatch:R,indices:C,score:T}=x.search(e);if(R){if(i+=1,c+=T,n){const $=x.constructor.type;YVe.has($)?o=[...o,...C]:o.push(C)}}else{c=0,i=0,o.length=0;break}}if(i){let b={isMatch:!0,score:c/i};return n&&(b.indices=o),b}}return{isMatch:!1,score:1}}}const S5=[];function tKe(...t){S5.push(...t)}function A5(t,e){for(let r=0,n=S5.length;r<n;r+=1){let s=S5[r];if(s.condition(t,e))return new s(t,e)}return new DX(t,e)}const l2={AND:"$and",OR:"$or"},x5={PATH:"$path",PATTERN:"$val"},M5=t=>!!(t[l2.AND]||t[l2.OR]),rKe=t=>!!t[x5.PATH],nKe=t=>!qu(t)&&PX(t)&&!M5(t),LU=t=>({[l2.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function jX(t,e,{auto:r=!0}={}){const n=s=>{let i=Object.keys(s);const o=rKe(s);if(!o&&i.length>1&&!M5(s))return n(LU(s));if(nKe(s)){const l=o?s[x5.PATH]:i[0],d=o?s[x5.PATTERN]:s[l];if(!lf(d))throw new Error(RVe(l));const v={keyId:_5(l),pattern:d};return r&&(v.searcher=A5(d,e)),v}let c={children:[],operator:i[0]};return i.forEach(l=>{const d=s[l];qu(d)&&d.forEach(v=>{c.children.push(n(v))})}),c};return M5(t)||(t=LU(t)),n(t)}function iKe(t,{ignoreFieldNorm:e=br.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:s,norm:i,score:o})=>{const c=s?s.weight:null;n*=Math.pow(o===0&&c?Number.EPSILON:o,(c||1)*(e?1:i))}),r.score=n})}function sKe(t,e){const r=t.matches;e.matches=[],zo(r)&&r.forEach(n=>{if(!zo(n.indices)||!n.indices.length)return;const{indices:s,value:i}=n;let o={indices:s,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function oKe(t,e){e.score=t.score}function aKe(t,e,{includeMatches:r=br.includeMatches,includeScore:n=br.includeScore}={}){const s=[];return r&&s.push(sKe),n&&s.push(oKe),t.map(i=>{const{idx:o}=i,c={item:e[o],refIndex:o};return s.length&&s.forEach(l=>{l(i,c)}),c})}class jg{constructor(e,r={},n){this.options={...br,...r},this.options.useExtendedSearch,this._keyStore=new OVe(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof N$))throw new Error(IVe);this._myIndex=r||LX(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){zo(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,s=this._docs.length;n<s;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,s-=1,r.push(i))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:c}=this.options;let l=lf(e)?lf(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return iKe(l,{ignoreFieldNorm:c}),i&&l.sort(o),BX(r)&&r>-1&&(l=l.slice(0,r)),aKe(l,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(e){const r=A5(e,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:i,i:o,n:c})=>{if(!zo(i))return;const{isMatch:l,score:d,indices:v}=r.searchIn(i);l&&s.push({item:i,idx:o,matches:[{score:d,value:i,norm:c,indices:v}]})}),s}_searchLogical(e){const r=jX(e,this.options),n=(c,l,d)=>{if(!c.children){const{keyId:b,searcher:A}=c,x=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(l,b),searcher:A});return x&&x.length?[{idx:d,item:l,matches:x}]:[]}const v=[];for(let b=0,A=c.children.length;b<A;b+=1){const x=c.children[b],R=n(x,l,d);if(R.length)v.push(...R);else if(c.operator===l2.AND)return[]}return v},s=this._myIndex.records,i={},o=[];return s.forEach(({$:c,i:l})=>{if(zo(c)){let d=n(r,c,l);d.length&&(i[l]||(i[l]={idx:l,item:c,matches:[]},o.push(i[l])),d.forEach(({matches:v})=>{i[l].matches.push(...v)}))}}),o}_searchObjectList(e){const r=A5(e,this.options),{keys:n,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:c})=>{if(!zo(o))return;let l=[];n.forEach((d,v)=>{l.push(...this._findMatches({key:d,value:o[v],searcher:r}))}),l.length&&i.push({idx:c,item:o,matches:l})}),i}_findMatches({key:e,value:r,searcher:n}){if(!zo(r))return[];let s=[];if(qu(r))r.forEach(({v:i,i:o,n:c})=>{if(!zo(i))return;const{isMatch:l,score:d,indices:v}=n.searchIn(i);l&&s.push({score:d,key:e,value:i,idx:o,norm:c,indices:v})});else{const{v:i,n:o}=r,{isMatch:c,score:l,indices:d}=n.searchIn(i);c&&s.push({score:l,key:e,value:i,norm:o,indices:d})}return s}}jg.version="7.0.0";jg.createIndex=LX;jg.parseIndex=FVe;jg.config=br;jg.parseQuery=jX;tKe(eKe);var cKe=Wm,fKe=wX,uKe=Object.prototype,lKe=uKe.hasOwnProperty,hKe=fKe(function(t,e,r){lKe.call(t,r)?t[r].push(e):cKe(t,r,[e])}),dKe=hKe;const h2=Mr(dKe);function Fh(t){return new Promise(e=>{setTimeout(e,t)})}var pKe=Object.defineProperty,gKe=Object.getOwnPropertyDescriptor,vKe=(t,e,r,n)=>{for(var s=n>1?void 0:n?gKe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&pKe(e,r,s),s};let DU=class{constructor(){Oe(this,"_handlers");this._handlers=new Set}registerSearch(t){return this._handlers.has(t)||this._handlers.add(t),()=>{this._handlers.delete(t)}}async search(t){const e=[...this._handlers.values()].map(l=>Promise.race([l(t).catch(d=>(console.log("[SearchService] error in search function",d),[])),Fh(5e3)])),r=(await Promise.all(e)).flatMap(l=>l?Array.isArray(l)?l:[l]:[]),n=h2(r,"widget"),s=Br.mapValues(n,l=>l.map(d=>new jg(d.collection,{keys:d.keys,includeMatches:!0,includeScore:!0,shouldSort:!0}))),i=Br.mapValues(s,l=>l.map(d=>d.search(t))),o=Br.values(Br.mapValues(i,(l,d)=>h2(l.flat().map(v=>({...Br.omit(v,["refIndex"]),item:{...v.item,widget:d}})),v=>wVe(v.item.groupKey))));let c={};return Br.mergeWith(c,...o,(l,d)=>{if(Array.isArray(l))return l.concat(d)}),c=Object.entries(c).map(([l,d])=>({groupKey:d[0].item.groupKey,groupHash:l,entries:d})),c}};DU=vKe([Lr()],DU);var yKe=Object.defineProperty,mKe=Object.getOwnPropertyDescriptor,bKe=(t,e,r,n)=>{for(var s=n>1?void 0:n?mKe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&yKe(e,r,s),s},Z6=(t,e)=>(r,n)=>e(r,n,t);let UU=class extends mn{constructor(e,r,n){super();Oe(this,"connectionController");Oe(this,"preferencesController");Oe(this,"keyringController");Oe(this,"emitDataSyncHookDebounce");Oe(this,"updateConnectionCounterDebounce");Oe(this,"previousConnectionCounter",0);Oe(this,"callUpdatePreviousCounterCount",0);this.connectionControllerProvider=e,this.preferencesControllerProvider=r,this.keyringControllerProvider=n}async init(){this.connectionController=await this.connectionControllerProvider(),this.preferencesController=await this.preferencesControllerProvider(),this.keyringController=await this.keyringControllerProvider(),this.emitDataSyncHookDebounce=Br.debounce(this._emitDataSyncHook.bind(this),1e3,{maxWait:g9}),this.updateConnectionCounterDebounce=Br.debounce(()=>{this.previousConnectionCounter-=this.callUpdatePreviousCounterCount,this.callUpdatePreviousCounterCount=0},1e4),this.eventBus.on("connection.created",()=>{this.previousConnectionCounter++,this.connectionController.connectionCount===1&&this.previousConnectionCounter===1&&this.emitDataSyncHookDebounce()}),this.eventBus.on("connection.removed",()=>{this.callUpdatePreviousCounterCount++,this.updateConnectionCounterDebounce()}),this.eventBus.on("keyring.unlocked",()=>{this.emitDataSyncHookDebounce()}),setInterval(()=>{this.emitDataSyncHookDebounce()},g9)}async _emitDataSyncHook(){var n;const e=((n=this.connectionController)==null?void 0:n.connectionCount)||0,r=this.preferencesController.getKey("lastActivityTime");e&&this.keyringController.store.getState().isUnlocked&&Date.now()-K_e<r&&this.eventBus.emit("dataSync")}};UU=bKe([Lr(),Z6(0,st(tt.ConnectionControllerProvider)),Z6(1,st(tt.PreferencesControllerProvider)),Z6(2,st(tt.KeyringControllerProvider))],UU);var wKe=TS,_Ke=M$,EKe=I$,SKe=qd,AKe=Rg,xKe=$S,MKe=200;function IKe(t,e,r,n){var s=-1,i=_Ke,o=!0,c=t.length,l=[],d=e.length;if(!c)return l;r&&(e=SKe(e,AKe(r))),n?(i=EKe,o=!1):e.length>=MKe&&(i=xKe,o=!1,e=new wKe(e));e:for(;++s<c;){var v=t[s],b=r==null?v:r(v);if(v=n||v!==0?v:0,o&&b===b){for(var A=d;A--;)if(e[A]===b)continue e;l.push(v)}else i(e,b,n)||l.push(v)}return l}var RKe=IKe,FU=Sg,TKe=JE,$Ke=ms,jU=FU?FU.isConcatSpreadable:void 0;function CKe(t){return $Ke(t)||TKe(t)||!!(jU&&t&&t[jU])}var OKe=CKe,BKe=_$,PKe=OKe;function qX(t,e,r,n,s){var i=-1,o=t.length;for(r||(r=PKe),s||(s=[]);++i<o;){var c=t[i];e>0&&r(c)?e>1?qX(c,e-1,r,n,s):BKe(s,c):n||(s[s.length]=c)}return s}var k$=qX;function NKe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var L$=NKe;const kAt=Mr(L$);var kKe=RKe,LKe=k$,DKe=ZE,X6=bT,UKe=L$,FKe=DKe(function(t,e){var r=UKe(e);return X6(r)&&(r=void 0),X6(t)?kKe(t,LKe(e,1,X6,!0),void 0,r):[]}),jKe=FKe;const qKe=Mr(jKe);var zKe=TS,HKe=M$,VKe=I$,KKe=qd,GKe=Rg,qU=$S,WKe=Math.min;function JKe(t,e,r){for(var n=r?VKe:HKe,s=t[0].length,i=t.length,o=i,c=Array(i),l=1/0,d=[];o--;){var v=t[o];o&&e&&(v=KKe(v,GKe(e))),l=WKe(v.length,l),c[o]=!r&&(e||s>=120&&v.length>=120)?new zKe(o&&v):void 0}v=t[0];var b=-1,A=c[0];e:for(;++b<s&&d.length<l;){var x=v[b],R=e?e(x):x;if(x=r||x!==0?x:0,!(A?qU(A,R):n(d,R,r))){for(o=i;--o;){var C=c[o];if(!(C?qU(C,R):n(t[o],R,r)))continue e}A&&A.push(R),d.push(x)}}return d}var QKe=JKe,ZKe=bT;function XKe(t){return ZKe(t)?t:[]}var YKe=XKe,eGe=qd,tGe=QKe,rGe=ZE,nGe=YKe,iGe=rGe(function(t){var e=eGe(t,nGe);return e.length&&e[0]===t[0]?tGe(e):[]}),sGe=iGe;const oGe=Mr(sGe);var aGe=S$;function cGe(t,e){return aGe(t,e)}var fGe=cGe;const uGe=Mr(fGe);var lGe=b$,hGe=Ig;function dGe(t,e){var r=-1,n=hGe(t)?Array(t.length):[];return lGe(t,function(s,i,o){n[++r]=e(s,i,o)}),n}var zX=dGe,pGe=qd,gGe=PS,vGe=zX,yGe=ms;function mGe(t,e){var r=yGe(t)?pGe:vGe;return r(t,gGe(e))}var bGe=mGe;const wGe=Mr(bGe);/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var F0=9e15,lh=1e9,I5="0123456789abcdef",d2="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p2="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",R5={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-F0,maxE:F0,crypto:!1},HX,xu,yr=!0,jS="[DecimalError] ",Zl=jS+"Invalid argument: ",VX=jS+"Precision limit exceeded",KX=jS+"crypto unavailable",GX="[object Decimal]",zs=Math.floor,Ci=Math.pow,_Ge=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,EGe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,SGe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,WX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yc=1e7,ar=7,AGe=9007199254740991,xGe=d2.length-1,T5=p2.length-1,gt={toStringTag:GX};gt.absoluteValue=gt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),tr(t)};gt.ceil=function(){return tr(new this.constructor(this),this.e+1,2)};gt.clampedTo=gt.clamp=function(t,e){var r,n=this,s=n.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(Zl+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new s(n)};gt.comparedTo=gt.cmp=function(t){var e,r,n,s,i=this,o=i.d,c=(t=new i.constructor(t)).d,l=i.s,d=t.s;if(!o||!c)return!l||!d?NaN:l!==d?l:o===c?0:!o^l<0?1:-1;if(!o[0]||!c[0])return o[0]?l:c[0]?-d:0;if(l!==d)return l;if(i.e!==t.e)return i.e>t.e^l<0?1:-1;for(n=o.length,s=c.length,e=0,r=n<s?n:s;e<r;++e)if(o[e]!==c[e])return o[e]>c[e]^l<0?1:-1;return n===s?0:n>s^l<0?1:-1};gt.cosine=gt.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ar,n.rounding=1,r=MGe(n,YX(n,r)),n.precision=t,n.rounding=e,tr(xu==2||xu==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};gt.cubeRoot=gt.cbrt=function(){var t,e,r,n,s,i,o,c,l,d,v=this,b=v.constructor;if(!v.isFinite()||v.isZero())return new b(v);for(yr=!1,i=v.s*Ci(v.s*v,1/3),!i||Math.abs(i)==1/0?(r=gs(v.d),t=v.e,(i=(t-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Ci(r,1/3),t=zs((t+1)/3)-(t%3==(t<0?-1:2)),i==1/0?r="5e"+t:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new b(r),n.s=v.s):n=new b(i.toString()),o=(t=b.precision)+3;;)if(c=n,l=c.times(c).times(c),d=l.plus(v),n=An(d.plus(v).times(c),d.plus(l),o+2,1),gs(c.d).slice(0,o)===(r=gs(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!s&&r=="4999"){if(!s&&(tr(c,t+1,0),c.times(c).times(c).eq(v))){n=c;break}o+=4,s=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(tr(n,t+1,1),e=!n.times(n).times(n).eq(v));break}return yr=!0,tr(n,t,b.rounding,e)};gt.decimalPlaces=gt.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-zs(this.e/ar))*ar,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};gt.dividedBy=gt.div=function(t){return An(this,new this.constructor(t))};gt.dividedToIntegerBy=gt.divToInt=function(t){var e=this,r=e.constructor;return tr(An(e,new r(t),0,1,1),r.precision,r.rounding)};gt.equals=gt.eq=function(t){return this.cmp(t)===0};gt.floor=function(){return tr(new this.constructor(this),this.e+1,3)};gt.greaterThan=gt.gt=function(t){return this.cmp(t)>0};gt.greaterThanOrEqualTo=gt.gte=function(t){var e=this.cmp(t);return e==1||e===0};gt.hyperbolicCosine=gt.cosh=function(){var t,e,r,n,s,i=this,o=i.constructor,c=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return c;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,s=i.d.length,s<32?(t=Math.ceil(s/3),e=(1/zS(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),i=kp(o,1,i.times(e),new o(1),!0);for(var l,d=t,v=new o(8);d--;)l=i.times(i),i=c.minus(l.times(v.minus(l.times(v))));return tr(i,o.precision=r,o.rounding=n,!0)};gt.hyperbolicSine=gt.sinh=function(){var t,e,r,n,s=this,i=s.constructor;if(!s.isFinite()||s.isZero())return new i(s);if(e=i.precision,r=i.rounding,i.precision=e+Math.max(s.e,s.sd())+4,i.rounding=1,n=s.d.length,n<3)s=kp(i,2,s,s,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,s=s.times(1/zS(5,t)),s=kp(i,2,s,s,!0);for(var o,c=new i(5),l=new i(16),d=new i(20);t--;)o=s.times(s),s=s.times(c.plus(o.times(l.times(o).plus(d))))}return i.precision=e,i.rounding=r,tr(s,e,r,!0)};gt.hyperbolicTangent=gt.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,An(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};gt.inverseCosine=gt.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),s=r.precision,i=r.rounding;return n!==-1?n===0?e.isNeg()?gc(r,s,i):new r(0):new r(NaN):e.isZero()?gc(r,s+4,i).times(.5):(r.precision=s+6,r.rounding=1,e=e.asin(),t=gc(r,s+4,i).times(.5),r.precision=s,r.rounding=i,t.minus(e))};gt.inverseHyperbolicCosine=gt.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,yr=!1,r=r.times(r).minus(1).sqrt().plus(r),yr=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};gt.inverseHyperbolicSine=gt.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,yr=!1,r=r.times(r).plus(1).sqrt().plus(r),yr=!0,n.precision=t,n.rounding=e,r.ln())};gt.inverseHyperbolicTangent=gt.atanh=function(){var t,e,r,n,s=this,i=s.constructor;return s.isFinite()?s.e>=0?new i(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=i.precision,e=i.rounding,n=s.sd(),Math.max(n,t)<2*-s.e-1?tr(new i(s),t,e,!0):(i.precision=r=n-s.e,s=An(s.plus(1),new i(1).minus(s),r+t,1),i.precision=t+4,i.rounding=1,s=s.ln(),i.precision=t,i.rounding=e,s.times(.5))):new i(NaN)};gt.inverseSine=gt.asin=function(){var t,e,r,n,s=this,i=s.constructor;return s.isZero()?new i(s):(e=s.abs().cmp(1),r=i.precision,n=i.rounding,e!==-1?e===0?(t=gc(i,r+4,n).times(.5),t.s=s.s,t):new i(NaN):(i.precision=r+6,i.rounding=1,s=s.div(new i(1).minus(s.times(s)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,s.times(2)))};gt.inverseTangent=gt.atan=function(){var t,e,r,n,s,i,o,c,l,d=this,v=d.constructor,b=v.precision,A=v.rounding;if(d.isFinite()){if(d.isZero())return new v(d);if(d.abs().eq(1)&&b+4<=T5)return o=gc(v,b+4,A).times(.25),o.s=d.s,o}else{if(!d.s)return new v(NaN);if(b+4<=T5)return o=gc(v,b+4,A).times(.5),o.s=d.s,o}for(v.precision=c=b+10,v.rounding=1,r=Math.min(28,c/ar+2|0),t=r;t;--t)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(yr=!1,e=Math.ceil(c/ar),n=1,l=d.times(d),o=new v(d),s=d;t!==-1;)if(s=s.times(l),i=o.minus(s.div(n+=2)),s=s.times(l),o=i.plus(s.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===i.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),yr=!0,tr(o,v.precision=b,v.rounding=A,!0)};gt.isFinite=function(){return!!this.d};gt.isInteger=gt.isInt=function(){return!!this.d&&zs(this.e/ar)>this.d.length-2};gt.isNaN=function(){return!this.s};gt.isNegative=gt.isNeg=function(){return this.s<0};gt.isPositive=gt.isPos=function(){return this.s>0};gt.isZero=function(){return!!this.d&&this.d[0]===0};gt.lessThan=gt.lt=function(t){return this.cmp(t)<0};gt.lessThanOrEqualTo=gt.lte=function(t){return this.cmp(t)<1};gt.logarithm=gt.log=function(t){var e,r,n,s,i,o,c,l,d=this,v=d.constructor,b=v.precision,A=v.rounding,x=5;if(t==null)t=new v(10),e=!0;else{if(t=new v(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new v(NaN);e=t.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new v(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)i=!0;else{for(s=r[0];s%10===0;)s/=10;i=s!==1}if(yr=!1,c=b+x,o=Ll(d,c),n=e?g2(v,c+10):Ll(t,c),l=An(o,n,c,1),em(l.d,s=b,A))do if(c+=10,o=Ll(d,c),n=e?g2(v,c+10):Ll(t,c),l=An(o,n,c,1),!i){+gs(l.d).slice(s+1,s+15)+1==1e14&&(l=tr(l,b+1,0));break}while(em(l.d,s+=10,A));return yr=!0,tr(l,b,A)};gt.minus=gt.sub=function(t){var e,r,n,s,i,o,c,l,d,v,b,A,x=this,R=x.constructor;if(t=new R(t),!x.d||!t.d)return!x.s||!t.s?t=new R(NaN):x.d?t.s=-t.s:t=new R(t.d||x.s!==t.s?x:NaN),t;if(x.s!=t.s)return t.s=-t.s,x.plus(t);if(d=x.d,A=t.d,c=R.precision,l=R.rounding,!d[0]||!A[0]){if(A[0])t.s=-t.s;else if(d[0])t=new R(x);else return new R(l===3?-0:0);return yr?tr(t,c,l):t}if(r=zs(t.e/ar),v=zs(x.e/ar),d=d.slice(),i=v-r,i){for(b=i<0,b?(e=d,i=-i,o=A.length):(e=A,r=v,o=d.length),n=Math.max(Math.ceil(c/ar),o)+2,i>n&&(i=n,e.length=1),e.reverse(),n=i;n--;)e.push(0);e.reverse()}else{for(n=d.length,o=A.length,b=n<o,b&&(o=n),n=0;n<o;n++)if(d[n]!=A[n]){b=d[n]<A[n];break}i=0}for(b&&(e=d,d=A,A=e,t.s=-t.s),o=d.length,n=A.length-o;n>0;--n)d[o++]=0;for(n=A.length;n>i;){if(d[--n]<A[n]){for(s=n;s&&d[--s]===0;)d[s]=yc-1;--d[s],d[n]+=yc}d[n]-=A[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=qS(d,r),yr?tr(t,c,l):t):new R(l===3?-0:0)};gt.modulo=gt.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?tr(new n(r),n.precision,n.rounding):(yr=!1,n.modulo==9?(e=An(r,t.abs(),0,3,1),e.s*=t.s):e=An(r,t,0,n.modulo,1),e=e.times(t),yr=!0,r.minus(e))};gt.naturalExponential=gt.exp=function(){return $5(this)};gt.naturalLogarithm=gt.ln=function(){return Ll(this)};gt.negated=gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,tr(t)};gt.plus=gt.add=function(t){var e,r,n,s,i,o,c,l,d,v,b=this,A=b.constructor;if(t=new A(t),!b.d||!t.d)return!b.s||!t.s?t=new A(NaN):b.d||(t=new A(t.d||b.s===t.s?b:NaN)),t;if(b.s!=t.s)return t.s=-t.s,b.minus(t);if(d=b.d,v=t.d,c=A.precision,l=A.rounding,!d[0]||!v[0])return v[0]||(t=new A(b)),yr?tr(t,c,l):t;if(i=zs(b.e/ar),n=zs(t.e/ar),d=d.slice(),s=i-n,s){for(s<0?(r=d,s=-s,o=v.length):(r=v,n=i,o=d.length),i=Math.ceil(c/ar),o=i>o?i+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=d.length,s=v.length,o-s<0&&(s=o,r=v,v=d,d=r),e=0;s;)e=(d[--s]=d[s]+v[s]+e)/yc|0,d[s]%=yc;for(e&&(d.unshift(e),++n),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=qS(d,n),yr?tr(t,c,l):t};gt.precision=gt.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zl+t);return r.d?(e=JX(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};gt.round=function(){var t=this,e=t.constructor;return tr(new e(t),t.e+1,e.rounding)};gt.sine=gt.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ar,n.rounding=1,r=RGe(n,YX(n,r)),n.precision=t,n.rounding=e,tr(xu>2?r.neg():r,t,e,!0)):new n(NaN)};gt.squareRoot=gt.sqrt=function(){var t,e,r,n,s,i,o=this,c=o.d,l=o.e,d=o.s,v=o.constructor;if(d!==1||!c||!c[0])return new v(!d||d<0&&(!c||c[0])?NaN:c?o:1/0);for(yr=!1,d=Math.sqrt(+o),d==0||d==1/0?(e=gs(c),(e.length+l)%2==0&&(e+="0"),d=Math.sqrt(e),l=zs((l+1)/2)-(l<0||l%2),d==1/0?e="5e"+l:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new v(e)):n=new v(d.toString()),r=(l=v.precision)+3;;)if(i=n,n=i.plus(An(o,i,r+2,1)).times(.5),gs(i.d).slice(0,r)===(e=gs(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!s&&e=="4999"){if(!s&&(tr(i,l+1,0),i.times(i).eq(o))){n=i;break}r+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(tr(n,l+1,1),t=!n.times(n).eq(o));break}return yr=!0,tr(n,l,v.rounding,t)};gt.tangent=gt.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=An(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,tr(xu==2||xu==4?r.neg():r,t,e,!0)):new n(NaN)};gt.times=gt.mul=function(t){var e,r,n,s,i,o,c,l,d,v=this,b=v.constructor,A=v.d,x=(t=new b(t)).d;if(t.s*=v.s,!A||!A[0]||!x||!x[0])return new b(!t.s||A&&!A[0]&&!x||x&&!x[0]&&!A?NaN:!A||!x?t.s/0:t.s*0);for(r=zs(v.e/ar)+zs(t.e/ar),l=A.length,d=x.length,l<d&&(i=A,A=x,x=i,o=l,l=d,d=o),i=[],o=l+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=l+n;s>n;)c=i[s]+x[n]*A[s-n-1]+e,i[s--]=c%yc|0,e=c/yc|0;i[s]=(i[s]+e)%yc|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=qS(i,r),yr?tr(t,b.precision,b.rounding):t};gt.toBinary=function(t,e){return D$(this,2,t,e)};gt.toDecimalPlaces=gt.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xo(t,0,lh),e===void 0?e=n.rounding:xo(e,0,8),tr(r,t+r.e+1,e))};gt.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Rf(n,!0):(xo(t,0,lh),e===void 0?e=s.rounding:xo(e,0,8),n=tr(new s(n),t+1,e),r=Rf(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};gt.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?r=Rf(s):(xo(t,0,lh),e===void 0?e=i.rounding:xo(e,0,8),n=tr(new i(s),t+s.e+1,e),r=Rf(n,!1,t+n.e+1)),s.isNeg()&&!s.isZero()?"-"+r:r};gt.toFraction=function(t){var e,r,n,s,i,o,c,l,d,v,b,A,x=this,R=x.d,C=x.constructor;if(!R)return new C(x);if(d=r=new C(1),n=l=new C(0),e=new C(n),i=e.e=JX(R)-x.e-1,o=i%ar,e.d[0]=Ci(10,o<0?ar+o:o),t==null)t=i>0?e:d;else{if(c=new C(t),!c.isInt()||c.lt(d))throw Error(Zl+c);t=c.gt(e)?i>0?e:d:c}for(yr=!1,c=new C(gs(R)),v=C.precision,C.precision=i=R.length*ar*2;b=An(c,e,0,1,1),s=r.plus(b.times(n)),s.cmp(t)!=1;)r=n,n=s,s=d,d=l.plus(b.times(s)),l=s,s=e,e=c.minus(b.times(s)),c=s;return s=An(t.minus(r),n,0,1,1),l=l.plus(s.times(d)),r=r.plus(s.times(n)),l.s=d.s=x.s,A=An(d,n,i,1).minus(x).abs().cmp(An(l,r,i,1).minus(x).abs())<1?[d,n]:[l,r],C.precision=v,yr=!0,A};gt.toHexadecimal=gt.toHex=function(t,e){return D$(this,16,t,e)};gt.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:xo(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(yr=!1,r=An(r,t,0,e,1).times(t),yr=!0,tr(r)):(t.s=r.s,r=t),r};gt.toNumber=function(){return+this};gt.toOctal=function(t,e){return D$(this,8,t,e)};gt.toPower=gt.pow=function(t){var e,r,n,s,i,o,c=this,l=c.constructor,d=+(t=new l(t));if(!c.d||!t.d||!c.d[0]||!t.d[0])return new l(Ci(+c,d));if(c=new l(c),c.eq(1))return c;if(n=l.precision,i=l.rounding,t.eq(1))return tr(c,n,i);if(e=zs(t.e/ar),e>=t.d.length-1&&(r=d<0?-d:d)<=AGe)return s=QX(l,c,r,n),t.s<0?new l(1).div(s):tr(s,n,i);if(o=c.s,o<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return r=Ci(+c,d),e=r==0||!isFinite(r)?zs(d*(Math.log("0."+gs(c.d))/Math.LN10+c.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(yr=!1,l.rounding=c.s=1,r=Math.min(12,(e+"").length),s=$5(t.times(Ll(c,n+r)),n),s.d&&(s=tr(s,n+5,1),em(s.d,n,i)&&(e=n+10,s=tr($5(t.times(Ll(c,e+r)),e),e+5,1),+gs(s.d).slice(n+1,n+15)+1==1e14&&(s=tr(s,n+1,0)))),s.s=o,yr=!0,l.rounding=i,tr(s,n,i))};gt.toPrecision=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Rf(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(xo(t,1,lh),e===void 0?e=s.rounding:xo(e,0,8),n=tr(new s(n),t,e),r=Rf(n,t<=n.e||n.e<=s.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};gt.toSignificantDigits=gt.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xo(t,1,lh),e===void 0?e=n.rounding:xo(e,0,8)),tr(new n(r),t,e)};gt.toString=function(){var t=this,e=t.constructor,r=Rf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};gt.truncated=gt.trunc=function(){return tr(new this.constructor(this),this.e+1,1)};gt.valueOf=gt.toJSON=function(){var t=this,e=t.constructor,r=Rf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function gs(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=ar-n.length,r&&(i+=Rl(r)),i+=n;o=t[e],n=o+"",r=ar-n.length,r&&(i+=Rl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function xo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zl+t)}function em(t,e,r,n){var s,i,o,c;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=ar,s=0):(s=Math.ceil((e+1)/ar),e%=ar),i=Ci(10,ar-e),c=t[s]%i|0,n==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=r<4&&c==99999||r>3&&c==49999||c==5e4||c==0):o=(r<4&&c+1==i||r>3&&c+1==i/2)&&(t[s+1]/i/100|0)==Ci(10,e-2)-1||(c==i/2||c==0)&&(t[s+1]/i/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(n||r<4)&&c==9999||!n&&r>3&&c==4999):o=((n||r<4)&&c+1==i||!n&&r>3&&c+1==i/2)&&(t[s+1]/i/1e3|0)==Ci(10,e-3)-1,o}function s_(t,e,r){for(var n,s=[0],i,o=0,c=t.length;o<c;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=I5.indexOf(t.charAt(o++)),n=0;n<s.length;n++)s[n]>r-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}function MGe(t,e){var r,n,s;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),s=(1/zS(4,r)).toString()):(r=16,s="2.3283064365386962890625e-10"),t.precision+=r,e=kp(t,1,e.times(s),new t(1));for(var i=r;i--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var An=function(){function t(n,s,i){var o,c=0,l=n.length;for(n=n.slice();l--;)o=n[l]*s+c,n[l]=o%i|0,c=o/i|0;return c&&n.unshift(c),n}function e(n,s,i,o){var c,l;if(i!=o)l=i>o?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,i,o){for(var c=0;i--;)n[i]-=c,c=n[i]<s[i]?1:0,n[i]=c*o+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o,c,l){var d,v,b,A,x,R,C,T,$,O,D,L,F,H,V,J,Z,se,S,a,u=n.constructor,h=n.s==s.s?1:-1,p=n.d,y=s.d;if(!p||!p[0]||!y||!y[0])return new u(!n.s||!s.s||(p?y&&p[0]==y[0]:!y)?NaN:p&&p[0]==0||!y?h*0:h/0);for(l?(x=1,v=n.e-s.e):(l=yc,x=ar,v=zs(n.e/x)-zs(s.e/x)),S=y.length,Z=p.length,$=new u(h),O=$.d=[],b=0;y[b]==(p[b]||0);b++);if(y[b]>(p[b]||0)&&v--,i==null?(H=i=u.precision,o=u.rounding):c?H=i+(n.e-s.e)+1:H=i,H<0)O.push(1),R=!0;else{if(H=H/x+2|0,b=0,S==1){for(A=0,y=y[0],H++;(b<Z||A)&&H--;b++)V=A*l+(p[b]||0),O[b]=V/y|0,A=V%y|0;R=A||b<Z}else{for(A=l/(y[0]+1)|0,A>1&&(y=t(y,A,l),p=t(p,A,l),S=y.length,Z=p.length),J=S,D=p.slice(0,S),L=D.length;L<S;)D[L++]=0;a=y.slice(),a.unshift(0),se=y[0],y[1]>=l/2&&++se;do A=0,d=e(y,D,S,L),d<0?(F=D[0],S!=L&&(F=F*l+(D[1]||0)),A=F/se|0,A>1?(A>=l&&(A=l-1),C=t(y,A,l),T=C.length,L=D.length,d=e(C,D,T,L),d==1&&(A--,r(C,S<T?a:y,T,l))):(A==0&&(d=A=1),C=y.slice()),T=C.length,T<L&&C.unshift(0),r(D,C,L,l),d==-1&&(L=D.length,d=e(y,D,S,L),d<1&&(A++,r(D,S<L?a:y,L,l))),L=D.length):d===0&&(A++,D=[0]),O[b++]=A,d&&D[0]?D[L++]=p[J]||0:(D=[p[J]],L=1);while((J++<Z||D[0]!==void 0)&&H--);R=D[0]!==void 0}O[0]||O.shift()}if(x==1)$.e=v,HX=R;else{for(b=1,A=O[0];A>=10;A/=10)b++;$.e=b+v*x-1,tr($,c?i+$.e+1:i,o,R)}return $}}();function tr(t,e,r,n){var s,i,o,c,l,d,v,b,A,x=t.constructor;e:if(e!=null){if(b=t.d,!b)return t;for(s=1,c=b[0];c>=10;c/=10)s++;if(i=e-s,i<0)i+=ar,o=e,v=b[A=0],l=v/Ci(10,s-o-1)%10|0;else if(A=Math.ceil((i+1)/ar),c=b.length,A>=c)if(n){for(;c++<=A;)b.push(0);v=l=0,s=1,i%=ar,o=i-ar+1}else break e;else{for(v=c=b[A],s=1;c>=10;c/=10)s++;i%=ar,o=i-ar+s,l=o<0?0:v/Ci(10,s-o-1)%10|0}if(n=n||e<0||b[A+1]!==void 0||(o<0?v:v%Ci(10,s-o-1)),d=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(i>0?o>0?v/Ci(10,s-o):0:b[A-1])%10&1||r==(t.s<0?8:7)),e<1||!b[0])return b.length=0,d?(e-=t.e+1,b[0]=Ci(10,(ar-e%ar)%ar),t.e=-e||0):b[0]=t.e=0,t;if(i==0?(b.length=A,c=1,A--):(b.length=A+1,c=Ci(10,ar-i),b[A]=o>0?(v/Ci(10,s-o)%Ci(10,o)|0)*c:0),d)for(;;)if(A==0){for(i=1,o=b[0];o>=10;o/=10)i++;for(o=b[0]+=c,c=1;o>=10;o/=10)c++;i!=c&&(t.e++,b[0]==yc&&(b[0]=1));break}else{if(b[A]+=c,b[A]!=yc)break;b[A--]=0,c=1}for(i=b.length;b[--i]===0;)b.pop()}return yr&&(t.e>x.maxE?(t.d=null,t.e=NaN):t.e<x.minE&&(t.e=0,t.d=[0])),t}function Rf(t,e,r){if(!t.isFinite())return XX(t);var n,s=t.e,i=gs(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Rl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):s<0?(i="0."+Rl(-s-1)+i,r&&(n=r-o)>0&&(i+=Rl(n))):s>=o?(i+=Rl(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Rl(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Rl(n))),i}function qS(t,e){var r=t[0];for(e*=ar;r>=10;r/=10)e++;return e}function g2(t,e,r){if(e>xGe)throw yr=!0,r&&(t.precision=r),Error(VX);return tr(new t(d2),e,1,!0)}function gc(t,e,r){if(e>T5)throw Error(VX);return tr(new t(p2),e,r,!0)}function JX(t){var e=t.length-1,r=e*ar+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Rl(t){for(var e="";t--;)e+="0";return e}function QX(t,e,r,n){var s,i=new t(1),o=Math.ceil(n/ar+4);for(yr=!1;;){if(r%2&&(i=i.times(e),HU(i.d,o)&&(s=!0)),r=zs(r/2),r===0){r=i.d.length-1,s&&i.d[r]===0&&++i.d[r];break}e=e.times(e),HU(e.d,o)}return yr=!0,i}function zU(t){return t.d[t.d.length-1]&1}function ZX(t,e,r){for(var n,s=new t(e[0]),i=0;++i<e.length;)if(n=new t(e[i]),n.s)s[r](n)&&(s=n);else{s=n;break}return s}function $5(t,e){var r,n,s,i,o,c,l,d=0,v=0,b=0,A=t.constructor,x=A.rounding,R=A.precision;if(!t.d||!t.d[0]||t.e>17)return new A(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(yr=!1,l=R):l=e,c=new A(.03125);t.e>-2;)t=t.times(c),b+=5;for(n=Math.log(Ci(2,b))/Math.LN10*2+5|0,l+=n,r=i=o=new A(1),A.precision=l;;){if(i=tr(i.times(t),l,1),r=r.times(++v),c=o.plus(An(i,r,l,1)),gs(c.d).slice(0,l)===gs(o.d).slice(0,l)){for(s=b;s--;)o=tr(o.times(o),l,1);if(e==null)if(d<3&&em(o.d,l-n,x,d))A.precision=l+=10,r=i=c=new A(1),v=0,d++;else return tr(o,A.precision=R,x,yr=!0);else return A.precision=R,o}o=c}}function Ll(t,e){var r,n,s,i,o,c,l,d,v,b,A,x=1,R=10,C=t,T=C.d,$=C.constructor,O=$.rounding,D=$.precision;if(C.s<0||!T||!T[0]||!C.e&&T[0]==1&&T.length==1)return new $(T&&!T[0]?-1/0:C.s!=1?NaN:T?0:C);if(e==null?(yr=!1,v=D):v=e,$.precision=v+=R,r=gs(T),n=r.charAt(0),Math.abs(i=C.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(t),r=gs(C.d),n=r.charAt(0),x++;i=C.e,n>1?(C=new $("0."+r),i++):C=new $(n+"."+r.slice(1))}else return d=g2($,v+2,D).times(i+""),C=Ll(new $(n+"."+r.slice(1)),v-R).plus(d),$.precision=D,e==null?tr(C,D,O,yr=!0):C;for(b=C,l=o=C=An(C.minus(1),C.plus(1),v,1),A=tr(C.times(C),v,1),s=3;;){if(o=tr(o.times(A),v,1),d=l.plus(An(o,new $(s),v,1)),gs(d.d).slice(0,v)===gs(l.d).slice(0,v))if(l=l.times(2),i!==0&&(l=l.plus(g2($,v+2,D).times(i+""))),l=An(l,new $(x),v,1),e==null)if(em(l.d,v-R,O,c))$.precision=v+=R,d=o=C=An(b.minus(1),b.plus(1),v,1),A=tr(C.times(C),v,1),s=c=1;else return tr(l,$.precision=D,O,yr=!0);else return $.precision=D,l;l=d,s+=2}}function XX(t){return String(t.s*t.s/0)}function C5(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=ar;n<s;)t.d.push(+e.slice(n,n+=ar));e=e.slice(n),n=ar-e.length}else n-=s;for(;n--;)e+="0";t.d.push(+e),yr&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function IGe(t,e){var r,n,s,i,o,c,l,d,v;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),WX.test(e))return C5(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(EGe.test(e))r=16,e=e.toLowerCase();else if(_Ge.test(e))r=2;else if(SGe.test(e))r=8;else throw Error(Zl+e);for(i=e.search(/p/i),i>0?(l=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),o=i>=0,n=t.constructor,o&&(e=e.replace(".",""),c=e.length,i=c-i,s=QX(n,new n(r),i,i*2)),d=s_(e,r,yc),v=d.length-1,i=v;d[i]===0;--i)d.pop();return i<0?new n(t.s*0):(t.e=qS(d,v),t.d=d,yr=!1,o&&(t=An(t,s,c*4)),l&&(t=t.times(Math.abs(l)<54?Ci(2,l):Lp.pow(2,l))),yr=!0,t)}function RGe(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:kp(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/zS(5,r)),e=kp(t,2,e,e);for(var s,i=new t(5),o=new t(16),c=new t(20);r--;)s=e.times(e),e=e.times(i.plus(s.times(o.times(s).minus(c))));return e}function kp(t,e,r,n,s){var i,o,c,l,d=t.precision,v=Math.ceil(d/ar);for(yr=!1,l=r.times(r),c=new t(n);;){if(o=An(c.times(l),new t(e++*e++),d,1),c=s?n.plus(o):n.minus(o),n=An(o.times(l),new t(e++*e++),d,1),o=c.plus(n),o.d[v]!==void 0){for(i=v;o.d[i]===c.d[i]&&i--;);if(i==-1)break}i=c,c=n,n=o,o=i}return yr=!0,o.d.length=v+1,o}function zS(t,e){for(var r=t;--e;)r*=t;return r}function YX(t,e){var r,n=e.s<0,s=gc(t,t.precision,1),i=s.times(.5);if(e=e.abs(),e.lte(i))return xu=n?4:1,e;if(r=e.divToInt(s),r.isZero())xu=n?3:2;else{if(e=e.minus(r.times(s)),e.lte(i))return xu=zU(r)?n?2:3:n?4:1,e;xu=zU(r)?n?1:4:n?3:2}return e.minus(s).abs()}function D$(t,e,r,n){var s,i,o,c,l,d,v,b,A,x=t.constructor,R=r!==void 0;if(R?(xo(r,1,lh),n===void 0?n=x.rounding:xo(n,0,8)):(r=x.precision,n=x.rounding),!t.isFinite())v=XX(t);else{for(v=Rf(t),o=v.indexOf("."),R?(s=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):s=e,o>=0&&(v=v.replace(".",""),A=new x(1),A.e=v.length-o,A.d=s_(Rf(A),10,s),A.e=A.d.length),b=s_(v,10,s),i=l=b.length;b[--l]==0;)b.pop();if(!b[0])v=R?"0p+0":"0";else{if(o<0?i--:(t=new x(t),t.d=b,t.e=i,t=An(t,A,r,n,0,s),b=t.d,i=t.e,d=HX),o=b[r],c=s/2,d=d||b[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(t.s<0?3:2)):o>c||o===c&&(n===4||d||n===6&&b[r-1]&1||n===(t.s<0?8:7)),b.length=r,d)for(;++b[--r]>s-1;)b[r]=0,r||(++i,b.unshift(1));for(l=b.length;!b[l-1];--l);for(o=0,v="";o<l;o++)v+=I5.charAt(b[o]);if(R){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)v+="0";for(b=s_(v,s,e),l=b.length;!b[l-1];--l);for(o=1,v="1.";o<l;o++)v+=I5.charAt(b[o])}else v=v.charAt(0)+"."+v.slice(1);v=v+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)v="0"+v;v="0."+v}else if(++i>l)for(i-=l;i--;)v+="0";else i<l&&(v=v.slice(0,i)+"."+v.slice(i))}v=(e==16?"0x":e==2?"0b":e==8?"0o":"")+v}return t.s<0?"-"+v:v}function HU(t,e){if(t.length>e)return t.length=e,!0}function TGe(t){return new this(t).abs()}function $Ge(t){return new this(t).acos()}function CGe(t){return new this(t).acosh()}function OGe(t,e){return new this(t).plus(e)}function BGe(t){return new this(t).asin()}function PGe(t){return new this(t).asinh()}function NGe(t){return new this(t).atan()}function kGe(t){return new this(t).atanh()}function LGe(t,e){t=new this(t),e=new this(e);var r,n=this.precision,s=this.rounding,i=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=gc(this,i,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?gc(this,n,s):new this(0),r.s=t.s):!t.d||e.isZero()?(r=gc(this,i,1).times(.5),r.s=t.s):e.s<0?(this.precision=i,this.rounding=1,r=this.atan(An(t,e,i,1)),e=gc(this,i,1),this.precision=n,this.rounding=s,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(An(t,e,i,1)),r}function DGe(t){return new this(t).cbrt()}function UGe(t){return tr(t=new this(t),t.e+1,2)}function FGe(t,e,r){return new this(t).clamp(e,r)}function jGe(t){if(!t||typeof t!="object")throw Error(jS+"Object expected");var e,r,n,s=t.defaults===!0,i=["precision",1,lh,"rounding",0,8,"toExpNeg",-F0,0,"toExpPos",0,F0,"maxE",0,F0,"minE",-F0,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(r=i[e],s&&(this[r]=R5[r]),(n=t[r])!==void 0)if(zs(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Zl+r+": "+n);if(r="crypto",s&&(this[r]=R5[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(KX);else this[r]=!1;else throw Error(Zl+r+": "+n);return this}function qGe(t){return new this(t).cos()}function zGe(t){return new this(t).cosh()}function eY(t){var e,r,n;function s(i){var o,c,l,d=this;if(!(d instanceof s))return new s(i);if(d.constructor=s,VU(i)){d.s=i.s,yr?!i.d||i.e>s.maxE?(d.e=NaN,d.d=null):i.e<s.minE?(d.e=0,d.d=[0]):(d.e=i.e,d.d=i.d.slice()):(d.e=i.e,d.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){d.s=1/i<0?-1:1,d.e=0,d.d=[0];return}if(i<0?(i=-i,d.s=-1):d.s=1,i===~~i&&i<1e7){for(o=0,c=i;c>=10;c/=10)o++;yr?o>s.maxE?(d.e=NaN,d.d=null):o<s.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[i]):(d.e=o,d.d=[i]);return}else if(i*0!==0){i||(d.s=NaN),d.e=NaN,d.d=null;return}return C5(d,i.toString())}else if(l!=="string")throw Error(Zl+i);return(c=i.charCodeAt(0))===45?(i=i.slice(1),d.s=-1):(c===43&&(i=i.slice(1)),d.s=1),WX.test(i)?C5(d,i):IGe(d,i)}if(s.prototype=gt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=jGe,s.clone=eY,s.isDecimal=VU,s.abs=TGe,s.acos=$Ge,s.acosh=CGe,s.add=OGe,s.asin=BGe,s.asinh=PGe,s.atan=NGe,s.atanh=kGe,s.atan2=LGe,s.cbrt=DGe,s.ceil=UGe,s.clamp=FGe,s.cos=qGe,s.cosh=zGe,s.div=HGe,s.exp=VGe,s.floor=KGe,s.hypot=GGe,s.ln=WGe,s.log=JGe,s.log10=ZGe,s.log2=QGe,s.max=XGe,s.min=YGe,s.mod=eWe,s.mul=tWe,s.pow=rWe,s.random=nWe,s.round=iWe,s.sign=sWe,s.sin=oWe,s.sinh=aWe,s.sqrt=cWe,s.sub=fWe,s.sum=uWe,s.tan=lWe,s.tanh=hWe,s.trunc=dWe,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function HGe(t,e){return new this(t).div(e)}function VGe(t){return new this(t).exp()}function KGe(t){return tr(t=new this(t),t.e+1,3)}function GGe(){var t,e,r=new this(0);for(yr=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return yr=!0,new this(1/0);r=e}return yr=!0,r.sqrt()}function VU(t){return t instanceof Lp||t&&t.toStringTag===GX||!1}function WGe(t){return new this(t).ln()}function JGe(t,e){return new this(t).log(e)}function QGe(t){return new this(t).log(2)}function ZGe(t){return new this(t).log(10)}function XGe(){return ZX(this,arguments,"lt")}function YGe(){return ZX(this,arguments,"gt")}function eWe(t,e){return new this(t).mod(e)}function tWe(t,e){return new this(t).mul(e)}function rWe(t,e){return new this(t).pow(e)}function nWe(t){var e,r,n,s,i=0,o=new this(1),c=[];if(t===void 0?t=this.precision:xo(t,1,lh),n=Math.ceil(t/ar),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));i<n;)s=e[i],s>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:c[i++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);i<n;)s=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,i):(c.push(s%1e7),i+=4);i=n/4}else throw Error(KX);else for(;i<n;)c[i++]=Math.random()*1e7|0;for(n=c[--i],t%=ar,n&&t&&(s=Ci(10,ar-t),c[i]=(n/s|0)*s);c[i]===0;i--)c.pop();if(i<0)r=0,c=[0];else{for(r=-1;c[0]===0;r-=ar)c.shift();for(n=1,s=c[0];s>=10;s/=10)n++;n<ar&&(r-=ar-n)}return o.e=r,o.d=c,o}function iWe(t){return tr(t=new this(t),t.e+1,this.rounding)}function sWe(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function oWe(t){return new this(t).sin()}function aWe(t){return new this(t).sinh()}function cWe(t){return new this(t).sqrt()}function fWe(t,e){return new this(t).sub(e)}function uWe(){var t=0,e=arguments,r=new this(e[t]);for(yr=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return yr=!0,tr(r,this.precision,this.rounding)}function lWe(t){return new this(t).tan()}function hWe(t){return new this(t).tanh()}function dWe(t){return tr(t=new this(t),t.e+1,1)}gt[Symbol.for("nodejs.util.inspect.custom")]=gt.toString;gt[Symbol.toStringTag]="Decimal";var Lp=gt.constructor=eY(R5);d2=new Lp(d2);p2=new Lp(p2);function Bs(t){return Lp.isDecimal(t)?t:new Lp(t||0)}function Y6(t){return Bs(10).pow(Bs(t).abs())}var pWe=Object.defineProperty,gWe=Object.getOwnPropertyDescriptor,vWe=(t,e,r,n)=>{for(var s=n>1?void 0:n?gWe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&pWe(e,r,s),s},y0=(t,e)=>(r,n)=>e(r,n,t);let KU=class extends mn{constructor(e,r,n,s,i,o){super();Oe(this,"activityService");Oe(this,"_store");Oe(this,"coin");Oe(this,"walletController");Oe(this,"networkController");this._container=e,this.storage=r,this.coinProvider=n,this.walletProvider=s,this.networkProvider=i,this.searchService=o,this.searchService.registerSearch(this._globalSearchHandler.bind(this))}get store(){return this._store}async init(){try{this.walletController=await this.walletProvider(),this.networkController=await this.networkProvider();const e={items:await this.storage.get("activity.items",[])??[],isLoading:!1,isNoMore:!1};this.coin=await this.coinProvider(),this._store=new zn.ObservableStore(e),this._init()}catch(e){console.error("[ActivityController] Failed to init activity controller",e),this._store.updateState({items:[],isLoading:!1,isNoMore:!1})}}onAccountChanged(){this._init()}onNetworkChanged(){this._init()}onResetApplication(){this._store.updateState({items:[],isLoading:!1,isNoMore:!1})}async _init(){var e;try{const r=this.networkController.currentNetwork,n=(e=this.walletController.currentAccount)==null?void 0:e.address;if(!n||!r)return;if(this.activityService=this._container.getNamed(tt.ActivityService,r.chain),!this.activityService)throw new Error(`Activity service not exists for ${r.chain} chain`);await this.activityService.init(r),await this.storage.set("activity.items",[]),this._store.updateState({items:[],isLoading:!0,isNoMore:!1});const s=this.walletController.isUnlocked?await this.activityService.fetchTransactions(n):[];await this.storage.set("activity.items",s),this._store.updateState({items:s,isLoading:!1})}catch(r){console.error("[ActivityController] Error during initialization",r),this._store.updateState({isLoading:!1})}}async onDataSync(){var v,b,A,x;const e=(v=this.walletController.currentAccount)==null?void 0:v.address;if((b=this._store.getState())!=null&&b.isLoading||!e)return;const r=((A=this._store.getState())==null?void 0:A.items)||[],n=await((x=this.activityService)==null?void 0:x.fetchNewestTransactions(e)),s=Au(n,"id"),i=Au(r,"id"),o=oGe(PD(s),PD(i)),c=wGe(r,R=>o.includes(R.id.toString())?s[R.id]:R),d=[...qKe(n,c,uGe),...c];await this.storage.set("activity.items",d),this._store.updateState({items:d})}async loadMore(){var e,r,n,s,i,o;try{const c=(e=this.walletController.currentAccount)==null?void 0:e.address;if(!this.activityService||!c||(r=this._store.getState())!=null&&r.isLoading||((s=(n=this._store.getState())==null?void 0:n.items)==null?void 0:s.length)<this.activityService.loadLimit)return;this._store.updateState({isLoading:!0});const l=await((i=this.activityService)==null?void 0:i.fetchOlderTransactions(c));if(!l||l.length===0){this._store.updateState({isLoading:!1,isNoMore:!0});return}const d=((o=this._store.getState())==null?void 0:o.items)||[],v=[...l,...d];await this.storage.set("activity.items",v),this._store.updateState({items:v,isLoading:!1})}catch{this._store.updateState({isLoading:!1})}}async onTransactionSubmitted(e,r){var l,d,v;const n=await((l=this.activityService)==null?void 0:l.transactionToTxItem(e.address,{...r,success:void 0,timestamp:String(Date.now()),gas_used:0}));if(!n)return;const s=this.networkController.currentNetwork;n.amount=s.chain===Qt.Aptos?n.amount:n.amount?BigInt(n.amount).toString():"0";const i=((d=this._store.getState())==null?void 0:d.items)||[],o=[n,...i];await this.storage.set("activity.items",o),this._store.updateState({items:o});const c=Bs(n.amount).plus(((v=n==null?void 0:n.gas)==null?void 0:v.total)||0).mul(n.direction===HG.IN?1:-1).toNumber();this.coin.patchBalance(e.chain,e.address,n.coin,c)}async _globalSearchHandler(){var s;const e=((s=this._store.getState())==null?void 0:s.items)||[],r=this.walletController.currentAccount;return r?{widget:"activity",collection:e.map(i=>({groupKey:{walletId:r.walletId,accountId:r.id},entry:i})),keys:["entry.coinInfo.name","entry.coinInfo.symbol","entry.twoCoins.xCoinInfo.name","entry.twoCoins.xCoinInfo.symbol","entry.twoCoins.yCoinInfo.name","entry.twoCoins.yCoinInfo.symbol","entry.registerCoinInfo.name","entry.registerCoinInfo.symbol"]}:[]}};KU=vWe([Lr(),y0(0,st(tt.RootContainer)),y0(1,st(tt.StorageService)),y0(2,st(tt.CoinControllerProvider)),y0(3,st(tt.WalletControllerProvider)),y0(4,st(tt.NetworkControllerProvider)),y0(5,st(tt.SearchService))],KU);var yWe=Object.defineProperty,mWe=Object.getOwnPropertyDescriptor,bWe=(t,e,r,n)=>{for(var s=n>1?void 0:n?mWe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&yWe(e,r,s),s},ns=(t,e)=>(r,n)=>e(r,n,t);let GU=class extends mn{constructor(e,r,n,s,i,o,c,l,d,v,b,A,x,R,C,T,$){super();Oe(this,"preferences");Oe(this,"state");Oe(this,"nft");Oe(this,"activity");Oe(this,"coin");Oe(this,"wallets");Oe(this,"network");Oe(this,"sign");Oe(this,"migration");Oe(this,"externalRequests");Oe(this,"permissions");Oe(this,"flags");Oe(this,"market");Oe(this,"contacts");Oe(this,"keyring");Oe(this,"nameService");Oe(this,"search");Oe(this,"routes",{internal:{},external:{}});this.preferencesProvider=e,this.stateProvider=r,this.nftProvider=n,this.marketProvider=s,this.activityProvider=i,this.walletsProvider=o,this.networkProvider=c,this.signProvider=l,this.migrationProvider=d,this.coinProvider=v,this.externalRequestsProvider=b,this.permissionsProvider=A,this.flagsProvider=x,this.contactsProvider=R,this.keyringProvider=C,this.nameServiceProvider=T,this.searchProvider=$}async init(){this.preferences=await this.preferencesProvider(),this.state=await this.stateProvider(),this.nft=await this.nftProvider(),this.market=await this.marketProvider(),this.activity=await this.activityProvider(),this.coin=await this.coinProvider(),this.wallets=await this.walletsProvider(),this.network=await this.networkProvider(),this.sign=await this.signProvider(),this.migration=await this.migrationProvider(),this.externalRequests=await this.externalRequestsProvider(),this.permissions=await this.permissionsProvider(),this.flags=await this.flagsProvider(),this.contacts=await this.contactsProvider(),this.keyring=await this.keyringProvider(),this.nameService=await this.nameServiceProvider(),this.search=await this.searchProvider(),this.expose("internal","preferences.update",this.preferences.update.bind(this.preferences)),this.expose("internal","state.getState",async()=>this.state.state),this.expose("internal","system.ACK",async()=>({status:"ok"})),this.expose("internal","nft.getNftById",this.nft.getNftById.bind(this.nft)),this.expose("internal","nft.loadNft",this.nft.loadNft.bind(this.nft)),this.expose("internal","nft.forceRefetch",this.nft.forceRefetch.bind(this.nft)),this.expose("internal","nft.addNftToStore",this.nft.addNftToStore.bind(this.nft)),this.expose("internal","nft.getAccountNftById",this.nft.getAccountNftById.bind(this.nft)),this.expose("internal","nft.changeCollectionVisability",this.nft.changeCollectionVisability.bind(this.nft)),this.expose("internal","activity.loadMore",this.activity.loadMore.bind(this.activity)),this.expose("internal","wallets.createEmptyVault",this.wallets.createEmptyVault.bind(this.wallets)),this.expose("internal","wallets.createWithDefaultPassword",this.wallets.createWithDefaultPassword.bind(this.wallets)),this.expose("internal","wallets.createKeyTreeWallet",this.wallets.createKeyTreeWallet.bind(this.wallets)),this.expose("internal","wallets.importKeyTreeWallet",this.wallets.importKeyTreeWallet.bind(this.wallets)),this.expose("internal","wallets.importLedgerWallet",this.wallets.importLedgerWallet.bind(this.wallets)),this.expose("internal","wallets.changeAccount",this.wallets.changeAccount.bind(this.wallets)),this.expose("internal","wallets.importAccount",this.wallets.importAccount.bind(this.wallets)),this.expose("internal","wallets.importReadOnlyAccount",this.wallets.importReadOnlyAccount.bind(this.wallets)),this.expose("internal","wallets.createAccount",this.wallets.createAccount.bind(this.wallets)),this.expose("internal","wallets.changeWallet",this.wallets.changeWallet.bind(this.wallets)),this.expose("internal","wallets.changeChain",this.wallets.changeChain.bind(this.wallets)),this.expose("internal","wallets.editCurrentAccountName",this.wallets.editCurrentAccountName.bind(this.wallets)),this.expose("internal","wallets.editCurrentAccountOptions",this.wallets.editCurrentAccountOptions.bind(this.wallets)),this.expose("internal","wallets.editCurrentWalletOptions",this.wallets.editCurrentWalletOptions.bind(this.wallets)),this.expose("internal","wallets.editWalletOptions",this.wallets.editWalletOptions.bind(this.wallets)),this.expose("internal","wallets.getMnemonic",this.wallets.getMnemonic.bind(this.wallets)),this.expose("internal","wallets.getPrivateKey",this.wallets.getPrivateKey.bind(this.wallets)),this.expose("internal","wallets.getAccountDerivationPath",this.wallets.getAccountDerivationPath.bind(this.wallets)),this.expose("internal","wallets.verifyPassword",this.wallets.verifyPassword.bind(this.wallets)),this.expose("internal","wallets.lock",this.wallets.lock.bind(this.wallets)),this.expose("internal","wallets.unlock",this.wallets.unlock.bind(this.wallets)),this.expose("internal","wallets.resetApplication",this.wallets.resetApplication.bind(this.wallets)),this.expose("internal","wallets.editWalletName",this.wallets.editWalletName.bind(this.wallets)),this.expose("internal","wallets.deleteWallet",this.wallets.deleteWallet.bind(this.wallets)),this.expose("internal","wallets.deleteAccount",this.wallets.deleteAccount.bind(this.wallets)),this.expose("internal","wallets.editAccountName",this.wallets.editAccountName.bind(this.wallets)),this.expose("internal","wallets.editAccountOptions",this.wallets.editAccountOptions.bind(this.wallets)),this.expose("internal","networks.changeNetwork",this.network.changeNetwork.bind(this.network)),this.expose("internal","networks.changeOverviewMode",this.network.changeOverviewMode.bind(this.network)),this.expose("internal","networks.updateNetwork",this.network.updateNetwork.bind(this.network)),this.expose("internal","networks.createNetwork",this.network.createNetwork.bind(this.network)),this.expose("internal","networks.deleteNetwork",this.network.deleteNetwork.bind(this.network)),this.expose("internal","networks.resetNetworks",this.network.resetNetworks.bind(this.network)),this.expose("internal","networks.faucet",this.network.faucet.bind(this.network)),this.expose("internal","sign.generateTransaction",this.sign.generateTransaction.bind(this.sign)),this.expose("internal","sign.generateTypedTransaction",this.sign.generateTypedTransaction.bind(this.sign)),this.expose("internal","sign.generateMessage",this.sign.generateMessage.bind(this.sign)),this.expose("internal","sign.generateTypedMessage",this.sign.generateTypedMessage.bind(this.sign)),this.expose("internal","sign.simulateTransaction",this.sign.simulateTransaction.bind(this.sign)),this.expose("internal","sign.getTransactionPreview",this.sign.getTransactionPreview.bind(this.sign)),this.expose("internal","sign.signTransaction",this.sign.signTransaction.bind(this.sign)),this.expose("internal","sign.signHexString",this.sign.signHexString.bind(this.sign)),this.expose("internal","sign.signMessage",this.sign.signMessage.bind(this.sign)),this.expose("internal","sign.signTypedMessage",this.sign.signTypedMessage.bind(this.sign)),this.expose("internal","sign.submitTransaction",this.sign.submitTransaction.bind(this.sign)),this.expose("internal","migration.callMigrationHandler",this.migration.callMigrationHandler.bind(this.migration)),this.expose("internal","migration.forceRestoreWallet",this.migration.forceRestoreWallet.bind(this.migration)),this.expose("internal","coin.fetchBalance",this.coin.fetchBalance.bind(this.coin)),this.expose("internal","coin.getInfo",this.coin.getInfo.bind(this.coin)),this.expose("internal","coin.addCustomCoin",this.coin.addCustomCoin.bind(this.coin)),this.expose("internal","coin.detectTokens",this.coin.detectTokens.bind(this.coin)),this.expose("internal","coin.refreshAccount",this.coin.refreshAccount.bind(this.coin)),this.expose("internal","coin.updateTokenVisability",this.coin.updateTokenVisability.bind(this.coin)),this.expose("internal","contacts.addContact",this.contacts.addContact.bind(this.contacts)),this.expose("internal","contacts.editContact",this.contacts.editContact.bind(this.contacts)),this.expose("internal","contacts.deleteContact",this.contacts.deleteContact.bind(this.contacts)),this.expose("internal","market.fetchPriceHistoryBySymbol",this.market.fetchPriceHistoryBySymbol.bind(this.market)),this.expose("internal","market.fetchStatsInfoBySymbol",this.market.fetchStatsInfoBySymbol.bind(this.market)),this.expose("internal","market.toggleFavorite",this.market.toggleFavorite.bind(this.market)),this.expose("internal","market.fetchNews",this.market.fetchNews.bind(this.market)),this.expose("internal","flags.unlockEVM",this.flags.unlockEVM.bind(this.flags)),this.expose("internal","flags.toggleEVM",this.flags.toggleEVM.bind(this.flags)),this.expose("internal","requests.resolveRequest",this.externalRequests.resolveRequest.bind(this.externalRequests)),this.expose("internal","permissions.connectAccounts",this.permissions.connectAccounts.bind(this.permissions)),this.expose("internal","permissions.disconnectAccounts",this.permissions.disconnectAccounts.bind(this.permissions)),this.expose("internal","keyring.getAddressByDerivationPathAndIndex",this.keyring.getAddressByDerivationPathAndIndex.bind(this.keyring)),this.expose("internal","keyring.validateMnemonic",this.keyring.validateMnemonic.bind(this.keyring)),this.expose("internal","keyring.setNewPassword",this.keyring.setNewPassword.bind(this.keyring)),this.expose("internal","nameService.resolveName",this.nameService.resolveName.bind(this.nameService)),this.expose("internal","nameService.resolveAddress",this.nameService.resolveAddress.bind(this.nameService)),this.expose("internal","search.search",this.search.search.bind(this.search)),this.expose("internal","coin._clearCoinCache",this.coin._clearCoinCache.bind(this.coin))}createApiMiddleware(e){return Fd.createAsyncMiddleware(async(r,n,s)=>{try{const i=X_(r)?r:iZ(r);if(i.id!==void 0){const o=this.routes[e][i.method];if(o){const c=await o(...Array.isArray(i.params)?i.params:[]);n.result=X_(c)?c:nZ(c);return}}await s()}catch(i){n.error=i}})}expose(e,r,n){this.routes[e][r]=n}};GU=bWe([Lr(),ns(0,st(tt.PreferencesControllerProvider)),ns(1,st(tt.StateControllerProvider)),ns(2,st(tt.NftControllerProvider)),ns(3,st(tt.MarketControllerProvider)),ns(4,st(tt.ActivityControllerProvider)),ns(5,st(tt.WalletControllerProvider)),ns(6,st(tt.NetworkControllerProvider)),ns(7,st(tt.SignControllerProvider)),ns(8,st(tt.MigrationControllerProvider)),ns(9,st(tt.CoinControllerProvider)),ns(10,st(tt.ExternalRequestsControllerProvider)),ns(11,st(tt.PermissionsControllerProvider)),ns(12,st(tt.FlagsControllerProvider)),ns(13,st(tt.ContactsControllerProvider)),ns(14,st(tt.KeyringControllerProvider)),ns(15,st(tt.NameServiceControllerProvider)),ns(16,st(tt.SearchControllerProvider))],GU);var wWe=Object.defineProperty,_We=Object.getOwnPropertyDescriptor,EWe=(t,e,r,n)=>{for(var s=n>1?void 0:n?_We(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&wWe(e,r,s),s},SWe=(t,e)=>(r,n)=>e(r,n,t);const WU={web:[],extension:[]};let JU=class extends mn{constructor(e){super();Oe(this,"_store");this.http=e,this._store=new zn.ObservableStore(WU)}get store(){return this._store}async init(){try{const[e,r]=await Promise.all([this.http.get("/api/nftBanner/web"),this.http.get("/api/nftBanner/extension")]);this._store.updateState({web:e.data,extension:r.data})}catch(e){console.log("Error fetching banner: ",e)}}onResetApplication(){this._store.putState(WU),this.init()}};JU=EWe([Lr(),SWe(0,st(tt.HttpService))],JU);var AWe=Object.defineProperty,xWe=Object.getOwnPropertyDescriptor,MWe=(t,e,r,n)=>{for(var s=n>1?void 0:n?xWe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&AWe(e,r,s),s},cl=(t,e)=>(r,n)=>e(r,n,t);const QU={[Qt.Aptos]:60*1e3,[Qt.Ethereum]:60*1e3,[Qt.Avalanche]:60*1e3},ZU=60*1e3,IWe="",RWe=60*60*1e3,tw=5e3,TWe=2e3,$We=8;let XU=class extends mn{constructor(e,r,n,s,i,o,c){super();Oe(this,"_store");Oe(this,"walletController");Oe(this,"networkController");Oe(this,"_cacheStore");Oe(this,"_currentStore");Oe(this,"_persistTimer");Oe(this,"_previousNetwork");Oe(this,"evm");this._container=e,this.storage=r,this.http=n,this.searchService=s,this.walletProvider=i,this.networkProvider=o,this.ethChainProvider=c,this._currentStore=new zn.ObservableStore({nativeCoin:"",total:{fiatAmount:0,nativeAmount:0,isReady:!1,isLoading:!1},isReady:!1,coinList:[],overviewDistribution:{},aggregatedOverviewDistribution:{},info:{},balance:{},price:{}}),this._cacheStore=new zn.ObservableStore({cachedNativeCoin:{},cachedTotal:{},cachedInfo:{},cachedBalance:{},cachedPrice:{},cachedCustomCoinList:{},cachedCustomCoinListImages:{},cachedHiddenCoinList:{}}),this._store=new zn.MergedStore([this._currentStore,this._cacheStore]),this._cacheStore.subscribe(this._onCacheChanged.bind(this)),this.searchService.registerSearch(this._globalSearchHandler.bind(this))}get store(){return this._store}async init(){try{this.walletController=await this.walletProvider(),this.networkController=await this.networkProvider(),this.evm=await this.ethChainProvider();const e=await this._getCoinService(),r=await this.storage.get("coin",{cachedNativeCoin:{},cachedTotal:{},cachedInfo:{},cachedBalance:{},cachedPrice:{},cachedCustomCoinList:{},cachedCustomCoinListImages:{},cachedHiddenCoinList:{}}),n={cachedNativeCoin:r.cachedNativeCoin||{},cachedTotal:r.cachedTotal||{},cachedInfo:r.cachedInfo||{},cachedBalance:r.cachedBalance||{},cachedPrice:r.cachedPrice||{},cachedCustomCoinList:r.cachedCustomCoinList||{},cachedCustomCoinListImages:r.cachedCustomCoinListImages||{},cachedHiddenCoinList:r.cachedHiddenCoinList||{}},s={isReady:!1,coinList:[]},i=this.networkController.currentNetwork,o=this.walletController.currentAccount;this._previousNetwork=this.networkController.currentNetwork;const c=await e.fetchInfo(e.nativeCoin);if(s.coinList=e.coinList,n.cachedNativeCoin[i.chain]=e.nativeCoin,!c)throw new Error("Native coin info not found");n.cachedInfo[i.chain]={...n.cachedInfo[i.chain]??{},[c.coinType]:c},this._cacheStore.updateState(n),this._currentStore.updateState(s);let l;this.walletController.isUnlocked&&(this.networkController.overviewMode?l=this._syncAllAccounts():o&&(l=this._syncAccount(o)),l&&Promise.race([l,Fh(tw)]).finally(()=>{const d=this._createUpdateBalancesSlicePatch(this._getCachedStateSlice(i.chain));this._cacheStore.updateState(this._applyCachedSlice(i.chain,d)),this._currentStore.updateState({isReady:!0})})),l||this._currentStore.updateState({isReady:!0})}catch(e){this._currentStore.updateState({isReady:!0}),console.error("[CoinController] Error during initialization",e)}}async onAccountChanged(e){if(e){this._currentStore.updateState({isReady:!1});try{await Promise.race([this._syncAccount(e,!0),Fh(tw)])}catch{}finally{if(e.chain===this.networkController.currentNetwork.chain){const r=this._createUpdateBalancesSlicePatch(this._getCachedStateSlice(e.chain));this._cacheStore.updateState(this._applyCachedSlice(e.chain,r));const n=await this._getCoinService(e.chain);this._currentStore.updateState({isReady:!0,coinList:n.coinList})}}}}async onOverviewModeChanged(e){if(e){this._currentStore.updateState({isReady:!1});try{await Promise.race([this._syncAllAccounts(),Fh(tw)])}catch{}finally{if(this.networkController.overviewMode){const r=this._createUpdateBalancesSlicePatch(this._getCachedStateSlice(this.networkController.currentNetwork.chain));this._cacheStore.updateState(this._applyCachedSlice(this.networkController.currentNetwork.chain,r)),this._currentStore.updateState({isReady:!0})}}}}async onNetworkChanged(e){setTimeout(()=>this._onNetworkChanged(e))}async _onNetworkChanged(e){var b;(((b=this._previousNetwork)==null?void 0:b.mode)!==(e==null?void 0:e.mode)||e.mode===Ui.Custom)&&this._resetStore(!1),this._previousNetwork=e,this._currentStore.updateState({isReady:!1});const r=await this._getCoinService(e.chain,e.mode),n={coinList:r.coinList??[]},s=await r.fetchInfo(e.nativeCoin);if(!s)throw new Error("Native coin info not found");const i=this._cacheStore.getState(),o={cachedNativeCoin:r.nativeCoin,cachedInfo:i.cachedInfo[e.chain]??{}};if(o.cachedInfo[s.coinType]=s,this.networkController.currentNetwork.id!==e.id)return;this._currentStore.updateState(n);const l=this._getCachedStateSlice(e.chain),d=this._createUpdateBalancesSlicePatch({...l,...o});this._cacheStore.updateState(this._applyCachedSlice(e.chain,d));const v=this.walletController.currentAccount;this.networkController.overviewMode?await this._syncAllAccounts():v&&await this._syncAccount(v),this._currentStore.updateState({isReady:!0})}onAccountAdded(e){e&&e.chain!==Qt.Gnosis&&this.detectTokens(e.id)}onAccountDeleted(e){const r=this._createUpdateBalancesSlicePatch(this._getCachedStateSlice(e.chain));delete r.cachedBalance[e.address],delete r.cachedCustomCoinList[e.address],this._cacheStore.updateState(this._applyCachedSlice(e.chain,r))}onResetApplication(){this._resetStore()}async onDataSync(){if(this._currentStore.getState().isReady)try{const e=this.networkController.overviewMode,r=this.walletController.currentAccount;let n;e?n=this._syncAllAccounts():r&&(n=this._syncAccount(r)),n&&await Promise.race([n,Fh(tw)])}catch{console.error("Failed to update balances in onDataSync hook")}}async _globalSearchHandler(){try{const e=this._syncAllAccounts();await Promise.race([e,Fh(TWe)]);const r=this.walletController.getAllAccounts(!0),n=this._getCachedStateSlice(this.networkController.currentNetwork.chain);return{widget:"coins",collection:r.flatMap(i=>Object.values(n.cachedBalance[i.address]??{}).map(o=>({groupKey:{walletId:i.walletId,accountId:i.id},entry:n.cachedInfo[o.coinType]})).filter(o=>o.entry)),keys:["entry.name","entry.symbol"]}}catch(e){console.error("Failed search",e);return}}async patchBalance(e,r,n,s){var R;if(!n)return;const i=this.networkController.networkMode,c=((R=this._getCachedStateSlice(e).cachedBalance[r])==null?void 0:R[n])??{isReady:!0,isLoading:!1,amount:0,amountUSD:0,coinType:n,address:r,updatedAt:0},l=await this.getPrice(e,n),d=await this.getInfo(e,n),v=Bs((c==null?void 0:c.amount)||0).plus(s||0).toNumber(),b={...c,amount:v,amountUSD:l?Bs(v).div(Y6((d==null?void 0:d.decimals)||$We)).mul((l==null?void 0:l.price)||0).toNumber():0},A=this.networkController.networkMode,x=this._getCachedStateSlice(e);if(i===A){const C=this._createUpdateBalancesSlicePatch({...x,cachedBalance:{...x.cachedBalance,[r]:{...x.cachedBalance[r]??{},[n]:b}}});this._cacheStore.updateState(this._applyCachedSlice(e,C))}await this.fetchBalance(e,r,n,!0)}async getPrice(e,r){return this._getCachedStateSlice(e).cachedPrice[r]}async getInfo(e,r){const n=await this._getCoinService(e),s=this._getCachedStateSlice(e).cachedInfo[r];if(!s){const i=await n.fetchInfo(r);if(!i)return;const o=this._getCachedStateSlice(e),c=o.cachedHiddenCoinList[i.coinType];return typeof c<"u"&&(i.isHidden=c),o.cachedInfo[r]=i,this._cacheStore.updateState(this._applyCachedSlice(e,o)),i}return s}async fetchBalance(e,r,n,s=!1,i=!0){var b,A;const o=this.networkController.networkMode,{cachedInfo:c}=this._cacheStore.getState();let l=(b=c[e])==null?void 0:b[n];if(l||(l=await this.getInfo(e,n)),!l)return;const d=this._getCachedStateSlice(e),v=(A=d.cachedBalance[r])==null?void 0:A[n];if(!v||s||Date.now()-v.updatedAt>=(QU[e]??ZU)){const x={...d.cachedBalance,[r]:{...d.cachedBalance[r]??{},[n]:{amount:(v==null?void 0:v.amount)??0,amountUSD:(v==null?void 0:v.amount)??0,coinType:n,address:(v==null?void 0:v.address)??r,isReady:(v==null?void 0:v.isReady)??!1,isLoading:!0,updatedAt:(v==null?void 0:v.updatedAt)??0}}};i&&this._cacheStore.updateState(this._applyCachedSlice(e,{cachedBalance:x}));const C=await(await this._getCoinService(e)).fetchBalance(r,n),T={amount:(C==null?void 0:C.amount)??0,amountUSD:(v==null?void 0:v.amountUSD)??0,coinType:n,address:(v==null?void 0:v.address)??r,isReady:!0,isLoading:!1,updatedAt:Date.now()};if(o!==this.networkController.networkMode||!i)return T;const $=this._getCachedStateSlice(e),O=this._createUpdateBalancesSlicePatch({...$,cachedBalance:{...$.cachedBalance,[r]:{...$.cachedBalance[r]??{},[n]:T}}});return this._cacheStore.updateState(this._applyCachedSlice(e,O)),T}else return v}async updateTokenVisability(e,r,n){const s=this.walletController.currentAccount,o=this.walletController.getAccountById(n)??s,{chain:c}=o??{};if(!c)return;const l=this._getCachedStateSlice(c),d=l.cachedInfo[e];if(!d)return;d.isHidden=r;const v={...l,cachedInfo:{...l.cachedInfo,[e]:d},cachedHiddenCoinList:{...l.cachedHiddenCoinList,[e]:r}};this._cacheStore.updateState(this._applyCachedSlice(c,v))}async detectTokens(e,r=!1){try{const n=this.walletController.currentAccount,i=this.walletController.getAccountById(e)??n,{address:o,chain:c}=i??{},l=this.networkController.networkMode;if(!o||!c||!i||!jl.includes(c))return;this._currentStore.updateState({isReady:!1});const d=await this._getCoinService(c),v=await d.fetchBalances(o);let b;try{b=await this.evm.getTransactionCount({address:o})}catch{}if((!v[0]||!v[0].amount)&&!b&&!r){this._currentStore.updateState({isReady:!0});return}const A=await d.getAllTokensWithBalances(o,c);if(l!==this.networkController.networkMode||!A)return;const x=A.filter($=>$.amount&&$.coinType!==d.nativeCoin);if(!x.length){this._currentStore.updateState({isReady:!0});return}const R=x.map($=>$.coinType),C=this._getCachedStateSlice(c),T=this._createUpdateBalancesSlicePatch({...C,cachedCustomCoinList:{...C.cachedCustomCoinList,[o]:Ry([...C.cachedCustomCoinList[o]??[],...R])}});this._cacheStore.updateState(this._applyCachedSlice(c,T)),await this._syncAccount(i,!0)}catch{}finally{this._currentStore.updateState({isReady:!0})}}async refreshAccount(){const e=this.walletController.currentAccount;e&&await this._syncAccount(e,!0)}async addCustomCoin(e,r){const{address:n,chain:s}=this.walletController.currentAccount??{};if(!n||!s)return;const i=this._getCachedStateSlice(s);i.cachedCustomCoinList[n]=Ry([...i.cachedCustomCoinList[n]??[],e]),r&&(i.cachedCustomCoinListImages[e]=r),this._applyCachedSlice(s,i)}async _syncAccount(e,r=!1){const n=e.chain,s=e.address,{cachedBalance:i,cachedInfo:o,cachedCustomCoinList:c}=this._getCachedStateSlice(n),l=this.networkController.networkMode,d=Object.values(i[s]??{}),v=d.filter(S=>r||Date.now()-S.updatedAt>=(QU[n]??ZU));if(d.length&&!v.length)return;this._cacheStore.updateState(this._applyCachedSlice(n,{cachedBalance:{...i,[s]:Br.mapValues(i[s]||{},S=>({...S,isLoading:!0}))}}));const b=await this._getCoinService(n),A=await b.fetchBalances(s,c[s]),x=A.map(S=>S.coinType),R=b.coinList,C=Object.keys(o),T=Ry([...x,...R]).filter(S=>!C.includes(S)),$=await b.fetchInfos(T),O=AT(o,Au($,"coinType"));if(l!==this.networkController.networkMode)return;const D=this._getCachedStateSlice(n),L=this._createUpdateBalancesSlicePatch({...D,cachedBalance:{...D.cachedBalance,[s]:{...Au(A.map(S=>({...S,address:s,isReady:!0,isLoading:!1,updatedAt:+Date.now()})),"coinType")}},cachedInfo:{...D.cachedInfo,...O}});if(this._cacheStore.updateState(this._applyCachedSlice(n,L)),l!==Ui.Mainnet)return;const F=Br.chunk(x,10),H=this._getCachedStateSlice(n),V=Object.values({...Object.fromEntries(x.map(S=>[S,{isLoading:!0,isReady:!1,isExist:!1,currency:"USD",price:0,updatedAt:0,date:"",coinType:S}])),...Br.mapValues(H.cachedPrice,(S,a)=>({...S,isLoading:S.isLoading||x.includes(a)}))});if(!V.filter(S=>r||Date.now()-S.updatedAt>=RWe).length)return;this._cacheStore.updateState(this._applyCachedSlice(n,{cachedPrice:Au(V,"coinType")}));let Z=[];try{for(const S of F){const a=(await this.http.get("/api/integrations/fiat-prices",{params:{currencies:S.map(u=>u==="SOL"?"sol":u).join(",")}})).data.map(u=>({...u,coinType:u.coinType==="sol"?"SOL":u.coinType,isReady:!0,isLoading:!1,updatedAt:Date.now(),isExist:!0}));Z.push(...a)}}catch{console.log("[CoinController] Update rates error")}if(Z=Br.unionBy(Z,V.map(S=>({...S,updatedAt:Date.now(),isLoading:!1,isReady:!0,isExist:!1})),S=>S.coinType),l!==this.networkController.networkMode||V.length===0)return;const se=this._createUpdateBalancesSlicePatch({...this._getCachedStateSlice(n),cachedPrice:Au(Z,"coinType")});this._cacheStore.updateState(this._applyCachedSlice(n,se))}async _syncAllAccounts(e=!1){const r=this.walletController.getAllAccounts(),n=Br.chunk(r,5);for(const s of n){const i=s.map(o=>this._syncAccount(o,e));await Promise.all(i)}}_createUpdateBalancesSlicePatch(e){const r=e.cachedBalance??{},n=e.cachedPrice??{},s=e.cachedInfo??{},i=e.cachedTotal??{},o=e.cachedNativeCoin;return{cachedBalance:Br.mapValues(r,(l,d)=>{var A;const v={isReady:!0,isLoading:!1,fiatAmount:0,nativeAmount:0},b=Br.mapValues(l,(x,R)=>{const C=n[R],T=s[R];if(x.isLoading&&(v.isLoading=!0),x.isReady||(v.isReady=!1),!x.isReady||!C||!C.isReady||!T)return x.coinType===o&&(v.nativeAmount+=Bs(x.amount).div(Y6(T.decimals)).toNumber()),{...x,amountUSD:0};const $=Bs(x.amount).div(Y6(T.decimals)).mul(C.price||0);return v.fiatAmount=Bs(v.fiatAmount).plus($).toNumber(),{...x,amountUSD:$.toNumber()}});return v.nativeAmount=Bs(v.nativeAmount).plus(o&&n[o]?Bs(v.fiatAmount).div(((A=n[o])==null?void 0:A.price)||0):Bs(0)).toNumber(),i[d]=v,b}),cachedTotal:i,cachedPrice:e.cachedPrice??{},cachedInfo:e.cachedInfo??{},cachedNativeCoin:e.cachedNativeCoin??"",cachedCustomCoinList:e.cachedCustomCoinList,cachedCustomCoinListImages:e.cachedCustomCoinListImages,cachedHiddenCoinList:e.cachedHiddenCoinList}}_createOverviewDataPatch(e){const r=this.walletController.getAllAccounts(),n=h2(r,"chain"),s=Br.mapValues(n,o=>{const c=o.map(l=>{var d;return Object.values(((d=e[l.chain])==null?void 0:d[l.address])??{}).map(v=>({...v,accountId:l.id,chain:l.chain}))});return h2(c.flat(),"coinType")}),i=Br.mapValues(s,o=>Br.mapValues(o,c=>{const l=c.reduce((x,R)=>x.plus(Bs(R.amount)),Bs(0)),d=c.reduce((x,R)=>x.plus(Bs(R.amountUSD)),Bs(0)),v=c.some(x=>x.isLoading),b=c.every(x=>x.isReady),A=c.reduce((x,R)=>Math.min(x,R.updatedAt),1/0);return{amount:l.toNumber(),amountUSD:d.toNumber(),isLoading:v,isReady:b,chain:c[0].chain,updatedAt:A,coinType:c[0].coinType}}));return{overviewDistribution:s,aggregatedOverviewDistribution:i}}_getCachedStateSlice(e){var n,s,i,o,c,l,d,v;const r=this._cacheStore.getState();return{cachedBalance:((n=r.cachedBalance)==null?void 0:n[e])??{},cachedInfo:((s=r.cachedInfo)==null?void 0:s[e])??{},cachedPrice:((i=r.cachedPrice)==null?void 0:i[e])??{},cachedTotal:((o=r.cachedTotal)==null?void 0:o[e])??{},cachedNativeCoin:((c=r.cachedNativeCoin)==null?void 0:c[e])??IWe,cachedCustomCoinList:((l=r.cachedCustomCoinList)==null?void 0:l[e])??{},cachedCustomCoinListImages:((d=r.cachedCustomCoinListImages)==null?void 0:d[e])??{},cachedHiddenCoinList:((v=r.cachedHiddenCoinList)==null?void 0:v[e])??{}}}_applyCachedSlice(e,r){const n=this._cacheStore.getState();return Object.entries(r).reduce((s,[i,o])=>(s[i]={...n[i]??{},[e]:o},s),n)}async _persistData(){this._persistTimer===void 0&&(this._persistTimer=setTimeout(async()=>{const e=this._store.getState();this._persistTimer=void 0,await this.storage.set("coin",{cachedBalance:e.cachedBalance,cachedPrice:e.cachedPrice,cachedInfo:e.cachedInfo,cachedTotal:e.cachedTotal,cachedNativeCoin:e.cachedNativeCoin,cachedCustomCoinList:e.cachedCustomCoinList,cachedCustomCoinListImages:e.cachedCustomCoinListImages})}))}async _onCacheChanged(e){var l,d;const r=this.walletController.currentAccount,s=this.networkController.currentNetwork.chain,i=r==null?void 0:r.address,o={info:e.cachedInfo[s],balance:i?(l=e.cachedBalance[s])==null?void 0:l[i]:{},price:e.cachedPrice[s],total:i?(d=e.cachedTotal[s])==null?void 0:d[i]:{isReady:!1,isLoading:!1,fiatAmount:0,nativeAmount:0},nativeCoin:e.cachedNativeCoin[s]},c=this._createOverviewDataPatch(e.cachedBalance);this._currentStore.updateState({...o,...c}),this._persistData()}_resetStore(e=!0){this._currentStore.updateState({overviewDistribution:{},aggregatedOverviewDistribution:{},coinList:[],isReady:!1}),this._cacheStore.updateState(e?{cachedNativeCoin:{},cachedTotal:{},cachedInfo:{},cachedBalance:{},cachedPrice:{},cachedCustomCoinList:{},cachedCustomCoinListImages:{}}:{cachedNativeCoin:{},cachedTotal:{},cachedInfo:{},cachedBalance:{},cachedPrice:{},cachedCustomCoinListImages:{}})}async _getCoinService(e,r){const n=e??this.networkController.currentNetwork.chain,s=r??this.networkController.networkMode,i=this.networkController.getChainNetwork(n,s);if(!i)throw new Error(`Network for ${s} network mode not found for chain ${n}`);let o=this._container.getNamed(tt.CoinService,n);if(n===Qt.Aptos&&i.id.includes("aptos-movement")&&(o=this._container.get(tt.MovementCoinService)),n===Qt.Aptos&&i.id==="aptos-lumio"&&(o=this._container.get(tt.LumioCoinService)),!o)throw new Error(`No Coin Service registered for chain ${n}`);return await o.init(i),o}async _clearCoinCache(){this._resetStore(),await this.storage.remove("coin"),await this.init()}};XU=MWe([Lr(),cl(0,st(tt.RootContainer)),cl(1,st(tt.StorageService)),cl(2,st(tt.HttpService)),cl(3,st(tt.SearchService)),cl(4,st(tt.WalletControllerProvider)),cl(5,st(tt.NetworkControllerProvider)),cl(6,st(tt.ChainApiProvider)),cl(6,Ep(Qt.Ethereum))],XU);var CWe=Object.defineProperty,OWe=Object.getOwnPropertyDescriptor,BWe=(t,e,r,n)=>{for(var s=n>1?void 0:n?OWe(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&CWe(e,r,s),s},e4=(t,e)=>(r,n)=>e(r,n,t);let YU=class extends mn{constructor(e,r,n){super();Oe(this,"apiController");Oe(this,"stateController");Oe(this,"externalRequests");Oe(this,"connections",{});Oe(this,"connectionCount",0);this.stateControllerProvider=e,this.apiControllerProvider=r,this.externalRequestsProvider=n}createMetaMiddleware({origin:e,connectionId:r}){return(n,s,i)=>{n.id!==void 0&&(n.connectionId=r,n.origin=e),i()}}async init(){this.stateController=await this.stateControllerProvider(),this.apiController=await this.apiControllerProvider(),this.externalRequests=await this.externalRequestsProvider()}createTrustedConnection({origin:e}){const r=SS(),n=this.createMetaMiddleware({origin:e,connectionId:r}),s=this.apiController.createApiMiddleware("internal"),i=new Fd.JsonRpcEngine;i.push(n),i.push(s);const o=this.stateController.onUpdateState(({patch:l})=>{i.emit("notification",{method:"$events.stateUpdated",jsonrpc:"2.0",params:{patch:l}})});this.addConnection({id:r,engine:i,origin:e,subject:tT.Internal});const c=i$({engine:i});return VQ(c,l=>{i.destroy(),this.removeConnection(r),o(),this.eventBus.emit("connection.removed",r)}),this.eventBus.emit("connection.created",r),{id:r,engine:i,stream:c}}addConnection({id:e,origin:r,engine:n,subject:s}){this.connections[e]={id:e,origin:r,engine:n,subject:s},this.connectionCount=Object.values(this.connections).length}removeConnection(e){delete this.connections[e],this.connectionCount=Object.values(this.connections).length}};YU=BWe([Lr(),e4(0,st(tt.StateControllerProvider)),e4(1,st(tt.ApiControllerProvider)),e4(2,st(tt.ExternalRequestsServiceProvider))],YU);var dc={},HS={},VS={},tY={},Dp={},KS={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.output=Ki.exists=Ki.hash=Ki.bytes=Ki.bool=Ki.number=void 0;function v2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ki.number=v2;function rY(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ki.bool=rY;function U$(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ki.bytes=U$;function nY(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");v2(t.outputLen),v2(t.blockLen)}Ki.hash=nY;function iY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ki.exists=iY;function sY(t,e){U$(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ki.output=sY;const PWe={number:v2,bool:rY,bytes:U$,hash:nY,exists:iY,output:sY};Ki.default=PWe;var zu={},GS={};Object.defineProperty(GS,"__esModule",{value:!0});GS.crypto=void 0;GS.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=GS,r=H=>H instanceof Uint8Array,n=H=>new Uint8Array(H.buffer,H.byteOffset,H.byteLength);t.u8=n;const s=H=>new Uint32Array(H.buffer,H.byteOffset,Math.floor(H.byteLength/4));t.u32=s;const i=H=>new DataView(H.buffer,H.byteOffset,H.byteLength);t.createView=i;const o=(H,V)=>H<<32-V|H>>>V;if(t.rotr=o,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(H,V)=>V.toString(16).padStart(2,"0"));function l(H){if(!r(H))throw new Error("Uint8Array expected");let V="";for(let J=0;J<H.length;J++)V+=c[H[J]];return V}t.bytesToHex=l;function d(H){if(typeof H!="string")throw new Error("hex string expected, got "+typeof H);const V=H.length;if(V%2)throw new Error("padded hex string expected, got unpadded hex of length "+V);const J=new Uint8Array(V/2);for(let Z=0;Z<J.length;Z++){const se=Z*2,S=H.slice(se,se+2),a=Number.parseInt(S,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");J[Z]=a}return J}t.hexToBytes=d;const v=async()=>{};t.nextTick=v;async function b(H,V,J){let Z=Date.now();for(let se=0;se<H;se++){J(se);const S=Date.now()-Z;S>=0&&S<V||(await(0,t.nextTick)(),Z+=S)}}t.asyncLoop=b;function A(H){if(typeof H!="string")throw new Error(`utf8ToBytes expected string, got ${typeof H}`);return new Uint8Array(new TextEncoder().encode(H))}t.utf8ToBytes=A;function x(H){if(typeof H=="string"&&(H=A(H)),!r(H))throw new Error(`expected Uint8Array, got ${typeof H}`);return H}t.toBytes=x;function R(...H){const V=new Uint8Array(H.reduce((Z,se)=>Z+se.length,0));let J=0;return H.forEach(Z=>{if(!r(Z))throw new Error("Uint8Array expected");V.set(Z,J),J+=Z.length}),V}t.concatBytes=R;class C{clone(){return this._cloneInto()}}t.Hash=C;const T=H=>Object.prototype.toString.call(H)==="[object Object]"&&H.constructor===Object;function $(H,V){if(V!==void 0&&(typeof V!="object"||!T(V)))throw new Error("Options should be object or undefined");return Object.assign(H,V)}t.checkOpts=$;function O(H){const V=Z=>H().update(x(Z)).digest(),J=H();return V.outputLen=J.outputLen,V.blockLen=J.blockLen,V.create=()=>H(),V}t.wrapConstructor=O;function D(H){const V=(Z,se)=>H(se).update(x(Z)).digest(),J=H({});return V.outputLen=J.outputLen,V.blockLen=J.blockLen,V.create=Z=>H(Z),V}t.wrapConstructorWithOpts=D;function L(H){const V=(Z,se)=>H(se).update(x(Z)).digest(),J=H({});return V.outputLen=J.outputLen,V.blockLen=J.blockLen,V.create=Z=>H(Z),V}t.wrapXOFConstructorWithOpts=L;function F(H=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=F})(zu);Object.defineProperty(KS,"__esModule",{value:!0});KS.SHA2=void 0;const t4=Ki,Kv=zu;function NWe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),c=Number(r&i),l=n?4:0,d=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+d,c,n)}let kWe=class extends Kv.Hash{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Kv.createView)(this.buffer)}update(e){t4.default.exists(this);const{view:r,buffer:n,blockLen:s}=this;e=(0,Kv.toBytes)(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const l=(0,Kv.createView)(e);for(;s<=i-o;o+=s)this.process(l,o);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){t4.default.exists(this),t4.default.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let b=o;b<s;b++)r[b]=0;NWe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const c=(0,Kv.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,v=this.get();if(d>v.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,v[b],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};KS.SHA2=kWe;Object.defineProperty(Dp,"__esModule",{value:!0});Dp.sha224=Dp.sha256=void 0;const LWe=KS,da=zu,DWe=(t,e,r)=>t&e^~t&r,UWe=(t,e,r)=>t&e^t&r^e&r,FWe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ul=new Uint32Array(64);let oY=class extends LWe.SHA2{constructor(){super(64,32,8,!1),this.A=fl[0]|0,this.B=fl[1]|0,this.C=fl[2]|0,this.D=fl[3]|0,this.E=fl[4]|0,this.F=fl[5]|0,this.G=fl[6]|0,this.H=fl[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:c,H:l}=this;return[e,r,n,s,i,o,c,l]}set(e,r,n,s,i,o,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)ul[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){const A=ul[b-15],x=ul[b-2],R=(0,da.rotr)(A,7)^(0,da.rotr)(A,18)^A>>>3,C=(0,da.rotr)(x,17)^(0,da.rotr)(x,19)^x>>>10;ul[b]=C+ul[b-7]+R+ul[b-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:l,G:d,H:v}=this;for(let b=0;b<64;b++){const A=(0,da.rotr)(c,6)^(0,da.rotr)(c,11)^(0,da.rotr)(c,25),x=v+A+DWe(c,l,d)+FWe[b]+ul[b]|0,C=((0,da.rotr)(n,2)^(0,da.rotr)(n,13)^(0,da.rotr)(n,22))+UWe(n,s,i)|0;v=d,d=l,l=c,c=o+x|0,o=i,i=s,s=n,n=x+C|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,v=v+this.H|0,this.set(n,s,i,o,c,l,d,v)}roundClean(){ul.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class jWe extends oY{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Dp.sha256=(0,da.wrapConstructor)(()=>new oY);Dp.sha224=(0,da.wrapConstructor)(()=>new jWe);var Nr={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.validateObject=mr.createHmacDrbg=mr.bitMask=mr.bitSet=mr.bitGet=mr.bitLen=mr.utf8ToBytes=mr.equalBytes=mr.concatBytes=mr.ensureBytes=mr.numberToVarBytesBE=mr.numberToBytesLE=mr.numberToBytesBE=mr.bytesToNumberLE=mr.bytesToNumberBE=mr.hexToBytes=mr.hexToNumber=mr.numberToHexUnpadded=mr.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aY=BigInt(0),WS=BigInt(1),qWe=BigInt(2),JS=t=>t instanceof Uint8Array,zWe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function F$(t){if(!JS(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zWe[t[r]];return e}mr.bytesToHex=F$;function cY(t){const e=t.toString(16);return e.length&1?`0${e}`:e}mr.numberToHexUnpadded=cY;function j$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}mr.hexToNumber=j$;function QS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}mr.hexToBytes=QS;function HWe(t){return j$(F$(t))}mr.bytesToNumberBE=HWe;function VWe(t){if(!JS(t))throw new Error("Uint8Array expected");return j$(F$(Uint8Array.from(t).reverse()))}mr.bytesToNumberLE=VWe;function fY(t,e){return QS(t.toString(16).padStart(e*2,"0"))}mr.numberToBytesBE=fY;function KWe(t,e){return fY(t,e).reverse()}mr.numberToBytesLE=KWe;function GWe(t){return QS(cY(t))}mr.numberToVarBytesBE=GWe;function WWe(t,e,r){let n;if(typeof e=="string")try{n=QS(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(JS(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}mr.ensureBytes=WWe;function uY(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!JS(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}mr.concatBytes=uY;function JWe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}mr.equalBytes=JWe;function QWe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}mr.utf8ToBytes=QWe;function ZWe(t){let e;for(e=0;t>aY;t>>=WS,e+=1);return e}mr.bitLen=ZWe;function XWe(t,e){return t>>BigInt(e)&WS}mr.bitGet=XWe;const YWe=(t,e,r)=>t|(r?WS:aY)<<BigInt(e);mr.bitSet=YWe;const eJe=t=>(qWe<<BigInt(t-1))-WS;mr.bitMask=eJe;const r4=t=>new Uint8Array(t),eF=t=>Uint8Array.from(t);function tJe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=r4(t),s=r4(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},c=(...b)=>r(s,n,...b),l=(b=r4())=>{s=c(eF([0]),b),n=c(),b.length!==0&&(s=c(eF([1]),b),n=c())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const A=[];for(;b<e;){n=c();const x=n.slice();A.push(x),b+=n.length}return uY(...A)};return(b,A)=>{o(),l(b);let x;for(;!(x=A(d()));)l();return o(),x}}mr.createHmacDrbg=tJe;const rJe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function nJe(t,e,r={}){const n=(s,i,o)=>{const c=rJe[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}mr.validateObject=nJe;Object.defineProperty(Nr,"__esModule",{value:!0});Nr.hashToPrivateScalar=Nr.FpSqrtEven=Nr.FpSqrtOdd=Nr.Field=Nr.nLength=Nr.FpIsSquare=Nr.FpDiv=Nr.FpInvertBatch=Nr.FpPow=Nr.validateField=Nr.isNegativeLE=Nr.FpSqrt=Nr.tonelliShanks=Nr.invert=Nr.pow2=Nr.pow=Nr.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pu=mr,Gi=BigInt(0),Wn=BigInt(1),Bl=BigInt(2),iJe=BigInt(3),O5=BigInt(4),tF=BigInt(5),rF=BigInt(8);BigInt(9);BigInt(16);function va(t,e){const r=t%e;return r>=Gi?r:e+r}Nr.mod=va;function lY(t,e,r){if(r<=Gi||e<Gi)throw new Error("Expected power/modulo > 0");if(r===Wn)return Gi;let n=Wn;for(;e>Gi;)e&Wn&&(n=n*t%r),t=t*t%r,e>>=Wn;return n}Nr.pow=lY;function sJe(t,e,r){let n=t;for(;e-- >Gi;)n*=n,n%=r;return n}Nr.pow2=sJe;function y2(t,e){if(t===Gi||e<=Gi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=va(t,e),n=e,s=Gi,i=Wn;for(;r!==Gi;){const c=n/r,l=n%r,d=s-i*c;n=r,r=l,s=i,i=d}if(n!==Wn)throw new Error("invert: does not exist");return va(s,e)}Nr.invert=y2;function hY(t){const e=(t-Wn)/Bl;let r,n,s;for(r=t-Wn,n=0;r%Bl===Gi;r/=Bl,n++);for(s=Bl;s<t&&lY(s,e,t)!==t-Wn;s++);if(n===1){const o=(t+Wn)/O5;return function(l,d){const v=l.pow(d,o);if(!l.eql(l.sqr(v),d))throw new Error("Cannot find square root");return v}}const i=(r+Wn)/Bl;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=n,v=c.pow(c.mul(c.ONE,s),r),b=c.pow(l,i),A=c.pow(l,r);for(;!c.eql(A,c.ONE);){if(c.eql(A,c.ZERO))return c.ZERO;let x=1;for(let C=c.sqr(A);x<d&&!c.eql(C,c.ONE);x++)C=c.sqr(C);const R=c.pow(v,Wn<<BigInt(d-x-1));v=c.sqr(R),b=c.mul(b,R),A=c.mul(A,v),d=x}return b}}Nr.tonelliShanks=hY;function dY(t){if(t%O5===iJe){const e=(t+Wn)/O5;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%rF===tF){const e=(t-tF)/rF;return function(n,s){const i=n.mul(s,Bl),o=n.pow(i,e),c=n.mul(s,o),l=n.mul(n.mul(c,Bl),o),d=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),s))throw new Error("Cannot find square root");return d}}return hY(t)}Nr.FpSqrt=dY;const oJe=(t,e)=>(va(t,e)&Wn)===Wn;Nr.isNegativeLE=oJe;const aJe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cJe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=aJe.reduce((n,s)=>(n[s]="function",n),e);return(0,pu.validateObject)(t,r)}Nr.validateField=cJe;function pY(t,e,r){if(r<Gi)throw new Error("Expected power > 0");if(r===Gi)return t.ONE;if(r===Wn)return e;let n=t.ONE,s=e;for(;r>Gi;)r&Wn&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Wn;return n}Nr.FpPow=pY;function gY(t,e){const r=new Array(e.length),n=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),s),r}Nr.FpInvertBatch=gY;function fJe(t,e,r){return t.mul(e,typeof r=="bigint"?y2(r,t.ORDER):t.inv(r))}Nr.FpDiv=fJe;function uJe(t){const e=(t.ORDER-Wn)/Bl;return r=>{const n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}Nr.FpIsSquare=uJe;function q$(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}Nr.nLength=q$;function lJe(t,e,r=!1,n={}){if(t<=Gi)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=q$(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=dY(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:(0,pu.bitMask)(s),ZERO:Gi,ONE:Wn,create:l=>va(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Gi<=l&&l<t},is0:l=>l===Gi,isOdd:l=>(l&Wn)===Wn,neg:l=>va(-l,t),eql:(l,d)=>l===d,sqr:l=>va(l*l,t),add:(l,d)=>va(l+d,t),sub:(l,d)=>va(l-d,t),mul:(l,d)=>va(l*d,t),pow:(l,d)=>pY(c,l,d),div:(l,d)=>va(l*y2(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>y2(l,t),sqrt:n.sqrt||(l=>o(c,l)),invertBatch:l=>gY(c,l),cmov:(l,d,v)=>v?d:l,toBytes:l=>r?(0,pu.numberToBytesLE)(l,i):(0,pu.numberToBytesBE)(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return r?(0,pu.bytesToNumberLE)(l):(0,pu.bytesToNumberBE)(l)}});return Object.freeze(c)}Nr.Field=lJe;function hJe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}Nr.FpSqrtOdd=hJe;function dJe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}Nr.FpSqrtEven=dJe;function pJe(t,e,r=!1){t=(0,pu.ensureBytes)("privateHash",t);const n=t.length,s=q$(e).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);const i=r?(0,pu.bytesToNumberLE)(t):(0,pu.bytesToNumberBE)(t);return va(i,e-Wn)+Wn}Nr.hashToPrivateScalar=pJe;var z$={},Up={};Object.defineProperty(Up,"__esModule",{value:!0});Up.validateBasic=Up.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nF=Nr,gJe=mr,vJe=BigInt(0),n4=BigInt(1);function yJe(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,c=s;for(;i>vJe;)i&n4&&(o=o.add(c)),c=c.double(),i>>=n4;return o},precomputeWindow(s,i){const{windows:o,windowSize:c}=n(i),l=[];let d=s,v=d;for(let b=0;b<o;b++){v=d,l.push(v);for(let A=1;A<c;A++)v=v.add(d),l.push(v);d=v.double()}return l},wNAF(s,i,o){const{windows:c,windowSize:l}=n(s);let d=t.ZERO,v=t.BASE;const b=BigInt(2**s-1),A=2**s,x=BigInt(s);for(let R=0;R<c;R++){const C=R*l;let T=Number(o&b);o>>=x,T>l&&(T-=A,o+=n4);const $=C,O=C+Math.abs(T)-1,D=R%2!==0,L=T<0;T===0?v=v.add(r(D,i[$])):d=d.add(r(L,i[O]))}return{p:d,f:v}},wNAFCached(s,i,o,c){const l=s._WINDOW_SIZE||1;let d=i.get(s);return d||(d=this.precomputeWindow(s,l),l!==1&&i.set(s,c(d))),this.wNAF(l,d,o)}}}Up.wNAF=yJe;function mJe(t){return(0,nF.validateField)(t.Fp),(0,gJe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,nF.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}Up.validateBasic=mJe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Nr,r=mr,n=mr,s=Up;function i(O){const D=(0,s.validateBasic)(O);r.validateObject(D,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:L,Fp:F,a:H}=D;if(L){if(!F.eql(H,F.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof L!="object"||typeof L.beta!="bigint"||typeof L.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...D})}const{bytesToNumberBE:o,hexToBytes:c}=r;t.DER={Err:class extends Error{constructor(D=""){super(D)}},_parseInt(O){const{Err:D}=t.DER;if(O.length<2||O[0]!==2)throw new D("Invalid signature integer tag");const L=O[1],F=O.subarray(2,L+2);if(!L||F.length!==L)throw new D("Invalid signature integer: wrong length");if(F[0]&128)throw new D("Invalid signature integer: negative");if(F[0]===0&&!(F[1]&128))throw new D("Invalid signature integer: unnecessary leading zero");return{d:o(F),l:O.subarray(L+2)}},toSig(O){const{Err:D}=t.DER,L=typeof O=="string"?c(O):O;if(!(L instanceof Uint8Array))throw new Error("ui8a expected");let F=L.length;if(F<2||L[0]!=48)throw new D("Invalid signature tag");if(L[1]!==F-2)throw new D("Invalid signature: incorrect length");const{d:H,l:V}=t.DER._parseInt(L.subarray(2)),{d:J,l:Z}=t.DER._parseInt(V);if(Z.length)throw new D("Invalid signature: left bytes after parsing");return{r:H,s:J}},hexFromSig(O){const D=S=>Number.parseInt(S[0],16)&8?"00"+S:S,L=S=>{const a=S.toString(16);return a.length&1?`0${a}`:a},F=D(L(O.s)),H=D(L(O.r)),V=F.length/2,J=H.length/2,Z=L(V),se=L(J);return`30${L(J+V+4)}02${se}${H}02${Z}${F}`}};const l=BigInt(0),d=BigInt(1),v=BigInt(2),b=BigInt(3),A=BigInt(4);function x(O){const D=i(O),{Fp:L}=D,F=D.toBytes||((y,w,_)=>{const g=w.toAffine();return r.concatBytes(Uint8Array.from([4]),L.toBytes(g.x),L.toBytes(g.y))}),H=D.fromBytes||(y=>{const w=y.subarray(1),_=L.fromBytes(w.subarray(0,L.BYTES)),g=L.fromBytes(w.subarray(L.BYTES,2*L.BYTES));return{x:_,y:g}});function V(y){const{a:w,b:_}=D,g=L.sqr(y),f=L.mul(g,y);return L.add(L.add(f,L.mul(y,w)),_)}if(!L.eql(L.sqr(D.Gy),V(D.Gx)))throw new Error("bad generator point: equation left != right");function J(y){return typeof y=="bigint"&&l<y&&y<D.n}function Z(y){if(!J(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function se(y){const{allowedPrivateKeyLengths:w,nByteLength:_,wrapPrivateKey:g,n:f}=D;if(w&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=r.bytesToHex(y)),typeof y!="string"||!w.includes(y.length))throw new Error("Invalid key");y=y.padStart(_*2,"0")}let m;try{m=typeof y=="bigint"?y:r.bytesToNumberBE((0,n.ensureBytes)("private key",y,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof y}`)}return g&&(m=e.mod(m,f)),Z(m),m}const S=new Map;function a(y){if(!(y instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(w,_,g){if(this.px=w,this.py=_,this.pz=g,w==null||!L.isValid(w))throw new Error("x required");if(_==null||!L.isValid(_))throw new Error("y required");if(g==null||!L.isValid(g))throw new Error("z required")}static fromAffine(w){const{x:_,y:g}=w||{};if(!w||!L.isValid(_)||!L.isValid(g))throw new Error("invalid affine point");if(w instanceof u)throw new Error("projective point not allowed");const f=m=>L.eql(m,L.ZERO);return f(_)&&f(g)?u.ZERO:new u(_,g,L.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const _=L.invertBatch(w.map(g=>g.pz));return w.map((g,f)=>g.toAffine(_[f])).map(u.fromAffine)}static fromHex(w){const _=u.fromAffine(H((0,n.ensureBytes)("pointHex",w)));return _.assertValidity(),_}static fromPrivateKey(w){return u.BASE.multiply(se(w))}_setWindowSize(w){this._WINDOW_SIZE=w,S.delete(this)}assertValidity(){if(this.is0()){if(D.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:w,y:_}=this.toAffine();if(!L.isValid(w)||!L.isValid(_))throw new Error("bad point: x or y not FE");const g=L.sqr(_),f=V(w);if(!L.eql(g,f))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(L.isOdd)return!L.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){a(w);const{px:_,py:g,pz:f}=this,{px:m,py:I,pz:P}=w,j=L.eql(L.mul(_,P),L.mul(m,f)),k=L.eql(L.mul(g,P),L.mul(I,f));return j&&k}negate(){return new u(this.px,L.neg(this.py),this.pz)}double(){const{a:w,b:_}=D,g=L.mul(_,b),{px:f,py:m,pz:I}=this;let P=L.ZERO,j=L.ZERO,k=L.ZERO,z=L.mul(f,f),B=L.mul(m,m),U=L.mul(I,I),K=L.mul(f,m);return K=L.add(K,K),k=L.mul(f,I),k=L.add(k,k),P=L.mul(w,k),j=L.mul(g,U),j=L.add(P,j),P=L.sub(B,j),j=L.add(B,j),j=L.mul(P,j),P=L.mul(K,P),k=L.mul(g,k),U=L.mul(w,U),K=L.sub(z,U),K=L.mul(w,K),K=L.add(K,k),k=L.add(z,z),z=L.add(k,z),z=L.add(z,U),z=L.mul(z,K),j=L.add(j,z),U=L.mul(m,I),U=L.add(U,U),z=L.mul(U,K),P=L.sub(P,z),k=L.mul(U,B),k=L.add(k,k),k=L.add(k,k),new u(P,j,k)}add(w){a(w);const{px:_,py:g,pz:f}=this,{px:m,py:I,pz:P}=w;let j=L.ZERO,k=L.ZERO,z=L.ZERO;const B=D.a,U=L.mul(D.b,b);let K=L.mul(_,m),Y=L.mul(g,I),X=L.mul(f,P),G=L.add(_,g),ne=L.add(m,I);G=L.mul(G,ne),ne=L.add(K,Y),G=L.sub(G,ne),ne=L.add(_,f);let le=L.add(m,P);return ne=L.mul(ne,le),le=L.add(K,X),ne=L.sub(ne,le),le=L.add(g,f),j=L.add(I,P),le=L.mul(le,j),j=L.add(Y,X),le=L.sub(le,j),z=L.mul(B,ne),j=L.mul(U,X),z=L.add(j,z),j=L.sub(Y,z),z=L.add(Y,z),k=L.mul(j,z),Y=L.add(K,K),Y=L.add(Y,K),X=L.mul(B,X),ne=L.mul(U,ne),Y=L.add(Y,X),X=L.sub(K,X),X=L.mul(B,X),ne=L.add(ne,X),K=L.mul(Y,ne),k=L.add(k,K),K=L.mul(le,ne),j=L.mul(G,j),j=L.sub(j,K),K=L.mul(G,Y),z=L.mul(le,z),z=L.add(z,K),new u(j,k,z)}subtract(w){return this.add(w.negate())}is0(){return this.equals(u.ZERO)}wNAF(w){return p.wNAFCached(this,S,w,_=>{const g=L.invertBatch(_.map(f=>f.pz));return _.map((f,m)=>f.toAffine(g[m])).map(u.fromAffine)})}multiplyUnsafe(w){const _=u.ZERO;if(w===l)return _;if(Z(w),w===d)return this;const{endo:g}=D;if(!g)return p.unsafeLadder(this,w);let{k1neg:f,k1:m,k2neg:I,k2:P}=g.splitScalar(w),j=_,k=_,z=this;for(;m>l||P>l;)m&d&&(j=j.add(z)),P&d&&(k=k.add(z)),z=z.double(),m>>=d,P>>=d;return f&&(j=j.negate()),I&&(k=k.negate()),k=new u(L.mul(k.px,g.beta),k.py,k.pz),j.add(k)}multiply(w){Z(w);let _=w,g,f;const{endo:m}=D;if(m){const{k1neg:I,k1:P,k2neg:j,k2:k}=m.splitScalar(_);let{p:z,f:B}=this.wNAF(P),{p:U,f:K}=this.wNAF(k);z=p.constTimeNegate(I,z),U=p.constTimeNegate(j,U),U=new u(L.mul(U.px,m.beta),U.py,U.pz),g=z.add(U),f=B.add(K)}else{const{p:I,f:P}=this.wNAF(_);g=I,f=P}return u.normalizeZ([g,f])[0]}multiplyAndAddUnsafe(w,_,g){const f=u.BASE,m=(P,j)=>j===l||j===d||!P.equals(f)?P.multiplyUnsafe(j):P.multiply(j),I=m(this,_).add(m(w,g));return I.is0()?void 0:I}toAffine(w){const{px:_,py:g,pz:f}=this,m=this.is0();w==null&&(w=m?L.ONE:L.inv(f));const I=L.mul(_,w),P=L.mul(g,w),j=L.mul(f,w);if(m)return{x:L.ZERO,y:L.ZERO};if(!L.eql(j,L.ONE))throw new Error("invZ was invalid");return{x:I,y:P}}isTorsionFree(){const{h:w,isTorsionFree:_}=D;if(w===d)return!0;if(_)return _(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:_}=D;return w===d?this:_?_(u,this):this.multiplyUnsafe(D.h)}toRawBytes(w=!0){return this.assertValidity(),F(u,this,w)}toHex(w=!0){return r.bytesToHex(this.toRawBytes(w))}}u.BASE=new u(D.Gx,D.Gy,L.ONE),u.ZERO=new u(L.ZERO,L.ONE,L.ZERO);const h=D.nBitLength,p=(0,s.wNAF)(u,D.endo?Math.ceil(h/2):h);return{CURVE:D,ProjectivePoint:u,normPrivateKeyToScalar:se,weierstrassEquation:V,isWithinCurveOrder:J}}t.weierstrassPoints=x;function R(O){const D=(0,s.validateBasic)(O);return r.validateObject(D,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...D})}function C(O){const D=R(O),{Fp:L,n:F}=D,H=L.BYTES+1,V=2*L.BYTES+1;function J(ne){return l<ne&&ne<L.ORDER}function Z(ne){return e.mod(ne,F)}function se(ne){return e.invert(ne,F)}const{ProjectivePoint:S,normPrivateKeyToScalar:a,weierstrassEquation:u,isWithinCurveOrder:h}=x({...D,toBytes(ne,le,de){const me=le.toAffine(),rt=L.toBytes(me.x),Ae=r.concatBytes;return de?Ae(Uint8Array.from([le.hasEvenY()?2:3]),rt):Ae(Uint8Array.from([4]),rt,L.toBytes(me.y))},fromBytes(ne){const le=ne.length,de=ne[0],me=ne.subarray(1);if(le===H&&(de===2||de===3)){const rt=r.bytesToNumberBE(me);if(!J(rt))throw new Error("Point is not on curve");const Ae=u(rt);let he=L.sqrt(Ae);const Rt=(he&d)===d;return(de&1)===1!==Rt&&(he=L.neg(he)),{x:rt,y:he}}else if(le===V&&de===4){const rt=L.fromBytes(me.subarray(0,L.BYTES)),Ae=L.fromBytes(me.subarray(L.BYTES,2*L.BYTES));return{x:rt,y:Ae}}else throw new Error(`Point of length ${le} was invalid. Expected ${H} compressed bytes or ${V} uncompressed bytes`)}}),p=ne=>r.bytesToHex(r.numberToBytesBE(ne,D.nByteLength));function y(ne){const le=F>>d;return ne>le}function w(ne){return y(ne)?Z(-ne):ne}const _=(ne,le,de)=>r.bytesToNumberBE(ne.slice(le,de));class g{constructor(le,de,me){this.r=le,this.s=de,this.recovery=me,this.assertValidity()}static fromCompact(le){const de=D.nByteLength;return le=(0,n.ensureBytes)("compactSignature",le,de*2),new g(_(le,0,de),_(le,de,2*de))}static fromDER(le){const{r:de,s:me}=t.DER.toSig((0,n.ensureBytes)("DER",le));return new g(de,me)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(le){return new g(this.r,this.s,le)}recoverPublicKey(le){const{r:de,s:me,recovery:rt}=this,Ae=k((0,n.ensureBytes)("msgHash",le));if(rt==null||![0,1,2,3].includes(rt))throw new Error("recovery id invalid");const he=rt===2||rt===3?de+D.n:de;if(he>=L.ORDER)throw new Error("recovery id 2 or 3 invalid");const Rt=rt&1?"03":"02",Ie=S.fromHex(Rt+p(he)),ke=se(he),$t=Z(-Ae*ke),ae=Z(me*ke),ue=S.BASE.multiplyAndAddUnsafe(Ie,$t,ae);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,Z(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const f={isValidPrivateKey(ne){try{return a(ne),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const ne=D.randomBytes(L.BYTES+8),le=e.hashToPrivateScalar(ne,F);return r.numberToBytesBE(le,D.nByteLength)},precompute(ne=8,le=S.BASE){return le._setWindowSize(ne),le.multiply(BigInt(3)),le}};function m(ne,le=!0){return S.fromPrivateKey(ne).toRawBytes(le)}function I(ne){const le=ne instanceof Uint8Array,de=typeof ne=="string",me=(le||de)&&ne.length;return le?me===H||me===V:de?me===2*H||me===2*V:ne instanceof S}function P(ne,le,de=!0){if(I(ne))throw new Error("first arg must be private key");if(!I(le))throw new Error("second arg must be public key");return S.fromHex(le).multiply(a(ne)).toRawBytes(de)}const j=D.bits2int||function(ne){const le=r.bytesToNumberBE(ne),de=ne.length*8-D.nBitLength;return de>0?le>>BigInt(de):le},k=D.bits2int_modN||function(ne){return Z(j(ne))},z=r.bitMask(D.nBitLength);function B(ne){if(typeof ne!="bigint")throw new Error("bigint expected");if(!(l<=ne&&ne<z))throw new Error(`bigint expected < 2^${D.nBitLength}`);return r.numberToBytesBE(ne,D.nByteLength)}function U(ne,le,de=K){if(["recovered","canonical"].some(ge=>ge in de))throw new Error("sign() legacy options not supported");const{hash:me,randomBytes:rt}=D;let{lowS:Ae,prehash:he,extraEntropy:Rt}=de;Ae==null&&(Ae=!0),ne=(0,n.ensureBytes)("msgHash",ne),he&&(ne=(0,n.ensureBytes)("prehashed msgHash",me(ne)));const Ie=k(ne),ke=a(le),$t=[B(ke),B(Ie)];if(Rt!=null){const ge=Rt===!0?rt(L.BYTES):Rt;$t.push((0,n.ensureBytes)("extraEntropy",ge,L.BYTES))}const ae=r.concatBytes(...$t),ue=Ie;function je(ge){const we=j(ge);if(!h(we))return;const jt=se(we),Ee=S.BASE.multiply(we).toAffine(),Me=Z(Ee.x);if(Me===l)return;const dt=Z(jt*Z(ue+Me*ke));if(dt===l)return;let xe=(Ee.x===Me?0:2)|Number(Ee.y&d),$e=dt;return Ae&&y(dt)&&($e=w(dt),xe^=1),new g(Me,$e,xe)}return{seed:ae,k2sig:je}}const K={lowS:D.lowS,prehash:!1},Y={lowS:D.lowS,prehash:!1};function X(ne,le,de=K){const{seed:me,k2sig:rt}=U(ne,le,de),Ae=D;return r.createHmacDrbg(Ae.hash.outputLen,Ae.nByteLength,Ae.hmac)(me,rt)}S.BASE._setWindowSize(8);function G(ne,le,de,me=Y){var Ee;const rt=ne;if(le=(0,n.ensureBytes)("msgHash",le),de=(0,n.ensureBytes)("publicKey",de),"strict"in me)throw new Error("options.strict was renamed to lowS");const{lowS:Ae,prehash:he}=me;let Rt,Ie;try{if(typeof rt=="string"||rt instanceof Uint8Array)try{Rt=g.fromDER(rt)}catch(Me){if(!(Me instanceof t.DER.Err))throw Me;Rt=g.fromCompact(rt)}else if(typeof rt=="object"&&typeof rt.r=="bigint"&&typeof rt.s=="bigint"){const{r:Me,s:dt}=rt;Rt=new g(Me,dt)}else throw new Error("PARSE");Ie=S.fromHex(de)}catch(Me){if(Me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ae&&Rt.hasHighS())return!1;he&&(le=D.hash(le));const{r:ke,s:$t}=Rt,ae=k(le),ue=se($t),je=Z(ae*ue),ge=Z(ke*ue),we=(Ee=S.BASE.multiplyAndAddUnsafe(Ie,je,ge))==null?void 0:Ee.toAffine();return we?Z(we.x)===ke:!1}return{CURVE:D,getPublicKey:m,getSharedSecret:P,sign:X,verify:G,ProjectivePoint:S,Signature:g,utils:f}}t.weierstrass=C;function T(O,D){const L=O.ORDER;let F=l;for(let y=L-d;y%v===l;y/=v)F+=d;const H=F,V=v<<H-d-d,J=V*v,Z=(L-d)/J,se=(Z-d)/v,S=J-d,a=V,u=O.pow(D,Z),h=O.pow(D,(Z+d)/v);let p=(y,w)=>{let _=u,g=O.pow(w,S),f=O.sqr(g);f=O.mul(f,w);let m=O.mul(y,f);m=O.pow(m,se),m=O.mul(m,g),g=O.mul(m,w),f=O.mul(m,y);let I=O.mul(f,g);m=O.pow(I,a);let P=O.eql(m,O.ONE);g=O.mul(f,h),m=O.mul(I,_),f=O.cmov(g,f,P),I=O.cmov(m,I,P);for(let j=H;j>d;j--){let k=j-v;k=v<<k-d;let z=O.pow(I,k);const B=O.eql(z,O.ONE);g=O.mul(f,_),_=O.mul(_,_),z=O.mul(I,_),f=O.cmov(g,f,B),I=O.cmov(z,I,B)}return{isValid:P,value:f}};if(O.ORDER%A===b){const y=(O.ORDER-b)/A,w=O.sqrt(O.neg(D));p=(_,g)=>{let f=O.sqr(g);const m=O.mul(_,g);f=O.mul(f,m);let I=O.pow(f,y);I=O.mul(I,m);const P=O.mul(I,w),j=O.mul(O.sqr(I),g),k=O.eql(j,_);let z=O.cmov(P,I,k);return{isValid:k,value:z}}}return p}t.SWUFpSqrtRatio=T;function $(O,D){if(e.validateField(O),!O.isValid(D.A)||!O.isValid(D.B)||!O.isValid(D.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const L=T(O,D.Z);if(!O.isOdd)throw new Error("Fp.isOdd is not implemented!");return F=>{let H,V,J,Z,se,S,a,u;H=O.sqr(F),H=O.mul(H,D.Z),V=O.sqr(H),V=O.add(V,H),J=O.add(V,O.ONE),J=O.mul(J,D.B),Z=O.cmov(D.Z,O.neg(V),!O.eql(V,O.ZERO)),Z=O.mul(Z,D.A),V=O.sqr(J),S=O.sqr(Z),se=O.mul(S,D.A),V=O.add(V,se),V=O.mul(V,J),S=O.mul(S,Z),se=O.mul(S,D.B),V=O.add(V,se),a=O.mul(H,J);const{isValid:h,value:p}=L(V,S);u=O.mul(H,F),u=O.mul(u,p),a=O.cmov(a,J,h),u=O.cmov(u,p,h);const y=O.isOdd(F)===O.isOdd(u);return u=O.cmov(O.neg(u),u,y),a=O.div(a,Z),{x:a,y:u}}}t.mapToCurveSimpleSWU=$})(z$);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.createHasher=_a.isogenyMap=_a.hash_to_field=_a.expand_message_xof=_a.expand_message_xmd=void 0;const bJe=Nr,uc=mr;function wJe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,uc.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}const _Je=uc.bytesToNumberBE;function Tl(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function EJe(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function tm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function H$(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function vY(t,e,r,n){tm(t),tm(e),H$(r),e.length>255&&(e=n((0,uc.concatBytes)((0,uc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=n,o=Math.ceil(r/s);if(o>255)throw new Error("Invalid xmd length");const c=(0,uc.concatBytes)(e,Tl(e.length,1)),l=Tl(0,i),d=Tl(r,2),v=new Array(o),b=n((0,uc.concatBytes)(l,t,d,Tl(0,1),c));v[0]=n((0,uc.concatBytes)(b,Tl(1,1),c));for(let x=1;x<=o;x++){const R=[EJe(b,v[x-1]),Tl(x+1,1),c];v[x]=n((0,uc.concatBytes)(...R))}return(0,uc.concatBytes)(...v).slice(0,r)}_a.expand_message_xmd=vY;function yY(t,e,r,n,s){if(tm(t),tm(e),H$(r),e.length>255){const i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update((0,uc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(t).update(Tl(r,2)).update(e).update(Tl(e.length,1)).digest()}_a.expand_message_xof=yY;function B5(t,e,r){(0,uc.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:s,m:i,hash:o,expand:c,DST:l}=r;tm(t),H$(e);const d=wJe(l),v=n.toString(2).length,b=Math.ceil((v+s)/8),A=e*i*b;let x;if(c==="xmd")x=vY(t,d,A,o);else if(c==="xof")x=yY(t,d,A,s,o);else if(c==="_internal_pass")x=t;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(e);for(let C=0;C<e;C++){const T=new Array(i);for(let $=0;$<i;$++){const O=b*($+C*i),D=x.subarray(O,O+b);T[$]=(0,bJe.mod)(_Je(D),n)}R[C]=T}return R}_a.hash_to_field=B5;function SJe(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,s)=>{const[i,o,c,l]=r.map(d=>d.reduce((v,b)=>t.add(t.mul(v,n),b)));return n=t.div(i,o),s=t.mul(s,t.div(c,l)),{x:n,y:s}}}_a.isogenyMap=SJe;function AJe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){const i=B5(n,2,{...r,DST:r.DST,...s}),o=t.fromAffine(e(i[0])),c=t.fromAffine(e(i[1])),l=o.add(c).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,s){const i=B5(n,1,{...r,DST:r.encodeDST,...s}),o=t.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o}}}_a.createHasher=AJe;var Fp={},mY={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Ki,r=zu;class n extends r.Hash{constructor(o,c){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const l=(0,r.toBytes)(c);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,v=new Uint8Array(d);v.set(l.length>d?o.create().update(l).digest():l);for(let b=0;b<v.length;b++)v[b]^=54;this.iHash.update(v),this.oHash=o.create();for(let b=0;b<v.length;b++)v[b]^=106;this.oHash.update(v),v.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:c,iHash:l,finished:d,destroyed:v,blockLen:b,outputLen:A}=this;return o=o,o.finished=d,o.destroyed=v,o.blockLen=b,o.outputLen=A,o.oHash=c._cloneInto(o.oHash),o.iHash=l._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n;const s=(i,o,c)=>new n(i,o).update(c).digest();t.hmac=s,t.hmac.create=(i,o)=>new n(i,o)})(mY);Object.defineProperty(Fp,"__esModule",{value:!0});Fp.createCurve=Fp.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xJe=mY,iF=zu,MJe=z$;function bY(t){return{hash:t,hmac:(e,...r)=>(0,xJe.hmac)(t,e,(0,iF.concatBytes)(...r)),randomBytes:iF.randomBytes}}Fp.getHash=bY;function IJe(t,e){const r=n=>(0,MJe.weierstrass)({...t,...bY(n)});return Object.freeze({...r(e),create:r})}Fp.createCurve=IJe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Dp,r=zu,n=Nr,s=z$,i=mr,o=_a,c=Fp,l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v=BigInt(1),b=BigInt(2),A=(g,f)=>(g+f/b)/f;function x(g){const f=l,m=BigInt(3),I=BigInt(6),P=BigInt(11),j=BigInt(22),k=BigInt(23),z=BigInt(44),B=BigInt(88),U=g*g*g%f,K=U*U*g%f,Y=(0,n.pow2)(K,m,f)*K%f,X=(0,n.pow2)(Y,m,f)*K%f,G=(0,n.pow2)(X,b,f)*U%f,ne=(0,n.pow2)(G,P,f)*G%f,le=(0,n.pow2)(ne,j,f)*ne%f,de=(0,n.pow2)(le,z,f)*le%f,me=(0,n.pow2)(de,B,f)*de%f,rt=(0,n.pow2)(me,z,f)*le%f,Ae=(0,n.pow2)(rt,m,f)*K%f,he=(0,n.pow2)(Ae,k,f)*ne%f,Rt=(0,n.pow2)(he,I,f)*U%f,Ie=(0,n.pow2)(Rt,b,f);if(!R.eql(R.sqr(Ie),g))throw new Error("Cannot find square root");return Ie}const R=(0,n.Field)(l,void 0,void 0,{sqrt:x});t.secp256k1=(0,c.createCurve)({a:BigInt(0),b:BigInt(7),Fp:R,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:g=>{const f=d,m=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),I=-v*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),P=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=m,k=BigInt("0x100000000000000000000000000000000"),z=A(j*g,f),B=A(-I*g,f);let U=(0,n.mod)(g-z*m-B*P,f),K=(0,n.mod)(-z*I-B*j,f);const Y=U>k,X=K>k;if(Y&&(U=f-U),X&&(K=f-K),U>k||K>k)throw new Error("splitScalar: Endomorphism failed, k="+g);return{k1neg:Y,k1:U,k2neg:X,k2:K}}}},e.sha256);const C=BigInt(0),T=g=>typeof g=="bigint"&&C<g&&g<l,$=g=>typeof g=="bigint"&&C<g&&g<d,O={};function D(g,...f){let m=O[g];if(m===void 0){const I=(0,e.sha256)(Uint8Array.from(g,P=>P.charCodeAt(0)));m=(0,i.concatBytes)(I,I),O[g]=m}return(0,e.sha256)((0,i.concatBytes)(m,...f))}const L=g=>g.toRawBytes(!0).slice(1),F=g=>(0,i.numberToBytesBE)(g,32),H=g=>(0,n.mod)(g,l),V=g=>(0,n.mod)(g,d),J=t.secp256k1.ProjectivePoint,Z=(g,f,m)=>J.BASE.multiplyAndAddUnsafe(g,f,m);function se(g){let f=t.secp256k1.utils.normPrivateKeyToScalar(g),m=J.fromPrivateKey(f);return{scalar:m.hasEvenY()?f:V(-f),bytes:L(m)}}function S(g){if(!T(g))throw new Error("bad x: need 0 < x < p");const f=H(g*g),m=H(f*g+BigInt(7));let I=x(m);I%b!==C&&(I=H(-I));const P=new J(g,I,v);return P.assertValidity(),P}function a(...g){return V((0,i.bytesToNumberBE)(D("BIP0340/challenge",...g)))}function u(g){return se(g).bytes}function h(g,f,m=(0,r.randomBytes)(32)){const I=(0,i.ensureBytes)("message",g),{bytes:P,scalar:j}=se(f),k=(0,i.ensureBytes)("auxRand",m,32),z=F(j^(0,i.bytesToNumberBE)(D("BIP0340/aux",k))),B=D("BIP0340/nonce",z,P,I),U=V((0,i.bytesToNumberBE)(B));if(U===C)throw new Error("sign failed: k is zero");const{bytes:K,scalar:Y}=se(U),X=a(K,P,I),G=new Uint8Array(64);if(G.set(K,0),G.set(F(V(Y+X*j)),32),!p(G,I,P))throw new Error("sign: Invalid signature produced");return G}function p(g,f,m){const I=(0,i.ensureBytes)("signature",g,64),P=(0,i.ensureBytes)("message",f),j=(0,i.ensureBytes)("publicKey",m,32);try{const k=S((0,i.bytesToNumberBE)(j)),z=(0,i.bytesToNumberBE)(I.subarray(0,32));if(!T(z))return!1;const B=(0,i.bytesToNumberBE)(I.subarray(32,64));if(!$(B))return!1;const U=a(F(z),L(k),P),K=Z(k,B,V(-U));return!(!K||!K.hasEvenY()||K.toAffine().x!==z)}catch{return!1}}t.schnorr=(()=>({getPublicKey:u,sign:h,verify:p,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:S,pointToBytes:L,numberToBytesBE:i.numberToBytesBE,bytesToNumberBE:i.bytesToNumberBE,taggedHash:D,mod:n.mod}}))();const y=(()=>(0,o.isogenyMap)(R,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(g=>g.map(f=>BigInt(f)))))(),w=(()=>(0,s.mapToCurveSimpleSWU)(R,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:R.create(BigInt("-11"))}))(),_=(()=>(0,o.createHasher)(t.secp256k1.ProjectivePoint,g=>{const{x:f,y:m}=w(R.create(g[0]));return y(f,m)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}))();t.hashToCurve=(()=>_.hashToCurve)(),t.encodeToCurve=(()=>_.encodeToCurve)()})(tY);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var e=tY;Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return e.secp256k1}})})(VS);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const e=Re,r=VS;t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=r.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=e.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16})(HS);var ZS={};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.GWEI_TO_WEI=void 0;ZS.GWEI_TO_WEI=BigInt(1e9);var V$={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.RLP=hf.utils=hf.decode=hf.encode=void 0;function K$(t){if(Array.isArray(t)){const r=[];let n=0;for(let s=0;s<t.length;s++){const i=K$(t[s]);r.push(i),n+=i.length}return N5(oF(n,192),...r)}const e=xY(t);return e.length===1&&e[0]<128?e:N5(oF(e.length,128),e)}hf.encode=K$;function m0(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function sF(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return EY(_Y(t))}function oF(t,e){if(t<56)return Uint8Array.from([t+e]);const r=k5(t),n=r.length/2,s=k5(e+55+n);return Uint8Array.from(m2(s+r))}function wY(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const r=xY(t),n=P5(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}hf.decode=wY;function P5(t){let e,r,n,s,i;const o=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(e=c-127,c===128?n=Uint8Array.from([]):n=m0(t,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:t.slice(e)}}else if(c<=191){if(r=c-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=sF(m0(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=m0(t,r,e+r),{data:n,remainder:t.slice(e+r)}}else if(c<=247){for(e=c-191,s=m0(t,1,e);s.length;)i=P5(s),o.push(i.data),s=i.remainder;return{data:o,remainder:t.slice(e)}}else{if(r=c-246,e=sF(m0(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");const l=r+e;if(l>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=m0(t,r,l);s.length;)i=P5(s),o.push(i.data),s=i.remainder;return{data:o,remainder:t.slice(l)}}}const RJe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _Y(t){let e="";for(let r=0;r<t.length;r++)e+=RJe[t[r]];return e}function EY(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function m2(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2;e[r]=EY(t.slice(n,n+2))}return e}function N5(...t){if(t.length===1)return t[0];const e=t.reduce((n,s)=>n+s.length,0),r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}function SY(t){return new TextEncoder().encode(t)}function k5(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function TJe(t){return t.length%2?`0${t}`:t}function AY(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function $Je(t){return typeof t!="string"?t:AY(t)?t.slice(2):t}function xY(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return AY(t)?m2(TJe($Je(t))):SY(t);if(typeof t=="number"||typeof t=="bigint")return t?m2(k5(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}hf.utils={bytesToHex:_Y,concatBytes:N5,hexToBytes:m2,utf8ToBytes:SY};hf.RLP={encode:K$,decode:wY};var Aa={},Rn={},MY={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),r=BigInt(32);function n(se,S=!1){return S?{h:Number(se&e),l:Number(se>>r&e)}:{h:Number(se>>r&e)|0,l:Number(se&e)|0}}t.fromBig=n;function s(se,S=!1){let a=new Uint32Array(se.length),u=new Uint32Array(se.length);for(let h=0;h<se.length;h++){const{h:p,l:y}=n(se[h],S);[a[h],u[h]]=[p,y]}return[a,u]}t.split=s;const i=(se,S)=>BigInt(se>>>0)<<r|BigInt(S>>>0);t.toBig=i;const o=(se,S,a)=>se>>>a,c=(se,S,a)=>se<<32-a|S>>>a,l=(se,S,a)=>se>>>a|S<<32-a,d=(se,S,a)=>se<<32-a|S>>>a,v=(se,S,a)=>se<<64-a|S>>>a-32,b=(se,S,a)=>se>>>a-32|S<<64-a,A=(se,S)=>S,x=(se,S)=>se,R=(se,S,a)=>se<<a|S>>>32-a,C=(se,S,a)=>S<<a|se>>>32-a,T=(se,S,a)=>S<<a-32|se>>>64-a,$=(se,S,a)=>se<<a-32|S>>>64-a;function O(se,S,a,u){const h=(S>>>0)+(u>>>0);return{h:se+a+(h/2**32|0)|0,l:h|0}}t.add=O;const D=(se,S,a)=>(se>>>0)+(S>>>0)+(a>>>0),L=(se,S,a,u)=>S+a+u+(se/2**32|0)|0,F=(se,S,a,u)=>(se>>>0)+(S>>>0)+(a>>>0)+(u>>>0),H=(se,S,a,u,h)=>S+a+u+h+(se/2**32|0)|0,V=(se,S,a,u,h)=>(se>>>0)+(S>>>0)+(a>>>0)+(u>>>0)+(h>>>0),J=(se,S,a,u,h,p)=>S+a+u+h+p+(se/2**32|0)|0,Z={fromBig:n,split:s,toBig:t.toBig,shrSH:o,shrSL:c,rotrSH:l,rotrSL:d,rotrBH:v,rotrBL:b,rotr32H:A,rotr32L:x,rotlSH:R,rotlSL:C,rotlBH:T,rotlBL:$,add:O,add3L:D,add3H:L,add4L:F,add4H:H,add5H:J,add5L:V};t.default=Z})(MY);Object.defineProperty(Rn,"__esModule",{value:!0});Rn.shake256=Rn.shake128=Rn.keccak_512=Rn.keccak_384=Rn.keccak_256=Rn.keccak_224=Rn.sha3_512=Rn.sha3_384=Rn.sha3_256=Rn.sha3_224=Rn.Keccak=Rn.keccakP=void 0;const b0=Ki,rm=MY,Ty=zu,[IY,RY,TY]=[[],[],[]],CJe=BigInt(0),Gv=BigInt(1),OJe=BigInt(2),BJe=BigInt(7),PJe=BigInt(256),NJe=BigInt(113);for(let t=0,e=Gv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],IY.push(2*(5*n+r)),RY.push((t+1)*(t+2)/2%64);let s=CJe;for(let i=0;i<7;i++)e=(e<<Gv^(e>>BJe)*NJe)%PJe,e&OJe&&(s^=Gv<<(Gv<<BigInt(i))-Gv);TY.push(s)}const[kJe,LJe]=rm.default.split(TY,!0),aF=(t,e,r)=>r>32?rm.default.rotlBH(t,e,r):rm.default.rotlSH(t,e,r),cF=(t,e,r)=>r>32?rm.default.rotlBL(t,e,r):rm.default.rotlSL(t,e,r);function $Y(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,d=r[l],v=r[l+1],b=aF(d,v,1)^r[c],A=cF(d,v,1)^r[c+1];for(let x=0;x<50;x+=10)t[o+x]^=b,t[o+x+1]^=A}let s=t[2],i=t[3];for(let o=0;o<24;o++){const c=RY[o],l=aF(s,i,c),d=cF(s,i,c),v=IY[o];s=t[v],i=t[v+1],t[v]=l,t[v+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)r[c]=t[o+c];for(let c=0;c<10;c++)t[o+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=kJe[n],t[1]^=LJe[n]}r.fill(0)}Rn.keccakP=$Y;let G$=class CY extends Ty.Hash{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,b0.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ty.u32)(this.state)}keccak(){$Y(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){b0.default.exists(this);const{blockLen:r,state:n}=this;e=(0,Ty.toBytes)(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let c=0;c<o;c++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){b0.default.exists(this,!1),b0.default.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return b0.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(b0.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new CY(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};Rn.Keccak=G$;const hh=(t,e,r)=>(0,Ty.wrapConstructor)(()=>new G$(e,t,r));Rn.sha3_224=hh(6,144,224/8);Rn.sha3_256=hh(6,136,256/8);Rn.sha3_384=hh(6,104,384/8);Rn.sha3_512=hh(6,72,512/8);Rn.keccak_224=hh(1,144,224/8);Rn.keccak_256=hh(1,136,256/8);Rn.keccak_384=hh(1,104,384/8);Rn.keccak_512=hh(1,72,512/8);const OY=(t,e,r)=>(0,Ty.wrapXOFConstructorWithOpts)((n={})=>new G$(e,t,n.dkLen===void 0?r:n.dkLen,!0));Rn.shake128=OY(31,168,128/8);Rn.shake256=OY(31,136,256/8);function L5(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var b2={exports:{}};b2.exports;(function(t,e){var r=He&&He.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const n=r(Ki),s=zu,i=n.default.bool;e.assertBool=i;const o=n.default.bytes;e.assertBytes=o;var c=zu;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}});function l(A){if(!(A instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof A}`);return new TextDecoder().decode(A)}e.bytesToUtf8=l;function d(A){const x=A.startsWith("0x")?A.substring(2):A;return(0,s.hexToBytes)(x)}e.hexToBytes=d;function v(A,x){if(A.length!==x.length)return!1;for(let R=0;R<A.length;R++)if(A[R]!==x[R])return!1;return!0}e.equalsBytes=v;function b(A){return x=>(n.default.bytes(x),A(x))}e.wrapHash=b,e.crypto=(()=>{const A=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,x=typeof L5=="function"&&L5.bind(t);return{node:x&&!A?x("crypto"):void 0,web:A}})()})(b2,b2.exports);var BY=b2.exports;Object.defineProperty(Aa,"__esModule",{value:!0});Aa.keccak512=Aa.keccak384=Aa.keccak256=Aa.keccak224=void 0;const nm=Rn,XS=BY;Aa.keccak224=(0,XS.wrapHash)(nm.keccak_224);Aa.keccak256=(()=>{const t=(0,XS.wrapHash)(nm.keccak_256);return t.create=nm.keccak_256.create,t})();Aa.keccak384=(0,XS.wrapHash)(nm.keccak_384);Aa.keccak512=(0,XS.wrapHash)(nm.keccak_512);var zd={},xa={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.isHexString=Tn.getKeys=Tn.fromAscii=Tn.fromUtf8=Tn.toAscii=Tn.arrayContainsArray=Tn.getBinarySize=Tn.padToEven=Tn.stripHexPrefix=Tn.isHexPrefixed=void 0;function PY(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}Tn.isHexPrefixed=PY;const DJe=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return PY(t)?t.slice(2):t};Tn.stripHexPrefix=DJe;function NY(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Tn.padToEven=NY;function UJe(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return Re.Buffer.byteLength(t,"utf8")}Tn.getBinarySize=UJe;function FJe(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](n=>t.indexOf(n)>=0)}Tn.arrayContainsArray=FJe;function jJe(t){let e="",r=0;const n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const s=parseInt(t.substr(r,2),16);e+=String.fromCharCode(s)}return e}Tn.toAscii=jJe;function qJe(t){const e=Re.Buffer.from(t,"utf8");return`0x${NY(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Tn.fromUtf8=qJe;function zJe(t){let e="";for(let r=0;r<t.length;r++){const s=t.charCodeAt(r).toString(16);e+=s.length<2?`0${s}`:s}return`0x${e}`}Tn.fromAscii=zJe;function HJe(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);const n=[];for(let s=0;s<t.length;s++){let i=t[s][e];if(r===!0&&!i)i="";else if(typeof i!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof i}`);n.push(i)}return n}Tn.getKeys=HJe;function VJe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}Tn.isHexString=VJe;Object.defineProperty(xa,"__esModule",{value:!0});xa.assertIsString=xa.assertIsArray=xa.assertIsBuffer=xa.assertIsHexString=void 0;const KJe=Tn,GJe=function(t){if(!(0,KJe.isHexString)(t)){const e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};xa.assertIsHexString=GJe;const WJe=function(t){if(!Re.Buffer.isBuffer(t)){const e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};xa.assertIsBuffer=WJe;const JJe=function(t){if(!Array.isArray(t)){const e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};xa.assertIsArray=JJe;const QJe=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};xa.assertIsString=QJe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const e=xa,r=Tn,n=function(h){if(!Number.isSafeInteger(h)||h<0)throw new Error(`Received an invalid integer type: ${h}`);return`0x${h.toString(16)}`};t.intToHex=n;const s=function(h){const p=(0,t.intToHex)(h);return Re.Buffer.from((0,r.padToEven)(p.slice(2)),"hex")};t.intToBuffer=s;const i=function(h){return Re.Buffer.allocUnsafe(h).fill(0)};t.zeros=i;const o=function(h,p,y){const w=(0,t.zeros)(p);return y?h.length<p?(h.copy(w),w):h.slice(0,p):h.length<p?(h.copy(w,p-h.length),w):h.slice(-p)},c=function(h,p){return(0,e.assertIsBuffer)(h),o(h,p,!1)};t.setLengthLeft=c;const l=function(h,p){return(0,e.assertIsBuffer)(h),o(h,p,!0)};t.setLengthRight=l;const d=function(h){let p=h[0];for(;h.length>0&&p.toString()==="0";)h=h.slice(1),p=h[0];return h},v=function(h){return(0,e.assertIsBuffer)(h),d(h)};t.unpadBuffer=v;const b=function(h){return(0,e.assertIsArray)(h),d(h)};t.unpadArray=b;const A=function(h){return(0,e.assertIsHexString)(h),h=(0,r.stripHexPrefix)(h),"0x"+d(h)};t.unpadHexString=A;const x=function(h){if(h==null)return Re.Buffer.allocUnsafe(0);if(Re.Buffer.isBuffer(h))return Re.Buffer.from(h);if(Array.isArray(h)||h instanceof Uint8Array)return Re.Buffer.from(h);if(typeof h=="string"){if(!(0,r.isHexString)(h))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${h}`);return Re.Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(h)),"hex")}if(typeof h=="number")return(0,t.intToBuffer)(h);if(typeof h=="bigint"){if(h<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${h}`);let p=h.toString(16);return p.length%2&&(p="0"+p),Re.Buffer.from(p,"hex")}if(h.toArray)return Re.Buffer.from(h.toArray());if(h.toBuffer)return Re.Buffer.from(h.toBuffer());throw new Error("invalid type")};t.toBuffer=x;const R=function(h){return h=(0,t.toBuffer)(h),"0x"+h.toString("hex")};t.bufferToHex=R;function C(h){const p=(0,t.bufferToHex)(h);return BigInt(p==="0x"?0:p)}t.bufferToBigInt=C;function T(h){return(0,t.toBuffer)("0x"+h.toString(16))}t.bigIntToBuffer=T;const $=function(h){const p=Number(C(h));if(!Number.isSafeInteger(p))throw new Error("Number exceeds 53 bits");return p};t.bufferToInt=$;const O=function(h){return BigInt.asIntN(256,C(h))};t.fromSigned=O;const D=function(h){return T(BigInt.asUintN(256,h))};t.toUnsigned=D;const L=function(h){return typeof h!="string"||(0,r.isHexPrefixed)(h)?h:"0x"+h};t.addHexPrefix=L;function F(h,p=50){const y=Re.Buffer.isBuffer(h)?h.toString("hex"):h;return y.length<=p?y:y.slice(0,p)+""}t.short=F;const H=function(h){const p=/^(00)+|(00)+$/g;if(h=(0,r.stripHexPrefix)(h),h.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Re.Buffer.from(h.replace(p,""),"hex").toString("utf8")};t.toUtf8=H;const V=function(h){if(Re.Buffer.isBuffer(h))return`0x${h.toString("hex")}`;if(h instanceof Array){const p=[];for(let y=0;y<h.length;y++)p.push((0,t.baToJSON)(h[y]));return p}};t.baToJSON=V;const J=function(h){for(const[p,y]of Object.entries(h))if(y!==void 0&&y.length>0&&y[0]===0)throw new Error(`${p} cannot have leading zeroes, received: ${y.toString("hex")}`)};t.validateNoLeadingZeroes=J;function Z(h){return Array.isArray(h)?h.map(p=>Z(p)):Re.Buffer.from(h)}t.arrToBufArr=Z;function se(h){return Array.isArray(h)?h.map(p=>se(p)):Uint8Array.from(h??[])}t.bufArrToArr=se;const S=h=>"0x"+h.toString(16);t.bigIntToHex=S;function a(h){return(0,t.unpadBuffer)(T(h))}t.bigIntToUnpaddedBuffer=a;function u(h){return(0,t.unpadBuffer)((0,t.intToBuffer)(h))}t.intToUnpaddedBuffer=u})(zd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const e=hf,r=Aa,n=VS,s=BY,i=zd,o=HS,c=xa,l=Tn,d=BigInt(0);class v{constructor(u=d,h=d,p=o.KECCAK256_RLP,y=o.KECCAK256_NULL){this.nonce=u,this.balance=h,this.storageRoot=p,this.codeHash=y,this._validate()}static fromAccountData(u){const{nonce:h,balance:p,storageRoot:y,codeHash:w}=u;return new v(h!==void 0?(0,i.bufferToBigInt)((0,i.toBuffer)(h)):void 0,p!==void 0?(0,i.bufferToBigInt)((0,i.toBuffer)(p)):void 0,y!==void 0?(0,i.toBuffer)(y):void 0,w!==void 0?(0,i.toBuffer)(w):void 0)}static fromRlpSerializedAccount(u){const h=(0,i.arrToBufArr)(e.RLP.decode(Uint8Array.from(u)));if(!Array.isArray(h))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(h)}static fromValuesArray(u){const[h,p,y,w]=u;return new v((0,i.bufferToBigInt)(h),(0,i.bufferToBigInt)(p),y,w)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,i.bigIntToUnpaddedBuffer)(this.nonce),(0,i.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Re.Buffer.from(e.RLP.encode((0,i.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(o.KECCAK256_NULL)}}t.Account=v;const b=function(a){try{(0,c.assertIsString)(a)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(a)};t.isValidAddress=b;const A=function(a,u){(0,c.assertIsHexString)(a);const h=(0,l.stripHexPrefix)(a).toLowerCase();let p="";u!==void 0&&(p=(0,i.bufferToBigInt)((0,i.toBuffer)(u)).toString()+"0x");const y=Re.Buffer.from(p+h,"utf8"),w=(0,s.bytesToHex)((0,r.keccak256)(y));let _="0x";for(let g=0;g<h.length;g++)parseInt(w[g],16)>=8?_+=h[g].toUpperCase():_+=h[g];return _};t.toChecksumAddress=A;const x=function(a,u){return(0,t.isValidAddress)(a)&&(0,t.toChecksumAddress)(a,u)===a};t.isValidChecksumAddress=x;const R=function(a,u){return(0,c.assertIsBuffer)(a),(0,c.assertIsBuffer)(u),(0,i.bufferToBigInt)(u)===BigInt(0)?Re.Buffer.from((0,r.keccak256)(e.RLP.encode((0,i.bufArrToArr)([a,null])))).slice(-20):Re.Buffer.from((0,r.keccak256)(e.RLP.encode((0,i.bufArrToArr)([a,u])))).slice(-20)};t.generateAddress=R;const C=function(a,u,h){if((0,c.assertIsBuffer)(a),(0,c.assertIsBuffer)(u),(0,c.assertIsBuffer)(h),a.length!==20)throw new Error("Expected from to be of length 20");if(u.length!==32)throw new Error("Expected salt to be of length 32");const p=(0,r.keccak256)(Re.Buffer.concat([Re.Buffer.from("ff","hex"),a,u,(0,r.keccak256)(h)]));return(0,i.toBuffer)(p).slice(-20)};t.generateAddress2=C;const T=function(a){return n.secp256k1.utils.isValidPrivateKey(a)};t.isValidPrivate=T;const $=function(a,u=!1){if((0,c.assertIsBuffer)(a),a.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Re.Buffer.concat([Re.Buffer.from([4]),a])),!0}catch{return!1}if(!u)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(a),!0}catch{return!1}};t.isValidPublic=$;const O=function(a,u=!1){if((0,c.assertIsBuffer)(a),u&&a.length!==64&&(a=Re.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(a).toRawBytes(!1).slice(1))),a.length!==64)throw new Error("Expected pubKey to be of length 64");return Re.Buffer.from((0,r.keccak256)(a)).slice(-20)};t.pubToAddress=O,t.publicToAddress=t.pubToAddress;const D=function(a){return(0,c.assertIsBuffer)(a),Re.Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(a).toRawBytes(!1).slice(1))};t.privateToPublic=D;const L=function(a){return(0,t.publicToAddress)((0,t.privateToPublic)(a))};t.privateToAddress=L;const F=function(a){return(0,c.assertIsBuffer)(a),a.length!==64&&(a=Re.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(a).toRawBytes(!1).slice(1))),a};t.importPublic=F;const H=function(){const u=(0,i.zeros)(20);return(0,i.bufferToHex)(u)};t.zeroAddress=H;const V=function(a){try{(0,c.assertIsString)(a)}catch{return!1}return(0,t.zeroAddress)()===a};t.isZeroAddress=V;function J(a){const[u,h,p,y]=a;return[u,h,(0,i.arrToBufArr)(p).length===0?o.KECCAK256_RLP:p,(0,i.arrToBufArr)(y).length===0?o.KECCAK256_NULL:y]}t.accountBodyFromSlim=J;const Z=new Uint8Array(0);function se(a){const[u,h,p,y]=a;return[u,h,(0,i.arrToBufArr)(p).equals(o.KECCAK256_RLP)?Z:p,(0,i.arrToBufArr)(y).equals(o.KECCAK256_NULL)?Z:y]}t.accountBodyToSlim=se;function S(a,u=!0){const h=u?J(a):a;return(0,i.arrToBufArr)(e.RLP.encode(h))}t.accountBodyToRLP=S})(V$);var n1={};Object.defineProperty(n1,"__esModule",{value:!0});n1.Address=void 0;const Wv=V$,rw=zd;class fu{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new fu((0,rw.zeros)(20))}static fromString(e){if(!(0,Wv.isValidAddress)(e))throw new Error("Invalid address");return new fu((0,rw.toBuffer)(e))}static fromPublicKey(e){if(!Re.Buffer.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,Wv.pubToAddress)(e);return new fu(r)}static fromPrivateKey(e){if(!Re.Buffer.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,Wv.privateToAddress)(e);return new fu(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new fu((0,Wv.generateAddress)(e.buf,(0,rw.bigIntToBuffer)(r)))}static generate2(e,r,n){if(!Re.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Re.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new fu((0,Wv.generateAddress2)(e.buf,r,n))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(fu.zero())}isPrecompileOrSystemAddress(){const e=(0,rw.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return e>=r&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Re.Buffer.from(this.buf)}}n1.Address=fu;var YS={},W$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const e=zd,r=Tn;var n;(function(i){i[i.Number=0]="Number",i[i.BigInt=1]="BigInt",i[i.Buffer=2]="Buffer",i[i.PrefixedHexString=3]="PrefixedHexString"})(n=t.TypeOutput||(t.TypeOutput={}));function s(i,o){if(i===null)return null;if(i===void 0)return;if(typeof i=="string"&&!(0,r.isHexString)(i))throw new Error(`A string must be provided with a 0x-prefix, given: ${i}`);if(typeof i=="number"&&!Number.isSafeInteger(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const c=(0,e.toBuffer)(i);switch(o){case n.Buffer:return c;case n.BigInt:return(0,e.bufferToBigInt)(c);case n.Number:{const l=(0,e.bufferToBigInt)(c);if(l>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(l)}case n.PrefixedHexString:return(0,e.bufferToHex)(c);default:throw new Error("unknown outputType")}}t.toType=s})(W$);Object.defineProperty(YS,"__esModule",{value:!0});YS.Withdrawal=void 0;const fF=n1,i4=zd,ni=W$;class $y{constructor(e,r,n,s){this.index=e,this.validatorIndex=r,this.address=n,this.amount=s}static fromWithdrawalData(e){const{index:r,validatorIndex:n,address:s,amount:i}=e,o=(0,ni.toType)(r,ni.TypeOutput.BigInt),c=(0,ni.toType)(n,ni.TypeOutput.BigInt),l=new fF.Address((0,ni.toType)(s,ni.TypeOutput.Buffer)),d=(0,ni.toType)(i,ni.TypeOutput.BigInt);return new $y(o,c,l,d)}static fromValuesArray(e){if(e.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[r,n,s,i]=e;return $y.fromWithdrawalData({index:r,validatorIndex:n,address:s,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:n,address:s,amount:i}=e,o=(0,ni.toType)(r,ni.TypeOutput.BigInt)===BigInt(0)?Re.Buffer.alloc(0):(0,ni.toType)(r,ni.TypeOutput.Buffer),c=(0,ni.toType)(n,ni.TypeOutput.BigInt)===BigInt(0)?Re.Buffer.alloc(0):(0,ni.toType)(n,ni.TypeOutput.Buffer);let l;s instanceof fF.Address?l=s.buf:l=(0,ni.toType)(s,ni.TypeOutput.Buffer);const d=(0,ni.toType)(i,ni.TypeOutput.BigInt)===BigInt(0)?Re.Buffer.alloc(0):(0,ni.toType)(i,ni.TypeOutput.Buffer);return[o,c,l,d]}raw(){return $y.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i4.bigIntToHex)(this.index),validatorIndex:(0,i4.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i4.bigIntToHex)(this.amount)}}}YS.Withdrawal=$y;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.hashPersonalMessage=Ds.isValidSignature=Ds.fromRpcSig=Ds.toCompactSig=Ds.toRpcSig=Ds.ecrecover=Ds.ecsign=void 0;const ZJe=Aa,kY=VS,_o=zd,s4=HS,XJe=xa;function YJe(t,e,r){const n=kY.secp256k1.sign(t,e),s=n.toCompactRawBytes(),i=Re.Buffer.from(s.slice(0,32)),o=Re.Buffer.from(s.slice(32,64)),c=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:i,s:o,v:c}}Ds.ecsign=YJe;function eA(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function tA(t){return t===BigInt(0)||t===BigInt(1)}const eQe=function(t,e,r,n,s){const i=Re.Buffer.concat([(0,_o.setLengthLeft)(r,32),(0,_o.setLengthLeft)(n,32)],64),o=eA(e,s);if(!tA(o))throw new Error("Invalid signature v value");const l=kY.secp256k1.Signature.fromCompact(i).addRecoveryBit(Number(o)).recoverPublicKey(t);return Re.Buffer.from(l.toRawBytes(!1).slice(1))};Ds.ecrecover=eQe;const tQe=function(t,e,r,n){const s=eA(t,n);if(!tA(s))throw new Error("Invalid signature v value");return(0,_o.bufferToHex)(Re.Buffer.concat([(0,_o.setLengthLeft)(e,32),(0,_o.setLengthLeft)(r,32),(0,_o.toBuffer)(t)]))};Ds.toRpcSig=tQe;const rQe=function(t,e,r,n){const s=eA(t,n);if(!tA(s))throw new Error("Invalid signature v value");let i=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(i=Re.Buffer.from(r),i[0]|=128),(0,_o.bufferToHex)(Re.Buffer.concat([(0,_o.setLengthLeft)(e,32),(0,_o.setLengthLeft)(i,32)]))};Ds.toCompactSig=rQe;const nQe=function(t){const e=(0,_o.toBuffer)(t);let r,n,s;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),s=(0,_o.bufferToBigInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),s=BigInt((0,_o.bufferToInt)(e.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return s<27&&(s=s+BigInt(27)),{v:s,r,s:n}};Ds.fromRpcSig=nQe;const iQe=function(t,e,r,n=!0,s){if(e.length!==32||r.length!==32||!tA(eA(t,s)))return!1;const i=(0,_o.bufferToBigInt)(e),o=(0,_o.bufferToBigInt)(r);return!(i===BigInt(0)||i>=s4.SECP256K1_ORDER||o===BigInt(0)||o>=s4.SECP256K1_ORDER||n&&o>=s4.SECP256K1_ORDER_DIV_2)};Ds.isValidSignature=iQe;const sQe=function(t){(0,XJe.assertIsBuffer)(t);const e=Re.Buffer.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return Re.Buffer.from((0,ZJe.keccak256)(Re.Buffer.concat([e,t])))};Ds.hashPersonalMessage=sQe;var LY={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;const e=o=>o.length>0&&o[o.length-1]===16;t.hasTerminator=e;const r=(o,c)=>{for(let l=0,d=0;d<o.length;l+=1,d+=2)c[l]=o[d]<<4|o[d+1]};t.nibblesToBytes=r;const n=o=>{let c=0;(0,t.hasTerminator)(o)&&(c=1,o=o.subarray(0,o.length-1));const l=new Uint8Array(o.length/2+1);return l[0]=c<<5,(o.length&1)===1&&(l[0]|=16,l[0]|=o[0],o=o.subarray(1)),(0,t.nibblesToBytes)(o,l.subarray(1)),l};t.nibblesToCompactBytes=n;const s=o=>{const c=o.length*2+1,l=new Uint8Array(c);for(let d=0;d<o.length;d++){const v=o[d];l[d*2]=v/16,l[d*2+1]=v%16}return l[c-1]=16,l};t.bytesToNibbles=s;const i=o=>{if(o.length===0)return o;let c=(0,t.bytesToNibbles)(o);c[0]<2&&(c=c.subarray(0,c.length-1));const l=2-(c[0]&1);return c.subarray(l)};t.compactBytesToNibbles=i})(LY);var rA={};Object.defineProperty(rA,"__esModule",{value:!0});rA.AsyncEventEmitter=void 0;const oQe=Of;async function aQe(t,e,r){let n;for await(const s of e)try{s.length<2?s.call(t,r):await new Promise((i,o)=>{s.call(t,r,c=>{c?o(c):i()})})}catch(i){n=i}if(n)throw n}class cQe extends oQe.EventEmitter{emit(e,...r){let[n,s]=r;const i=this;let o=i._events[e]??[];return s===void 0&&typeof n=="function"&&(s=n,n=void 0),(e==="newListener"||e==="removeListener")&&(n={event:n,fn:s},s=void 0),o=Array.isArray(o)?o:[o],aQe(i,o.slice(),n).then(s).catch(s),i.listenerCount(e)>0}once(e,r){const n=this;let s;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?s=function(i,o){n.removeListener(e,s),r(i,o)}:s=function(i){n.removeListener(e,s),r(i,s)},n.on(e,s),n}first(e,r){let n=this._events[e]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(r),this}before(e,r,n){return this.beforeOrAfter(e,r,n)}after(e,r,n){return this.beforeOrAfter(e,r,n,"after")}beforeOrAfter(e,r,n,s){let i=this._events[e]??[],o,c;const l=s==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(i)||(this._events[e]=i=[i]),c=i.length,o=i.length;o--;)if(i[o]===r){c=o+l;break}return i.splice(c,0,n),this}on(e,r){return super.on(e,r)}addListener(e,r){return super.addListener(e,r)}prependListener(e,r){return super.prependListener(e,r)}prependOnceListener(e,r){return super.prependOnceListener(e,r)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,r){return super.removeListener(e,r)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}rA.AsyncEventEmitter=cQe;var nA={};Object.defineProperty(nA,"__esModule",{value:!0});nA.Lock=void 0;class fQe{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}nA.Lock=fQe;var jp={},_d={},o4={},a4={exports:{}},c4={},uF;function DY(){return uF||(uF=1,function(t){t.fetch=s(He.fetch)&&s(He.ReadableStream),t.writableStream=s(He.WritableStream),t.abortController=s(He.AbortController);var e;function r(){if(e!==void 0)return e;if(He.XMLHttpRequest){e=new He.XMLHttpRequest;try{e.open("GET",He.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function n(i){var o=r();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}t.arraybuffer=t.fetch||n("arraybuffer"),t.msstream=!t.fetch&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||(r()?s(r().overrideMimeType):!1);function s(i){return typeof i=="function"}e=null}(c4)),c4}var nw={},lF;function UY(){if(lF)return nw;lF=1;var t=DY(),e=ir,r=iE,n=nw.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=nw.IncomingMessage=function(i,o,c,l){var d=this;if(r.Readable.call(d),d._mode=c,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){mt.nextTick(function(){d.emit("close")})}),c==="fetch"){let C=function(){b.read().then(function(T){if(!d._destroyed){if(l(T.done),T.done){d.push(null);return}d.push(Re.Buffer.from(T.value)),C()}}).catch(function(T){l(!0),d._destroyed||d.emit("error",T)})};if(d._fetchResponse=o,d.url=o.url,d.statusCode=o.status,d.statusMessage=o.statusText,o.headers.forEach(function(T,$){d.headers[$.toLowerCase()]=T,d.rawHeaders.push($,T)}),t.writableStream){var v=new WritableStream({write:function(T){return l(!1),new Promise(function($,O){d._destroyed?O():d.push(Re.Buffer.from(T))?$():d._resumeFetch=$})},close:function(){l(!0),d._destroyed||d.push(null)},abort:function(T){l(!0),d._destroyed||d.emit("error",T)}});try{o.body.pipeTo(v).catch(function(T){l(!0),d._destroyed||d.emit("error",T)});return}catch{}}var b=o.body.getReader();C()}else{d._xhr=i,d._pos=0,d.url=i.responseURL,d.statusCode=i.status,d.statusMessage=i.statusText;var A=i.getAllResponseHeaders().split(/\r?\n/);if(A.forEach(function(C){var T=C.match(/^([^:]+):\s*(.*)/);if(T){var $=T[1].toLowerCase();$==="set-cookie"?(d.headers[$]===void 0&&(d.headers[$]=[]),d.headers[$].push(T[2])):d.headers[$]!==void 0?d.headers[$]+=", "+T[2]:d.headers[$]=T[2],d.rawHeaders.push(T[1],T[2])}}),d._charset="x-user-defined",!t.overrideMimeType){var x=d.rawHeaders["mime-type"];if(x){var R=x.match(/;\s*charset=([^;])(;|$)/);R&&(d._charset=R[1].toLowerCase())}d._charset||(d._charset="utf-8")}}};return e(s,r.Readable),s.prototype._read=function(){var i=this,o=i._resumeFetch;o&&(i._resumeFetch=null,o())},s.prototype._onXHRProgress=function(i){var o=this,c=o._xhr,l=null;switch(o._mode){case"text":if(l=c.responseText,l.length>o._pos){var d=l.substr(o._pos);if(o._charset==="x-user-defined"){for(var v=Re.Buffer.alloc(d.length),b=0;b<d.length;b++)v[b]=d.charCodeAt(b)&255;o.push(v)}else o.push(d,o._charset);o._pos=l.length}break;case"arraybuffer":if(c.readyState!==n.DONE||!c.response)break;l=c.response,o.push(Re.Buffer.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=c.response,c.readyState!==n.LOADING||!l)break;o.push(Re.Buffer.from(new Uint8Array(l)));break;case"ms-stream":if(l=c.response,c.readyState!==n.LOADING)break;var A=new He.MSStreamReader;A.onprogress=function(){A.result.byteLength>o._pos&&(o.push(Re.Buffer.from(new Uint8Array(A.result.slice(o._pos)))),o._pos=A.result.byteLength)},A.onload=function(){i(!0),o.push(null)},A.readAsArrayBuffer(l);break}o._xhr.readyState===n.DONE&&o._mode!=="ms-stream"&&(i(!0),o.push(null))},nw}var hF;function uQe(){if(hF)return a4.exports;hF=1;var t=DY(),e=ir,r=UY(),n=iE,s=r.IncomingMessage,i=r.readyStates;function o(v,b){return t.fetch&&b?"fetch":t.mozchunkedarraybuffer?"moz-chunked-arraybuffer":t.msstream?"ms-stream":t.arraybuffer&&v?"arraybuffer":"text"}var c=a4.exports=function(v){var b=this;n.Writable.call(b),b._opts=v,b._body=[],b._headers={},v.auth&&b.setHeader("Authorization","Basic "+Re.Buffer.from(v.auth).toString("base64")),Object.keys(v.headers).forEach(function(R){b.setHeader(R,v.headers[R])});var A,x=!0;if(v.mode==="disable-fetch"||"requestTimeout"in v&&!t.abortController)x=!1,A=!0;else if(v.mode==="prefer-streaming")A=!1;else if(v.mode==="allow-wrong-content-type")A=!t.overrideMimeType;else if(!v.mode||v.mode==="default"||v.mode==="prefer-fast")A=!0;else throw new Error("Invalid value for opts.mode");b._mode=o(A,x),b._fetchTimer=null,b._socketTimeout=null,b._socketTimer=null,b.on("finish",function(){b._onFinish()})};e(c,n.Writable),c.prototype.setHeader=function(v,b){var A=this,x=v.toLowerCase();d.indexOf(x)===-1&&(A._headers[x]={name:v,value:b})},c.prototype.getHeader=function(v){var b=this._headers[v.toLowerCase()];return b?b.value:null},c.prototype.removeHeader=function(v){var b=this;delete b._headers[v.toLowerCase()]},c.prototype._onFinish=function(){var v=this;if(!v._destroyed){var b=v._opts;"timeout"in b&&b.timeout!==0&&v.setTimeout(b.timeout);var A=v._headers,x=null;b.method!=="GET"&&b.method!=="HEAD"&&(x=new Blob(v._body,{type:(A["content-type"]||{}).value||""}));var R=[];if(Object.keys(A).forEach(function(O){var D=A[O].name,L=A[O].value;Array.isArray(L)?L.forEach(function(F){R.push([D,F])}):R.push([D,L])}),v._mode==="fetch"){var C=null;if(t.abortController){var T=new AbortController;C=T.signal,v._fetchAbortController=T,"requestTimeout"in b&&b.requestTimeout!==0&&(v._fetchTimer=He.setTimeout(function(){v.emit("requestTimeout"),v._fetchAbortController&&v._fetchAbortController.abort()},b.requestTimeout))}He.fetch(v._opts.url,{method:v._opts.method,headers:R,body:x||void 0,mode:"cors",credentials:b.withCredentials?"include":"same-origin",signal:C}).then(function(O){v._fetchResponse=O,v._resetTimers(!1),v._connect()},function(O){v._resetTimers(!0),v._destroyed||v.emit("error",O)})}else{var $=v._xhr=new He.XMLHttpRequest;try{$.open(v._opts.method,v._opts.url,!0)}catch(O){mt.nextTick(function(){v.emit("error",O)});return}"responseType"in $&&($.responseType=v._mode),"withCredentials"in $&&($.withCredentials=!!b.withCredentials),v._mode==="text"&&"overrideMimeType"in $&&$.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in b&&($.timeout=b.requestTimeout,$.ontimeout=function(){v.emit("requestTimeout")}),R.forEach(function(O){$.setRequestHeader(O[0],O[1])}),v._response=null,$.onreadystatechange=function(){switch($.readyState){case i.LOADING:case i.DONE:v._onXHRProgress();break}},v._mode==="moz-chunked-arraybuffer"&&($.onprogress=function(){v._onXHRProgress()}),$.onerror=function(){v._destroyed||(v._resetTimers(!0),v.emit("error",new Error("XHR error")))};try{$.send(x)}catch(O){mt.nextTick(function(){v.emit("error",O)});return}}}};function l(v){try{var b=v.status;return b!==null&&b!==0}catch{return!1}}c.prototype._onXHRProgress=function(){var v=this;v._resetTimers(!1),!(!l(v._xhr)||v._destroyed)&&(v._response||v._connect(),v._response._onXHRProgress(v._resetTimers.bind(v)))},c.prototype._connect=function(){var v=this;v._destroyed||(v._response=new s(v._xhr,v._fetchResponse,v._mode,v._resetTimers.bind(v)),v._response.on("error",function(b){v.emit("error",b)}),v.emit("response",v._response))},c.prototype._write=function(v,b,A){var x=this;x._body.push(v),A()},c.prototype._resetTimers=function(v){var b=this;He.clearTimeout(b._socketTimer),b._socketTimer=null,v?(He.clearTimeout(b._fetchTimer),b._fetchTimer=null):b._socketTimeout&&(b._socketTimer=He.setTimeout(function(){b.emit("timeout")},b._socketTimeout))},c.prototype.abort=c.prototype.destroy=function(v){var b=this;b._destroyed=!0,b._resetTimers(!0),b._response&&(b._response._destroyed=!0),b._xhr?b._xhr.abort():b._fetchAbortController&&b._fetchAbortController.abort(),v&&b.emit("error",v)},c.prototype.end=function(v,b,A){var x=this;typeof v=="function"&&(A=v,v=void 0),n.Writable.prototype.end.call(x,v,b,A)},c.prototype.setTimeout=function(v,b){var A=this;b&&A.once("timeout",b),A._socketTimeout=v,A._resetTimers(!1)},c.prototype.flushHeaders=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return a4.exports}var f4,dF;function lQe(){return dF||(dF=1,f4={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),f4}var Bh={},hy={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */hy.exports;var pF;function hQe(){return pF||(pF=1,function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,i=typeof He=="object"&&He;(i.global===i||i.window===i||i.self===i)&&(r=i);var o,c=2147483647,l=36,d=1,v=26,b=38,A=700,x=72,R=128,C="-",T=/^xn--/,$=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=l-d,F=Math.floor,H=String.fromCharCode,V;function J(f){throw new RangeError(D[f])}function Z(f,m){for(var I=f.length,P=[];I--;)P[I]=m(f[I]);return P}function se(f,m){var I=f.split("@"),P="";I.length>1&&(P=I[0]+"@",f=I[1]),f=f.replace(O,".");var j=f.split("."),k=Z(j,m).join(".");return P+k}function S(f){for(var m=[],I=0,P=f.length,j,k;I<P;)j=f.charCodeAt(I++),j>=55296&&j<=56319&&I<P?(k=f.charCodeAt(I++),(k&64512)==56320?m.push(((j&1023)<<10)+(k&1023)+65536):(m.push(j),I--)):m.push(j);return m}function a(f){return Z(f,function(m){var I="";return m>65535&&(m-=65536,I+=H(m>>>10&1023|55296),m=56320|m&1023),I+=H(m),I}).join("")}function u(f){return f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l}function h(f,m){return f+22+75*(f<26)-((m!=0)<<5)}function p(f,m,I){var P=0;for(f=I?F(f/A):f>>1,f+=F(f/m);f>L*v>>1;P+=l)f=F(f/L);return F(P+(L+1)*f/(f+b))}function y(f){var m=[],I=f.length,P,j=0,k=R,z=x,B,U,K,Y,X,G,ne,le,de;for(B=f.lastIndexOf(C),B<0&&(B=0),U=0;U<B;++U)f.charCodeAt(U)>=128&&J("not-basic"),m.push(f.charCodeAt(U));for(K=B>0?B+1:0;K<I;){for(Y=j,X=1,G=l;K>=I&&J("invalid-input"),ne=u(f.charCodeAt(K++)),(ne>=l||ne>F((c-j)/X))&&J("overflow"),j+=ne*X,le=G<=z?d:G>=z+v?v:G-z,!(ne<le);G+=l)de=l-le,X>F(c/de)&&J("overflow"),X*=de;P=m.length+1,z=p(j-Y,P,Y==0),F(j/P)>c-k&&J("overflow"),k+=F(j/P),j%=P,m.splice(j++,0,k)}return a(m)}function w(f){var m,I,P,j,k,z,B,U,K,Y,X,G=[],ne,le,de,me;for(f=S(f),ne=f.length,m=R,I=0,k=x,z=0;z<ne;++z)X=f[z],X<128&&G.push(H(X));for(P=j=G.length,j&&G.push(C);P<ne;){for(B=c,z=0;z<ne;++z)X=f[z],X>=m&&X<B&&(B=X);for(le=P+1,B-m>F((c-I)/le)&&J("overflow"),I+=(B-m)*le,m=B,z=0;z<ne;++z)if(X=f[z],X<m&&++I>c&&J("overflow"),X==m){for(U=I,K=l;Y=K<=k?d:K>=k+v?v:K-k,!(U<Y);K+=l)me=U-Y,de=l-Y,G.push(H(h(Y+me%de,0))),U=F(me/de);G.push(H(h(U,0))),k=p(I,le,P==j),I=0,++P}++I,++m}return G.join("")}function _(f){return se(f,function(m){return T.test(m)?y(m.slice(4).toLowerCase()):m})}function g(f){return se(f,function(m){return $.test(m)?"xn--"+w(m):m})}if(o={version:"1.4.1",ucs2:{decode:S,encode:a},decode:y,encode:w,toASCII:g,toUnicode:_},n&&s)if(t.exports==n)s.exports=o;else for(V in o)o.hasOwnProperty(V)&&(n[V]=o[V]);else r.punycode=o})(He)}(hy,hy.exports)),hy.exports}var u4,gF;function J$(){if(gF)return u4;gF=1;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return u4={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},u4}var l4,vF;function FY(){if(vF)return l4;vF=1;var t=J$(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var C=[],T=0;T<256;++T)C.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return C}(),s=function(T){for(;T.length>1;){var $=T.pop(),O=$.obj[$.prop];if(r(O)){for(var D=[],L=0;L<O.length;++L)typeof O[L]<"u"&&D.push(O[L]);$.obj[$.prop]=D}}},i=function(T,$){for(var O=$&&$.plainObjects?Object.create(null):{},D=0;D<T.length;++D)typeof T[D]<"u"&&(O[D]=T[D]);return O},o=function C(T,$,O){if(!$)return T;if(typeof $!="object"){if(r(T))T.push($);else if(T&&typeof T=="object")(O&&(O.plainObjects||O.allowPrototypes)||!e.call(Object.prototype,$))&&(T[$]=!0);else return[T,$];return T}if(!T||typeof T!="object")return[T].concat($);var D=T;return r(T)&&!r($)&&(D=i(T,O)),r(T)&&r($)?($.forEach(function(L,F){if(e.call(T,F)){var H=T[F];H&&typeof H=="object"&&L&&typeof L=="object"?T[F]=C(H,L,O):T.push(L)}else T[F]=L}),T):Object.keys($).reduce(function(L,F){var H=$[F];return e.call(L,F)?L[F]=C(L[F],H,O):L[F]=H,L},D)},c=function(T,$){return Object.keys($).reduce(function(O,D){return O[D]=$[D],O},T)},l=function(C,T,$){var O=C.replace(/\+/g," ");if($==="iso-8859-1")return O.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(O)}catch{return O}},d=function(T,$,O,D,L){if(T.length===0)return T;var F=T;if(typeof T=="symbol"?F=Symbol.prototype.toString.call(T):typeof T!="string"&&(F=String(T)),O==="iso-8859-1")return escape(F).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var H="",V=0;V<F.length;++V){var J=F.charCodeAt(V);if(J===45||J===46||J===95||J===126||J>=48&&J<=57||J>=65&&J<=90||J>=97&&J<=122||L===t.RFC1738&&(J===40||J===41)){H+=F.charAt(V);continue}if(J<128){H=H+n[J];continue}if(J<2048){H=H+(n[192|J>>6]+n[128|J&63]);continue}if(J<55296||J>=57344){H=H+(n[224|J>>12]+n[128|J>>6&63]+n[128|J&63]);continue}V+=1,J=65536+((J&1023)<<10|F.charCodeAt(V)&1023),H+=n[240|J>>18]+n[128|J>>12&63]+n[128|J>>6&63]+n[128|J&63]}return H},v=function(T){for(var $=[{obj:{o:T},prop:"o"}],O=[],D=0;D<$.length;++D)for(var L=$[D],F=L.obj[L.prop],H=Object.keys(F),V=0;V<H.length;++V){var J=H[V],Z=F[J];typeof Z=="object"&&Z!==null&&O.indexOf(Z)===-1&&($.push({obj:F,prop:J}),O.push(Z))}return s($),T},b=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},A=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},x=function(T,$){return[].concat(T,$)},R=function(T,$){if(r(T)){for(var O=[],D=0;D<T.length;D+=1)O.push($(T[D]));return O}return $(T)};return l4={arrayToObject:i,assign:c,combine:x,compact:v,decode:l,encode:d,isBuffer:A,isRegExp:b,maybeMap:R,merge:o},l4}var h4,yF;function dQe(){if(yF)return h4;yF=1;var t=g$,e=FY(),r=J$(),n=Object.prototype.hasOwnProperty,s={brackets:function(T){return T+"[]"},comma:"comma",indices:function(T,$){return T+"["+$+"]"},repeat:function(T){return T}},i=Array.isArray,o=Array.prototype.push,c=function(C,T){o.apply(C,i(T)?T:[T])},l=Date.prototype.toISOString,d=r.default,v={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,format:d,formatter:r.formatters[d],indices:!1,serializeDate:function(T){return l.call(T)},skipNulls:!1,strictNullHandling:!1},b=function(T){return typeof T=="string"||typeof T=="number"||typeof T=="boolean"||typeof T=="symbol"||typeof T=="bigint"},A={},x=function C(T,$,O,D,L,F,H,V,J,Z,se,S,a,u,h,p){for(var y=T,w=p,_=0,g=!1;(w=w.get(A))!==void 0&&!g;){var f=w.get(T);if(_+=1,typeof f<"u"){if(f===_)throw new RangeError("Cyclic object value");g=!0}typeof w.get(A)>"u"&&(_=0)}if(typeof V=="function"?y=V($,y):y instanceof Date?y=se(y):O==="comma"&&i(y)&&(y=e.maybeMap(y,function(X){return X instanceof Date?se(X):X})),y===null){if(L)return H&&!u?H($,v.encoder,h,"key",S):$;y=""}if(b(y)||e.isBuffer(y)){if(H){var m=u?$:H($,v.encoder,h,"key",S);return[a(m)+"="+a(H(y,v.encoder,h,"value",S))]}return[a($)+"="+a(String(y))]}var I=[];if(typeof y>"u")return I;var P;if(O==="comma"&&i(y))u&&H&&(y=e.maybeMap(y,H)),P=[{value:y.length>0?y.join(",")||null:void 0}];else if(i(V))P=V;else{var j=Object.keys(y);P=J?j.sort(J):j}for(var k=D&&i(y)&&y.length===1?$+"[]":$,z=0;z<P.length;++z){var B=P[z],U=typeof B=="object"&&typeof B.value<"u"?B.value:y[B];if(!(F&&U===null)){var K=i(y)?typeof O=="function"?O(k,B):k:k+(Z?"."+B:"["+B+"]");p.set(T,_);var Y=t();Y.set(A,p),c(I,C(U,K,O,D,L,F,O==="comma"&&u&&i(y)?null:H,V,J,Z,se,S,a,u,h,Y))}}return I},R=function(T){if(!T)return v;if(T.encoder!==null&&typeof T.encoder<"u"&&typeof T.encoder!="function")throw new TypeError("Encoder has to be a function.");var $=T.charset||v.charset;if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=r.default;if(typeof T.format<"u"){if(!n.call(r.formatters,T.format))throw new TypeError("Unknown format option provided.");O=T.format}var D=r.formatters[O],L=v.filter;return(typeof T.filter=="function"||i(T.filter))&&(L=T.filter),{addQueryPrefix:typeof T.addQueryPrefix=="boolean"?T.addQueryPrefix:v.addQueryPrefix,allowDots:typeof T.allowDots>"u"?v.allowDots:!!T.allowDots,charset:$,charsetSentinel:typeof T.charsetSentinel=="boolean"?T.charsetSentinel:v.charsetSentinel,delimiter:typeof T.delimiter>"u"?v.delimiter:T.delimiter,encode:typeof T.encode=="boolean"?T.encode:v.encode,encoder:typeof T.encoder=="function"?T.encoder:v.encoder,encodeValuesOnly:typeof T.encodeValuesOnly=="boolean"?T.encodeValuesOnly:v.encodeValuesOnly,filter:L,format:O,formatter:D,serializeDate:typeof T.serializeDate=="function"?T.serializeDate:v.serializeDate,skipNulls:typeof T.skipNulls=="boolean"?T.skipNulls:v.skipNulls,sort:typeof T.sort=="function"?T.sort:null,strictNullHandling:typeof T.strictNullHandling=="boolean"?T.strictNullHandling:v.strictNullHandling}};return h4=function(C,T){var $=C,O=R(T),D,L;typeof O.filter=="function"?(L=O.filter,$=L("",$)):i(O.filter)&&(L=O.filter,D=L);var F=[];if(typeof $!="object"||$===null)return"";var H;T&&T.arrayFormat in s?H=T.arrayFormat:T&&"indices"in T?H=T.indices?"indices":"repeat":H="indices";var V=s[H];if(T&&"commaRoundTrip"in T&&typeof T.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var J=V==="comma"&&T&&T.commaRoundTrip;D||(D=Object.keys($)),O.sort&&D.sort(O.sort);for(var Z=t(),se=0;se<D.length;++se){var S=D[se];O.skipNulls&&$[S]===null||c(F,x($[S],S,V,J,O.strictNullHandling,O.skipNulls,O.encode?O.encoder:null,O.filter,O.sort,O.allowDots,O.serializeDate,O.format,O.formatter,O.encodeValuesOnly,O.charset,Z))}var a=F.join(O.delimiter),u=O.addQueryPrefix===!0?"?":"";return O.charsetSentinel&&(O.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),a.length>0?u+a:""},h4}var d4,mF;function pQe(){if(mF)return d4;mF=1;var t=FY(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(A){return A.replace(/&#(\d+);/g,function(x,R){return String.fromCharCode(parseInt(R,10))})},i=function(A,x){return A&&typeof A=="string"&&x.comma&&A.indexOf(",")>-1?A.split(","):A},o="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",l=function(x,R){var C={__proto__:null},T=R.ignoreQueryPrefix?x.replace(/^\?/,""):x,$=R.parameterLimit===1/0?void 0:R.parameterLimit,O=T.split(R.delimiter,$),D=-1,L,F=R.charset;if(R.charsetSentinel)for(L=0;L<O.length;++L)O[L].indexOf("utf8=")===0&&(O[L]===c?F="utf-8":O[L]===o&&(F="iso-8859-1"),D=L,L=O.length);for(L=0;L<O.length;++L)if(L!==D){var H=O[L],V=H.indexOf("]="),J=V===-1?H.indexOf("="):V+1,Z,se;J===-1?(Z=R.decoder(H,n.decoder,F,"key"),se=R.strictNullHandling?null:""):(Z=R.decoder(H.slice(0,J),n.decoder,F,"key"),se=t.maybeMap(i(H.slice(J+1),R),function(S){return R.decoder(S,n.decoder,F,"value")})),se&&R.interpretNumericEntities&&F==="iso-8859-1"&&(se=s(se)),H.indexOf("[]=")>-1&&(se=r(se)?[se]:se),e.call(C,Z)?C[Z]=t.combine(C[Z],se):C[Z]=se}return C},d=function(A,x,R,C){for(var T=C?x:i(x,R),$=A.length-1;$>=0;--$){var O,D=A[$];if(D==="[]"&&R.parseArrays)O=[].concat(T);else{O=R.plainObjects?Object.create(null):{};var L=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,F=parseInt(L,10);!R.parseArrays&&L===""?O={0:T}:!isNaN(F)&&D!==L&&String(F)===L&&F>=0&&R.parseArrays&&F<=R.arrayLimit?(O=[],O[F]=T):L!=="__proto__"&&(O[L]=T)}T=O}return T},v=function(x,R,C,T){if(x){var $=C.allowDots?x.replace(/\.([^.[]+)/g,"[$1]"):x,O=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,L=C.depth>0&&O.exec($),F=L?$.slice(0,L.index):$,H=[];if(F){if(!C.plainObjects&&e.call(Object.prototype,F)&&!C.allowPrototypes)return;H.push(F)}for(var V=0;C.depth>0&&(L=D.exec($))!==null&&V<C.depth;){if(V+=1,!C.plainObjects&&e.call(Object.prototype,L[1].slice(1,-1))&&!C.allowPrototypes)return;H.push(L[1])}return L&&H.push("["+$.slice(L.index)+"]"),d(H,R,C,T)}},b=function(x){if(!x)return n;if(x.decoder!==null&&x.decoder!==void 0&&typeof x.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=typeof x.charset>"u"?n.charset:x.charset;return{allowDots:typeof x.allowDots>"u"?n.allowDots:!!x.allowDots,allowPrototypes:typeof x.allowPrototypes=="boolean"?x.allowPrototypes:n.allowPrototypes,allowSparse:typeof x.allowSparse=="boolean"?x.allowSparse:n.allowSparse,arrayLimit:typeof x.arrayLimit=="number"?x.arrayLimit:n.arrayLimit,charset:R,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:n.charsetSentinel,comma:typeof x.comma=="boolean"?x.comma:n.comma,decoder:typeof x.decoder=="function"?x.decoder:n.decoder,delimiter:typeof x.delimiter=="string"||t.isRegExp(x.delimiter)?x.delimiter:n.delimiter,depth:typeof x.depth=="number"||x.depth===!1?+x.depth:n.depth,ignoreQueryPrefix:x.ignoreQueryPrefix===!0,interpretNumericEntities:typeof x.interpretNumericEntities=="boolean"?x.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof x.parameterLimit=="number"?x.parameterLimit:n.parameterLimit,parseArrays:x.parseArrays!==!1,plainObjects:typeof x.plainObjects=="boolean"?x.plainObjects:n.plainObjects,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:n.strictNullHandling}};return d4=function(A,x){var R=b(x);if(A===""||A===null||typeof A>"u")return R.plainObjects?Object.create(null):{};for(var C=typeof A=="string"?l(A,R):A,T=R.plainObjects?Object.create(null):{},$=Object.keys(C),O=0;O<$.length;++O){var D=$[O],L=v(D,C[D],R,typeof A=="string");T=t.merge(T,L,R)}return R.allowSparse===!0?T:t.compact(T)},d4}var p4,bF;function gQe(){if(bF)return p4;bF=1;var t=dQe(),e=pQe(),r=J$();return p4={formats:r,parse:e,stringify:t},p4}var wF;function Q$(){if(wF)return Bh;wF=1;var t=hQe();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(i),c=["'"].concat(o),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],v=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},R={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=gQe();function $(F,H,V){if(F&&typeof F=="object"&&F instanceof e)return F;var J=new e;return J.parse(F,H,V),J}e.prototype.parse=function(F,H,V){if(typeof F!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof F);var J=F.indexOf("?"),Z=J!==-1&&J<F.indexOf("#")?"?":"#",se=F.split(Z),S=/\\/g;se[0]=se[0].replace(S,"/"),F=se.join(Z);var a=F;if(a=a.trim(),!V&&F.split("#").length===1){var u=s.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],H?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var h=r.exec(a);if(h){h=h[0];var p=h.toLowerCase();this.protocol=p,a=a.substr(h.length)}if(V||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var y=a.substr(0,2)==="//";y&&!(h&&R[h])&&(a=a.substr(2),this.slashes=!0)}if(!R[h]&&(y||h&&!C[h])){for(var w=-1,_=0;_<d.length;_++){var g=a.indexOf(d[_]);g!==-1&&(w===-1||g<w)&&(w=g)}var f,m;w===-1?m=a.lastIndexOf("@"):m=a.lastIndexOf("@",w),m!==-1&&(f=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(f)),w=-1;for(var _=0;_<l.length;_++){var g=a.indexOf(l[_]);g!==-1&&(w===-1||g<w)&&(w=g)}w===-1&&(w=a.length),this.host=a.slice(0,w),a=a.slice(w),this.parseHost(),this.hostname=this.hostname||"";var I=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!I)for(var P=this.hostname.split(/\./),_=0,j=P.length;_<j;_++){var k=P[_];if(k&&!k.match(b)){for(var z="",B=0,U=k.length;B<U;B++)k.charCodeAt(B)>127?z+="x":z+=k[B];if(!z.match(b)){var K=P.slice(0,_),Y=P.slice(_+1),X=k.match(A);X&&(K.push(X[1]),Y.unshift(X[2])),Y.length&&(a="/"+Y.join(".")+a),this.hostname=K.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=t.toASCII(this.hostname));var G=this.port?":"+this.port:"",ne=this.hostname||"";this.host=ne+G,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!x[p])for(var _=0,j=c.length;_<j;_++){var le=c[_];if(a.indexOf(le)!==-1){var de=encodeURIComponent(le);de===le&&(de=escape(le)),a=a.split(le).join(de)}}var me=a.indexOf("#");me!==-1&&(this.hash=a.substr(me),a=a.slice(0,me));var rt=a.indexOf("?");if(rt!==-1?(this.search=a.substr(rt),this.query=a.substr(rt+1),H&&(this.query=T.parse(this.query)),a=a.slice(0,rt)):H&&(this.search="",this.query={}),a&&(this.pathname=a),C[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",Ae=this.search||"";this.path=G+Ae}return this.href=this.format(),this};function O(F){return typeof F=="string"&&(F=$(F)),F instanceof e?F.format():e.prototype.format.call(F)}e.prototype.format=function(){var F=this.auth||"";F&&(F=encodeURIComponent(F),F=F.replace(/%3A/i,":"),F+="@");var H=this.protocol||"",V=this.pathname||"",J=this.hash||"",Z=!1,se="";this.host?Z=F+this.host:this.hostname&&(Z=F+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(se=T.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var S=this.search||se&&"?"+se||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||C[H])&&Z!==!1?(Z="//"+(Z||""),V&&V.charAt(0)!=="/"&&(V="/"+V)):Z||(Z=""),J&&J.charAt(0)!=="#"&&(J="#"+J),S&&S.charAt(0)!=="?"&&(S="?"+S),V=V.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),S=S.replace("#","%23"),H+Z+V+S+J};function D(F,H){return $(F,!1,!0).resolve(H)}e.prototype.resolve=function(F){return this.resolveObject($(F,!1,!0)).format()};function L(F,H){return F?$(F,!1,!0).resolveObject(H):H}return e.prototype.resolveObject=function(F){if(typeof F=="string"){var H=new e;H.parse(F,!1,!0),F=H}for(var V=new e,J=Object.keys(this),Z=0;Z<J.length;Z++){var se=J[Z];V[se]=this[se]}if(V.hash=F.hash,F.href==="")return V.href=V.format(),V;if(F.slashes&&!F.protocol){for(var S=Object.keys(F),a=0;a<S.length;a++){var u=S[a];u!=="protocol"&&(V[u]=F[u])}return C[V.protocol]&&V.hostname&&!V.pathname&&(V.pathname="/",V.path=V.pathname),V.href=V.format(),V}if(F.protocol&&F.protocol!==V.protocol){if(!C[F.protocol]){for(var h=Object.keys(F),p=0;p<h.length;p++){var y=h[p];V[y]=F[y]}return V.href=V.format(),V}if(V.protocol=F.protocol,!F.host&&!R[F.protocol]){for(var j=(F.pathname||"").split("/");j.length&&!(F.host=j.shift()););F.host||(F.host=""),F.hostname||(F.hostname=""),j[0]!==""&&j.unshift(""),j.length<2&&j.unshift(""),V.pathname=j.join("/")}else V.pathname=F.pathname;if(V.search=F.search,V.query=F.query,V.host=F.host||"",V.auth=F.auth,V.hostname=F.hostname||F.host,V.port=F.port,V.pathname||V.search){var w=V.pathname||"",_=V.search||"";V.path=w+_}return V.slashes=V.slashes||F.slashes,V.href=V.format(),V}var g=V.pathname&&V.pathname.charAt(0)==="/",f=F.host||F.pathname&&F.pathname.charAt(0)==="/",m=f||g||V.host&&F.pathname,I=m,P=V.pathname&&V.pathname.split("/")||[],j=F.pathname&&F.pathname.split("/")||[],k=V.protocol&&!C[V.protocol];if(k&&(V.hostname="",V.port=null,V.host&&(P[0]===""?P[0]=V.host:P.unshift(V.host)),V.host="",F.protocol&&(F.hostname=null,F.port=null,F.host&&(j[0]===""?j[0]=F.host:j.unshift(F.host)),F.host=null),m=m&&(j[0]===""||P[0]==="")),f)V.host=F.host||F.host===""?F.host:V.host,V.hostname=F.hostname||F.hostname===""?F.hostname:V.hostname,V.search=F.search,V.query=F.query,P=j;else if(j.length)P||(P=[]),P.pop(),P=P.concat(j),V.search=F.search,V.query=F.query;else if(F.search!=null){if(k){V.host=P.shift(),V.hostname=V.host;var z=V.host&&V.host.indexOf("@")>0?V.host.split("@"):!1;z&&(V.auth=z.shift(),V.hostname=z.shift(),V.host=V.hostname)}return V.search=F.search,V.query=F.query,(V.pathname!==null||V.search!==null)&&(V.path=(V.pathname?V.pathname:"")+(V.search?V.search:"")),V.href=V.format(),V}if(!P.length)return V.pathname=null,V.search?V.path="/"+V.search:V.path=null,V.href=V.format(),V;for(var B=P.slice(-1)[0],U=(V.host||F.host||P.length>1)&&(B==="."||B==="..")||B==="",K=0,Y=P.length;Y>=0;Y--)B=P[Y],B==="."?P.splice(Y,1):B===".."?(P.splice(Y,1),K++):K&&(P.splice(Y,1),K--);if(!m&&!I)for(;K--;K)P.unshift("..");m&&P[0]!==""&&(!P[0]||P[0].charAt(0)!=="/")&&P.unshift(""),U&&P.join("/").substr(-1)!=="/"&&P.push("");var X=P[0]===""||P[0]&&P[0].charAt(0)==="/";if(k){V.hostname=X?"":P.length?P.shift():"",V.host=V.hostname;var z=V.host&&V.host.indexOf("@")>0?V.host.split("@"):!1;z&&(V.auth=z.shift(),V.hostname=z.shift(),V.host=V.hostname)}return m=m||V.host&&P.length,m&&!X&&P.unshift(""),P.length>0?V.pathname=P.join("/"):(V.pathname=null,V.path=null),(V.pathname!==null||V.search!==null)&&(V.path=(V.pathname?V.pathname:"")+(V.search?V.search:"")),V.auth=F.auth||V.auth,V.slashes=V.slashes||F.slashes,V.href=V.format(),V},e.prototype.parseHost=function(){var F=this.host,H=n.exec(F);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),F=F.substr(0,F.length-H.length)),F&&(this.hostname=F)},Bh.parse=$,Bh.resolve=D,Bh.resolveObject=L,Bh.format=O,Bh.Url=e,Bh}var _F;function jY(){return _F||(_F=1,function(t){var e=uQe(),r=UY(),n=MW,s=lQe(),i=Q$(),o=t;o.request=function(c,l){typeof c=="string"?c=i.parse(c):c=n(c);var d=He.location.protocol.search(/^https?:$/)===-1?"http:":"",v=c.protocol||d,b=c.hostname||c.host,A=c.port,x=c.path||"/";b&&b.indexOf(":")!==-1&&(b="["+b+"]"),c.url=(b?v+"//"+b:"")+(A?":"+A:"")+x,c.method=(c.method||"GET").toUpperCase(),c.headers=c.headers||{};var R=new e(c);return l&&R.on("response",l),R},o.get=function(l,d){var v=o.request(l,d);return v.end(),v},o.ClientRequest=e,o.IncomingMessage=r.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=s,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(o4)),o4}var g4={exports:{}},EF;function vQe(){return EF||(EF=1,function(t){var e=jY(),r=Q$(),n=t.exports;for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.request=function(o,c){return o=i(o),e.request.call(this,o,c)},n.get=function(o,c){return o=i(o),e.get.call(this,o,c)};function i(o){if(typeof o=="string"&&(o=r.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}}(g4)),g4.exports}Object.defineProperty(_d,"__esModule",{value:!0});_d.InvalidStatusCodeError=_d.InvalidCertError=void 0;const qY=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class D5 extends Error{constructor(e,r){super(e),this.fingerprint256=r}}_d.InvalidCertError=D5;class Z$ extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}_d.InvalidStatusCodeError=Z$;function zY(t,e){if(!e||e==="text"||e==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(t);if(e==="text")return r;try{return JSON.parse(r)}catch(n){if(e==="json")throw n;return r}}catch(r){if(e==="text"||e==="json")throw r}return t}let SF={};function U5(t,e){var A;let r={...qY,...e};const n=jY(),s=vQe(),i=nh,{promisify:o}=rT,{resolve:c}=Q$(),l=!!/^https/.test(t);let d={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const v=x=>x.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const x={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},R=[l,l&&((A=r.sslPinnedCertificates)==null?void 0:A.map(C=>v(C)).sort())].join();d.agent=SF[R]||(SF[R]=new(l?s:n).Agent(x))}r.type==="json"&&(d.headers["Content-Type"]="application/json"),r.data&&(r.method||(d.method="POST"),d.body=r.type==="json"?JSON.stringify(r.data):r.data),d.headers={...d.headers,...r.headers},r.sslAllowSelfSigned&&(d.rejectUnauthorized=!1);const b=async x=>{const R=x.statusCode;if(r.redirect&&300<=R&&R<400&&x.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await U5(c(t,x.headers.location),r)}if(r.expectStatusCode&&R!==r.expectStatusCode)throw x.resume(),new Z$(R);let C=[];for await(const D of x)C.push(D);let T=Re.Buffer.concat(C);const $=x.headers["content-encoding"];$==="br"&&(T=await o(i.brotliDecompress)(T)),($==="gzip"||$==="deflate")&&(T=await o(i.unzip)(T));const O=zY(T,r.type);return r.full?{headers:x.headers,status:R,body:O}:O};return new Promise((x,R)=>{var D;const C=async L=>{if(L&&L.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await U5(t,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(F){F&&F.fingerprint256&&(L=new D5(`Self-signed SSL certificate: ${F.fingerprint256}`,F.fingerprint256))}R(L)},T=(l?s:n).request(t,d,L=>{L.on("error",C),(async()=>{try{x(await b(L))}catch(F){R(F)}})()});T.on("error",C);const $=(D=r.sslPinnedCertificates)==null?void 0:D.map(L=>v(L)),O=L=>{var H;const F=v(((H=L.getPeerCertificate())==null?void 0:H.fingerprint256)||"");if(!(!F&&L.isSessionReused())&&!$.includes(F))return T.emit("error",new D5(`Invalid SSL certificate: ${F} Expected: ${$}`,F)),T.abort()};r.sslPinnedCertificates&&T.on("socket",L=>{L.listeners("secureConnect").map(H=>(H.name||"").replace("bound ","")).includes("mfetchSecureConnect")||L.on("secureConnect",O.bind(null,L))}),r.keepAlive&&T.setNoDelay(!0),d.body&&T.write(d.body),T.end()})}const yQe=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(t=>t.toLowerCase())),mQe=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase()));async function bQe(t,e){let r={...qY,...e};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let s=new URL(t);if(s.username){const l=btoa(`${s.username}:${s.password}`);n.set("Authorization",`Basic ${l}`),s.username="",s.password=""}t=""+s;for(let l in r.headers){const d=l.toLowerCase();(yQe.has(d)||r.cors&&!mQe.has(d))&&n.set(l,r.headers[l])}let i={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(i.referrerPolicy="no-referrer"),r.cors&&(i.mode="cors"),r.data&&(r.method||(i.method="POST"),i.body=r.type==="json"?JSON.stringify(r.data):r.data);const o=await fetch(t,i);if(r.expectStatusCode&&o.status!==r.expectStatusCode)throw new Z$(o.status);const c=zY(new Uint8Array(await o.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(o.headers.entries()),status:o.status,body:c}:c}const wQe=!!(typeof mt=="object"&&mt.versions&&mt.versions.node&&mt.versions.v8);function _Qe(t,e){return(wQe?U5:bQe)(t,e)}_d.default=_Qe;Object.defineProperty(jp,"__esModule",{value:!0});jp.getProvider=jp.fetchFromProvider=void 0;const EQe=_d,SQe=async(t,e)=>(await(0,EQe.default)(t,{headers:{"content-type":"application/json"},type:"json",data:{method:e.method,params:e.params,jsonrpc:"2.0",id:1}})).result;jp.fetchFromProvider=SQe;const AQe=t=>{var e;if(typeof t=="string")return t;if(((e=t==null?void 0:t.connection)==null?void 0:e.url)!==void 0)return t.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};jp.getProvider=AQe;(function(t){var e=He&&He.__createBinding||(Object.create?function(s,i,o,c){c===void 0&&(c=o);var l=Object.getOwnPropertyDescriptor(i,o);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,c,l)}:function(s,i,o,c){c===void 0&&(c=o),s[c]=i[o]}),r=He&&He.__exportStar||function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,s,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,r(HS,t),r(ZS,t),r(V$,t),r(n1,t),r(YS,t),r(Ds,t),r(zd,t),r(W$,t),r(LY,t),r(rA,t);var n=Tn;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(nA,t),r(jp,t)})(dc);function xQe(t){return Array.isArray(t)&&t.length>0}function HY(t){return t==null}function VY(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var KY=(t,e)=>Object.hasOwnProperty.call(t,e);function MQe(t){return Object.getOwnPropertyNames(t)}var GY=(t=>(t[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date",t))(GY||{}),WY=/"|\\|\n|\r|\t/gu;function IQe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function JY(t){return t.charCodeAt(0)<=127}function RQe(t){return t.split("").reduce((r,n)=>JY(n)?r+1:r+2,0)+(t.match(WY)??[]).length}function TQe(t){return t.toString().length}class iA extends Error{constructor(e,{cause:r}={}){super(e),this.name=iA.name,r&&(this.cause=r),this.message=e}}const $Qe=(t,e)=>{if(!t||!e||!(t instanceof Error)||!(e.prototype instanceof Error)&&e!==Error)return;const r=new Set;let n=t;for(;n&&!r.has(n);){if(r.add(n),n instanceof e)return n;n=sA(n)}},sA=t=>{if(!(!t||typeof t!="object"||!("cause"in t)))if(typeof t.cause=="function"){const e=t.cause();return e instanceof Error?e:void 0}else return t.cause instanceof Error?t.cause:void 0},QY=(t,e)=>{if(!(t instanceof Error))return"";const r=t.stack||"";if(e.has(t))return r+`
causes have become circular...`;const n=sA(t);return n?(e.add(t),r+`
caused by: `+QY(n,e)):r},CQe=t=>QY(t,new Set),ZY=(t,e,r)=>{if(!(t instanceof Error))return"";const n=r?"":t.message||"";if(e.has(t))return n+": ...";const s=sA(t);if(s){e.add(t);const i="cause"in t&&typeof t.cause=="function";return n+(i?"":": ")+ZY(s,e,i)}else return n},OQe=t=>ZY(t,new Set),BQe=Object.freeze(Object.defineProperty({__proto__:null,ErrorWithCause:iA,findCauseByReference:$Qe,getErrorCause:sA,messageWithCauses:OQe,stackWithCauses:CQe},Symbol.toStringTag,{value:"Module"}));function PQe(t){return t instanceof Error||VY(t)&&t.constructor.name==="Error"}function XY(t){return typeof t=="object"&&t!==null&&"code"in t}function YY(t){return typeof t=="object"&&t!==null&&"message"in t}function NQe(t){return typeof t=="object"&&t!==null&&"stack"in t}function eee(t){return YY(t)&&typeof t.message=="string"?t.message:HY(t)?"":String(t)}function kQe(t,e){if(PQe(t)){let r;return Error.length===2?r=new Error(e,{cause:t}):r=new iA(e,{cause:t}),XY(t)&&(r.code=t.code),r}return e.length>0?new Error(`${String(t)}: ${e}`):new Error(String(t))}function LQe(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)==null?void 0:e.constructor)==null?void 0:r.name)=="string"}function DQe(t){return eee(t).replace(/\.$/u,"")}function tee(t,e){return LQe(t)?new t({message:e}):t({message:e})}var X$=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function xn(t,e="Assertion failed.",r=X$){if(!t)throw e instanceof Error?e:tee(r,e)}function Ha(t,e,r="Assertion failed",n=X$){try{Spe(t,e)}catch(s){throw tee(n,`${r}: ${DQe(s)}.`)}}function UQe(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}function sd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function FQe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Pl(t,...e){if(!FQe(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ree(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sd(t.outputLen),sd(t.blockLen)}function qp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nee(t,e){Pl(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const iw=BigInt(2**32-1),F5=BigInt(32);function iee(t,e=!1){return e?{h:Number(t&iw),l:Number(t>>F5&iw)}:{h:Number(t>>F5&iw)|0,l:Number(t&iw)|0}}function see(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=iee(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const jQe=(t,e)=>BigInt(t>>>0)<<F5|BigInt(e>>>0),qQe=(t,e,r)=>t>>>r,zQe=(t,e,r)=>t<<32-r|e>>>r,HQe=(t,e,r)=>t>>>r|e<<32-r,VQe=(t,e,r)=>t<<32-r|e>>>r,KQe=(t,e,r)=>t<<64-r|e>>>r-32,GQe=(t,e,r)=>t>>>r-32|e<<64-r,WQe=(t,e)=>e,JQe=(t,e)=>t,oee=(t,e,r)=>t<<r|e>>>32-r,aee=(t,e,r)=>e<<r|t>>>32-r,cee=(t,e,r)=>e<<r-32|t>>>64-r,fee=(t,e,r)=>t<<r-32|e>>>64-r;function QQe(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const ZQe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),XQe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,YQe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),eZe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,tZe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),rZe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,nZe={fromBig:iee,split:see,toBig:jQe,shrSH:qQe,shrSL:zQe,rotrSH:HQe,rotrSL:VQe,rotrBH:KQe,rotrBL:GQe,rotr32H:WQe,rotr32L:JQe,rotlSH:oee,rotlSL:aee,rotlBH:cee,rotlBL:fee,add:QQe,add3L:ZQe,add3H:XQe,add4L:YQe,add4H:eZe,add5H:rZe,add5L:tZe},Cr=nZe,v4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iZe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function Y$(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const od=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jc=(t,e)=>t<<32-e|t>>>e,sZe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sZe)throw new Error("Non little-endian hardware is not supported");const oZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function w2(t){if(!Y$(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=oZe[t[r]];return e}const su={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function AF(t){if(t>=su._0&&t<=su._9)return t-su._0;if(t>=su._A&&t<=su._F)return t-(su._A-10);if(t>=su._a&&t<=su._f)return t-(su._a-10)}function eC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=AF(t.charCodeAt(i)),c=AF(t.charCodeAt(i+1));if(o===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}n[s]=o*16+c}return n}function tC(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ed(t){if(typeof t=="string"&&(t=tC(t)),!Y$(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function j0(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];if(!Y$(s))throw new Error("Uint8Array expected");e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}class rC{clone(){return this._cloneInto()}}const aZe={}.toString;function cZe(t,e){if(e!==void 0&&aZe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function oA(t){const e=n=>t().update(Ed(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function fZe(t){const e=(n,s)=>t(s).update(Ed(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function uee(t=32){if(v4&&typeof v4.getRandomValues=="function")return v4.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[lee,hee,dee]=[[],[],[]],uZe=BigInt(0),Jv=BigInt(1),lZe=BigInt(2),hZe=BigInt(7),dZe=BigInt(256),pZe=BigInt(113);for(let t=0,e=Jv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],lee.push(2*(5*n+r)),hee.push((t+1)*(t+2)/2%64);let s=uZe;for(let i=0;i<7;i++)e=(e<<Jv^(e>>hZe)*pZe)%dZe,e&lZe&&(s^=Jv<<(Jv<<BigInt(i))-Jv);dee.push(s)}const[gZe,vZe]=see(dee,!0),xF=(t,e,r)=>r>32?cee(t,e,r):oee(t,e,r),MF=(t,e,r)=>r>32?fee(t,e,r):aee(t,e,r);function pee(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,d=r[l],v=r[l+1],b=xF(d,v,1)^r[c],A=MF(d,v,1)^r[c+1];for(let x=0;x<50;x+=10)t[o+x]^=b,t[o+x+1]^=A}let s=t[2],i=t[3];for(let o=0;o<24;o++){const c=hee[o],l=xF(s,i,c),d=MF(s,i,c),v=lee[o];s=t[v],i=t[v+1],t[v]=l,t[v+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)r[c]=t[o+c];for(let c=0;c<10;c++)t[o+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=gZe[n],t[1]^=vZe[n]}r.fill(0)}class i1 extends rC{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sd(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=iZe(this.state)}keccak(){pee(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){qp(this);const{blockLen:r,state:n}=this;e=Ed(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let c=0;c<o;c++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){qp(this,!1),Pl(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nee(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new i1(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const dh=(t,e,r)=>oA(()=>new i1(e,t,r)),yZe=dh(6,144,224/8),s1=dh(6,136,256/8),mZe=dh(6,104,384/8),bZe=dh(6,72,512/8),wZe=dh(1,144,224/8),gee=dh(1,136,256/8),_Ze=dh(1,104,384/8),EZe=dh(1,72,512/8),vee=(t,e,r)=>fZe((n={})=>new i1(e,t,n.dkLen===void 0?r:n.dkLen,!0)),SZe=vee(31,168,128/8),AZe=vee(31,136,256/8),xZe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:i1,keccakP:pee,keccak_224:wZe,keccak_256:gee,keccak_384:_Ze,keccak_512:EZe,sha3_224:yZe,sha3_256:s1,sha3_384:mZe,sha3_512:bZe,shake128:SZe,shake256:AZe},Symbol.toStringTag,{value:"Module"}));/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MZe(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function im(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Va(...t){const e=i=>i,r=(i,o)=>c=>i(o(c)),n=t.map(i=>i.encode).reduceRight(r,e),s=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:s}}function Bc(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function Pc(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function o1(t,e="="){if(typeof e!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of r)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function yee(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function j5(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0;const s=[],i=Array.from(t);for(i.forEach(o=>{if(o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,c=!0;for(let l=n;l<i.length;l++){const d=i[l],v=e*o+d;if(!Number.isSafeInteger(v)||e*o/e!==o||v-d!==e*o)throw new Error("convertRadix: carry overflow");o=v%r;const b=Math.floor(v/r);if(i[l]=b,!Number.isSafeInteger(b)||b*r+o!==v)throw new Error("convertRadix: carry overflow");if(c)b?c=!1:n=l;else continue}if(s.push(o),c)break}for(let o=0;o<t.length-1&&t[o]===0;o++)s.push(0);return s.reverse()}const mee=(t,e)=>e?mee(e,t%e):t,_2=(t,e)=>t+(e-mee(t,e));function E2(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(_2(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${_2(e,r)}`);let s=0,i=0;const o=2**r-1,c=[];for(const l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=r;i-=r)c.push((s>>i-r&o)>>>0);s&=2**i-1}if(s=s<<r-i&o,!n&&i>=e)throw new Error("Excess padding");if(!n&&s)throw new Error(`Non-zero padding: ${s}`);return n&&i>0&&c.push(s>>>0),c}function bee(t){return{encode:e=>{if(!im(e))throw new Error("radix.encode input should be Uint8Array");return j5(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(j5(e,t,2**8))}}}function Ff(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(_2(8,t)>32||_2(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!im(r))throw new Error("radix2.encode input should be Uint8Array");return E2(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(E2(r,t,8,e))}}}function IF(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function wee(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!im(r))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),s=new Uint8Array(r.length+t);return s.set(r),s.set(n,r.length),s},decode(r){if(!im(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),s=e(n).slice(0,t),i=r.slice(-t);for(let o=0;o<t;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return n}}}const IZe={alphabet:Bc,chain:Va,checksum:wee,convertRadix:j5,convertRadix2:E2,radix:bee,radix2:Ff,join:Pc,padding:o1},_ee=Va(Ff(4),Bc("0123456789ABCDEF"),Pc("")),Eee=Va(Ff(5),Bc("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o1(5),Pc("")),RZe=Va(Ff(5),Bc("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o1(5),Pc("")),TZe=Va(Ff(5),Bc("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Pc(""),yee(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),aA=Va(Ff(6),Bc("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o1(6),Pc("")),See=Va(Ff(6),Bc("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o1(6),Pc("")),$Ze=Va(Ff(6),Bc("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Pc("")),nC=t=>Va(bee(58),Bc(t),Pc("")),sm=nC("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),CZe=nC("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),OZe=nC("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),RF=[0,2,3,5,6,7,9,10,11],Aee={encode(t){let e="";for(let r=0;r<t.length;r+=8){const n=t.subarray(r,r+8);e+=sm.encode(n).padStart(RF[n.length],"1")}return e},decode(t){let e=[];for(let r=0;r<t.length;r+=11){const n=t.slice(r,r+11),s=RF.indexOf(n.length),i=sm.decode(n);for(let o=0;o<i.length-s;o++)if(i[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},iC=t=>Va(wee(4,e=>t(t(e))),sm),BZe=iC,q5=Va(Bc("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Pc("")),TF=[996825010,642813549,513874426,1027748829,705979059];function Qv(t){const e=t>>25;let r=(t&33554431)<<5;for(let n=0;n<TF.length;n++)(e>>n&1)===1&&(r^=TF[n]);return r}function $F(t,e,r=1){const n=t.length;let s=1;for(let i=0;i<n;i++){const o=t.charCodeAt(i);if(o<33||o>126)throw new Error(`Invalid prefix (${t})`);s=Qv(s)^o>>5}s=Qv(s);for(let i=0;i<n;i++)s=Qv(s)^t.charCodeAt(i)&31;for(let i of e)s=Qv(s)^i;for(let i=0;i<6;i++)s=Qv(s);return s^=r,q5.encode(E2([s%2**30],30,5,!1))}function xee(t){const e=t==="bech32"?1:734539939,r=Ff(5),n=r.decode,s=r.encode,i=IF(n);function o(v,b,A=90){if(typeof v!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof v}`);if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof b}`);const x=v.length+7+b.length;if(A!==!1&&x>A)throw new TypeError(`Length ${x} exceeds limit ${A}`);const R=v.toLowerCase(),C=$F(R,b,e);return`${R}1${q5.encode(b)}${C}`}function c(v,b=90){if(typeof v!="string")throw new Error(`bech32.decode input should be string, not ${typeof v}`);if(v.length<8||b!==!1&&v.length>b)throw new TypeError(`Wrong string length: ${v.length} (${v}). Expected (8..${b})`);const A=v.toLowerCase();if(v!==A&&v!==v.toUpperCase())throw new Error("String must be lowercase or uppercase");v=A;const x=v.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const R=v.slice(0,x),C=v.slice(x+1);if(C.length<6)throw new Error("Data must be at least 6 characters long");const T=q5.decode(C).slice(0,-6),$=$F(R,T,e);if(!C.endsWith($))throw new Error(`Invalid checksum in ${v}: expected "${$}"`);return{prefix:R,words:T}}const l=IF(c);function d(v){const{prefix:b,words:A}=c(v,!1);return{prefix:b,words:A,bytes:n(A)}}return{encode:o,decode:c,decodeToBytes:d,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:i,toWords:s}}const PZe=xee("bech32"),NZe=xee("bech32m"),Mee={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},Iee=Va(Ff(4),Bc("0123456789abcdef"),Pc(""),yee(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),S2={utf8:Mee,hex:Iee,base16:_ee,base32:Eee,base64:aA,base64url:See,base58:sm,base58xmr:Aee},Ree="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",Tee=(t,e)=>{if(typeof t!="string"||!S2.hasOwnProperty(t))throw new TypeError(Ree);if(!im(e))throw new TypeError("bytesToString() expects Uint8Array");return S2[t].encode(e)},kZe=Tee,$ee=(t,e)=>{if(!S2.hasOwnProperty(t))throw new TypeError(Ree);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return S2[t].decode(e)},LZe=$ee,DZe=Object.freeze(Object.defineProperty({__proto__:null,assertNumber:MZe,base16:_ee,base32:Eee,base32crockford:TZe,base32hex:RZe,base58:sm,base58check:BZe,base58flickr:CZe,base58xmr:Aee,base58xrp:OZe,base64:aA,base64url:See,base64urlnopad:$Ze,bech32:PZe,bech32m:NZe,bytes:LZe,bytesToString:Tee,createBase58check:iC,hex:Iee,str:kZe,stringToBytes:$ee,utf8:Mee,utils:IZe},Symbol.toStringTag,{value:"Module"}));var CF=48,OF=58,BF=87;function UZe(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}var FZe=UZe();function sC(t){return t instanceof Uint8Array}function Hd(t){xn(sC(t),"Value must be a Uint8Array.")}function cA(t){if(Hd(t),t.length===0)return"0x";const e=FZe(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return zg(r.join(""))}function Cee(t){Hd(t);const e=cA(t);return BigInt(e)}function jZe(t){Hd(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}function qZe(t){Hd(t);const e=Cee(t);return xn(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}function zZe(t){return Hd(t),new TextDecoder().decode(t)}function HZe(t){return Hd(t),aA.encode(t)}function a1(t){var s;if(((s=t==null?void 0:t.toLowerCase)==null?void 0:s.call(t))==="0x")return new Uint8Array;fA(t);const e=om(t).toLowerCase(),r=e.length%2===0?e:`0${e}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const o=r.charCodeAt(i*2),c=r.charCodeAt(i*2+1),l=o-(o<OF?CF:BF),d=c-(c<OF?CF:BF);n[i]=l*16+d}return n}function Oee(t){xn(typeof t=="bigint","Value must be a bigint."),xn(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return a1(e)}function VZe(t,e){xn(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function KZe(t,e){xn(typeof t=="bigint","Value must be a bigint."),xn(typeof e=="number","Byte length must be a number."),xn(e>0,"Byte length must be greater than 0."),xn(VZe(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function Bee(t){xn(typeof t=="number","Value must be a number."),xn(t>=0,"Value must be a non-negative number."),xn(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return a1(e)}function Pee(t){return xn(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}function GZe(t){return xn(typeof t=="string","Value must be a string."),aA.decode(t)}function Nee(t){if(typeof t=="bigint")return Oee(t);if(typeof t=="number")return Bee(t);if(typeof t=="string")return t.startsWith("0x")?a1(t):Pee(t);if(sC(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}function WZe(t){const e=new Array(t.length);let r=0;for(let s=0;s<t.length;s++){const i=Nee(t[s]);e[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<e.length;s++)n.set(e[s],i),i+=e[s].length;return n}function JZe(t){if(typeof Re.Buffer<"u"&&t instanceof Re.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}var kee=Pf(hi(),/^(?:0x)?[0-9a-f]+$/iu),qg=Pf(hi(),/^0x[0-9a-f]+$/iu),Lee=Pf(hi(),/^0x[0-9a-f]{40}$/u),oC=Pf(hi(),/^0x[0-9a-fA-F]{40}$/u);function Dee(t){return mi(t,kee)}function Uee(t){return mi(t,qg)}function fA(t){xn(Dee(t),"Value must be a hexadecimal string.")}function QZe(t){xn(Uee(t),'Value must be a hexadecimal string, starting with "0x".')}function ZZe(t){return mi(t,Lee)||jee(t)}function Fee(t){xn(mi(t,oC),"Invalid hex address.");const e=om(t.toLowerCase()),r=om(cA(gee(e)));return`0x${e.split("").map((n,s)=>{const i=r[s];return xn(mi(i,hi()),"Hash shorter than address."),parseInt(i,16)>7?n.toUpperCase():n}).join("")}`}function jee(t){return mi(t,oC)?Fee(t)===t:!1}function zg(t){return t.startsWith("0x")?t:t.startsWith("0X")?`0x${t.substring(2)}`:`0x${t}`}function om(t){return t.startsWith("0x")||t.startsWith("0X")?t.substring(2):t}var XZe=t=>(xn(typeof t=="number","Value must be a number."),xn(t>=0,"Value must be a non-negative number."),xn(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),zg(t.toString(16))),YZe=t=>(xn(typeof t=="bigint","Value must be a bigint."),xn(t>=0,"Value must be a non-negative bigint."),zg(t.toString(16))),eXe=t=>{fA(t);const e=parseInt(t,16);return xn(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e},tXe=t=>(fA(t),BigInt(zg(t))),qee=(t=>(t[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Year=31536e6]="Year",t))(qee||{}),rXe=t=>Number.isInteger(t)&&t>=0,zee=(t,e)=>{if(!rXe(t))throw new Error(`"${e}" must be a non-negative integer. Received: "${t}".`)};function nXe(t,e){return zee(t,"count"),t*e}function iXe(t){return zee(t,"timestamp"),Date.now()-t}var z5={exports:{}};const sXe="2.0.0",Hee=256,oXe=Number.MAX_SAFE_INTEGER||9007199254740991,aXe=16,cXe=Hee-6,fXe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var uA={MAX_LENGTH:Hee,MAX_SAFE_COMPONENT_LENGTH:aXe,MAX_SAFE_BUILD_LENGTH:cXe,MAX_SAFE_INTEGER:oXe,RELEASE_TYPES:fXe,SEMVER_SPEC_VERSION:sXe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const uXe=typeof mt=="object"&&mt.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var lA=uXe;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=uA,i=lA;e=t.exports={};const o=e.re=[],c=e.safeRe=[],l=e.src=[],d=e.t={};let v=0;const b="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",s],[b,n]],x=C=>{for(const[T,$]of A)C=C.split(`${T}*`).join(`${T}{0,${$}}`).split(`${T}+`).join(`${T}{1,${$}}`);return C},R=(C,T,$)=>{const O=x(T),D=v++;i(C,D,T),d[C]=D,l[D]=T,o[D]=new RegExp(T,$?"g":void 0),c[D]=new RegExp(O,$?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),R("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${b}+`),R("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),R("FULL",`^${l[d.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),R("LOOSE",`^${l[d.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),R("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),R("COERCERTL",l[d.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",R("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",R("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(z5,z5.exports);var c1=z5.exports;const lXe=Object.freeze({loose:!0}),hXe=Object.freeze({}),dXe=t=>t?typeof t!="object"?lXe:t:hXe;var aC=dXe;const PF=/^[0-9]+$/,Vee=(t,e)=>{const r=PF.test(t),n=PF.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},pXe=(t,e)=>Vee(e,t);var Kee={compareIdentifiers:Vee,rcompareIdentifiers:pXe};const sw=lA,{MAX_LENGTH:NF,MAX_SAFE_INTEGER:ow}=uA,{safeRe:kF,t:LF}=c1,gXe=aC,{compareIdentifiers:w0}=Kee;let vXe=class Xc{constructor(e,r){if(r=gXe(r),e instanceof Xc){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>NF)throw new TypeError(`version is longer than ${NF} characters`);sw("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?kF[LF.LOOSE]:kF[LF.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ow||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ow||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ow||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<ow)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(sw("SemVer.compare",this.version,this.options,e),!(e instanceof Xc)){if(typeof e=="string"&&e===this.version)return 0;e=new Xc(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Xc||(e=new Xc(e,this.options)),w0(this.major,e.major)||w0(this.minor,e.minor)||w0(this.patch,e.patch)}comparePre(e){if(e instanceof Xc||(e=new Xc(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(sw("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return w0(n,s)}while(++r)}compareBuild(e){e instanceof Xc||(e=new Xc(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(sw("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return w0(n,s)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),w0(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var io=vXe;const DF=io,yXe=(t,e,r=!1)=>{if(t instanceof DF)return t;try{return new DF(t,e)}catch(n){if(!r)return null;throw n}};var Hg=yXe;const mXe=Hg,bXe=(t,e)=>{const r=mXe(t,e);return r?r.version:null};var wXe=bXe;const _Xe=Hg,EXe=(t,e)=>{const r=_Xe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var SXe=EXe;const UF=io,AXe=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new UF(t instanceof UF?t.version:t,r).inc(e,n,s).version}catch{return null}};var xXe=AXe;const FF=Hg,MXe=(t,e)=>{const r=FF(t,null,!0),n=FF(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,c=i?n:r,l=!!o.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";const v=l?"pre":"";return r.major!==n.major?v+"major":r.minor!==n.minor?v+"minor":r.patch!==n.patch?v+"patch":"prerelease"};var IXe=MXe;const RXe=io,TXe=(t,e)=>new RXe(t,e).major;var $Xe=TXe;const CXe=io,OXe=(t,e)=>new CXe(t,e).minor;var BXe=OXe;const PXe=io,NXe=(t,e)=>new PXe(t,e).patch;var kXe=NXe;const LXe=Hg,DXe=(t,e)=>{const r=LXe(t,e);return r&&r.prerelease.length?r.prerelease:null};var UXe=DXe;const jF=io,FXe=(t,e,r)=>new jF(t,r).compare(new jF(e,r));var Nc=FXe;const jXe=Nc,qXe=(t,e,r)=>jXe(e,t,r);var zXe=qXe;const HXe=Nc,VXe=(t,e)=>HXe(t,e,!0);var KXe=VXe;const qF=io,GXe=(t,e,r)=>{const n=new qF(t,r),s=new qF(e,r);return n.compare(s)||n.compareBuild(s)};var cC=GXe;const WXe=cC,JXe=(t,e)=>t.sort((r,n)=>WXe(r,n,e));var QXe=JXe;const ZXe=cC,XXe=(t,e)=>t.sort((r,n)=>ZXe(n,r,e));var YXe=XXe;const eYe=Nc,tYe=(t,e,r)=>eYe(t,e,r)>0;var hA=tYe;const rYe=Nc,nYe=(t,e,r)=>rYe(t,e,r)<0;var fC=nYe;const iYe=Nc,sYe=(t,e,r)=>iYe(t,e,r)===0;var Gee=sYe;const oYe=Nc,aYe=(t,e,r)=>oYe(t,e,r)!==0;var Wee=aYe;const cYe=Nc,fYe=(t,e,r)=>cYe(t,e,r)>=0;var uC=fYe;const uYe=Nc,lYe=(t,e,r)=>uYe(t,e,r)<=0;var lC=lYe;const hYe=Gee,dYe=Wee,pYe=hA,gYe=uC,vYe=fC,yYe=lC,mYe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return hYe(t,r,n);case"!=":return dYe(t,r,n);case">":return pYe(t,r,n);case">=":return gYe(t,r,n);case"<":return vYe(t,r,n);case"<=":return yYe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Jee=mYe;const bYe=io,wYe=Hg,{safeRe:aw,t:cw}=c1,_Ye=(t,e)=>{if(t instanceof bYe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(aw[cw.COERCE]);else{let n;for(;(n=aw[cw.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),aw[cw.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;aw[cw.COERCERTL].lastIndex=-1}return r===null?null:wYe(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var EYe=_Ye,y4,zF;function kc(){if(zF)return y4;zF=1;class t{constructor(h,p){if(p=n(p),h instanceof t)return h.loose===!!p.loose&&h.includePrerelease===!!p.includePrerelease?h:new t(h.raw,p);if(h instanceof s)return this.raw=h.value,this.set=[[h]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(y=>this.parseRange(y.trim())).filter(y=>y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const y=this.set[0];if(this.set=this.set.filter(w=>!R(w[0])),this.set.length===0)this.set=[y];else if(this.set.length>1){for(const w of this.set)if(w.length===1&&C(w[0])){this.set=[w];break}}}this.format()}format(){return this.range=this.set.map(h=>h.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(h){const y=((this.options.includePrerelease&&A)|(this.options.loose&&x))+":"+h,w=r.get(y);if(w)return w;const _=this.options.loose,g=_?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];h=h.replace(g,S(this.options.includePrerelease)),i("hyphen replace",h),h=h.replace(c[l.COMPARATORTRIM],d),i("comparator trim",h),h=h.replace(c[l.TILDETRIM],v),i("tilde trim",h),h=h.replace(c[l.CARETTRIM],b),i("caret trim",h);let f=h.split(" ").map(j=>$(j,this.options)).join(" ").split(/\s+/).map(j=>se(j,this.options));_&&(f=f.filter(j=>(i("loose invalid filter",j,this.options),!!j.match(c[l.COMPARATORLOOSE])))),i("range list",f);const m=new Map,I=f.map(j=>new s(j,this.options));for(const j of I){if(R(j))return[j];m.set(j.value,j)}m.size>1&&m.has("")&&m.delete("");const P=[...m.values()];return r.set(y,P),P}intersects(h,p){if(!(h instanceof t))throw new TypeError("a Range is required");return this.set.some(y=>T(y,p)&&h.set.some(w=>T(w,p)&&y.every(_=>w.every(g=>_.intersects(g,p)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new o(h,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(a(this.set[p],h,this.options))return!0;return!1}}y4=t;const e=X2,r=new e({max:1e3}),n=aC,s=dA(),i=lA,o=io,{safeRe:c,t:l,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:b}=c1,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:x}=uA,R=u=>u.value==="<0.0.0-0",C=u=>u.value==="",T=(u,h)=>{let p=!0;const y=u.slice();let w=y.pop();for(;p&&y.length;)p=y.every(_=>w.intersects(_,h)),w=y.pop();return p},$=(u,h)=>(i("comp",u,h),u=F(u,h),i("caret",u),u=D(u,h),i("tildes",u),u=V(u,h),i("xrange",u),u=Z(u,h),i("stars",u),u),O=u=>!u||u.toLowerCase()==="x"||u==="*",D=(u,h)=>u.trim().split(/\s+/).map(p=>L(p,h)).join(" "),L=(u,h)=>{const p=h.loose?c[l.TILDELOOSE]:c[l.TILDE];return u.replace(p,(y,w,_,g,f)=>{i("tilde",u,y,w,_,g,f);let m;return O(w)?m="":O(_)?m=`>=${w}.0.0 <${+w+1}.0.0-0`:O(g)?m=`>=${w}.${_}.0 <${w}.${+_+1}.0-0`:f?(i("replaceTilde pr",f),m=`>=${w}.${_}.${g}-${f} <${w}.${+_+1}.0-0`):m=`>=${w}.${_}.${g} <${w}.${+_+1}.0-0`,i("tilde return",m),m})},F=(u,h)=>u.trim().split(/\s+/).map(p=>H(p,h)).join(" "),H=(u,h)=>{i("caret",u,h);const p=h.loose?c[l.CARETLOOSE]:c[l.CARET],y=h.includePrerelease?"-0":"";return u.replace(p,(w,_,g,f,m)=>{i("caret",u,w,_,g,f,m);let I;return O(_)?I="":O(g)?I=`>=${_}.0.0${y} <${+_+1}.0.0-0`:O(f)?_==="0"?I=`>=${_}.${g}.0${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.0${y} <${+_+1}.0.0-0`:m?(i("replaceCaret pr",m),_==="0"?g==="0"?I=`>=${_}.${g}.${f}-${m} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}-${m} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f}-${m} <${+_+1}.0.0-0`):(i("no pr"),_==="0"?g==="0"?I=`>=${_}.${g}.${f}${y} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f} <${+_+1}.0.0-0`),i("caret return",I),I})},V=(u,h)=>(i("replaceXRanges",u,h),u.split(/\s+/).map(p=>J(p,h)).join(" ")),J=(u,h)=>{u=u.trim();const p=h.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return u.replace(p,(y,w,_,g,f,m)=>{i("xRange",u,y,w,_,g,f,m);const I=O(_),P=I||O(g),j=P||O(f),k=j;return w==="="&&k&&(w=""),m=h.includePrerelease?"-0":"",I?w===">"||w==="<"?y="<0.0.0-0":y="*":w&&k?(P&&(g=0),f=0,w===">"?(w=">=",P?(_=+_+1,g=0,f=0):(g=+g+1,f=0)):w==="<="&&(w="<",P?_=+_+1:g=+g+1),w==="<"&&(m="-0"),y=`${w+_}.${g}.${f}${m}`):P?y=`>=${_}.0.0${m} <${+_+1}.0.0-0`:j&&(y=`>=${_}.${g}.0${m} <${_}.${+g+1}.0-0`),i("xRange return",y),y})},Z=(u,h)=>(i("replaceStars",u,h),u.trim().replace(c[l.STAR],"")),se=(u,h)=>(i("replaceGTE0",u,h),u.trim().replace(c[h.includePrerelease?l.GTE0PRE:l.GTE0],"")),S=u=>(h,p,y,w,_,g,f,m,I,P,j,k,z)=>(O(y)?p="":O(w)?p=`>=${y}.0.0${u?"-0":""}`:O(_)?p=`>=${y}.${w}.0${u?"-0":""}`:g?p=`>=${p}`:p=`>=${p}${u?"-0":""}`,O(I)?m="":O(P)?m=`<${+I+1}.0.0-0`:O(j)?m=`<${I}.${+P+1}.0-0`:k?m=`<=${I}.${P}.${j}-${k}`:u?m=`<${I}.${P}.${+j+1}-0`:m=`<=${m}`,`${p} ${m}`.trim()),a=(u,h,p)=>{for(let y=0;y<u.length;y++)if(!u[y].test(h))return!1;if(h.prerelease.length&&!p.includePrerelease){for(let y=0;y<u.length;y++)if(i(u[y].semver),u[y].semver!==s.ANY&&u[y].semver.prerelease.length>0){const w=u[y].semver;if(w.major===h.major&&w.minor===h.minor&&w.patch===h.patch)return!0}return!1}return!0};return y4}var m4,HF;function dA(){if(HF)return m4;HF=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(v,b){if(b=r(b),v instanceof e){if(v.loose===!!b.loose)return v;v=v.value}v=v.trim().split(/\s+/).join(" "),o("comparator",v,b),this.options=b,this.loose=!!b.loose,this.parse(v),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(v){const b=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],A=v.match(b);if(!A)throw new TypeError(`Invalid comparator: ${v}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new c(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(v){if(o("Comparator.test",v,this.options.loose),this.semver===t||v===t)return!0;if(typeof v=="string")try{v=new c(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,b){if(!(v instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(v.value,b).test(this.value):v.operator===""?v.value===""?!0:new l(this.value,b).test(v.semver):(b=r(b),b.includePrerelease&&(this.value==="<0.0.0-0"||v.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||v.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&v.operator.startsWith(">")||this.operator.startsWith("<")&&v.operator.startsWith("<")||this.semver.version===v.semver.version&&this.operator.includes("=")&&v.operator.includes("=")||i(this.semver,"<",v.semver,b)&&this.operator.startsWith(">")&&v.operator.startsWith("<")||i(this.semver,">",v.semver,b)&&this.operator.startsWith("<")&&v.operator.startsWith(">")))}}m4=e;const r=aC,{safeRe:n,t:s}=c1,i=Jee,o=lA,c=io,l=kc();return m4}const SYe=kc(),AYe=(t,e,r)=>{try{e=new SYe(e,r)}catch{return!1}return e.test(t)};var pA=AYe;const xYe=kc(),MYe=(t,e)=>new xYe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var IYe=MYe;const RYe=io,TYe=kc(),$Ye=(t,e,r)=>{let n=null,s=null,i=null;try{i=new TYe(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new RYe(n,r))}),n};var CYe=$Ye;const OYe=io,BYe=kc(),PYe=(t,e,r)=>{let n=null,s=null,i=null;try{i=new BYe(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new OYe(n,r))}),n};var NYe=PYe;const b4=io,kYe=kc(),VF=hA,LYe=(t,e)=>{t=new kYe(t,e);let r=new b4("0.0.0");if(t.test(r)||(r=new b4("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(o=>{const c=new b4(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||VF(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||VF(r,i))&&(r=i)}return r&&t.test(r)?r:null};var DYe=LYe;const UYe=kc(),FYe=(t,e)=>{try{return new UYe(t,e).range||"*"}catch{return null}};var jYe=FYe;const qYe=io,Qee=dA(),{ANY:zYe}=Qee,HYe=kc(),VYe=pA,KF=hA,GF=fC,KYe=lC,GYe=uC,WYe=(t,e,r,n)=>{t=new qYe(t,n),e=new HYe(e,n);let s,i,o,c,l;switch(r){case">":s=KF,i=KYe,o=GF,c=">",l=">=";break;case"<":s=GF,i=GYe,o=KF,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(VYe(t,e,n))return!1;for(let d=0;d<e.set.length;++d){const v=e.set[d];let b=null,A=null;if(v.forEach(x=>{x.semver===zYe&&(x=new Qee(">=0.0.0")),b=b||x,A=A||x,s(x.semver,b.semver,n)?b=x:o(x.semver,A.semver,n)&&(A=x)}),b.operator===c||b.operator===l||(!A.operator||A.operator===c)&&i(t,A.semver))return!1;if(A.operator===l&&o(t,A.semver))return!1}return!0};var hC=WYe;const JYe=hC,QYe=(t,e,r)=>JYe(t,e,">",r);var ZYe=QYe;const XYe=hC,YYe=(t,e,r)=>XYe(t,e,"<",r);var eet=YYe;const WF=kc(),tet=(t,e,r)=>(t=new WF(t,r),e=new WF(e,r),t.intersects(e,r));var ret=tet;const net=pA,iet=Nc;var set=(t,e,r)=>{const n=[];let s=null,i=null;const o=t.sort((v,b)=>iet(v,b,r));for(const v of o)net(v,e,r)?(i=v,s||(s=v)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[v,b]of n)v===b?c.push(v):!b&&v===o[0]?c.push("*"):b?v===o[0]?c.push(`<=${b}`):c.push(`${v} - ${b}`):c.push(`>=${v}`);const l=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e};const JF=kc(),dC=dA(),{ANY:w4}=dC,Zv=pA,pC=Nc,oet=(t,e,r={})=>{if(t===e)return!0;t=new JF(t,r),e=new JF(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const o=cet(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},aet=[new dC(">=0.0.0-0")],QF=[new dC(">=0.0.0")],cet=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===w4){if(e.length===1&&e[0].semver===w4)return!0;r.includePrerelease?t=aet:t=QF}if(e.length===1&&e[0].semver===w4){if(r.includePrerelease)return!0;e=QF}const n=new Set;let s,i;for(const x of t)x.operator===">"||x.operator===">="?s=ZF(s,x,r):x.operator==="<"||x.operator==="<="?i=XF(i,x,r):n.add(x.semver);if(n.size>1)return null;let o;if(s&&i){if(o=pC(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const x of n){if(s&&!Zv(x,String(s),r)||i&&!Zv(x,String(i),r))return null;for(const R of e)if(!Zv(x,String(R),r))return!1;return!0}let c,l,d,v,b=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,A=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;b&&b.prerelease.length===1&&i.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const x of e){if(v=v||x.operator===">"||x.operator===">=",d=d||x.operator==="<"||x.operator==="<=",s){if(A&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===A.major&&x.semver.minor===A.minor&&x.semver.patch===A.patch&&(A=!1),x.operator===">"||x.operator===">="){if(c=ZF(s,x,r),c===x&&c!==s)return!1}else if(s.operator===">="&&!Zv(s.semver,String(x),r))return!1}if(i){if(b&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===b.major&&x.semver.minor===b.minor&&x.semver.patch===b.patch&&(b=!1),x.operator==="<"||x.operator==="<="){if(l=XF(i,x,r),l===x&&l!==i)return!1}else if(i.operator==="<="&&!Zv(i.semver,String(x),r))return!1}if(!x.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&v&&!s&&o!==0||A||b)},ZF=(t,e,r)=>{if(!t)return e;const n=pC(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},XF=(t,e,r)=>{if(!t)return e;const n=pC(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var fet=oet;const _4=c1,YF=uA,uet=io,ej=Kee,het=Hg,det=wXe,pet=SXe,get=xXe,vet=IXe,yet=$Xe,met=BXe,bet=kXe,wet=UXe,_et=Nc,Eet=zXe,Aet=KXe,xet=cC,Met=QXe,Iet=YXe,Ret=hA,Tet=fC,$et=Gee,Cet=Wee,Oet=uC,Bet=lC,Pet=Jee,Net=EYe,ket=dA(),Let=kc(),Det=pA,Uet=IYe,Fet=CYe,jet=NYe,qet=DYe,zet=jYe,Het=hC,Vet=ZYe,Ket=eet,Get=ret,Wet=set,Jet=fet;var f1={parse:het,valid:det,clean:pet,inc:get,diff:vet,major:yet,minor:met,patch:bet,prerelease:wet,compare:_et,rcompare:Eet,compareLoose:Aet,compareBuild:xet,sort:Met,rsort:Iet,gt:Ret,lt:Tet,eq:$et,neq:Cet,gte:Oet,lte:Bet,cmp:Pet,coerce:Net,Comparator:ket,Range:Let,satisfies:Det,toComparators:Uet,maxSatisfying:Fet,minSatisfying:jet,minVersion:qet,validRange:zet,outside:Het,gtr:Vet,ltr:Ket,intersects:Get,simplifyRange:Wet,subset:Jet,SemVer:uet,re:_4.re,src:_4.src,tokens:_4.t,SEMVER_SPEC_VERSION:YF.SEMVER_SPEC_VERSION,RELEASE_TYPES:YF.RELEASE_TYPES,compareIdentifiers:ej.compareIdentifiers,rcompareIdentifiers:ej.rcompareIdentifiers},gC=_V(hi(),"Version",t=>f1.valid(t)===null?`Expected SemVer version, got "${t}"`:!0),vC=_V(hi(),"Version range",t=>f1.validRange(t)===null?`Expected SemVer range, got "${t}"`:!0);function Qet(t){return mi(t,gC)}function Zet(t){return mi(t,vC)}function Xet(t){Ha(t,gC)}function Yet(t){Ha(t,vC)}function ett(t,e){return f1.gt(t,e)}function ttt(t,e){return f1.gtr(t,e)}function rtt(t,e){return f1.satisfies(t,e,{includePrerelease:!0})}var Vg=t=>EV(t);function tj({path:t,branch:e}){const r=t[t.length-1];return KY(e[e.length-2],r)}function am(t){return new Ape({...t,type:`optional ${t.type}`,validator:(e,r)=>!tj(r)||t.validator(e,r),refiner:(e,r)=>!tj(r)||t.refiner(e,r)})}var ntt=()=>$pe("finite number",t=>mi(t,Y2())&&Number.isFinite(t)),cm=Od([SV(null),xpe(),ntt(),hi(),AV(XN(()=>cm)),xV(hi(),XN(()=>cm))]),Sd=$m(cm,Mpe(),t=>(Ha(t,cm),JSON.parse(JSON.stringify(t,(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r}))));function itt(t){try{return Zee(t),!0}catch{return!1}}function Zee(t){return Cm(t,Sd)}function stt(t){Ha(t,Sd,"Invalid JSON value");const e=JSON.stringify(t);return new TextEncoder().encode(e).byteLength}var Xee="2.0",Kg=SV(Xee),u1=Ipe(Od([Y2(),hi()])),l1=Vg({code:Rpe(),message:hi(),data:am(Sd),stack:am(hi())}),yC=Od([xV(hi(),Sd),AV(Sd)]),mC=Vg({id:u1,jsonrpc:Kg,method:hi(),params:am(yC)}),bC=Vg({jsonrpc:Kg,method:hi(),params:am(yC)});function ott(t){return mi(t,bC)}function att(t,e){Ha(t,bC,"Invalid JSON-RPC notification",e)}function ctt(t){return mi(t,mC)}function ftt(t,e){Ha(t,mC,"Invalid JSON-RPC request",e)}var wC=EV({id:u1,jsonrpc:Kg,result:YN(Tpe()),error:YN(l1)}),gA=Vg({id:u1,jsonrpc:Kg,result:Sd}),vA=Vg({id:u1,jsonrpc:Kg,error:l1}),_C=Od([gA,vA]);function utt(t){return mi(t,wC)}function ltt(t,e){Ha(t,wC,"Invalid pending JSON-RPC response",e)}function htt(t){return mi(t,_C)}function dtt(t,e){Ha(t,_C,"Invalid JSON-RPC response",e)}function ptt(t){return mi(t,gA)}function gtt(t,e){Ha(t,gA,"Invalid JSON-RPC success response",e)}function vtt(t){return mi(t,vA)}function ytt(t,e){Ha(t,vA,"Invalid JSON-RPC failure response",e)}function mtt(t){return mi(t,l1)}function btt(t,e){Ha(t,l1,"Invalid JSON-RPC error",e)}function wtt(t){const{permitEmptyString:e,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...t};return i=>!!(typeof i=="number"&&(r||Number.isInteger(i))||typeof i=="string"&&(e||i.length>0)||n&&i===null)}var _tt=Cpe("metamask");function Ett(t){return _tt.extend(t)}function Stt(t,e){return t.extend(e)}var EC=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Yee=/^[-a-z0-9]{3,8}$/u,ete=/^[-_a-zA-Z0-9]{1,32}$/u,SC=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,tte=/^[-.%a-zA-Z0-9]{1,128}$/u,rte=Pf(hi(),EC),nte=Pf(hi(),Yee),ite=Pf(hi(),ete),ste=Pf(hi(),SC),ote=Pf(hi(),tte);function Att(t){return mi(t,rte)}function xtt(t){return mi(t,nte)}function Mtt(t){return mi(t,ite)}function Itt(t){return mi(t,ste)}function Rtt(t){return mi(t,ote)}function Ttt(t){const e=EC.exec(t);if(!(e!=null&&e.groups))throw new Error("Invalid CAIP chain ID.");return{namespace:e.groups.namespace,reference:e.groups.reference}}function $tt(t){const e=SC.exec(t);if(!(e!=null&&e.groups))throw new Error("Invalid CAIP account ID.");return{address:e.groups.accountAddress,chainId:e.groups.chainId,chain:{namespace:e.groups.namespace,reference:e.groups.reference}}}var ate=(t,e={})=>{const r=e.paddingRequired??!1,n=e.characterSet??"base64";let s;n==="base64"?s=String.raw`[A-Za-z0-9+\/]`:(xn(n==="base64url"),s=String.raw`[-_A-Za-z0-9]`);let i;return r?i=new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):i=new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),Pf(t,i)},Ctt=Ope(ate(hi(),{paddingRequired:!0}),44,44),cte=Od([Y2(),MV(),hi(),qg]),Ott=$m(Y2(),cte,Number),Btt=$m(MV(),cte,BigInt);Od([qg,uR(Uint8Array)]);var Ptt=$m(uR(Uint8Array),Od([qg]),a1),Ntt=$m(qg,uR(Uint8Array),cA);function ktt(t){try{const e=Cm(t,Ott);return xn(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof eE?new Error(`Expected a number-like value, got "${t}".`):e}}function Ltt(t){try{return Cm(t,Btt)}catch(e){throw e instanceof eE?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}function Dtt(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return Cm(t,Ptt)}catch(e){throw e instanceof eE?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}function Utt(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return Cm(t,Ntt)}catch(e){throw e instanceof eE?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}var fte=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Qs=(t,e,r)=>(fte(t,e,"read from private field"),r?r.call(t):e.get(t)),ute=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},lte=(t,e,r,n)=>(fte(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),oc,AC=class{constructor(e){ute(this,oc,void 0),lte(this,oc,new Map(e)),Object.freeze(this)}get size(){return Qs(this,oc).size}[Symbol.iterator](){return Qs(this,oc)[Symbol.iterator]()}entries(){return Qs(this,oc).entries()}forEach(e,r){return Qs(this,oc).forEach((n,s,i)=>e.call(r,n,s,this))}get(e){return Qs(this,oc).get(e)}has(e){return Qs(this,oc).has(e)}keys(){return Qs(this,oc).keys()}values(){return Qs(this,oc).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}};oc=new WeakMap;var Yc,xC=class{constructor(e){ute(this,Yc,void 0),lte(this,Yc,new Set(e)),Object.freeze(this)}get size(){return Qs(this,Yc).size}[Symbol.iterator](){return Qs(this,Yc)[Symbol.iterator]()}entries(){return Qs(this,Yc).entries()}forEach(e,r){return Qs(this,Yc).forEach((n,s,i)=>e.call(r,n,s,this))}has(e){return Qs(this,Yc).has(e)}keys(){return Qs(this,Yc).keys()}values(){return Qs(this,Yc).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Yc=new WeakMap;Object.freeze(AC);Object.freeze(AC.prototype);Object.freeze(xC);Object.freeze(xC.prototype);const Ftt=Object.freeze(Object.defineProperty({__proto__:null,AssertionError:X$,CAIP_ACCOUNT_ADDRESS_REGEX:tte,CAIP_ACCOUNT_ID_REGEX:SC,CAIP_CHAIN_ID_REGEX:EC,CAIP_NAMESPACE_REGEX:Yee,CAIP_REFERENCE_REGEX:ete,CaipAccountAddressStruct:ote,CaipAccountIdStruct:ste,CaipChainIdStruct:rte,CaipNamespaceStruct:nte,CaipReferenceStruct:ite,ChecksumStruct:Ctt,Duration:qee,ESCAPE_CHARACTERS_REGEXP:WY,FrozenMap:AC,FrozenSet:xC,HexAddressStruct:Lee,HexChecksumAddressStruct:oC,HexStruct:kee,JsonRpcErrorStruct:l1,JsonRpcFailureStruct:vA,JsonRpcIdStruct:u1,JsonRpcNotificationStruct:bC,JsonRpcParamsStruct:yC,JsonRpcRequestStruct:mC,JsonRpcResponseStruct:_C,JsonRpcSuccessStruct:gA,JsonRpcVersionStruct:Kg,JsonSize:GY,JsonStruct:Sd,PendingJsonRpcResponseStruct:wC,StrictHexStruct:qg,UnsafeJsonStruct:cm,VersionRangeStruct:vC,VersionStruct:gC,add0x:zg,assert:xn,assertExhaustive:UQe,assertIsBytes:Hd,assertIsHexString:fA,assertIsJsonRpcError:btt,assertIsJsonRpcFailure:ytt,assertIsJsonRpcNotification:att,assertIsJsonRpcRequest:ftt,assertIsJsonRpcResponse:dtt,assertIsJsonRpcSuccess:gtt,assertIsPendingJsonRpcResponse:ltt,assertIsSemVerRange:Yet,assertIsSemVerVersion:Xet,assertIsStrictHexString:QZe,assertStruct:Ha,base64:ate,base64ToBytes:GZe,bigIntToBytes:Oee,bigIntToHex:YZe,bytesToBase64:HZe,bytesToBigInt:Cee,bytesToHex:cA,bytesToNumber:qZe,bytesToSignedBigInt:jZe,bytesToString:zZe,calculateNumberSize:TQe,calculateStringSize:RQe,concatBytes:WZe,createBigInt:Ltt,createBytes:Dtt,createDataView:JZe,createHex:Utt,createModuleLogger:Stt,createNumber:ktt,createProjectLogger:Ett,exactOptional:am,getChecksumAddress:Fee,getErrorMessage:eee,getJsonRpcIdValidator:wtt,getJsonSize:stt,getKnownPropertyNames:MQe,getSafeJson:Zee,gtRange:ttt,gtVersion:ett,hasProperty:KY,hexToBigInt:tXe,hexToBytes:a1,hexToNumber:eXe,inMilliseconds:nXe,isASCII:JY,isBytes:sC,isCaipAccountAddress:Rtt,isCaipAccountId:Itt,isCaipChainId:Att,isCaipNamespace:xtt,isCaipReference:Mtt,isErrorWithCode:XY,isErrorWithMessage:YY,isErrorWithStack:NQe,isHexString:Dee,isJsonRpcError:mtt,isJsonRpcFailure:vtt,isJsonRpcNotification:ott,isJsonRpcRequest:ctt,isJsonRpcResponse:htt,isJsonRpcSuccess:ptt,isNonEmptyArray:xQe,isNullOrUndefined:HY,isObject:VY,isPendingJsonRpcResponse:utt,isPlainObject:IQe,isStrictHexString:Uee,isValidChecksumAddress:jee,isValidHexAddress:ZZe,isValidJson:itt,isValidSemVerRange:Zet,isValidSemVerVersion:Qet,jsonrpc2:Xee,numberToBytes:Bee,numberToHex:XZe,object:Vg,parseCaipAccountId:$tt,parseCaipChainId:Ttt,remove0x:om,satisfiesVersionRange:rtt,signedBigIntToBytes:KZe,stringToBytes:Pee,timeSince:iXe,valueToBytes:Nee,wrapError:kQe},Symbol.toStringTag,{value:"Module"}));function jtt(t){if(t.type)return t.type;if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new x5e({transaction:t})}function qtt(t){const e=Sa(`0x${t.substring(4)}`).substring(26);return rS(`0x${e}`)}const ztt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Htt=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Vtt(t){const{domain:e={},message:r,primaryType:n}=t,s={EIP712Domain:Qtt({domain:e}),...t.types};Jtt({domain:e,message:r,primaryType:n,types:s});const i=["0x1901"];return e&&i.push(Ktt({domain:e,types:s})),n!=="EIP712Domain"&&i.push(hte({data:r,primaryType:n,types:s})),Sa(Wl(i))}function Ktt({domain:t,types:e}){return hte({data:t,primaryType:"EIP712Domain",types:e})}function hte({data:t,primaryType:e,types:r}){const n=dte({data:t,primaryType:e,types:r});return Sa(n)}function dte({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],s=[Gtt({primaryType:e,types:r})];for(const i of r[e]){const[o,c]=gte({types:r,name:i.name,type:i.type,value:t[i.name]});n.push(o),s.push(c)}return CT(n,s)}function Gtt({primaryType:t,types:e}){const r=vn(Wtt({primaryType:t,types:e}));return Sa(r)}function Wtt({primaryType:t,types:e}){let r="";const n=pte({primaryType:t,types:e});n.delete(t);const s=[t,...Array.from(n).sort()];for(const i of s)r+=`${i}(${e[i].map(({name:o,type:c})=>`${c} ${o}`).join(",")})`;return r}function pte({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),s=n==null?void 0:n[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const i of e[s])pte({primaryType:i.type,types:e},r);return r}function gte({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},Sa(dte({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},Sa(n)];if(r==="string")return[{type:"bytes32"},Sa(vn(n))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),i=n.map(o=>gte({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},Sa(CT(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:r},n]}function Jtt(t){const{domain:e,message:r,primaryType:n,types:s}=t,i=(o,c)=>{for(const l of o){const{name:d,type:v}=l,b=c[d],A=v.match(Htt);if(A&&(typeof b=="number"||typeof b=="bigint")){const[C,T,$]=A;ch(b,{signed:T==="int",size:parseInt($)/8})}if(v==="address"&&typeof b=="string"&&!Ko(b))throw new If({address:b});const x=v.match(ztt);if(x){const[C,T]=x;if(T&&Pi(b)!==parseInt(T))throw new o8e({expectedSize:parseInt(T),givenSize:Pi(b)})}const R=s[v];R&&i(R,b)}};if(s.EIP712Domain&&e&&i(s.EIP712Domain,e),n!=="EIP712Domain"){const o=s[n];i(o,r)}}function Qtt({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},typeof(t==null?void 0:t.chainId)=="number"&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function MC(t,e="hex"){const r=vte(t),n=$T(new Uint8Array(r.length));return r.encode(n),e==="hex"?Ba(n.bytes):n.bytes}function vte(t){return Array.isArray(t)?Ztt(t.map(e=>vte(e))):Xtt(t)}function Ztt(t){const e=t.reduce((s,i)=>s+i.length,0),r=yte(e);return{length:(()=>e<=55?1+e:1+r+e)(),encode(s){e<=55?s.pushByte(192+e):(s.pushByte(192+55+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function Xtt(t){const e=typeof t=="string"?Ud(t):t,r=yte(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length)(),encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(128+55+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function yte(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ht("Length is too large.")}function mte(t,e="hex"){const r=(()=>{if(typeof t=="string"){if(t.length>3&&t.length%2!==0)throw new g8e(t);return Ud(t)}return t})(),n=$T(r,{recursiveReadLimit:1/0});return bte(n,e)}function bte(t,e="hex"){if(t.bytes.length===0)return e==="hex"?Ba(t.bytes):t.bytes;const r=t.readByte();if(r<128&&t.decrementPosition(1),r<192){const s=rj(t,r,128),i=t.readBytes(s);return e==="hex"?Ba(i):i}const n=rj(t,r,192);return Ytt(t,n,e)}function rj(t,e,r){if(r===128&&e<128)return 1;if(e<=r+55)return e-r;if(e===r+55+1)return t.readUint8();if(e===r+55+2)return t.readUint16();if(e===r+55+3)return t.readUint24();if(e===r+55+4)return t.readUint32();throw new Ht("Invalid RLP prefix")}function Ytt(t,e,r){const n=t.position,s=[];for(;t.position-n<e;)s.push(bte(t,r));return s}function ert(t){return Cn(t)&&Pi(t)===32}function trt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),c=Number(r&i),l=n?4:0,d=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+d,c,n)}let rrt=class extends TT{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l6(this.buffer)}update(e){Rp(this);const{view:r,buffer:n,blockLen:s}=this;e=tS(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const l=l6(e);for(;s<=i-o;o+=s)this.process(l,o);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rp(this),EJ(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let b=o;b<s;b++)r[b]=0;trt(n,s-8,BigInt(this.length*8),i),this.process(n,0);const c=l6(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,v=this.get();if(d>v.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,v[b],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const nrt=(t,e,r)=>t&e^~t&r,irt=(t,e,r)=>t&e^t&r^e&r,srt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ll=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hl=new Uint32Array(64);let ort=class extends rrt{constructor(){super(64,32,8,!1),this.A=ll[0]|0,this.B=ll[1]|0,this.C=ll[2]|0,this.D=ll[3]|0,this.E=ll[4]|0,this.F=ll[5]|0,this.G=ll[6]|0,this.H=ll[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:c,H:l}=this;return[e,r,n,s,i,o,c,l]}set(e,r,n,s,i,o,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)hl[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){const A=hl[b-15],x=hl[b-2],R=Kc(A,7)^Kc(A,18)^A>>>3,C=Kc(x,17)^Kc(x,19)^x>>>10;hl[b]=C+hl[b-7]+R+hl[b-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:l,G:d,H:v}=this;for(let b=0;b<64;b++){const A=Kc(c,6)^Kc(c,11)^Kc(c,25),x=v+A+nrt(c,l,d)+srt[b]+hl[b]|0,C=(Kc(n,2)^Kc(n,13)^Kc(n,22))+irt(n,s,i)|0;v=d,d=l,l=c,c=o+x|0,o=i,i=s,s=n,n=x+C|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,v=v+this.H|0,this.set(n,s,i,o,c,l,d,v)}roundClean(){hl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const art=AJ(()=>new ort),crt=`Ethereum Signed Message:
`;function frt(t,e){const r=(()=>typeof t=="string"?K_(t):t.raw instanceof Uint8Array?t.raw:eS(t.raw))(),n=K_(`${crt}${r.length}`);return Sa(Wl([n,r]),e)}function urt(t){const e=BJ(t,0,1);if(e==="0x02")return"eip1559";if(e==="0x01")return"eip2930";if(e!=="0x"&&Gl(e)>=192)return"legacy";throw new M5e({serializedType:e})}function wte(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(e<=0)throw new NT({chainId:e});if(i&&!Ko(i))throw new If({address:i});if(n)throw new Ht("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(s&&s>2n**256n-1n)throw new iS({maxFeePerGas:s});if(r&&s&&r>s)throw new HJ({maxFeePerGas:s,maxPriorityFeePerGas:r})}function _te(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(e<=0)throw new NT({chainId:e});if(i&&!Ko(i))throw new If({address:i});if(r||s)throw new Ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new iS({maxFeePerGas:n})}function Ete(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i,accessList:o}=t;if(i&&!Ko(i))throw new If({address:i});if(typeof e<"u"&&e<=0)throw new NT({chainId:e});if(r||s)throw new Ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new iS({maxFeePerGas:n});if(o)throw new Ht("`accessList` is not a valid Legacy Transaction attribute.")}function VAt(t){const e=urt(t);return e==="eip1559"?lrt(t):e==="eip2930"?hrt(t):drt(t)}function lrt(t){const e=Ste(t),[r,n,s,i,o,c,l,d,v,b,A,x]=e;if(!(e.length===9||e.length===12))throw new kT({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:s,maxFeePerGas:i,gas:o,to:c,value:l,data:d,accessList:v,...e.length>9?{v:b,r:A,s:x}:{}},serializedTransaction:t,type:"eip1559"});const R={chainId:Gl(r),type:"eip1559"};return Cn(c)&&c!=="0x"&&(R.to=c),Cn(o)&&o!=="0x"&&(R.gas=ds(o)),Cn(d)&&d!=="0x"&&(R.data=d),Cn(n)&&n!=="0x"&&(R.nonce=Gl(n)),Cn(l)&&l!=="0x"&&(R.value=ds(l)),Cn(i)&&i!=="0x"&&(R.maxFeePerGas=ds(i)),Cn(s)&&s!=="0x"&&(R.maxPriorityFeePerGas=ds(s)),v.length!==0&&v!=="0x"&&(R.accessList=Ate(v)),wte(R),{...e.length===12?xte(e):void 0,...R}}function hrt(t){const e=Ste(t),[r,n,s,i,o,c,l,d,v,b,A]=e;if(!(e.length===8||e.length===11))throw new kT({attributes:{chainId:r,nonce:n,gasPrice:s,gas:i,to:o,value:c,data:l,accessList:d,...e.length>8?{v,r:b,s:A}:{}},serializedTransaction:t,type:"eip2930"});const x={chainId:Gl(r),type:"eip2930"};return Cn(o)&&o!=="0x"&&(x.to=o),Cn(i)&&i!=="0x"&&(x.gas=ds(i)),Cn(l)&&l!=="0x"&&(x.data=l),Cn(n)&&n!=="0x"&&(x.nonce=Gl(n)),Cn(c)&&c!=="0x"&&(x.value=ds(c)),Cn(s)&&s!=="0x"&&(x.gasPrice=ds(s)),d.length!==0&&d!=="0x"&&(x.accessList=Ate(d)),_te(x),{...e.length===11?xte(e):void 0,...x}}function drt(t){const e=mte(t,"hex"),[r,n,s,i,o,c,l,d,v]=e;if(!(e.length===6||e.length===9))throw new kT({attributes:{nonce:r,gasPrice:n,gas:s,to:i,value:o,data:c,...e.length>6?{v:l,r:d,s:v}:{}},serializedTransaction:t,type:"legacy"});const b={type:"legacy"};if(Cn(i)&&i!=="0x"&&(b.to=i),Cn(s)&&s!=="0x"&&(b.gas=ds(s)),Cn(c)&&c!=="0x"&&(b.data=c),Cn(r)&&r!=="0x"&&(b.nonce=Gl(r)),Cn(o)&&o!=="0x"&&(b.value=ds(o)),Cn(n)&&n!=="0x"&&(b.gasPrice=ds(n)),Ete(b),e.length===6)return b;const A=Cn(l)&&l!=="0x"?ds(l):0n;if(v==="0x"&&d==="0x")return A>0&&(b.chainId=Number(A)),b;const x=A,R=Number((x-35n)/2n);if(R>0)b.chainId=R;else if(x!==27n&&x!==28n)throw new qJ({v:x});return b.v=x,b.s=v,b.r=d,b}function Ste(t){return mte(`0x${t.slice(4)}`,"hex")}function Ate(t){const e=[];for(let r=0;r<t.length;r++){const[n,s]=t[r];if(!Ko(n,{strict:!1}))throw new If({address:n});e.push({address:n,storageKeys:s.map(i=>ert(i)?i:Ia(i))})}return e}function xte(t){const e=t.slice(-3),r=e[0]==="0x"||ds(e[0])===0n?27n:28n;return{r:mf(e[1],{size:32}),s:mf(e[2],{size:32}),v:r,yParity:r===27n?0:1}}function Mte(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:s}=t[r];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new I5e({storageKey:s[i]});if(!Ko(n,{strict:!1}))throw new If({address:n});e.push([n,s])}return e}function prt(t,e){const r=jtt(t);return r==="eip1559"?grt(t,e):r==="eip2930"?vrt(t,e):yrt(t,e)}function grt(t,e){const{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:v}=t;wte(t);const b=Mte(d),A=[vn(r),s?vn(s):"0x",l?vn(l):"0x",c?vn(c):"0x",n?vn(n):"0x",i??"0x",o?vn(o):"0x",v??"0x",b];if(e){const x=(()=>e.v===0n?"0x":e.v===1n?vn(1):e.v===27n?"0x":vn(1))();A.push(x,Ia(e.r),Ia(e.s))}return nS(["0x02",MC(A)])}function vrt(t,e){const{chainId:r,gas:n,data:s,nonce:i,to:o,value:c,accessList:l,gasPrice:d}=t;_te(t);const v=Mte(l),b=[vn(r),i?vn(i):"0x",d?vn(d):"0x",n?vn(n):"0x",o??"0x",c?vn(c):"0x",s??"0x",v];if(e){const A=(()=>e.v===0n?"0x":e.v===1n?vn(1):e.v===27n?"0x":vn(1))();b.push(A,Ia(e.r),Ia(e.s))}return nS(["0x01",MC(b)])}function yrt(t,e){const{chainId:r=0,gas:n,data:s,nonce:i,to:o,value:c,gasPrice:l}=t;Ete(t);let d=[i?vn(i):"0x",l?vn(l):"0x",n?vn(n):"0x",o??"0x",c?vn(c):"0x",s??"0x"];if(e){const v=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const b=27n+(e.v===27n?0n:1n);if(e.v!==b)throw new qJ({v:e.v});return b})();d=[...d,vn(v),e.r,e.s]}else r>0&&(d=[...d,vn(r),"0x","0x"]);return MC(d)}function KAt(t,e){let[r,n="0"]=t.split(".");const s=r.startsWith("-");if(s&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[i,o,c]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${c}`);l>9?n=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):n=`${i}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${s?"-":""}${r}${n}`)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ite=BigInt(0),yA=BigInt(1),mrt=BigInt(2),mA=t=>t instanceof Uint8Array,brt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zp(t){if(!mA(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=brt[t[r]];return e}function Rte(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function IC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Hp(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function ad(t){return IC(zp(t))}function RC(t){if(!mA(t))throw new Error("Uint8Array expected");return IC(zp(Uint8Array.from(t).reverse()))}function Vp(t,e){return Hp(t.toString(16).padStart(e*2,"0"))}function TC(t,e){return Vp(t,e).reverse()}function wrt(t){return Hp(Rte(t))}function cc(t,e,r){let n;if(typeof e=="string")try{n=Hp(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(mA(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function fm(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!mA(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function _rt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ert(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Srt(t){let e;for(e=0;t>Ite;t>>=yA,e+=1);return e}function Art(t,e){return t>>BigInt(e)&yA}const xrt=(t,e,r)=>t|(r?yA:Ite)<<BigInt(e),$C=t=>(mrt<<BigInt(t-1))-yA,E4=t=>new Uint8Array(t),nj=t=>Uint8Array.from(t);function Tte(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=E4(t),s=E4(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},c=(...b)=>r(s,n,...b),l=(b=E4())=>{s=c(nj([0]),b),n=c(),b.length!==0&&(s=c(nj([1]),b),n=c())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const A=[];for(;b<e;){n=c();const x=n.slice();A.push(x),b+=n.length}return fm(...A)};return(b,A)=>{o(),l(b);let x;for(;!(x=A(d()));)l();return o(),x}}const Mrt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function h1(t,e,r={}){const n=(s,i,o)=>{const c=Mrt[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const Irt=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Art,bitLen:Srt,bitMask:$C,bitSet:xrt,bytesToHex:zp,bytesToNumberBE:ad,bytesToNumberLE:RC,concatBytes:fm,createHmacDrbg:Tte,ensureBytes:cc,equalBytes:_rt,hexToBytes:Hp,hexToNumber:IC,numberToBytesBE:Vp,numberToBytesLE:TC,numberToHexUnpadded:Rte,numberToVarBytesBE:wrt,utf8ToBytes:Ert,validateObject:h1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wi=BigInt(0),vi=BigInt(1),jh=BigInt(2),Rrt=BigInt(3),H5=BigInt(4),ij=BigInt(5),sj=BigInt(8);BigInt(9);BigInt(16);function yo(t,e){const r=t%e;return r>=Wi?r:e+r}function Trt(t,e,r){if(r<=Wi||e<Wi)throw new Error("Expected power/modulo > 0");if(r===vi)return Wi;let n=vi;for(;e>Wi;)e&vi&&(n=n*t%r),t=t*t%r,e>>=vi;return n}function ca(t,e,r){let n=t;for(;e-- >Wi;)n*=n,n%=r;return n}function V5(t,e){if(t===Wi||e<=Wi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yo(t,e),n=e,s=Wi,i=vi;for(;r!==Wi;){const c=n/r,l=n%r,d=s-i*c;n=r,r=l,s=i,i=d}if(n!==vi)throw new Error("invert: does not exist");return yo(s,e)}function $rt(t){const e=(t-vi)/jh;let r,n,s;for(r=t-vi,n=0;r%jh===Wi;r/=jh,n++);for(s=jh;s<t&&Trt(s,e,t)!==t-vi;s++);if(n===1){const o=(t+vi)/H5;return function(l,d){const v=l.pow(d,o);if(!l.eql(l.sqr(v),d))throw new Error("Cannot find square root");return v}}const i=(r+vi)/jh;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=n,v=c.pow(c.mul(c.ONE,s),r),b=c.pow(l,i),A=c.pow(l,r);for(;!c.eql(A,c.ONE);){if(c.eql(A,c.ZERO))return c.ZERO;let x=1;for(let C=c.sqr(A);x<d&&!c.eql(C,c.ONE);x++)C=c.sqr(C);const R=c.pow(v,vi<<BigInt(d-x-1));v=c.sqr(R),b=c.mul(b,R),A=c.mul(A,v),d=x}return b}}function Crt(t){if(t%H5===Rrt){const e=(t+vi)/H5;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%sj===ij){const e=(t-ij)/sj;return function(n,s){const i=n.mul(s,jh),o=n.pow(i,e),c=n.mul(s,o),l=n.mul(n.mul(c,jh),o),d=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),s))throw new Error("Cannot find square root");return d}}return $rt(t)}const Ort=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Brt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Ort.reduce((n,s)=>(n[s]="function",n),e);return h1(t,r)}function Prt(t,e,r){if(r<Wi)throw new Error("Expected power > 0");if(r===Wi)return t.ONE;if(r===vi)return e;let n=t.ONE,s=e;for(;r>Wi;)r&vi&&(n=t.mul(n,s)),s=t.sqr(s),r>>=vi;return n}function Nrt(t,e){const r=new Array(e.length),n=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),s),r}function $te(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function krt(t,e,r=!1,n={}){if(t<=Wi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=$te(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Crt(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:$C(s),ZERO:Wi,ONE:vi,create:l=>yo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Wi<=l&&l<t},is0:l=>l===Wi,isOdd:l=>(l&vi)===vi,neg:l=>yo(-l,t),eql:(l,d)=>l===d,sqr:l=>yo(l*l,t),add:(l,d)=>yo(l+d,t),sub:(l,d)=>yo(l-d,t),mul:(l,d)=>yo(l*d,t),pow:(l,d)=>Prt(c,l,d),div:(l,d)=>yo(l*V5(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>V5(l,t),sqrt:n.sqrt||(l=>o(c,l)),invertBatch:l=>Nrt(c,l),cmov:(l,d,v)=>v?d:l,toBytes:l=>r?TC(l,i):Vp(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return r?RC(l):ad(l)}});return Object.freeze(c)}function Cte(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ote(t){const e=Cte(t);return e+Math.ceil(e/2)}function Lrt(t,e,r=!1){const n=t.length,s=Cte(e),i=Ote(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?ad(t):RC(t),c=yo(o,e-vi)+vi;return r?TC(c,s):Vp(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Drt=BigInt(0),S4=BigInt(1);function Urt(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,c=s;for(;i>Drt;)i&S4&&(o=o.add(c)),c=c.double(),i>>=S4;return o},precomputeWindow(s,i){const{windows:o,windowSize:c}=n(i),l=[];let d=s,v=d;for(let b=0;b<o;b++){v=d,l.push(v);for(let A=1;A<c;A++)v=v.add(d),l.push(v);d=v.double()}return l},wNAF(s,i,o){const{windows:c,windowSize:l}=n(s);let d=t.ZERO,v=t.BASE;const b=BigInt(2**s-1),A=2**s,x=BigInt(s);for(let R=0;R<c;R++){const C=R*l;let T=Number(o&b);o>>=x,T>l&&(T-=A,o+=S4);const $=C,O=C+Math.abs(T)-1,D=R%2!==0,L=T<0;T===0?v=v.add(r(D,i[$])):d=d.add(r(L,i[O]))}return{p:d,f:v}},wNAFCached(s,i,o,c){const l=s._WINDOW_SIZE||1;let d=i.get(s);return d||(d=this.precomputeWindow(s,l),l!==1&&i.set(s,c(d))),this.wNAF(l,d,o)}}}function Bte(t){return Brt(t.Fp),h1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$te(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Frt(t){const e=Bte(t);h1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:jrt,hexToBytes:qrt}=Irt,Zh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Zh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:jrt(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Zh,r=typeof t=="string"?qrt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Zh._parseInt(r.subarray(2)),{d:o,l:c}=Zh._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,r=d=>{const v=d.toString(16);return v.length&1?`0${v}`:v},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,c=r(i),l=r(o);return`30${r(o+i+4)}02${l}${s}02${c}${n}`}},gu=BigInt(0),pa=BigInt(1);BigInt(2);const oj=BigInt(3);BigInt(4);function zrt(t){const e=Frt(t),{Fp:r}=e,n=e.toBytes||((R,C,T)=>{const $=C.toAffine();return fm(Uint8Array.from([4]),r.toBytes($.x),r.toBytes($.y))}),s=e.fromBytes||(R=>{const C=R.subarray(1),T=r.fromBytes(C.subarray(0,r.BYTES)),$=r.fromBytes(C.subarray(r.BYTES,2*r.BYTES));return{x:T,y:$}});function i(R){const{a:C,b:T}=e,$=r.sqr(R),O=r.mul($,R);return r.add(r.add(O,r.mul(R,C)),T)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(R){return typeof R=="bigint"&&gu<R&&R<e.n}function c(R){if(!o(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(R){const{allowedPrivateKeyLengths:C,nByteLength:T,wrapPrivateKey:$,n:O}=e;if(C&&typeof R!="bigint"){if(R instanceof Uint8Array&&(R=zp(R)),typeof R!="string"||!C.includes(R.length))throw new Error("Invalid key");R=R.padStart(T*2,"0")}let D;try{D=typeof R=="bigint"?R:ad(cc("private key",R,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof R}`)}return $&&(D=yo(D,O)),c(D),D}const d=new Map;function v(R){if(!(R instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(C,T,$){if(this.px=C,this.py=T,this.pz=$,C==null||!r.isValid(C))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if($==null||!r.isValid($))throw new Error("z required")}static fromAffine(C){const{x:T,y:$}=C||{};if(!C||!r.isValid(T)||!r.isValid($))throw new Error("invalid affine point");if(C instanceof b)throw new Error("projective point not allowed");const O=D=>r.eql(D,r.ZERO);return O(T)&&O($)?b.ZERO:new b(T,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const T=r.invertBatch(C.map($=>$.pz));return C.map(($,O)=>$.toAffine(T[O])).map(b.fromAffine)}static fromHex(C){const T=b.fromAffine(s(cc("pointHex",C)));return T.assertValidity(),T}static fromPrivateKey(C){return b.BASE.multiply(l(C))}_setWindowSize(C){this._WINDOW_SIZE=C,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:T}=this.toAffine();if(!r.isValid(C)||!r.isValid(T))throw new Error("bad point: x or y not FE");const $=r.sqr(T),O=i(C);if(!r.eql($,O))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(r.isOdd)return!r.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){v(C);const{px:T,py:$,pz:O}=this,{px:D,py:L,pz:F}=C,H=r.eql(r.mul(T,F),r.mul(D,O)),V=r.eql(r.mul($,F),r.mul(L,O));return H&&V}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:T}=e,$=r.mul(T,oj),{px:O,py:D,pz:L}=this;let F=r.ZERO,H=r.ZERO,V=r.ZERO,J=r.mul(O,O),Z=r.mul(D,D),se=r.mul(L,L),S=r.mul(O,D);return S=r.add(S,S),V=r.mul(O,L),V=r.add(V,V),F=r.mul(C,V),H=r.mul($,se),H=r.add(F,H),F=r.sub(Z,H),H=r.add(Z,H),H=r.mul(F,H),F=r.mul(S,F),V=r.mul($,V),se=r.mul(C,se),S=r.sub(J,se),S=r.mul(C,S),S=r.add(S,V),V=r.add(J,J),J=r.add(V,J),J=r.add(J,se),J=r.mul(J,S),H=r.add(H,J),se=r.mul(D,L),se=r.add(se,se),J=r.mul(se,S),F=r.sub(F,J),V=r.mul(se,Z),V=r.add(V,V),V=r.add(V,V),new b(F,H,V)}add(C){v(C);const{px:T,py:$,pz:O}=this,{px:D,py:L,pz:F}=C;let H=r.ZERO,V=r.ZERO,J=r.ZERO;const Z=e.a,se=r.mul(e.b,oj);let S=r.mul(T,D),a=r.mul($,L),u=r.mul(O,F),h=r.add(T,$),p=r.add(D,L);h=r.mul(h,p),p=r.add(S,a),h=r.sub(h,p),p=r.add(T,O);let y=r.add(D,F);return p=r.mul(p,y),y=r.add(S,u),p=r.sub(p,y),y=r.add($,O),H=r.add(L,F),y=r.mul(y,H),H=r.add(a,u),y=r.sub(y,H),J=r.mul(Z,p),H=r.mul(se,u),J=r.add(H,J),H=r.sub(a,J),J=r.add(a,J),V=r.mul(H,J),a=r.add(S,S),a=r.add(a,S),u=r.mul(Z,u),p=r.mul(se,p),a=r.add(a,u),u=r.sub(S,u),u=r.mul(Z,u),p=r.add(p,u),S=r.mul(a,p),V=r.add(V,S),S=r.mul(y,p),H=r.mul(h,H),H=r.sub(H,S),S=r.mul(h,a),J=r.mul(y,J),J=r.add(J,S),new b(H,V,J)}subtract(C){return this.add(C.negate())}is0(){return this.equals(b.ZERO)}wNAF(C){return x.wNAFCached(this,d,C,T=>{const $=r.invertBatch(T.map(O=>O.pz));return T.map((O,D)=>O.toAffine($[D])).map(b.fromAffine)})}multiplyUnsafe(C){const T=b.ZERO;if(C===gu)return T;if(c(C),C===pa)return this;const{endo:$}=e;if(!$)return x.unsafeLadder(this,C);let{k1neg:O,k1:D,k2neg:L,k2:F}=$.splitScalar(C),H=T,V=T,J=this;for(;D>gu||F>gu;)D&pa&&(H=H.add(J)),F&pa&&(V=V.add(J)),J=J.double(),D>>=pa,F>>=pa;return O&&(H=H.negate()),L&&(V=V.negate()),V=new b(r.mul(V.px,$.beta),V.py,V.pz),H.add(V)}multiply(C){c(C);let T=C,$,O;const{endo:D}=e;if(D){const{k1neg:L,k1:F,k2neg:H,k2:V}=D.splitScalar(T);let{p:J,f:Z}=this.wNAF(F),{p:se,f:S}=this.wNAF(V);J=x.constTimeNegate(L,J),se=x.constTimeNegate(H,se),se=new b(r.mul(se.px,D.beta),se.py,se.pz),$=J.add(se),O=Z.add(S)}else{const{p:L,f:F}=this.wNAF(T);$=L,O=F}return b.normalizeZ([$,O])[0]}multiplyAndAddUnsafe(C,T,$){const O=b.BASE,D=(F,H)=>H===gu||H===pa||!F.equals(O)?F.multiplyUnsafe(H):F.multiply(H),L=D(this,T).add(D(C,$));return L.is0()?void 0:L}toAffine(C){const{px:T,py:$,pz:O}=this,D=this.is0();C==null&&(C=D?r.ONE:r.inv(O));const L=r.mul(T,C),F=r.mul($,C),H=r.mul(O,C);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:L,y:F}}isTorsionFree(){const{h:C,isTorsionFree:T}=e;if(C===pa)return!0;if(T)return T(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:T}=e;return C===pa?this:T?T(b,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return this.assertValidity(),n(b,this,C)}toHex(C=!0){return zp(this.toRawBytes(C))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const A=e.nBitLength,x=Urt(b,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function Hrt(t){const e=Bte(t);return h1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Vrt(t){const e=Hrt(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(p){return gu<p&&p<r.ORDER}function c(p){return yo(p,n)}function l(p){return V5(p,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:v,weierstrassEquation:b,isWithinCurveOrder:A}=zrt({...e,toBytes(p,y,w){const _=y.toAffine(),g=r.toBytes(_.x),f=fm;return w?f(Uint8Array.from([y.hasEvenY()?2:3]),g):f(Uint8Array.from([4]),g,r.toBytes(_.y))},fromBytes(p){const y=p.length,w=p[0],_=p.subarray(1);if(y===s&&(w===2||w===3)){const g=ad(_);if(!o(g))throw new Error("Point is not on curve");const f=b(g);let m=r.sqrt(f);const I=(m&pa)===pa;return(w&1)===1!==I&&(m=r.neg(m)),{x:g,y:m}}else if(y===i&&w===4){const g=r.fromBytes(_.subarray(0,r.BYTES)),f=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:g,y:f}}else throw new Error(`Point of length ${y} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=p=>zp(Vp(p,e.nByteLength));function R(p){const y=n>>pa;return p>y}function C(p){return R(p)?c(-p):p}const T=(p,y,w)=>ad(p.slice(y,w));class ${constructor(y,w,_){this.r=y,this.s=w,this.recovery=_,this.assertValidity()}static fromCompact(y){const w=e.nByteLength;return y=cc("compactSignature",y,w*2),new $(T(y,0,w),T(y,w,2*w))}static fromDER(y){const{r:w,s:_}=Zh.toSig(cc("DER",y));return new $(w,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new $(this.r,this.s,y)}recoverPublicKey(y){const{r:w,s:_,recovery:g}=this,f=V(cc("msgHash",y));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");const m=g===2||g===3?w+e.n:w;if(m>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=g&1?"03":"02",P=d.fromHex(I+x(m)),j=l(m),k=c(-f*j),z=c(_*j),B=d.BASE.multiplyAndAddUnsafe(P,k,z);if(!B)throw new Error("point at infinify");return B.assertValidity(),B}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Hp(this.toDERHex())}toDERHex(){return Zh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hp(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const O={isValidPrivateKey(p){try{return v(p),!0}catch{return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{const p=Ote(e.n);return Lrt(e.randomBytes(p),e.n)},precompute(p=8,y=d.BASE){return y._setWindowSize(p),y.multiply(BigInt(3)),y}};function D(p,y=!0){return d.fromPrivateKey(p).toRawBytes(y)}function L(p){const y=p instanceof Uint8Array,w=typeof p=="string",_=(y||w)&&p.length;return y?_===s||_===i:w?_===2*s||_===2*i:p instanceof d}function F(p,y,w=!0){if(L(p))throw new Error("first arg must be private key");if(!L(y))throw new Error("second arg must be public key");return d.fromHex(y).multiply(v(p)).toRawBytes(w)}const H=e.bits2int||function(p){const y=ad(p),w=p.length*8-e.nBitLength;return w>0?y>>BigInt(w):y},V=e.bits2int_modN||function(p){return c(H(p))},J=$C(e.nBitLength);function Z(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(gu<=p&&p<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Vp(p,e.nByteLength)}function se(p,y,w=S){if(["recovered","canonical"].some(K=>K in w))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:g}=e;let{lowS:f,prehash:m,extraEntropy:I}=w;f==null&&(f=!0),p=cc("msgHash",p),m&&(p=cc("prehashed msgHash",_(p)));const P=V(p),j=v(y),k=[Z(j),Z(P)];if(I!=null){const K=I===!0?g(r.BYTES):I;k.push(cc("extraEntropy",K))}const z=fm(...k),B=P;function U(K){const Y=H(K);if(!A(Y))return;const X=l(Y),G=d.BASE.multiply(Y).toAffine(),ne=c(G.x);if(ne===gu)return;const le=c(X*c(B+ne*j));if(le===gu)return;let de=(G.x===ne?0:2)|Number(G.y&pa),me=le;return f&&R(le)&&(me=C(le),de^=1),new $(ne,me,de)}return{seed:z,k2sig:U}}const S={lowS:e.lowS,prehash:!1},a={lowS:e.lowS,prehash:!1};function u(p,y,w=S){const{seed:_,k2sig:g}=se(p,y,w),f=e;return Tte(f.hash.outputLen,f.nByteLength,f.hmac)(_,g)}d.BASE._setWindowSize(8);function h(p,y,w,_=a){var G;const g=p;if(y=cc("msgHash",y),w=cc("publicKey",w),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:f,prehash:m}=_;let I,P;try{if(typeof g=="string"||g instanceof Uint8Array)try{I=$.fromDER(g)}catch(ne){if(!(ne instanceof Zh.Err))throw ne;I=$.fromCompact(g)}else if(typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint"){const{r:ne,s:le}=g;I=new $(ne,le)}else throw new Error("PARSE");P=d.fromHex(w)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&I.hasHighS())return!1;m&&(y=e.hash(y));const{r:j,s:k}=I,z=V(y),B=l(k),U=c(z*B),K=c(j*B),Y=(G=d.BASE.multiplyAndAddUnsafe(P,U,K))==null?void 0:G.toAffine();return Y?c(Y.x)===j:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:F,sign:u,verify:h,ProjectivePoint:d,Signature:$,utils:O}}let Pte=class extends TT{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,A8e(e);const n=tS(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Rp(this),this.iHash.update(e),this}digestInto(e){Rp(this),RT(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Nte=(t,e,r)=>new Pte(t,e).update(r).digest();Nte.create=(t,e)=>new Pte(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Krt(t){return{hash:t,hmac:(e,...r)=>Nte(t,e,P8e(...r)),randomBytes:N8e}}function Grt(t,e){const r=n=>Vrt({...t,...Krt(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kte=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Wrt=BigInt(1),K5=BigInt(2),cj=(t,e)=>(t+e/K5)/e;function Jrt(t){const e=kte,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),d=t*t*t%e,v=d*d*t%e,b=ca(v,r,e)*v%e,A=ca(b,r,e)*v%e,x=ca(A,K5,e)*d%e,R=ca(x,s,e)*x%e,C=ca(R,i,e)*R%e,T=ca(C,c,e)*C%e,$=ca(T,l,e)*T%e,O=ca($,c,e)*C%e,D=ca(O,r,e)*v%e,L=ca(D,o,e)*R%e,F=ca(L,n,e)*d%e,H=ca(F,K5,e);if(!G5.eql(G5.sqr(H),t))throw new Error("Cannot find square root");return H}const G5=krt(kte,void 0,void 0,{sqrt:Jrt}),bA=Grt({a:BigInt(0),b:BigInt(7),Fp:G5,n:aj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=aj,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Wrt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),c=cj(i*t,e),l=cj(-n*t,e);let d=yo(t-c*r-l*s,e),v=yo(-c*n-l*i,e);const b=d>o,A=v>o;if(b&&(d=e-d),A&&(v=e-v),d>o||v>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:d,k2neg:A,k2:v}}}},art);BigInt(0);bA.ProjectivePoint;function Lte({r:t,s:e,v:r}){return`0x${new bA.Signature(ds(t),ds(e)).toCompactHex()}${vn(r).slice(2)}`}const Qrt=/^[-+]?[a-f0-9]+\.?[a-f0-9]*?$/i,dy=66,A4=64,fj=/^0x0*|^0+/;function Zrt(t){return t!=null&&t.startsWith("0x")?t:"0x"+t}function JAt(t,e){return t.replace(fj,"").toLowerCase()===e.replace(fj,"").toLowerCase()}function QAt(t){if(Re.Buffer.isBuffer(t))return t;if(t instanceof Uint8Array)return Re.Buffer.from(t);if(typeof t=="string")return Re.Buffer.from(t.startsWith("0x")?t.slice(2):t,"hex");throw new Error("Expected a hex string or a Buffer")}function ZAt(t){if(typeof t=="string")return t;if(Re.Buffer.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Uint8Array||t instanceof ArrayBuffer)return"0x"+Re.Buffer.from(t).toString("hex");throw new Error("Expected a hex string or a Buffer")}function Xrt(t){let e=Zrt(t);return e.length===dy-1&&(e=e.substring(0,2)+"0"+e.substring(2)),e}function XAt(t,e){if(typeof t!="string")return!1;let r=t;const{validWithoutLeadZero:n=!1,leadingZero:s=!0,ignoreShorterAddress:i=!1}=e??{};if(i)return t.length<=dy&&x4(t.replace(/^0x/,""));const o=(t==null?void 0:t.startsWith("0x"))&&(n?t.length===dy||t.length===dy-1:t.length===dy),c=!(t!=null&&t.startsWith("0x"))&&(n?t.length===A4||t.length===A4-1:t.length===A4);if(s)if(o)r=r.substring(2);else return c?x4(r):!1;return x4(r)}function x4(t){return Qrt.test(t)}function Yrt(t){return t==null?null:Bs(t.toString()).toHex()}function YAt(t){let e="";for(let r=0;r<t.length;r+=2){const n=t.substring(r,r+2),s=parseInt(n,16);e+=String.fromCharCode(s)}return e}function uj(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function ext(t,e,r){const n=dc.fromSigned(e),s=dc.fromSigned(r),i=dc.bufferToInt(t),o=uj(dc.toUnsigned(n).toString("hex"),64),c=uj(dc.toUnsigned(s).toString("hex"),64),l=om(Yrt(i)||"");return zg(o.concat(c,l))}function txt(t,e){const r=dc.fromRpcSig(e);return dc.ecrecover(t,r.v,r.r,r.s)}function rxt(t){return(1<<t)-1<<8-t&255}const lj="0123456789abcdef";function nxt(t){let e;t instanceof Uint8Array?e=vn(t):e=t;const r=eS(e);let n="0x";for(let s=0;s<r.length;s++){const i=r[s];n+=lj[(i&240)>>4]+lj[i&15]}return n}const ixt=t=>{if(!t)return;if(t.constructor.name==="Uint8Array"||t.constructor===Uint8Array)return t;typeof t=="string"&&(t=Re.Buffer.from(t));const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e},um="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",lm=um.length,ent=Math.log(lm)/Math.log(256),tnt=Math.log(256)/Math.log(lm),Dte=um.charAt(0),rnt=()=>{const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let e=0;e<um.length;e++){const r=um.charAt(e),n=r.charCodeAt(0);if(t[n]!==255)throw new TypeError(r+" is ambiguous");t[n]=e}return t},sxt=t=>{if(typeof t!="string")throw new TypeError("Expected String");if(t.length===0)return new Uint8Array;const e=rnt();let r=0,n=0,s=0;for(;t[r]===Dte;)n++,r++;const i=(t.length-r)*ent+1>>>0,o=new Uint8Array(i);for(;t[r];){let v=e[t.charCodeAt(r)];if(v===255)return;let b=0;for(let A=i-1;(v!==0||b<s)&&A!==-1;A--,b++)v+=lm*o[A]>>>0,o[A]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");s=b,r++}let c=i-s;for(;c!==i&&o[c]===0;)c++;const l=new Uint8Array(n+(i-c));let d=n;for(;c!==i;)l[d++]=o[c++];return l},oxt=t=>{if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length===0)return"";let e=0,r=0,n=0;const s=t.length;for(;n!==s&&t[n]===0;)n++,e++;const i=(s-n)*tnt+1>>>0,o=new Uint8Array(i);for(;n!==s;){let d=t[n],v=0;for(let b=i-1;(d!==0||v<r)&&b!==-1;b--,v++)d+=256*o[b]>>>0,o[b]=d%lm>>>0,d=d/lm>>>0;if(d!==0)throw new Error("Non-zero carry");r=v,n++}let c=i-r;for(;c!==i&&o[c]===0;)c++;let l=Dte.repeat(e);for(;c<i;++c)l+=um.charAt(o[c]);return l};function axt(t){return typeof t=="string"?Re.Buffer.from(nnt(t),"hex"):Re.Buffer.from(t)}function nnt(t){return t!=null&&t.startsWith("0x")?t.slice(2):t}var int=Object.defineProperty,snt=Object.getOwnPropertyDescriptor,ont=(t,e,r,n)=>{for(var s=n>1?void 0:n?snt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&int(e,r,s),s},hj=(t,e)=>(r,n)=>e(r,n,t);const M4={contacts:[]};let dj=class extends mn{constructor(e,r){super();Oe(this,"_store");Oe(this,"networkController");this.storage=e,this.networkProvider=r,this._store=new zn.ObservableStore(M4)}get store(){return this._store}async init(){this.networkController=await this.networkProvider();const e=await this.storage.get("contacts",M4);this._store.updateState(e)}async addContact(e,r){var c;const n=(c=this.networkController.currentNetwork)==null?void 0:c.chain,s={address:Xrt(e),name:r,chain:n},i=await this.storage.get("contacts"),o={...i,contacts:[s,...(i==null?void 0:i.contacts)||[]]};await this.storage.set("contacts",o),this._store.updateState(o)}async editContact(e,r){var c;const n=(c=this.networkController.currentNetwork)==null?void 0:c.chain,s=await this.storage.get("contacts"),i=s.contacts.map(l=>l.address===e&&l.chain===n?{...l,name:r}:l),o={...s,contacts:i};await this.storage.set("contacts",o),this._store.updateState(o)}async deleteContact(e){var o;const r=(o=this.networkController.currentNetwork)==null?void 0:o.chain,n=await this.storage.get("contacts"),s=n.contacts.filter(c=>!(c.address===e&&c.chain===r)),i={...n,contacts:s};await this.storage.set("contacts",i),this._store.updateState(i)}async onResetApplication(){this._store.putState(M4),await this.storage.remove("contacts"),this.init()}};dj=ont([Lr(),hj(0,st(tt.StorageService)),hj(1,st(tt.NetworkControllerProvider))],dj);function ant(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(s);++n<s;)i[n]=t[n+e];return i}var cnt=ant,fnt=BS,unt=cnt;function lnt(t,e){return e.length<2?t:fnt(t,unt(e,0,-1))}var hnt=lnt,dnt=OS,pnt=L$,gnt=hnt,vnt=r1;function ynt(t,e){return e=dnt(e,t),t=gnt(t,e),t==null||delete t[vnt(pnt(e))]}var mnt=ynt,bnt=HW;function wnt(t){return bnt(t)?void 0:t}var _nt=wnt,Ent=k$;function Snt(t){var e=t==null?0:t.length;return e?Ent(t,1):[]}var Ant=Snt,xnt=Ant,Mnt=JW,Int=QW;function Rnt(t){return Int(Mnt(t,void 0,xnt),t+"")}var Tnt=Rnt,$nt=qd,Cnt=CX,Ont=mnt,Bnt=OS,Pnt=Tg,Nnt=_nt,knt=Tnt,Lnt=IX,Dnt=1,Unt=2,Fnt=4,jnt=knt(function(t,e){var r={};if(t==null)return r;var n=!1;e=$nt(e,function(i){return i=Bnt(i,t),n||(n=i.length>1),i}),Pnt(t,Lnt(t),r),n&&(r=Cnt(r,Dnt|Unt|Fnt,Nnt));for(var s=e.length;s--;)Ont(r,e[s]);return r}),qnt=jnt;const znt=Mr(qnt);var Hnt=Object.defineProperty,Vnt=Object.getOwnPropertyDescriptor,Knt=(t,e,r,n)=>{for(var s=n>1?void 0:n?Vnt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Hnt(e,r,s),s},fw=(t,e)=>(r,n)=>e(r,n,t);let pj=class extends mn{constructor(e,r,n,s){super();Oe(this,"_store");Oe(this,"networkController");Oe(this,"walletController");this.config=e,this._networkControllerProvider=r,this._walletControllerProvider=n,this._searchService=s,this._store=new zn.ObservableStore({dapps:[]}),this._searchService.registerSearch(this._globalSearchHandler.bind(this))}get store(){return this._store}async init(){this.networkController=await this._networkControllerProvider(),this.walletController=await this._walletControllerProvider(),this._updateAvailableDapps()}onNetworkChanged(){this._updateAvailableDapps()}_updateAvailableDapps(){const e=this.networkController.currentNetwork;this._store.updateState({dapps:this.config.dapps.filter(r=>{var n;return(n=r.chains[e.chain])==null?void 0:n.includes(e.chainId)}).map(r=>znt(r,["controller"]))})}async _globalSearchHandler(){const{dapps:e}=this._store.getState();return this.walletController.currentAccount?{widget:"dapps",keys:["entry.name","entry.description"],collection:e.filter(n=>n.type==="native"?n.shouldShowInList:!0).map(n=>({groupKey:void 0,entry:n}))}:[]}};pj=Knt([Lr(),fw(0,st(tt.Config)),fw(1,st(tt.NetworkControllerProvider)),fw(2,st(tt.WalletControllerProvider)),fw(3,st(tt.SearchService))],pj);var Gnt=Object.defineProperty,Wnt=Object.getOwnPropertyDescriptor,Jnt=(t,e,r,n)=>{for(var s=n>1?void 0:n?Wnt(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Gnt(e,r,s),s},gj=(t,e)=>(r,n)=>e(r,n,t);const uw={readOnlyList:[],EVM_CODE:"PONTEMISAWESOME",EVM_UNLOCKED:!1,EVM_ENABLED:!1,IGNORE_SYNC_FLAGS:!1,LSD_CLAIM_AVAILABLE:!1};let vj=class extends mn{constructor(e,r){super();Oe(this,"_store");this.http=e,this.storage=r,this._store=new zn.ObservableStore({...uw})}get store(){return this._store}async init(){await this._syncFlags()}onDataSync(){this._syncFlags()}async unlockEVM(e){const{EVM_CODE:r}=this._store.getState();if(r===e){const n=await this.storage.get("flags")??{};await this.storage.set("flags",{...n,EVM_UNLOCKED:!0}),this._store.updateState({EVM_UNLOCKED:!0})}else throw new Error("Code is incorrect")}async toggleEVM(){const r=this._store.getState().EVM_UNLOCKED;await this.storage.set("flags",{...await this.storage.get("flags")??{},EVM_UNLOCKED:!r,EVM_ENABLED:!r}),this._store.updateState({EVM_UNLOCKED:!r,EVM_ENABLED:!r})}async onResetApplication(){this._store.putState(uw),await this.storage.remove("flags"),this._syncFlags()}async _syncFlags(){const e=await this.storage.get("flags",uw);try{if(e.IGNORE_SYNC_FLAGS)return;const r=await this.http.get("/api/flags/list?type=Extension"),n=await this.http.get("/api/readOnly/list"),s=Br.mapValues(r.data,o=>o==="true"||o==="false"?o==="true":o),i={...AT(uw,e,s),readOnlyList:n.data||[]};await this.storage.set("flags",i),this._store.updateState(i)}catch{}}};vj=Jnt([Lr(),gj(0,st(tt.HttpService)),gj(1,st(tt.StorageService))],vj);const Qnt=new Error("request for lock canceled");var Znt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(v){try{d(n.next(v))}catch(b){o(b)}}function l(v){try{d(n.throw(v))}catch(b){o(b)}}function d(v){v.done?i(v.value):s(v.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class Xnt{constructor(e,r=Qnt){this._value=e,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(e,r=1){return Znt(this,void 0,void 0,function*(){const[n,s]=yield this.acquire(r);try{return yield e(n)}finally{s()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(r=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let r=this._value;r>0;r--){const n=(e=this._weightedQueues[r-1])===null||e===void 0?void 0:e.shift();if(!n)continue;const s=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([s,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let r=!1;return()=>{r||(r=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(r=>r()),this._weightedWaiters[e-1]=[])}}var Ynt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(v){try{d(n.next(v))}catch(b){o(b)}}function l(v){try{d(n.throw(v))}catch(b){o(b)}}function d(v){v.done?i(v.value):s(v.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class Ute{constructor(e){this._semaphore=new Xnt(1,e)}acquire(){return Ynt(this,void 0,void 0,function*(){const[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}class eit extends Uu{constructor({encryptor:r,cacheEncryptionKey:n,chainKeyrings:s}){super();Oe(this,"_keyrings",{});Oe(this,"_encryptor");Oe(this,"_password");Oe(this,"_state");Oe(this,"_unsupportedKeyrings",[]);Oe(this,"_cacheEncryptionKey");Oe(this,"_mutex");Oe(this,"_chainKeyrings");this._encryptor=r,this._cacheEncryptionKey=!!n,this._chainKeyrings=s,this._state=new zn.ObservableStore({vault:void 0,isUnlocked:!1,encryptionKey:void 0,encryptionSalt:void 0}),this._mutex=new Ute}get isUnlocked(){return this._state.getState().isUnlocked}get hasVault(){return this._state.getState().vault!==void 0}set vault(r){this._state.updateState({vault:r})}async submitEncryptionKey(r,n){try{return await this._mutex.runExclusive(()=>this._unlock(void 0,r,n)),!0}catch{return!1}}async submitPassword(r){try{return await this._mutex.runExclusive(()=>this._unlock(r)),!0}catch{return!1}}async verifyPassword(r){const n=this._state.getState().vault;if(!n)throw new Error("Cannot unlock without a previous vault.");try{return await this._encryptor.decrypt(r,n),!0}catch{return!1}}async createNewVault(r){return this._mutex.runExclusive(async()=>{this._keyrings={},this._password=r,this._state.updateState({isUnlocked:!0,encryptionKey:void 0,encryptionSalt:void 0,vault:void 0}),await this._persistAllKeyrings()})}async setNewPassword(r){this._password=r,await this._persistAllKeyrings(),this.emit("update",this._state.getState())}async lock(){return this._mutex.runExclusive(async()=>{this.isUnlocked&&(await this._persistAllKeyrings(),delete this._password,this._state.updateState({isUnlocked:!1,encryptionKey:void 0,encryptionSalt:void 0}),this._keyrings={},this.emit("lock",this._state.getState()))})}reset(){return this._mutex.runExclusive(async()=>{delete this._password,this._state.updateState({isUnlocked:!1,encryptionKey:void 0,encryptionSalt:void 0,vault:void 0}),this._keyrings={},this.emit("update",this._state.getState())})}async createKeyring(r,n,s){return this._mutex.runExclusive(async()=>{var c;if(!this.isUnlocked)throw new Error("KeyringService is locked");const i=(c=this._chainKeyrings[r])==null?void 0:c.find(l=>l.Type===n);if(!i)throw new Error(`Keyring ${n} is not allowed in ${r}`);const o=await i.create(s);return this._addKeyring(r,o),await this._persistAllKeyrings(),this.emit("update",this._state.getState()),o})}async createAccount(r){return this._mutex.runExclusive(async()=>{if(!this.isUnlocked)throw new Error("KeyringService is locked");const n=await r.createAccount();return await this._persistAllKeyrings(),this.emit("update",this._state.getState()),n})}async addAccount(r,...n){return this._mutex.runExclusive(async()=>{if(!this.isUnlocked)throw new Error("KeyringService is locked");const s=await r.addAccount(...n);return await this._persistAllKeyrings(),this.emit("update",this._state.getState()),s})}async addAccounts(r,...n){return this._mutex.runExclusive(async()=>{if(!this.isUnlocked)throw new Error("KeyringService is locked");const s=await r.addAccounts(...n);return await this._persistAllKeyrings(),this.emit("update",this._state.getState()),s})}async removeAccount(r,...n){return this._mutex.runExclusive(async()=>{if(!this.isUnlocked)throw new Error("KeyringService is locked");const s=await r.removeAccount(...n);return s&&(await this._persistAllKeyrings(),this.emit("update",this._state.getState())),s})}async removeKeyring(r){return this._mutex.runExclusive(async()=>{var i;if(!this.isUnlocked)throw new Error("KeyringService is locked");const n=this.getChainByKeyringId(r),s=this.getKeyringById(r);if(n&&s){const o=(i=this._keyrings[n])==null?void 0:i.indexOf(s);if(o!==void 0&&o>-1)return this._keyrings[n].splice(o,1),await this._persistAllKeyrings(),this.emit("update",this._state.getState()),!0}return!1})}getAllKeyrings(){return[...Object.values(this._keyrings)].flat()}getKeyrings(r,n){var i;const s=(i=this._keyrings[r])==null?void 0:i.filter(o=>o.type===n);if(!(s&&s.length===0))return s}getKeyringById(r){return this.getAllKeyrings().find(n=>n.id===r)}getKeyringsByType(r,n){var s;return((s=this._keyrings[r])==null?void 0:s.filter(i=>i.type===n))??[]}getChainByKeyringId(r){const n=Object.entries(this._keyrings).find(([s,i])=>i.find(o=>o.id===r));return n==null?void 0:n[0]}getKeyringBuilder(r,n){var s;return(s=this._chainKeyrings[r])==null?void 0:s.find(i=>i.Type===n)}getAccountById(r){return this.getAllKeyrings().flatMap(n=>n.getAccounts()).find(n=>n.id===r)}async _unlock(r,n,s){const i=this._state.getState().vault;if(!i)throw new Error("Cannot unlock without a previous vault.");this._keyrings={};let o;if(this._cacheEncryptionKey)if(r){const c=await this._encryptor.decryptWithDetail(r,i);o=c.vault,this._password=r,this._state.updateState({encryptionKey:c.exportedKeyString,encryptionSalt:c.salt})}else{const c=JSON.parse(i);if(s!==c.salt)throw new Error("Encryption key and salt provided are expired");const l=await this._encryptor.importKey(n);o=await this._encryptor.decryptWithKey(l,c),this._state.updateState({encryptionKey:n,encryptionSalt:s})}else o=await this._encryptor.decrypt(r,i),this._password=r;await Promise.all(o.map(this._restoreKeyring.bind(this))),this._state.updateState({isUnlocked:!0}),this.emit("unlock",this._state.getState())}async _persistAllKeyrings(){const{encryptionKey:r,encryptionSalt:n}=this._state.getState();if(!this._password&&!r)throw new Error("Cannot persist vault without password and encryption key");const s=Object.entries(this._keyrings).map(([l,d])=>d.map(v=>({chain:l,data:v.serialize()})));s.push(this._unsupportedKeyrings);const i=s.flat();let o,c;if(this._cacheEncryptionKey){if(this._password){const{vault:l,exportedKeyString:d}=await this._encryptor.encryptWithDetail(this._password,i);o=l,c=d}else if(r){const l=await this._encryptor.importKey(r),d=await this._encryptor.encryptWithKey(l,i);d.salt=n,o=JSON.stringify(d)}}else this._password&&(o=await this._encryptor.encrypt(this._password,i));if(!o)throw new Error("Cannot persist vault without vault information");this._state.updateState({vault:o}),c&&this._state.updateState({encryptionKey:c,encryptionSalt:JSON.parse(o).salt})}_addKeyring(r,n){var s;this._keyrings[r]||(this._keyrings[r]=[]),(s=this._keyrings[r])==null||s.push(n)}async _restoreKeyring(r){const{chain:n,data:s}=r,i=await this._deserializeKeyring(n,s);if(!i){this._unsupportedKeyrings.push(r);return}return this._addKeyring(n,i),i}async _deserializeKeyring(r,n){const s=this._getKeyringBuilder(r,n.type);if(!s){this._unsupportedKeyrings.push(s);return}return s.deserialize(n)}_getKeyringBuilder(r,n){var s;return(s=this._chainKeyrings[r])==null?void 0:s.find(i=>i.Type===n)}}var tit=Object.defineProperty,rit=Object.getOwnPropertyDescriptor,nit=(t,e,r,n)=>{for(var s=n>1?void 0:n?rit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&tit(e,r,s),s},yj=(t,e)=>(r,n)=>e(r,n,t);let mj=class extends mn{constructor(e,r){super();Oe(this,"keyring");Oe(this,"_store");Oe(this,"_chainKeyrings");Oe(this,"_chainKeyringsMapping");this.config=e,this.storage=r,this._chainKeyrings=Br.mapValues(Au(this.config.chains,"chain"),"keyrings"),this._chainKeyringsMapping=Br.mapValues(this._chainKeyrings,n=>Br.mapValues(n,"Type")),this._store=new zn.ObservableStore({isUnlocked:!1,hasVault:!1,keyrings:[],accounts:[]})}get store(){return this._store}async init(){this.keyring=new eit({encryptor:this.config.encryptor,cacheEncryptionKey:!0,chainKeyrings:Br.mapValues(this._chainKeyrings,n=>Object.values(n??{}))}),this.keyring.vault=await this.storage.get("keyring.vault",void 0);const e=await this.storage.get("keyring.encryptionKey",void 0),r=await this.storage.get("keyring.encryptionSalt",void 0);e&&r?await this.keyring.submitEncryptionKey(e,r):(await this.storage.set("keyring.encryptionKey",void 0),await this.storage.set("keyring.encryptionSalt",void 0)),this.keyring.on("lock",n=>{try{this._persistKeyringData(n),this._updateState(),this.eventBus.emit("keyring.locked")}catch(s){console.error("[KeyringController] lock",s)}}),this.keyring.on("unlock",n=>{try{this._persistKeyringData(n),this._updateState(),this.eventBus.emit("keyring.unlocked")}catch(s){console.error("[KeyringController] unlock",s)}}),this.keyring.on("update",n=>{try{this._persistKeyringData(n),this._updateState()}catch(s){console.error("[KeyringController] update",s)}}),this._updateState()}getAddressByDerivationPathAndIndex(e,r,n,s){var c;const i=(c=this._chainKeyringsMapping[e])==null?void 0:c[sc.KeyTree];if(!i)throw new Error("KeyTree keyring not supported for this chain");const o=this.keyring.getKeyringBuilder(e,i);if(bj(o))return o.getAddressByDerivationPathAndIndex(r,n,s);throw new Error("KeyTree keyring not supported this method")}getAccountById(e){return this.keyring.getAccountById(e)}hasKeyringById(e){return!!this.keyring.getKeyringById(e)}hasAccountById(e){return!!this.keyring.getAccountById(e)}getChainByKeyringId(e){return this.keyring.getChainByKeyringId(e)}async setNewPassword(e){this.keyring.setNewPassword(e)}getAccountDerivationPath(e){const r=this.keyring.getAccountById(e);if(!r)return;const n=this.keyring.getKeyringById(r.keyringId);if(!wj(n))throw new Error("This keyring does not support derivation");return n.getAccountDerivationPath(r)}getAccountDerivationIndex(e){const r=this.keyring.getAccountById(e);if(!r)return;const n=this.keyring.getKeyringById(r.keyringId);if(!wj(n))throw new Error("This keyring does not support derivation");return n.getAccountDerivationIndex(r)}getMnemonic(e){const r=this.keyring.getKeyringById(e);if(!iit(r))throw new Error("This keyring does not support derivation");return r.getMnemonic()}async verifyPassword(e){return this.keyring.verifyPassword(e)}async lock(){await this.keyring.lock()}async unlock(e){return this.keyring.submitPassword(e)}async createNewVault(e){await this.keyring.createNewVault(e)}async importKeyTreeKeyring(e,r){var c;const n=(c=this._chainKeyringsMapping[e])==null?void 0:c[sc.KeyTree];if(!n)throw new Error("KeyTree keyring not supported for this chain");if(this.keyring.getKeyringsByType(e,n).some(l=>l.getMnemonic()===r.mnemonic))throw new Error("KeyTree keyring already exists");return(await this.keyring.createKeyring(e,n,r)).id}async validateMnemonic(e,r,n){var l;const s=(l=this._chainKeyringsMapping[e])==null?void 0:l[sc.KeyTree];if(!s)throw new Error("KeyTree keyring not supported for this chain");if(this.keyring.getKeyringsByType(e,s).some(d=>d.getMnemonic()===r))throw new Error("KeyTree keyring already exists");const c=this.keyring.getKeyringBuilder(e,s);return bj(c)?c.validateMnemonic(r,n):!1}async createReadOnlyKeyring(e){var s;const r=(s=this._chainKeyringsMapping[e])==null?void 0:s[sc.ReadOnly];if(!r)throw new Error("ReadOnly keyring not supported for this chain");return(await this.keyring.createKeyring(e,r)).id}async createKeyTreeKeyring(e){var s;const r=(s=this._chainKeyringsMapping[e])==null?void 0:s[sc.KeyTree];if(!r)throw new Error("KeyTree keyring not supported for this chain");return(await this.keyring.createKeyring(e,r)).id}async createSimpleKeyring(e){var s;const r=(s=this._chainKeyringsMapping[e])==null?void 0:s[sc.Simple];if(!r)throw new Error("Simple keyring not supported for this chain");return(await this.keyring.createKeyring(e,r)).id}async createLedgerKeyring(e,r){var i;const n=(i=this._chainKeyringsMapping[e])==null?void 0:i[sc.Ledger];if(!n)throw new Error("Simple keyring not supported for this chain");return(await this.keyring.createKeyring(e,n,r)).id}getSimpleKeyringForChain(e){var n,s;const r=(n=this._chainKeyringsMapping[e])==null?void 0:n[sc.Simple];if(!r)throw new Error("Simple keyring not supported for this chain");return(s=this.keyring.getKeyringsByType(e,r)[0])==null?void 0:s.id}getLedgerKeyringForChain(e,r){var s,i;const n=(s=this._chainKeyringsMapping[e])==null?void 0:s[sc.Ledger];if(!n)throw new Error("Ledger keyring not supported for this chain");return(i=this.keyring.getKeyringsByType(e,n).find(o=>o.getLedgerHash()===r))==null?void 0:i.id}getReadOnlyKeyringForChain(e){var n,s;const r=(n=this._chainKeyringsMapping[e])==null?void 0:n[sc.ReadOnly];if(!r)throw new Error("ReadOnly keyring not supported for this chain");return(s=this.keyring.getKeyringsByType(e,r)[0])==null?void 0:s.id}async addAccounts(e,r){const n=this.keyring.getKeyringById(e);if(n)return this.keyring.addAccounts(n,r)}async addAccount(e,r){const n=this.keyring.getKeyringById(e);if(n)return this.keyring.addAccount(n,r)}async createAccount(e){const r=this.keyring.getKeyringById(e);if(r)return this.keyring.createAccount(r)}async deleteAccount(e){const r=this._store.getState().accounts.find(s=>s.id===e);if(!r)return;const n=this.keyring.getKeyringById(r.keyringId);if(n)return this.keyring.removeAccount(n,e)}async deleteKeyring(e){return this.keyring.removeKeyring(e)}getKeyringsByType(e,r){return this.keyring.getKeyringsByType(e,r).map(n=>n.id)}onResetApplication(){this.keyring.reset()}async _persistKeyringData(e){await this.storage.set("keyring.vault",e.vault),await this.storage.set("keyring.encryptionKey",e.encryptionKey),await this.storage.set("keyring.encryptionSalt",e.encryptionSalt)}_updateState(){this._store.updateState({isUnlocked:this.keyring.isUnlocked,hasVault:this.keyring.hasVault,keyrings:this.keyring.getAllKeyrings().map(e=>({id:e.id,type:e.type})),accounts:this.keyring.getAllKeyrings().flatMap(e=>e.getAccounts().map(r=>({id:r.id,keyringId:r.keyringId,address:r.getAddress(),publicKey:r.getPublicKey()})))})}};mj=nit([Lr(),yj(0,st(tt.Config)),yj(1,st(tt.StorageService))],mj);function bj(t){return typeof t=="function"&&typeof(t==null?void 0:t.validateMnemonic)=="function"}function wj(t){return typeof t=="object"&&typeof(t==null?void 0:t.getAccountDerivationPath)=="function"}function iit(t){return typeof t=="object"&&typeof(t==null?void 0:t.getMnemonic)=="function"}var sit=Object.defineProperty,oit=Object.getOwnPropertyDescriptor,ait=(t,e,r,n)=>{for(var s=n>1?void 0:n?oit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&sit(e,r,s),s},_j=(t,e)=>(r,n)=>e(r,n,t);let Ej=class extends mn{constructor(e,r){super();Oe(this,"marketInfo",[]);Oe(this,"_store");this.http=e,this.storage=r,this._store=new zn.ObservableStore({marketInfos:[],favorites:[],isReady:!1})}get store(){return this._store}async init(){const e=await this.storage.get("market",{marketInfos:[],favorites:[],isReady:!1});try{const r=await this.http.get("/api/integrations/top"),n=await Promise.all(r.data.map(async i=>{var c;const o=await this.fetchAboutInfoBySymbol(i.symbol);return{name:i.name,symbol:i.symbol,decimals:i.decimals,change24HPrice:i.change24h_price,price:i.current_price,logoUrl:i.logo_url,coinType:i.coin_type,about:(c=o==null?void 0:o.data)==null?void 0:c.about}})),s={...e,isReady:!0,marketInfos:n};await this.storage.set("market",s),this._store.updateState(s)}catch(r){console.log("Error fetching market data: ",r)}}async fetchAboutInfoBySymbol(e){try{return this.http.get(`/api/currencies/about/${e.toLowerCase()}`)}catch(r){console.log("Error fetching about market data: ",r)}}async fetchNews(e){try{const r=await this.http.get(`/api/currencies/news/${e}`);return Br.uniqBy(r.data||[],"title")}catch(r){return console.log("Error fetching news: ",r),[]}}async fetchPriceHistoryBySymbol(e,r){try{return(await this.http.get(`/api/integrations/fiat-prices/history?period=${e}&currencies=${r.toLowerCase()}`)).data}catch(n){console.log("Error fetching about market data: ",n);return}}async fetchStatsInfoBySymbol(e){try{return(await this.http.get(`/api/currencies/stats/${e.toLowerCase()}`)).data}catch(r){console.log("Error fetching stats market data: ",r);return}}async toggleFavorite(e){const r=await this.storage.get("market.favorites",[]);let n;r.includes(e)?n=r.filter(o=>o!==e):n=[e,...r];const i={...await this.storage.get("market"),favorites:n};await this.storage.set("market",i),this._store.updateState(i)}onResetApplication(){this._store.putState({marketInfos:[],favorites:[],isReady:!1}),this.storage.remove("market"),this.init()}};Ej=ait([Lr(),_j(0,st(tt.HttpService)),_j(1,st(tt.StorageService))],Ej);var cit=function(e){return fit(e)&&!uit(e)};function fit(t){return!!t&&typeof t=="object"}function uit(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||dit(t)}var lit=typeof Symbol=="function"&&Symbol.for,hit=lit?Symbol.for("react.element"):60103;function dit(t){return t.$$typeof===hit}function pit(t){return Array.isArray(t)?[]:{}}function A2(t,e){return e.clone!==!1&&e.isMergeableObject(t)?hm(pit(t),t,e):t}function git(t,e,r){return t.concat(e).map(function(n){return A2(n,r)})}function vit(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(s){n[s]=A2(t[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!t[s]?n[s]=A2(e[s],r):n[s]=hm(t[s],e[s],r)}),n}function hm(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||git,r.isMergeableObject=r.isMergeableObject||cit;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):vit(t,e,r):A2(e,r)}hm.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return hm(n,s,r)},{})};var q0=hm,yit=Object.defineProperty,mit=Object.getOwnPropertyDescriptor,bit=(t,e,r,n)=>{for(var s=n>1?void 0:n?mit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&yit(e,r,s),s},Xv=(t,e)=>(r,n)=>e(r,n,t);let Sj=class extends mn{constructor(e,r,n,s,i){super();Oe(this,"_internalStore");Oe(this,"_store");Oe(this,"walletController");Oe(this,"coin");Oe(this,"_defaultNetworks");this.config=e,this.storage=r,this.httpService=n,this.walletProvider=s,this.coinProvider=i,this._defaultNetworks=Au(this.config.chains.flatMap(o=>o.defaultNetworks.map(c=>({...c,chain:o.chain,id:c.id??`${o.chain}-${c.mode}`}))),"id"),this._internalStore=new zn.ObservableStore({networkMode:Ui.Mainnet,overviewMode:!1,networkId:void 0,networks:{...this._defaultNetworks},lastCustomNetworks:{}}),this._store=new zn.ObservableStore({networkMode:Ui.Mainnet,overviewMode:!1,currentNetwork:this._defaultNetworks[Ch],networks:{...this._defaultNetworks},lastCustomNetworks:{}}),this._internalStore.subscribe(this._updateState.bind(this))}get store(){return this._store}get currentNetwork(){return this._store.getState().currentNetwork}get networks(){return this._store.getState().networks}get networkMode(){return this._store.getState().networkMode}get overviewMode(){return this._store.getState().overviewMode}async changeNetwork(e){const{currentNetwork:r}=this._store.getState();this._changeNetwork(e);const{currentNetwork:n}=this._store.getState();n.mode===r.mode&&n.mode!==Ui.Custom||(this._internalStore.updateState({networkMode:n.mode}),this.eventBus.emit("networkModeChanged",n.mode))}async createNetwork(e,r){const n=`${e}-custom-${SS()}`,s={...r,chain:e,mode:Ui.Custom,id:n,options:{...r.options,editable:!0,deletable:!0}};return await this.updateNetwork(n,s),s.id}async deleteNetwork(e){const r=this.currentNetwork,n=r.id===e,s=await this.storage.get("network.userNetworks",{})??{};delete s[e],await this.storage.set("network.userNetworks",s);const i=q0(this._defaultNetworks,s);if(this._internalStore.updateState({networks:i}),n){const o=this._internalStore.getState().lastCustomNetworks;r.mode===Ui.Custom&&o[r.chain]===r.id&&(delete o[r.chain],this._internalStore.updateState({lastCustomNetworks:o}));const c=this.getChainNetwork(r.chain,r.mode);await this.changeNetwork((c==null?void 0:c.id)??Ch)}}async resetNetworks(){const e=this.currentNetwork,r=!this._defaultNetworks[e.id];if(this._internalStore.updateState({networks:{...this._defaultNetworks},lastCustomNetworks:{}}),await this.storage.remove("network.userNetworks"),r){const n=this.getChainNetwork(e.chain,e.mode);await this.changeNetwork((n==null?void 0:n.id)??Ch)}}async updateNetwork(e,r){const n=await this.storage.get("network.userNetworks",{})??{},s=q0(n,{[e]:r});await this.storage.set("network.userNetworks",s);const i=q0(this._defaultNetworks,s);this._internalStore.updateState({networks:i}),e===this.currentNetwork.id&&this._changeNetwork(e,!0)}async changeOverviewMode(e=!1){return this._changeOverviewMode(e),e}getChainNetwork(e,r){const{lastCustomNetworks:n,networks:s}=this._internalStore.getState();let i=`${e}-${r}`;return r===Ui.Custom&&(i=n[e]??i,s[i]||(i=`${e}-custom`)),s[i]}getChainNetworks(e){return Object.values(this._internalStore.getState().networks).filter(r=>r.chain===e)}onAccountChanged(e){if(!e)return;const{networkMode:r}=this._internalStore.getState();this._changeOverviewMode(!1);const n=this.getChainNetwork(e.chain,r);n&&this._changeNetwork(n.id)}async onResetApplication(){this._internalStore.updateState({networkMode:Ui.Mainnet,networkId:Ch,overviewMode:!1,networks:{...this._defaultNetworks}}),await this.storage.remove("network.userNetworks"),await this.changeNetwork(Ch)}_changeNetwork(e,r){const{networkId:n,networks:s}=this._internalStore.getState();if(n!==e||r){const i=e?s[e]:void 0,o={networkId:i?e:void 0};if((i==null?void 0:i.mode)===Ui.Custom){const c={...this._internalStore.getState().lastCustomNetworks,[i.chain]:i.id};Object.entries(c).forEach(([l,d])=>{s[d]||delete c[l]}),o.lastCustomNetworks=c}this._internalStore.updateState(o),this.eventBus.emit("networkChanged",i)}}_changeOverviewMode(e){const{overviewMode:r}=this._internalStore.getState();r!==e&&(this._internalStore.updateState({overviewMode:e}),this.eventBus.emit("overviewModeChanged",e))}async init(){this.walletController=await this.walletProvider();const e=this.walletController.currentAccount,r=await this.storage.get("network.lastCustomNetworks",{})??{},n=await this.storage.get("network.networkMode",Ui.Mainnet)??Ui.Mainnet;let s=e?`${e.chain}-${n}`:Ch;n===Ui.Custom&&(s=(e?r[e.chain]:s)??s);const i=await this.storage.get("network.overviewMode",!1)??!1,o=await this.storage.get("network.userNetworks",{})??{},c=q0(this._defaultNetworks,o);c[s]||(s=e?`${e.chain}-mainnet`:Ch),this._internalStore.updateState({networkMode:n,overviewMode:i,networkId:s,networks:c,lastCustomNetworks:r})}async faucet(){var c;const e=this.walletController.currentAccount;if(!e)return;const r=e.publicKey,n=this.currentNetwork.faucetUrl;if(!r||!n)return;const s=this.currentNetwork.chain===Qt.Aptos&&this.currentNetwork.mode===Ui.Custom;this.coin=await this.coinProvider();const i=s?{amount:p9,address:e.address}:{amount:d9,pub_key:r};try{await this.httpService.post(n,void 0,{params:i})}catch(l){throw((c=l.response)==null?void 0:c.data)===W_e?new nW:l}const o=s?p9:d9/10**3;await this.coin.patchBalance(Qt.Aptos,e.address,this.currentNetwork.nativeCoin,o)}async _updateState(){const e=this._internalStore.getState();let r;e.networkId&&(r=e.networks[e.networkId]),this._store.updateState({networkMode:e.networkMode,overviewMode:e.overviewMode,currentNetwork:r,networks:e.networks,lastCustomNetworks:Br.mapValues(e.lastCustomNetworks,n=>e.networks[n])}),await this.storage.set("network.networkMode",e.networkMode),await this.storage.set("network.networkId",e.networkId),await this.storage.set("network.overviewMode",e.overviewMode),await this.storage.set("network.lastCustomNetworks",e.lastCustomNetworks)}};Sj=bit([Lr(),Xv(0,st(tt.Config)),Xv(1,st(tt.StorageService)),Xv(2,st(tt.HttpService)),Xv(3,st(tt.WalletControllerProvider)),Xv(4,st(tt.CoinControllerProvider))],Sj);var Fte={exports:{}},I4={exports:{}},R4={exports:{}},Aj;function wit(){return Aj||(Aj=1,function(t){var e=function(){function r(A,x){return x!=null&&A instanceof x}var n;try{n=Map}catch{n=function(){}}var s;try{s=Set}catch{s=function(){}}var i;try{i=Promise}catch{i=function(){}}function o(A,x,R,C,T){typeof x=="object"&&(R=x.depth,C=x.prototype,T=x.includeNonEnumerable,x=x.circular);var $=[],O=[],D=typeof Re.Buffer<"u";typeof x>"u"&&(x=!0),typeof R>"u"&&(R=1/0);function L(F,H){if(F===null)return null;if(H===0)return F;var V,J;if(typeof F!="object")return F;if(r(F,n))V=new n;else if(r(F,s))V=new s;else if(r(F,i))V=new i(function(w,_){F.then(function(g){w(L(g,H-1))},function(g){_(L(g,H-1))})});else if(o.__isArray(F))V=[];else if(o.__isRegExp(F))V=new RegExp(F.source,b(F)),F.lastIndex&&(V.lastIndex=F.lastIndex);else if(o.__isDate(F))V=new Date(F.getTime());else{if(D&&Re.Buffer.isBuffer(F))return Re.Buffer.allocUnsafe?V=Re.Buffer.allocUnsafe(F.length):V=new Re.Buffer(F.length),F.copy(V),V;r(F,Error)?V=Object.create(F):typeof C>"u"?(J=Object.getPrototypeOf(F),V=Object.create(J)):(V=Object.create(C),J=C)}if(x){var Z=$.indexOf(F);if(Z!=-1)return O[Z];$.push(F),O.push(V)}r(F,n)&&F.forEach(function(w,_){var g=L(_,H-1),f=L(w,H-1);V.set(g,f)}),r(F,s)&&F.forEach(function(w){var _=L(w,H-1);V.add(_)});for(var se in F){var S;J&&(S=Object.getOwnPropertyDescriptor(J,se)),!(S&&S.set==null)&&(V[se]=L(F[se],H-1))}if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(F),se=0;se<a.length;se++){var u=a[se],h=Object.getOwnPropertyDescriptor(F,u);h&&!h.enumerable&&!T||(V[u]=L(F[u],H-1),h.enumerable||Object.defineProperty(V,u,{enumerable:!1}))}if(T)for(var p=Object.getOwnPropertyNames(F),se=0;se<p.length;se++){var y=p[se],h=Object.getOwnPropertyDescriptor(F,y);h&&h.enumerable||(V[y]=L(F[y],H-1),Object.defineProperty(V,y,{enumerable:!1}))}return V}return L(A,R)}o.clonePrototype=function(x){if(x===null)return null;var R=function(){};return R.prototype=x,new R};function c(A){return Object.prototype.toString.call(A)}o.__objToStr=c;function l(A){return typeof A=="object"&&c(A)==="[object Date]"}o.__isDate=l;function d(A){return typeof A=="object"&&c(A)==="[object Array]"}o.__isArray=d;function v(A){return typeof A=="object"&&c(A)==="[object RegExp]"}o.__isRegExp=v;function b(A){var x="";return A.global&&(x+="g"),A.ignoreCase&&(x+="i"),A.multiline&&(x+="m"),x}return o.__getRegExpFlags=b,o}();t.exports&&(t.exports=e)}(R4)),R4.exports}var xj;function _it(){return xj||(xj=1,function(){var t,e,r=[].splice,n=function(i,o){if(!(i instanceof o))throw new Error("Bound instance method accessed before binding")},s=[].indexOf;e=wit(),t=Of.EventEmitter,I4.exports=function(){class i extends t{constructor(c={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=c,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(l=>{var d;d=this[l],this[l]=function(...v){var b,A,x,R;if(x=v,[...v]=x,[b]=r.call(v,-1),typeof b=="function")try{R=d(...v),b(null,R)}catch(C){A=C,b(A)}else return d(...v,b)}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}get(c){var l,d;if(n(this,i),(d=this._isInvalidKey(c))!=null)throw d;if(this.data[c]!=null&&this._check(c,this.data[c]))return this.stats.hits++,l=this._unwrap(this.data[c]),l;this.stats.misses++}mget(c){var l,d,v,b,A,x;if(n(this,i),!Array.isArray(c))throw l=this._error("EKEYSTYPE"),l;for(x={},v=0,A=c.length;v<A;v++){if(b=c[v],(d=this._isInvalidKey(b))!=null)throw d;this.data[b]!=null&&this._check(b,this.data[b])?(this.stats.hits++,x[b]=this._unwrap(this.data[b])):this.stats.misses++}return x}set(c,l,d){var v,b,A;if(n(this,i),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw v=this._error("ECACHEFULL"),v;if(this.options.forceString&&!1==="string"&&(l=JSON.stringify(l)),d==null&&(d=this.options.stdTTL),(b=this._isInvalidKey(c))!=null)throw b;return A=!1,this.data[c]&&(A=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[c],!1))),this.data[c]=this._wrap(l,d),this.stats.vsize+=this._getValLength(l),A||(this.stats.ksize+=this._getKeyLength(c),this.stats.keys++),this.emit("set",c,l),!0}mset(c){var l,d,v,b,A,x,R,C,T,$;if(n(this,i),this.options.maxKeys>-1&&this.stats.keys+c.length>=this.options.maxKeys)throw l=this._error("ECACHEFULL"),l;for(v=0,R=c.length;v<R;v++){if(x=c[v],{key:A,val:$,ttl:T}=x,T&&typeof T!="number")throw l=this._error("ETTLTYPE"),l;if((d=this._isInvalidKey(A))!=null)throw d}for(b=0,C=c.length;b<C;b++)x=c[b],{key:A,val:$,ttl:T}=x,this.set(A,$,T);return!0}del(c){var l,d,v,b,A,x;for(n(this,i),Array.isArray(c)||(c=[c]),l=0,v=0,A=c.length;v<A;v++){if(b=c[v],(d=this._isInvalidKey(b))!=null)throw d;this.data[b]!=null&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[b],!1)),this.stats.ksize-=this._getKeyLength(b),this.stats.keys--,l++,x=this.data[b],delete this.data[b],this.emit("del",b,x.v))}return l}take(c){var l;return n(this,i),l=this.get(c),l!=null&&this.del(c),l}ttl(c,l){var d;if(n(this,i),l||(l=this.options.stdTTL),!c)return!1;if((d=this._isInvalidKey(c))!=null)throw d;return this.data[c]!=null&&this._check(c,this.data[c])?(l>=0?this.data[c]=this._wrap(this.data[c].v,l,!1):this.del(c),!0):!1}getTtl(c){var l,d;if(n(this,i),!!c){if((d=this._isInvalidKey(c))!=null)throw d;if(this.data[c]!=null&&this._check(c,this.data[c]))return l=this.data[c].t,l}}keys(){var c;return n(this,i),c=Object.keys(this.data),c}has(c){var l;return n(this,i),l=this.data[c]!=null&&this._check(c,this.data[c]),l}getStats(){return n(this,i),this.stats}flushAll(c=!0){n(this,i),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(c),this.emit("flush")}flushStats(){n(this,i),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){n(this,i),this._killCheckPeriod()}_checkData(c=!0){var l,d,v;n(this,i),d=this.data;for(l in d)v=d[l],this._check(l,v);c&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,this.options.checkperiod*1e3,c),this.checkTimeout!=null&&this.checkTimeout.unref!=null&&this.checkTimeout.unref())}_killCheckPeriod(){if(this.checkTimeout!=null)return clearTimeout(this.checkTimeout)}_check(c,l){var d;return n(this,i),d=!0,l.t!==0&&l.t<Date.now()&&(this.options.deleteOnExpire&&(d=!1,this.del(c)),this.emit("expired",c,this._unwrap(l))),d}_isInvalidKey(c){var l;if(n(this,i),l=typeof c,s.call(this.validKeyTypes,l)<0)return this._error("EKEYTYPE",{type:typeof c})}_wrap(c,l,d=!0){var v,b,A;return n(this,i),this.options.useClones||(d=!1),b=Date.now(),v=0,A=1e3,l===0?v=0:l?v=b+l*A:this.options.stdTTL===0?v=this.options.stdTTL:v=b+this.options.stdTTL*A,{t:v,v:d?e(c):c}}_unwrap(c,l=!0){return this.options.useClones||(l=!1),c.v!=null?l?e(c.v):c.v:null}_getKeyLength(c){return c.toString().length}_getValLength(c){return n(this,i),typeof c=="string"?c.length:this.options.forceString?JSON.stringify(c).length:Array.isArray(c)?this.options.arrayValueSize*c.length:typeof c=="number"?8:typeof(c!=null?c.then:void 0)=="function"?this.options.promiseValueSize:typeof Re.Buffer<"u"&&Re.Buffer!==null&&Re.Buffer.isBuffer(c)?c.length:c!=null&&typeof c=="object"?this.options.objectValueSize*Object.keys(c).length:typeof c=="boolean"?8:0}_error(c,l={}){var d;return n(this,i),d=new Error,d.name=c,d.errorcode=c,d.message=this.ERRORS[c]!=null?this.ERRORS[c](l):"-",d.data=l,d}_initErrors(){var c,l,d;n(this,i),this.ERRORS={},d=this._ERRORS;for(l in d)c=d[l],this.ERRORS[l]=this.createErrorMessage(c)}createErrorMessage(c){return function(l){return c.replace("__key",l.type)}}}return i.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},i}.call(this)}.call(He)),I4.exports}(function(){var t;t=Fte.exports=_it(),t.version="5.1.2"}).call(He);var Eit=Fte.exports;const Sit=Mr(Eit);var Ait=Object.defineProperty,xit=Object.getOwnPropertyDescriptor,Mit=(t,e,r,n)=>{for(var s=n>1?void 0:n?xit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Ait(e,r,s),s},lw=(t,e)=>(r,n)=>e(r,n,t);let Mj=class extends mn{constructor(e,r,n,s){super();Oe(this,"cache",new Sit({stdTTL:600,checkperiod:600}));Oe(this,"_store");Oe(this,"nftService");Oe(this,"networkController");Oe(this,"walletController");Oe(this,"allowAutoRefetch",!0);Oe(this,"cachedHiddenCollections",{});this._container=e,this.walletsProvider=r,this.networkProvider=n,this.searchService=s,this.searchService.registerSearch(this._globalSearchHandler.bind(this))}get store(){return this._store}async init(){this.networkController=await this.networkProvider(),this.walletController=await this.walletsProvider(),this.allowAutoRefetch=!0,this._store=new zn.ObservableStore({isLoading:!0,myCollections:[],myNfts:[],isAllowed:!1});const e=this.networkController.currentNetwork;this.walletController.currentAccount&&e&&this.walletController.isUnlocked&&this._load().catch(n=>{console.error("[NftController] Error in initialization function",n)})}onTransactionSubmitted(){setTimeout(async()=>{try{this._load(!0)}catch(e){console.error("[NftController] Error in submit transaction hook",e)}},5e3)}onAccountChanged(e){e&&this._load(),this._store.updateState({isLoading:!0,myCollections:[],myNfts:[],isAllowed:(e==null?void 0:e.chain)!==Qt.Aptos})}onNetworkChanged(e){e&&this._load(),this._store.updateState({isLoading:!0,myCollections:[],myNfts:[],isAllowed:e.chain!==Qt.Aptos})}async getAccountCollections(e){var o;const{chainId:r,chain:n}=this.networkController.currentNetwork||{},s=["account-collections",e,String(r),String(n)];if(this.hasCache(s))return this.getCache(s);const i=await((o=this.nftService)==null?void 0:o.getAccountCollections(e))||[];return this.setCache(s,i),i}async changeCollectionVisability(e,r){const n=this.store.getState(),{myCollections:s}=n,i=this.walletController.currentAccount,{chain:o}=i??{},c=s.findIndex(l=>l.id===e);c<0||(s[c].isHidden=r,o&&(this.cachedHiddenCollections[o]||(this.cachedHiddenCollections[o]={}),this.cachedHiddenCollections[o][e]=r),this.store.updateState({...n,myCollections:s}))}async getAccountNfts(e){var o;const{chainId:r,chain:n}=this.networkController.currentNetwork||{},s=["account-nfts",e,String(r),String(n)];if(this.hasCache(s))return this.getCache(s);const i=await((o=this.nftService)==null?void 0:o.getAccountNfts(e))||[];return this.setCache(s,i,3*60),i}async getNftById(e,r){var s,i;return this.networkController.currentNetwork.chain===Qt.Aptos?(i=(s=this.nftService)==null?void 0:s.getNftById)==null?void 0:i.call(s,e,r):this._store.getState().myNfts.find(o=>o.collectionId===r&&o.id===e)}async loadNft(e,r){var s,i,o,c;return this.networkController.currentNetwork.chain===Qt.Aptos?(i=(s=this.nftService)==null?void 0:s.getNftById)==null?void 0:i.call(s,r,e):(c=(o=this.nftService)==null?void 0:o.loadNft)==null?void 0:c.call(o,e,r)}async addNftToStore(e){var d,v,b,A,x,R;const r=((d=this.walletController.currentAccount)==null?void 0:d.address)||"",{chainId:n,chain:s}=this.networkController.currentNetwork||{},i=["account-collections",r,String(n),String(s)],o=["account-nfts",r,String(n),String(s)],{myNfts:c,myCollections:l}=this._store.getState();try{if(!jl.includes(s)){const $=await((b=(v=this.nftService)==null?void 0:v.getNftById)==null?void 0:b.call(v,e.id,e.collectionId));return((A=$==null?void 0:$.ownerOf)==null?void 0:A.toLocaleLowerCase())!==r.toLocaleLowerCase()}if(r&&!await((R=(x=this.nftService)==null?void 0:x.checkNftOwnership)==null?void 0:R.call(x,e.collectionId,e.id,r)))return!1;const C=c.findIndex($=>$.id===e.id);if(C===-1)c.push(e);else{if(c[C].amount===e.amount)return!0;c[C].amount=e.amount}const T=l.findIndex($=>$.id===e.collectionId);return T===-1?l.push({id:e.collectionId,name:(e==null?void 0:e.collectionName)||e.name,description:e.description,creator:e.creator,version:e.version,previewSource:e==null?void 0:e.collectionLogo,totalTokens:Number(e.amount)??0}):l[T].totalTokens+=Number(e.amount??0)??0,this._store.updateState({isLoading:!1,myCollections:l,myNfts:c,isAllowed:await this.isNftAllowed()}),this.setCache(i,l,3*60),this.setCache(o,c,3*60),!0}catch(C){return console.error(C),!1}}async getAccountNftById(e,r,n){var o,c,l;const s=this.networkController.currentNetwork.chain,i=((o=this.walletController.currentAccount)==null?void 0:o.address)||n;if(!i)throw new Error("No address provided");if(s===Qt.Aptos)return(l=(c=this.nftService)==null?void 0:c.getAccountNftById)==null?void 0:l.call(c,e,r,i);if(s===Qt.Ethereum)return this._store.getState().myNfts.find(d=>d.collectionId===r&&d.id===e)}async isNftAllowed(){var r;if(this.networkController.currentNetwork.chain===Qt.Aptos){const n=(r=this.walletController.currentAccount)==null?void 0:r.address;return!!n&&this._container.getNamed(tt.NftService,Qt.Aptos).isNftAllowed(n,this.networkController.currentNetwork.mode)}return!0}async _load(e=!1){var i;const r=(i=this.walletController.currentAccount)==null?void 0:i.address,n=this.networkController.currentNetwork;if(!r||!(n!=null&&n.chainId))return;if(this.nftService=this._container.getNamed(tt.NftService,n.chain),!this.nftService)throw new Error(`NftService not exist for ${n.chain}`);await this.nftService.init(n),this.cache.flushAll();const s=n.chain!==Qt.Aptos;e||this._store.updateState({isLoading:!0,myCollections:[],myNfts:[],isAllowed:s});try{const o=this.cachedHiddenCollections[n.chain],c=await this.getAccountCollections(r),l=await this.getAccountNfts(r),d=c.map(b=>{var A,x;return{...b,totalTokens:b.totalTokens||l.filter(R=>R.collectionId===b.id).length,previewSource:s?((A=b.previewSource)==null?void 0:A.type)==="image"?b.previewSource:(x=l.filter(R=>R.collectionId===b.id)[0])==null?void 0:x.previewSource:b.previewSource,isHidden:typeof(o==null?void 0:o[b.id])=="boolean"?o==null?void 0:o[b.id]:b.isHidden}}),v=l.map(b=>{var A,x;return{...b,name:b.name||((A=c.find(R=>R.id===b.collectionId))==null?void 0:A.name)||"",previewSource:b.previewSource.type==="image"?b.previewSource:((x=d.find(R=>R.id===b.collectionId))==null?void 0:x.previewSource)||{type:"unknown"}}});this._store.updateState({isLoading:!1,myCollections:d,myNfts:v,isAllowed:await this.isNftAllowed()})}catch{this._store.updateState({isLoading:!1,myCollections:[],myNfts:[],isAllowed:!0})}}onDataSync(){this.allowAutoRefetch&&(this._load(!0),this.allowAutoRefetch=!1)}async forceRefetch(e){if(await this._load(!0),e){Fh(e);return}}async _globalSearchHandler(){const{myCollections:e,myNfts:r}=this._store.getState(),n=this.walletController.currentAccount;if(!n)return[];const s=e.map(o=>({groupKey:{walletId:n.walletId,accountId:n.id},entry:o}));return[{widget:"nfts",collection:r.map(o=>({groupKey:{walletId:n.walletId,accountId:n.id},entry:o})),keys:["entry.name","entry.description","entry.collectionName"]},{widget:"nft-collections",collection:s,keys:["entry.description","entry.name"]}]}setCache(e,r,n){this.cache.set(this.genCacheKey(e),r,n??"")}getCache(e){return this.cache.get(this.genCacheKey(e))}hasCache(e){return this.cache.has(this.genCacheKey(e))}genCacheKey(e){return(Array.isArray(e)?e:[e]).join("/")}};Mj=Mit([Lr(),lw(0,st(tt.RootContainer)),lw(1,st(tt.WalletControllerProvider)),lw(2,st(tt.NetworkControllerProvider)),lw(3,st(tt.SearchService))],Mj);var Iit=Object.defineProperty,Rit=Object.getOwnPropertyDescriptor,Tit=(t,e,r,n)=>{for(var s=n>1?void 0:n?Rit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Iit(e,r,s),s},hw=(t,e)=>(r,n)=>e(r,n,t);const Ij={isOnline:!0,isApiOnline:!0};let Rj=class extends mn{constructor(e,r,n,s){super();Oe(this,"_store");Oe(this,"network");this.http=e,this.online=r,this.networkProvider=n,this.config=s}get store(){return this._store}async init(){var e;this._store=new zn.ObservableStore(Ij),this.network=await this.networkProvider(),this._healthCheck((e=this.network)==null?void 0:e.currentNetwork)}onDataSync(){var e;this._healthCheck((e=this.network)==null?void 0:e.currentNetwork)}onNetworkChanged(e){this._healthCheck(e,!0)}async _healthCheck(e,r=!1){if(this.online.hasApiError&&this._store.updateState({isApiOnline:!1}),this.online.hasApiError||r)try{e&&await this.http.get(e.apiUrl).catch(n=>{var s;if(!n.isAxiosError||n.isAxiosError&&(((s=n.response)==null?void 0:s.status)??500)>=500)throw n}),await this.http.get("/api/health"),this._store.updateState({isApiOnline:!0}),this.online.clearApiError()}catch{this._store.updateState({isApiOnline:!1})}try{await this.http.get("https://www.google.com/"),this._store.updateState({isOnline:!0})}catch{this._store.updateState({isOnline:!1})}}onResetApplication(){this._store.putState(Ij)}};Rj=Tit([Lr(),hw(0,st(tt.HttpService)),hw(1,st(tt.OnlineService)),hw(2,st(tt.NetworkControllerProvider)),hw(3,st(tt.Config))],Rj);var $it=Object.defineProperty,Cit=Object.getOwnPropertyDescriptor,Oit=(t,e,r,n)=>{for(var s=n>1?void 0:n?Cit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&$it(e,r,s),s},Bit=(t,e)=>(r,n)=>e(r,n,t);const Tj={lastUsedEvmProvider:Qt.Ethereum,usePontemAsDefault:!1,detectedEvmContainerOccupiedError:!1,isEvmContainerOccupiedErrorMessageRead:!1,dappsFirstUsing:!0,isBalanceVisible:!0,showAptInTitle:!1,allowSendStatistics:!0,sendStatisticsModalVisibility:!0,anotherProviderDetected:!1,showMigrationModal:!1,autolockInterval:10,lockIn:"minutes",lastActivityTime:void 0,zeroBalanceHidden:!1,assetsLessThanHidden:"",lessThanIsActive:!1,sortTokensBy:y8.USD,overviewAssetsLessThanHidden:"",overviewLessThanIsActive:!1,overviewSortTokensBy:y8.USD,lastOnboardingId:void 0,hasDefaultPassword:!1,sidePanelView:!1};let $j=class extends mn{constructor(e){super();Oe(this,"_store");this.storage=e,this._store=new zn.ObservableStore(Tj)}get store(){return this._store}async init(){const e=await this.storage.get("preferences",{});this._store.updateState(e)}async update(e,r){await this.storage.set(`preferences.${e}`,r),this._store.updateState({[e]:r})}getKey(e){return this._store.getState()[e]}onResetApplication(){const e=this.getKey("lastOnboardingId");this._store.putState({...Tj,lastOnboardingId:e})}async onAccountChanged(e){e&&jl.includes(e.chain)&&await this.update("lastUsedEvmProvider",e.chain)}};$j=Oit([Lr(),Bit(0,st(tt.StorageService))],$j);var Pit=Object.defineProperty,Nit=Object.getOwnPropertyDescriptor,kit=(t,e,r,n)=>{for(var s=n>1?void 0:n?Nit(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Pit(e,r,s),s},Is=(t,e)=>(r,n)=>e(r,n,t);let Cj=class extends mn{constructor(e,r,n,s,i,o,c,l,d,v,b,A,x,R,C,T){super();Oe(this,"timerId");Oe(this,"previousState",{});Oe(this,"currentState",{});Oe(this,"emitter");Oe(this,"preferences");Oe(this,"activity");Oe(this,"coin");Oe(this,"nft");Oe(this,"wallets");Oe(this,"networks");Oe(this,"migration");Oe(this,"permissions");Oe(this,"flags");Oe(this,"externalRequests");Oe(this,"market");Oe(this,"banners");Oe(this,"online");Oe(this,"contacts");Oe(this,"composedStore");Oe(this,"nameService");Oe(this,"dapps");this.preferencesProvider=e,this.activityProvider=r,this.nftProvider=n,this.walletsProvider=s,this.networkProvider=i,this.migrationProvider=o,this.coinProvider=c,this.permissionsProvider=l,this.externalRequestsProvider=d,this.flagsProvider=v,this.marketProvider=b,this.bannersProvider=A,this.onlineProvider=x,this.contactsProvider=R,this.nameServiceProvider=C,this.dappsProvider=T,this.emitter=new Uu}get state(){return this.currentState}async init(){this.preferences=await this.preferencesProvider(),this.activity=await this.activityProvider(),this.nft=await this.nftProvider(),this.wallets=await this.walletsProvider(),this.networks=await this.networkProvider(),this.migration=await this.migrationProvider(),this.coin=await this.coinProvider(),this.permissions=await this.permissionsProvider(),this.externalRequests=await this.externalRequestsProvider(),this.flags=await this.flagsProvider(),this.market=await this.marketProvider(),this.banners=await this.bannersProvider(),this.online=await this.onlineProvider(),this.contacts=await this.contactsProvider(),this.nameService=await this.nameServiceProvider(),this.dapps=await this.dappsProvider();const e={preferences:this.preferences.store,nft:this.nft.store,activity:this.activity.store,wallets:this.wallets.store,networks:this.networks.store,migration:this.migration.store,coin:this.coin.store,permissions:this.permissions.store,requests:this.externalRequests.store,flags:this.flags.store,market:this.market.store,banners:this.banners.store,online:this.online.store,contacts:this.contacts.store,nameService:this.nameService.store,dapps:this.dapps.store};this.composedStore=new FQ(e),this.composedStore.subscribe(this.handleUpdateStore.bind(this)),this.updateState()}onUpdateState(e){return this.emitter.on("updateState",e),()=>this.emitter.removeListener("updateState",e)}handleUpdateStore(){this.timerId===void 0&&(this.timerId=setTimeout(()=>{this.updateState(),this.timerId=void 0}))}updateState(){const e=this.composedStore.getState(),r=e$(this.currentState,e);this.previousState=Br.cloneDeep(this.currentState),this.currentState=Br.cloneDeep(e),r&&r.length>0&&this.emitter.emit("updateState",{state:Br.cloneDeep(this.currentState),patch:r})}};Cj=kit([Lr(),Is(0,st(tt.PreferencesControllerProvider)),Is(1,st(tt.ActivityControllerProvider)),Is(2,st(tt.NftControllerProvider)),Is(3,st(tt.WalletControllerProvider)),Is(4,st(tt.NetworkControllerProvider)),Is(5,st(tt.MigrationControllerProvider)),Is(6,st(tt.CoinControllerProvider)),Is(7,st(tt.PermissionsControllerProvider)),Is(8,st(tt.ExternalRequestsServiceProvider)),Is(9,st(tt.FlagsControllerProvider)),Is(10,st(tt.MarketControllerProvider)),Is(11,st(tt.BannersControllerProvider)),Is(12,st(tt.OnlineControllerProvider)),Is(13,st(tt.ContactsControllerProvider)),Is(14,st(tt.NameServiceControllerProvider)),Is(15,st(tt.DappsControllerProvider))],Cj);const cxt=360,fxt=620,Lit="default-user-password";function Dit(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Uit=Dit,Oj=Dg;function Fit(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,i=Oj(t),o=e!==void 0,c=e===null,l=e===e,d=Oj(e);if(!c&&!d&&!i&&t>e||i&&o&&l&&!c&&!d||n&&o&&l||!r&&l||!s)return 1;if(!n&&!i&&!d&&t<e||d&&r&&s&&!n&&!i||c&&r&&s||!o&&s||!l)return-1}return 0}var jit=Fit,qit=jit;function zit(t,e,r){for(var n=-1,s=t.criteria,i=e.criteria,o=s.length,c=r.length;++n<o;){var l=qit(s[n],i[n]);if(l){if(n>=c)return l;var d=r[n];return l*(d=="desc"?-1:1)}}return t.index-e.index}var Hit=zit,T4=qd,Vit=BS,Kit=PS,Git=zX,Wit=Uit,Jit=Rg,Qit=Hit,Zit=$g,Xit=ms;function Yit(t,e,r){e.length?e=T4(e,function(i){return Xit(i)?function(o){return Vit(o,i.length===1?i[0]:i)}:i}):e=[Zit];var n=-1;e=T4(e,Jit(Kit));var s=Git(t,function(i,o,c){var l=T4(e,function(d){return d(i)});return{criteria:l,index:++n,value:i}});return Wit(s,function(i,o){return Qit(i,o,r)})}var jte=Yit,est=k$,tst=jte,rst=ZE,Bj=ST,nst=rst(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Bj(t,e[0],e[1])?e=[]:r>2&&Bj(e[0],e[1],e[2])&&(e=[e[0]]),tst(t,est(e,1),[])}),ist=nst;const sst=Mr(ist);var ost=Object.defineProperty,ast=Object.getOwnPropertyDescriptor,cst=(t,e,r,n)=>{for(var s=n>1?void 0:n?ast(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&ost(e,r,s),s},$4=(t,e)=>(r,n)=>e(r,n,t);let Pj=class extends mn{constructor(e,r,n){super();Oe(this,"keyringController");Oe(this,"preferencesController");Oe(this,"_internalStore");Oe(this,"_store");this.storage=e,this.keyringProvider=r,this.preferencesProvider=n,this._store=new zn.ObservableStore({isInitialized:!1,wallets:[],accounts:[],currentAccount:void 0,currentWallet:void 0,chain:void 0,isUnlocked:!1}),this._internalStore=new zn.ObservableStore({wallets:[],accounts:[],currentAccountId:void 0,lastUsedAccounts:{},overviewMode:!1})}get store(){return this._store}get currentAccount(){return this._store.getState().currentAccount}get currentWallet(){return this._store.getState().currentWallet}get isUnlocked(){return this._store.getState().isUnlocked}async init(){this.keyringController=await this.keyringProvider(),this.preferencesController=await this.preferencesProvider(),this._internalStore.updateState({wallets:await this.storage.get("wallets.wallets",[]),accounts:await this.storage.get("wallets.accounts",[]),currentAccountId:await this.storage.get("wallets.currentAccountId",void 0),lastUsedAccounts:await this.storage.get("wallets.lastUsedAccounts",{})}),this.keyringController.store.subscribe(this._updateState.bind(this)),this._internalStore.subscribe(this._updateState.bind(this)),await this._updateState()}async changeAccount(e){if(!e)throw new Error("Account id is required");const{currentAccountId:r}=this._internalStore.getState();r!==e&&this._changeAccount(e)}async changeWallet(e){var r;if(!e)throw new Error("Wallet id is required");if(!this.getWalletById(e))throw new Error("Wallet not exist");if(!this.currentWallet||this.currentWallet.id!==e){const{lastUsedAccounts:n}=this._internalStore.getState();let s=n[e];if((!s||!this.getAccountById(s))&&(s=(r=this.getWalletAccounts(e)[0])==null?void 0:r.id),!s)throw new Error("Could not find suitable account for wallet");this._changeAccount(s)}}async changeChain(e){var n;if(!e)throw new Error("Chain is required");const r=this.getChainAccounts(e);r.length&&(!this.currentWallet||!r.map(s=>s.walletId).includes((n=this.currentWallet)==null?void 0:n.id))&&await this.changeWallet(r[0].walletId)}async editAccountOptions(e,r){const n=this.getAccountById(e);if(!n)throw new Error("Account not found");if(!K9(r))throw new Error("Options must be an object");const s=[...du(this._internalStore.getState().accounts)],i=s.findIndex(o=>o.id===n.id);return s[i].options=q0(s[i].options,r),this._internalStore.updateState({accounts:s}),s[i].options}async editCurrentAccountOptions(e){const r=this.currentAccount;return this.editAccountOptions(r==null?void 0:r.id,e)}async editCurrentAccountName(e){const r=this.currentAccount;return this.editAccountName(r==null?void 0:r.id,e)}async editAccountName(e,r){const n=this.getAccountById(e);if(!n)throw new Error("Account not exist");const s=du([...this._internalStore.getState().accounts]),i=this.getWalletAccounts(n.walletId),o=s.findIndex(c=>c.id===e);s[o].name=Ph([r],()=>`${r} (1)`,i.filter(c=>c.id!==e).map(c=>c.name))[0],this._internalStore.updateState({accounts:s})}async editCurrentWalletOptions(e){const r=this.currentWallet;return this.editWalletOptions(r==null?void 0:r.id,e)}async editWalletOptions(e,r){const n=this.getWalletById(e);if(!K9(r))throw new Error("Options must be an object");if(!n)throw new Error("Not selected Account");const s=[...du(this._internalStore.getState().wallets)],i=s.findIndex(o=>o.id===n.id);return s[i].options=q0(s[i].options,r),this._internalStore.updateState({wallets:s}),s[i].options}async editWalletName(e,r){const n=this.getWalletById(e);if(!r)throw new Error("Name is required");if(!n)throw new Error("Not selected Wallet");const s=this._internalStore.getState().wallets;if(n.name!==r&&!!s.find(c=>c.name===r))throw new Error("Name should be unique");const o=s.map(c=>c.id===e?{...c,name:r}:c);this._internalStore.updateState({wallets:o})}async deleteWallet(e){var d;const r=this._internalStore.getState().wallets;if(r.length===1)throw new Error("Deleting the last wallet is prohibited");const n=this._internalStore.getState().accounts,s=this.getWalletAccounts(e).map(v=>v.id),i=r.filter(v=>v.id!==e),o=n.filter(v=>s.includes(v.id)),c=n.filter(v=>!s.includes(v.id));if(((d=this.currentWallet)==null?void 0:d.id)===e){const v=this.currentWallet.chain,b=r.find(A=>A.chain===v&&A.id!==e);b&&await this.changeWallet(b.id)}this._internalStore.updateState({wallets:i,accounts:c}),await this.keyringController.deleteKeyring(e),o.forEach(v=>{this.eventBus.emit("accountDeleted",v)})}async deleteAccount(e){var l;const r=this.getAccountById(e);if(!r)throw new Error("Account not exist");const n=this._internalStore.getState().accounts,s=this.getWalletAccounts(r.walletId),i=this.getWalletById(r.walletId);if(!i)throw new Error("Wallet not exist");if(s.length<=1&&![Kn.ReadOnly,Kn.Imported].includes(i.type))throw new Error("Deleting the last account in wallet is prohibited");const o=((l=this.currentAccount)==null?void 0:l.id)===e,c=n.filter(d=>d.id!==e);if(o){const d=s.find(v=>v.id!==e);d&&await this.changeAccount(d.id)}this._internalStore.updateState({accounts:c}),await this.keyringController.deleteAccount(e),this.eventBus.emit("accountDeleted",r)}async getPrivateKey(e){if(!e)throw new Error("AccountId is required");const r=this.keyringController.getAccountById(e);if(!r)throw new Error("Account not found");return r.getPrivateKey()}async getMnemonic(e){if(!e)throw new Error("WalletId is required");if(!this.getWalletById(e))throw new Error("Wallet not found");const r=this.keyringController.getMnemonic(e);if(!r)throw new Error("Mnemonic is not supported by this wallet");return r}async getAccountDerivationPath(e){if(!e)throw new Error("AccountId is required");if(!this.getAccountById(e))throw new Error("Account not found");const r=this.keyringController.getAccountDerivationPath(e);if(!r)throw new Error("Account not found");return r}async createEmptyVault(e){await this.keyringController.createNewVault(e)}async createWithDefaultPassword(){await this.preferencesController.update("hasDefaultPassword",!0),await this.createEmptyVault(Lit);const e=await this.createKeyTreeWallet(Qt.Aptos,void 0,void 0,{isConfirmed:!1}),r=await this.getMnemonic(e);for(const n of Object.values(Qt))n===Qt.Aptos||!r||await this.importKeyTreeWallet(n,r)}async verifyPassword(e){return this.keyringController.verifyPassword(e)}async createKeyTreeWallet(e,r,n,s){const i=await this.keyringController.createKeyTreeKeyring(e);try{return await this._fillKeyTreeWallet(i,r,n,s),i}catch(o){throw await this.keyringController.deleteKeyring(i),o}}async createAccount(e,r){const n=this.getWalletById(e);if(!n)throw Error("No Account selected");const s=await this.keyringController.createAccount(n.id);if(!s)throw new Error("Could not create account");const i=this.getWalletAccounts(n.id);let o;switch(n.type){case Kn.KeyTree:{o=this.keyringController.getAccountDerivationIndex(s.id)??1;break}default:o=i.length+1}return this._addAccounts([{id:s.id,chain:n.chain,walletId:s.keyringId,name:Ph([r],()=>Pv[n.type](o),i.map(c=>c.name))[0],address:s.getAddress(),publicKey:s.getPublicKey()}]),s.id}async importAccount(e,r,n){let s=this.keyringController.getSimpleKeyringForChain(e),i=!0;s||(s=await this.keyringController.createSimpleKeyring(e),i=!1);const o=this.getWalletAccounts(s),c=await this.keyringController.addAccount(s,r);if(!c)throw new Error("Could not create account");if(o.some(d=>d.address===c.getAddress()))throw await this.keyringController.deleteAccount(c.id),i||await this.keyringController.deleteKeyring(s),new Error("Account already exists");const l={id:c.id,chain:e,walletId:s,name:Ph([n],()=>Pv.Imported(o.length+1),o.map(d=>d.name))[0],address:c.getAddress(),publicKey:c.getPublicKey()};return i||this._addWallet({chain:e,id:s,type:Kn.Imported}),this._addAccounts([l]),c.id}async importReadOnlyAccount(e,r,n){let s=this.keyringController.getReadOnlyKeyringForChain(e),i=!0;s||(s=await this.keyringController.createReadOnlyKeyring(e),i=!1);const o=this.getWalletAccounts(s),c=await this.keyringController.addAccount(s,r);if(!c)throw new Error("Could not create account");const l={id:c.id,chain:e,walletId:s,name:Ph([n],()=>Pv.ReadOnly(o.length+1),o.map(d=>d.name))[0],address:c.getAddress(),publicKey:null};return i||this._addWallet({chain:e,id:s,type:Kn.ReadOnly}),this._addAccounts([l]),c.id}async importKeyTreeWallet(e,r,n,s,i){const o=await this.keyringController.importKeyTreeKeyring(e,{mnemonic:r,derivationPath:s==null?void 0:s.derivationPath});return await this._fillKeyTreeWallet(o,n,s,i),o}async importLedgerWallet(e,r,n,s,i){let o=(i==null?void 0:i.accounts)??[];if(o.length===0)throw new Error("At least one account must be provided");let c=this.keyringController.getLedgerKeyringForChain(e,n),l=!0;c||(c=await this.keyringController.createLedgerKeyring(e,{hash:n,derivationPath:r}),l=!1);const d=this.getWalletAccounts(c);o=Ph(o.map(A=>A==null?void 0:A.name),A=>Pv.Ledger(o[A].deriveIndex+1),d.map(A=>A.name)).map((A,x)=>{const R=o[x];return{name:A,address:R.address,publicKey:R.publicKey,index:R.deriveIndex}});const v=await this.keyringController.addAccounts(c,o.map(({_name:A,...x})=>x));if(!v)throw l||await this.keyringController.deleteKeyring(c),new Error("Could not create accounts");const b=v.map((A,x)=>({id:A.id,walletId:c,chain:e,name:o[x].name,address:A.getAddress(),publicKey:A.getPublicKey(),options:{}}));return l||this._addWallet({chain:e,id:c,type:Kn.Ledger,name:s}),this._addAccounts(b),c}getWalletById(e){return this._internalStore.getState().wallets.find(r=>r.id===e)}getAccountById(e){if(e)return this._internalStore.getState().accounts.find(r=>r.id===e)}getWalletAccounts(e){return this._internalStore.getState().accounts.filter(r=>r.walletId===e)}getChainAccounts(e){return this._internalStore.getState().accounts.filter(r=>r.chain===e)}getAllAccounts(e=!1){return this._internalStore.getState().wallets.filter(n=>e?!0:n.type!==Kn.ReadOnly).flatMap(n=>this.getWalletAccounts(n.id))}async lock(){await this.keyringController.lock()}async unlock(e){return this.keyringController.unlock(e)}async resetApplication(){this.eventBus.emit("resetApplication")}_addWallet(e,r){const{wallets:n}=this._internalStore.getState(),s=[Kn.ReadOnly,Kn.Imported].includes(e.type)?[]:n.filter(o=>o.type===e.type),i={...e,options:(e==null?void 0:e.options)??{},name:Ph([e.name],()=>(v9[e.type]??v9.default)(s.length),s.map(o=>o.name))[0]};this._internalStore.updateState({wallets:[...n,i]}),this._addAccounts((r??[]).map(o=>({chain:e.chain,walletId:i.id,...o})))}_addAccounts(e){const{accounts:r}=this._internalStore.getState();this._internalStore.updateState({accounts:[...r,...e.map(n=>({...n,options:(n==null?void 0:n.options)??{}}))]}),e.forEach(n=>this.eventBus.emit("accountAdded",n))}_changeAccount(e){const r=this._internalStore.getState().currentAccountId,n={...this._internalStore.getState().lastUsedAccounts};if(e){const s=this.getAccountById(e);s&&(n[s.walletId]=e)}this._internalStore.updateState({currentAccountId:e,lastUsedAccounts:n}),r!==e&&this.eventBus.emit("accountChanged",this.currentAccount)}async _fillKeyTreeWallet(e,r,n,s){const i=this.keyringController.getChainByKeyringId(e);if(!i)throw new Error("Could not find chain");const o=this.getWalletAccounts(e);let c=(n==null?void 0:n.accounts)??[{deriveIndex:0}];c=Ph(c.map(v=>v==null?void 0:v.name),v=>Pv.KeyTree(c[v].deriveIndex+1),o.map(v=>v.name)).map((v,b)=>({name:v,deriveIndex:c[b].deriveIndex}));const l=await this.keyringController.addAccounts(e,c.map(({deriveIndex:v})=>v));if(!l)throw new Error("Could not create accounts");const d=l.map((v,b)=>({id:v.id,name:c[b].name,address:v.getAddress(),publicKey:v.getPublicKey()}));this._addWallet({chain:i,id:e,type:Kn.KeyTree,name:r,options:{isConfirmed:(s==null?void 0:s.isConfirmed)??!1}},d)}onResetApplication(){this._internalStore.updateState({wallets:[],accounts:[],currentAccountId:void 0,lastUsedAccounts:{}})}async _updateState(){const e=du(this._internalStore.getState()),r=this.keyringController.store.getState();let n=e.wallets.filter(c=>this.keyringController.hasKeyringById(c.id));n=sst(n,c=>G_e[c.type]??1);const s=e.accounts.filter(c=>r.isUnlocked?this.keyringController.hasAccountById(c.id)&&e.wallets.find(l=>l.id===c.walletId):!0).map(c=>({...c,chain:e.wallets.find(l=>l.id===c.walletId).chain}));let i=s.find(c=>c.id===e.currentAccountId);i||(s.length?(i=s[0],this._changeAccount(i.id),e.currentAccountId=i.id):!i&&e.currentAccountId&&this._changeAccount());const o=n.find(c=>c.id===(i==null?void 0:i.walletId));this._store.updateState({isUnlocked:r.isUnlocked,isInitialized:r.hasVault,wallets:n,accounts:s,currentAccount:i,currentWallet:o,chain:i==null?void 0:i.chain}),await this.storage.set("wallets.wallets",e.wallets),await this.storage.set("wallets.accounts",e.accounts),await this.storage.set("wallets.currentAccountId",e.currentAccountId),await this.storage.set("wallets.lastUsedAccounts",e.lastUsedAccounts)}};Pj=cst([Lr(),$4(0,st(tt.StorageService)),$4(1,st(tt.KeyringControllerProvider)),$4(2,st(tt.PreferencesControllerProvider))],Pj);function Ph(t,e,r=[]){const n=[...r];return t.map((s,i)=>{let o=s==null?void 0:s.trim();o||(o=e(i)),o=o.trim();const c=o;let l,d=1;for(;!l;)n.includes(o)?o=c+` (${d++})`:l=o;return n.push(l),l})}var fst=Object.defineProperty,ust=Object.getOwnPropertyDescriptor,lst=(t,e,r,n)=>{for(var s=n>1?void 0:n?ust(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&fst(e,r,s),s},Nj=(t,e)=>(r,n)=>e(r,n,t);let kj=class{constructor(t,e,r){Oe(this,"client");this.online=t,this.config=e,this.client=r}get(t,e){const r=t.startsWith("http"),n=r?t:`${this.config.env.pontemControlUrl}${t}`;return this.client.get(n,e).catch(s=>{throw r||this.online.markApiError(),s})}post(t,e,r){const n=t.startsWith("http"),s=n?t:`${this.config.env.pontemControlUrl}${t}`;return this.client.post(s,e,r).catch(i=>{throw n||this.online.markApiError(),i})}};kj=lst([Lr(),Nj(0,st(tt.OnlineService)),Nj(1,st(tt.Config))],kj);var hst=Object.defineProperty,dst=Object.getOwnPropertyDescriptor,pst=(t,e,r,n)=>{for(var s=n>1?void 0:n?dst(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&hst(e,r,s),s};let Lj=class{constructor(){Oe(this,"hasApiError",!1)}markApiError(){this.hasApiError=!0}clearApiError(){this.hasApiError=!1}};Lj=pst([Lr()],Lj);var gst=Object.defineProperty,vst=Object.getOwnPropertyDescriptor,yst=(t,e,r,n)=>{for(var s=n>1?void 0:n?vst(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&gst(e,r,s),s};const mst="wlib_storage";let Dj=class{constructor(t,e=mst){Oe(this,"storage");Oe(this,"mutex");Oe(this,"rootKey");this.storage=t,this.rootKey=e,this.mutex=new Ute}get(t,e){return this.call(async()=>{const r=await this.storage.get(this.rootKey,{});return Br.get(r,t,e)})}has(t){return this.call(async()=>{const e=await this.storage.get(this.rootKey,{});return Br.has(e,t)})}remove(t){return this.set(t,void 0)}set(t,e){return this.call(async()=>{const r=await this.storage.get(this.rootKey,{});return this.storage.set(this.rootKey,Br.set(r,t,e))})}async call(t){return this.mutex.runExclusive(t)}};Dj=yst([Lr()],Dj);var CC={exports:{}},qte=function(e,r){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(r,s)}},bst=qte,OC=Object.prototype.toString,BC=function(t){return function(e){var r=OC.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Vd(t){return t=t.toLowerCase(),function(r){return BC(r)===t}}function PC(t){return Array.isArray(t)}function x2(t){return typeof t>"u"}function wst(t){return t!==null&&!x2(t)&&t.constructor!==null&&!x2(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var zte=Vd("ArrayBuffer");function _st(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zte(t.buffer),e}function Est(t){return typeof t=="string"}function Sst(t){return typeof t=="number"}function Hte(t){return t!==null&&typeof t=="object"}function o_(t){if(BC(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var Ast=Vd("Date"),xst=Vd("File"),Mst=Vd("Blob"),Ist=Vd("FileList");function NC(t){return OC.call(t)==="[object Function]"}function Rst(t){return Hte(t)&&NC(t.pipe)}function Tst(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||OC.call(t)===e||NC(t.toString)&&t.toString()===e)}var $st=Vd("URLSearchParams");function Cst(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Ost(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function kC(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),PC(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function W5(){var t={};function e(s,i){o_(t[i])&&o_(s)?t[i]=W5(t[i],s):o_(s)?t[i]=W5({},s):PC(s)?t[i]=s.slice():t[i]=s}for(var r=0,n=arguments.length;r<n;r++)kC(arguments[r],e);return t}function Bst(t,e,r){return kC(e,function(s,i){r&&typeof s=="function"?t[i]=bst(s,r):t[i]=s}),t}function Pst(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Nst(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function kst(t,e,r){var n,s,i,o={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)i=n[s],o[i]||(e[i]=t[i],o[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function Lst(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function Dst(t){if(!t)return null;var e=t.length;if(x2(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var Ust=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),bs={isArray:PC,isArrayBuffer:zte,isBuffer:wst,isFormData:Tst,isArrayBufferView:_st,isString:Est,isNumber:Sst,isObject:Hte,isPlainObject:o_,isUndefined:x2,isDate:Ast,isFile:xst,isBlob:Mst,isFunction:NC,isStream:Rst,isURLSearchParams:$st,isStandardBrowserEnv:Ost,forEach:kC,merge:W5,extend:Bst,trim:Cst,stripBOM:Pst,inherits:Nst,toFlatObject:kst,kindOf:BC,kindOfTest:Vd,endsWith:Lst,toArray:Dst,isTypedArray:Ust,isFileList:Ist},_0=bs;function Uj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var LC=function(e,r,n){if(!r)return e;var s;if(n)s=n(r);else if(_0.isURLSearchParams(r))s=r.toString();else{var i=[];_0.forEach(r,function(l,d){l===null||typeof l>"u"||(_0.isArray(l)?d=d+"[]":l=[l],_0.forEach(l,function(b){_0.isDate(b)?b=b.toISOString():_0.isObject(b)&&(b=JSON.stringify(b)),i.push(Uj(d)+"="+Uj(b))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e};const uxt=Mr(LC);var Fst=bs;function wA(){this.handlers=[]}wA.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};wA.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};wA.prototype.forEach=function(e){Fst.forEach(this.handlers,function(n){n!==null&&e(n)})};var jst=wA,qst=bs,zst=function(e,r){qst.forEach(e,function(s,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(e[r]=s,delete e[i])})},Vte=bs;function Kp(t,e,r,n,s){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}Vte.inherits(Kp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Kte=Kp.prototype,Gte={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){Gte[t]={value:t}});Object.defineProperties(Kp,Gte);Object.defineProperty(Kte,"isAxiosError",{value:!0});Kp.from=function(t,e,r,n,s,i){var o=Object.create(Kte);return Vte.toFlatObject(t,o,function(l){return l!==Error.prototype}),Kp.call(o,t.message,e,r,n,s),o.name=t.name,i&&Object.assign(o,i),o};var Gg=Kp,Wte={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rc=bs;function Hst(t,e){e=e||new FormData;var r=[];function n(i){return i===null?"":rc.isDate(i)?i.toISOString():rc.isArrayBuffer(i)||rc.isTypedArray(i)?typeof Blob=="function"?new Blob([i]):Re.Buffer.from(i):i}function s(i,o){if(rc.isPlainObject(i)||rc.isArray(i)){if(r.indexOf(i)!==-1)throw Error("Circular reference detected in "+o);r.push(i),rc.forEach(i,function(l,d){if(!rc.isUndefined(l)){var v=o?o+"."+d:d,b;if(l&&!o&&typeof l=="object"){if(rc.endsWith(d,"{}"))l=JSON.stringify(l);else if(rc.endsWith(d,"[]")&&(b=rc.toArray(l))){b.forEach(function(A){!rc.isUndefined(A)&&e.append(v,n(A))});return}}s(l,v)}}),r.pop()}else e.append(o,n(i))}return s(t),e}var Jte=Hst,C4=Gg,Qte=function(e,r,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(new C4("Request failed with status code "+n.status,[C4.ERR_BAD_REQUEST,C4.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))};const lxt=Mr(Qte);var O4,Fj;function Vst(){if(Fj)return O4;Fj=1;var t=bs;return O4=t.isStandardBrowserEnv()?function(){return{write:function(n,s,i,o,c,l){var d=[];d.push(n+"="+encodeURIComponent(s)),t.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),t.isString(o)&&d.push("path="+o),t.isString(c)&&d.push("domain="+c),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),O4}var Kst=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Gst=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Wst=Kst,Jst=Gst,DC=function(e,r){return e&&!Wst(r)?Jst(e,r):r};const hxt=Mr(DC);var B4,jj;function Qst(){if(jj)return B4;jj=1;var t=bs,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return B4=function(n){var s={},i,o,c;return n&&t.forEach(n.split(`
`),function(d){if(c=d.indexOf(":"),i=t.trim(d.substr(0,c)).toLowerCase(),o=t.trim(d.substr(c+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},B4}var P4,qj;function Zst(){if(qj)return P4;qj=1;var t=bs;return P4=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function i(o){var c=o;return r&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(c){var l=t.isString(c)?i(c):c;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}(),P4}var N4,zj;function _A(){if(zj)return N4;zj=1;var t=Gg,e=bs;function r(n){t.call(this,n??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),N4=r,N4}var k4,Hj;function Xst(){return Hj||(Hj=1,k4=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),k4}var L4,Vj;function Kj(){if(Vj)return L4;Vj=1;var t=bs,e=Qte,r=Vst(),n=LC,s=DC,i=Qst(),o=Zst(),c=Wte,l=Gg,d=_A(),v=Xst();return L4=function(A){return new Promise(function(R,C){var T=A.data,$=A.headers,O=A.responseType,D;function L(){A.cancelToken&&A.cancelToken.unsubscribe(D),A.signal&&A.signal.removeEventListener("abort",D)}t.isFormData(T)&&t.isStandardBrowserEnv()&&delete $["Content-Type"];var F=new XMLHttpRequest;if(A.auth){var H=A.auth.username||"",V=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";$.Authorization="Basic "+btoa(H+":"+V)}var J=s(A.baseURL,A.url);F.open(A.method.toUpperCase(),n(J,A.params,A.paramsSerializer),!0),F.timeout=A.timeout;function Z(){if(F){var a="getAllResponseHeaders"in F?i(F.getAllResponseHeaders()):null,u=!O||O==="text"||O==="json"?F.responseText:F.response,h={data:u,status:F.status,statusText:F.statusText,headers:a,config:A,request:F};e(function(y){R(y),L()},function(y){C(y),L()},h),F=null}}if("onloadend"in F?F.onloadend=Z:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(Z)},F.onabort=function(){F&&(C(new l("Request aborted",l.ECONNABORTED,A,F)),F=null)},F.onerror=function(){C(new l("Network Error",l.ERR_NETWORK,A,F,F)),F=null},F.ontimeout=function(){var u=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded",h=A.transitional||c;A.timeoutErrorMessage&&(u=A.timeoutErrorMessage),C(new l(u,h.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,A,F)),F=null},t.isStandardBrowserEnv()){var se=(A.withCredentials||o(J))&&A.xsrfCookieName?r.read(A.xsrfCookieName):void 0;se&&($[A.xsrfHeaderName]=se)}"setRequestHeader"in F&&t.forEach($,function(u,h){typeof T>"u"&&h.toLowerCase()==="content-type"?delete $[h]:F.setRequestHeader(h,u)}),t.isUndefined(A.withCredentials)||(F.withCredentials=!!A.withCredentials),O&&O!=="json"&&(F.responseType=A.responseType),typeof A.onDownloadProgress=="function"&&F.addEventListener("progress",A.onDownloadProgress),typeof A.onUploadProgress=="function"&&F.upload&&F.upload.addEventListener("progress",A.onUploadProgress),(A.cancelToken||A.signal)&&(D=function(a){F&&(C(!a||a&&a.type?new d:a),F.abort(),F=null)},A.cancelToken&&A.cancelToken.subscribe(D),A.signal&&(A.signal.aborted?D():A.signal.addEventListener("abort",D))),T||(T=null);var S=v(J);if(S&&["http","https","file"].indexOf(S)===-1){C(new l("Unsupported protocol "+S+":",l.ERR_BAD_REQUEST,A));return}F.send(T)})},L4}var D4,Gj;function Yst(){return Gj||(Gj=1,D4=null),D4}var ji=bs,Wj=zst,Jj=Gg,eot=Wte,tot=Jte,rot={"Content-Type":"application/x-www-form-urlencoded"};function Qj(t,e){!ji.isUndefined(t)&&ji.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function not(){var t;return(typeof XMLHttpRequest<"u"||typeof mt<"u"&&Object.prototype.toString.call(mt)==="[object process]")&&(t=Kj()),t}function iot(t,e,r){if(ji.isString(t))try{return(e||JSON.parse)(t),ji.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var EA={transitional:eot,adapter:not(),transformRequest:[function(e,r){if(Wj(r,"Accept"),Wj(r,"Content-Type"),ji.isFormData(e)||ji.isArrayBuffer(e)||ji.isBuffer(e)||ji.isStream(e)||ji.isFile(e)||ji.isBlob(e))return e;if(ji.isArrayBufferView(e))return e.buffer;if(ji.isURLSearchParams(e))return Qj(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=ji.isObject(e),s=r&&r["Content-Type"],i;if((i=ji.isFileList(e))||n&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return tot(i?{"files[]":e}:e,o&&new o)}else if(n||s==="application/json")return Qj(r,"application/json"),iot(e);return e}],transformResponse:[function(e){var r=this.transitional||EA.transitional,n=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||s&&ji.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Jj.from(o,Jj.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yst()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ji.forEach(["delete","get","head"],function(e){EA.headers[e]={}});ji.forEach(["post","put","patch"],function(e){EA.headers[e]=ji.merge(rot)});var UC=EA,sot=bs,oot=UC,aot=function(e,r,n){var s=this||oot;return sot.forEach(n,function(o){e=o.call(s,e,r)}),e},U4,Zj;function Zte(){return Zj||(Zj=1,U4=function(e){return!!(e&&e.__CANCEL__)}),U4}var Xj=bs,F4=aot,cot=Zte(),fot=UC,uot=_A();function j4(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uot}var lot=function(e){j4(e),e.headers=e.headers||{},e.data=F4.call(e,e.data,e.headers,e.transformRequest),e.headers=Xj.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Xj.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var r=e.adapter||fot.adapter;return r(e).then(function(s){return j4(e),s.data=F4.call(e,s.data,s.headers,e.transformResponse),s},function(s){return cot(s)||(j4(e),s&&s.response&&(s.response.data=F4.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},No=bs,Xte=function(e,r){r=r||{};var n={};function s(v,b){return No.isPlainObject(v)&&No.isPlainObject(b)?No.merge(v,b):No.isPlainObject(b)?No.merge({},b):No.isArray(b)?b.slice():b}function i(v){if(No.isUndefined(r[v])){if(!No.isUndefined(e[v]))return s(void 0,e[v])}else return s(e[v],r[v])}function o(v){if(!No.isUndefined(r[v]))return s(void 0,r[v])}function c(v){if(No.isUndefined(r[v])){if(!No.isUndefined(e[v]))return s(void 0,e[v])}else return s(void 0,r[v])}function l(v){if(v in r)return s(e[v],r[v]);if(v in e)return s(void 0,e[v])}var d={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l};return No.forEach(Object.keys(e).concat(Object.keys(r)),function(b){var A=d[b]||i,x=A(b);No.isUndefined(x)&&A!==l||(n[b]=x)}),n},q4,Yj;function Yte(){return Yj||(Yj=1,q4={version:"0.27.2"}),q4}var hot=Yte().version,$l=Gg,FC={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){FC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var eq={};FC.transitional=function(e,r,n){function s(i,o){return"[Axios v"+hot+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return function(i,o,c){if(e===!1)throw new $l(s(o," has been removed"+(r?" in "+r:"")),$l.ERR_DEPRECATED);return r&&!eq[o]&&(eq[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};function dot(t,e,r){if(typeof t!="object")throw new $l("options must be an object",$l.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),s=n.length;s-- >0;){var i=n[s],o=e[i];if(o){var c=t[i],l=c===void 0||o(c,i,t);if(l!==!0)throw new $l("option "+i+" must be "+l,$l.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $l("Unknown option "+i,$l.ERR_BAD_OPTION)}}var pot={assertOptions:dot,validators:FC},ere=bs,got=LC,tq=jst,rq=lot,SA=Xte,vot=DC,tre=pot,E0=tre.validators;function Gp(t){this.defaults=t,this.interceptors={request:new tq,response:new tq}}Gp.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=SA(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&tre.assertOptions(n,{silentJSONParsing:E0.transitional(E0.boolean),forcedJSONParsing:E0.transitional(E0.boolean),clarifyTimeoutError:E0.transitional(E0.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(i=i&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});var o=[];this.interceptors.response.forEach(function(x){o.push(x.fulfilled,x.rejected)});var c;if(!i){var l=[rq,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(o),c=Promise.resolve(r);l.length;)c=c.then(l.shift(),l.shift());return c}for(var d=r;s.length;){var v=s.shift(),b=s.shift();try{d=v(d)}catch(A){b(A);break}}try{c=rq(d)}catch(A){return Promise.reject(A)}for(;o.length;)c=c.then(o.shift(),o.shift());return c};Gp.prototype.getUri=function(e){e=SA(this.defaults,e);var r=vot(e.baseURL,e.url);return got(r,e.params,e.paramsSerializer)};ere.forEach(["delete","get","head","options"],function(e){Gp.prototype[e]=function(r,n){return this.request(SA(n||{},{method:e,url:r,data:(n||{}).data}))}});ere.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(SA(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gp.prototype[e]=r(),Gp.prototype[e+"Form"]=r(!0)});var yot=Gp,z4,nq;function mot(){if(nq)return z4;nq=1;var t=_A();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var s=this;this.promise.then(function(i){if(s._listeners){var o,c=s._listeners.length;for(o=0;o<c;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,c=new Promise(function(l){s.subscribe(l),o=l}).then(i);return c.cancel=function(){s.unsubscribe(o)},c},r(function(o){s.reason||(s.reason=new t(o),n(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var n,s=new e(function(o){n=o});return{token:s,cancel:n}},z4=e,z4}var H4,iq;function bot(){return iq||(iq=1,H4=function(e){return function(n){return e.apply(null,n)}}),H4}var V4,sq;function wot(){if(sq)return V4;sq=1;var t=bs;return V4=function(r){return t.isObject(r)&&r.isAxiosError===!0},V4}var oq=bs,_ot=qte,a_=yot,Eot=Xte,Sot=UC;function rre(t){var e=new a_(t),r=_ot(a_.prototype.request,e);return oq.extend(r,a_.prototype,e),oq.extend(r,e),r.create=function(s){return rre(Eot(t,s))},r}var Mo=rre(Sot);Mo.Axios=a_;Mo.CanceledError=_A();Mo.CancelToken=mot();Mo.isCancel=Zte();Mo.VERSION=Yte().version;Mo.toFormData=Jte;Mo.AxiosError=Gg;Mo.Cancel=Mo.CanceledError;Mo.all=function(e){return Promise.all(e)};Mo.spread=bot();Mo.isAxiosError=wot();CC.exports=Mo;CC.exports.default=Mo;var Aot=CC.exports,xot=Aot;const dxt=Mr(xot);var sf=class extends Error{constructor(e,r){super(e),this.invalidReason=r}},Mot=(t=>(t.TOO_SHORT="too_short",t.INVALID_LENGTH="invalid_length",t.INVALID_HEX_CHARS="invalid_hex_chars",t))(Mot||{}),yi=class py{constructor(e){this.data=e}toUint8Array(){return this.data}toStringWithoutPrefix(){return w2(this.data)}toString(){return`0x${this.toStringWithoutPrefix()}`}static fromString(e){let r=e;if(r.startsWith("0x")&&(r=r.slice(2)),r.length===0)throw new sf("Hex string is too short, must be at least 1 char long, excluding the optional leading 0x.","too_short");if(r.length%2!==0)throw new sf("Hex string must be an even number of hex characters.","invalid_length");try{return new py(eC(r))}catch(n){throw new sf(`Hex string contains invalid hex characters: ${n==null?void 0:n.message}`,"invalid_hex_chars")}}static fromHexInput(e){return e instanceof Uint8Array?new py(e):py.fromString(e)}static isValid(e){try{return py.fromString(e),{valid:!0}}catch(r){return{valid:!1,invalidReason:r==null?void 0:r.invalidReason,invalidReasonMessage:r==null?void 0:r.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((r,n)=>r===e.data[n])}},nre=255,ire=65535,Wp=4294967295,AA=18446744073709551615n,jC=340282366920938463463374607431768211455n,sre=115792089237316195423570985008687907853269984665640564039457584007913129639935n,Iot=Object.defineProperty,Rot=Object.getOwnPropertyDescriptor,lc=(t,e,r,n)=>{for(var s=n>1?void 0:n?Rot(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Iot(e,r,s),s},hn=class{bcsToBytes(){let e=new bl;return this.serialize(e),e.toUint8Array()}bcsToHex(){let e=this.bcsToBytes();return yi.fromHexInput(e)}},bl=class{constructor(e=64){if(e<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(e),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let r=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r}}appendToBuffer(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,r,n){this.ensureBufferWillHandleSize(r);let s=new DataView(this.buffer,this.offset);e.apply(s,[0,n,!0]),this.offset+=r}serializeStr(e){let r=new TextEncoder;this.serializeBytes(r.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.appendToBuffer(e)}serializeFixedBytes(e){this.appendToBuffer(e)}serializeBool(e){ore(e);let r=e?1:0;this.appendToBuffer(new Uint8Array([r]))}serializeU8(e){this.appendToBuffer(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let r=BigInt(e)&BigInt(Wp),n=BigInt(e)>>BigInt(32);this.serializeU32(Number(r)),this.serializeU32(Number(n))}serializeU128(e){let r=BigInt(e)&AA,n=BigInt(e)>>BigInt(64);this.serializeU64(r),this.serializeU64(n)}serializeU256(e){let r=BigInt(e)&jC,n=BigInt(e)>>BigInt(128);this.serializeU128(r),this.serializeU128(n)}serializeU32AsUleb128(e){let r=e,n=[];for(;r>>>7;)n.push(r&127|128),r>>>=7;n.push(r),this.appendToBuffer(new Uint8Array(n))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(e){e.serialize(this)}serializeVector(e){this.serializeU32AsUleb128(e.length),e.forEach(r=>{r.serialize(this)})}};lc([Nh(0,nre)],bl.prototype,"serializeU8",1),lc([Nh(0,ire)],bl.prototype,"serializeU16",1),lc([Nh(0,Wp)],bl.prototype,"serializeU32",1),lc([Nh(BigInt(0),AA)],bl.prototype,"serializeU64",1),lc([Nh(BigInt(0),jC)],bl.prototype,"serializeU128",1),lc([Nh(BigInt(0),sre)],bl.prototype,"serializeU256",1),lc([Nh(0,Wp)],bl.prototype,"serializeU32AsUleb128",1);function ore(t){if(typeof t!="boolean")throw new Error(`${t} is not a boolean value`)}var Tot=(t,e,r)=>`${t} is out of range: [${e}, ${r}]`;function Kd(t,e,r){let n=BigInt(t);if(n>BigInt(r)||n<BigInt(e))throw new Error(Tot(t,e,r))}function Nh(t,e){return(r,n,s)=>{let i=s.value;return s.value=function(o){return Kd(o,t,e),i.apply(this,[o])},s}}var $ot=(t=>(t.INCORRECT_NUMBER_OF_BYTES="incorrect_number_of_bytes",t.INVALID_HEX_CHARS="invalid_hex_chars",t.TOO_SHORT="too_short",t.TOO_LONG="too_long",t.LEADING_ZERO_X_REQUIRED="leading_zero_x_required",t.LONG_FORM_REQUIRED_UNLESS_SPECIAL="long_form_required_unless_special",t.INVALID_PADDING_ZEROES="INVALID_PADDING_ZEROES",t))($ot||{}),Lo=class Ws extends hn{constructor(e){if(super(),e.length!==Ws.LENGTH)throw new sf("AccountAddress data should be exactly 32 bytes long","incorrect_number_of_bytes");this.data=e}isSpecial(){return this.data.slice(0,this.data.length-1).every(e=>e===0)&&this.data[this.data.length-1]<16}toString(){return`0x${this.toStringWithoutPrefix()}`}toStringWithoutPrefix(){let e=w2(this.data);return this.isSpecial()&&(e=e[e.length-1]),e}toStringLong(){return`0x${this.toStringLongWithoutPrefix()}`}toStringLongWithoutPrefix(){return w2(this.data)}toUint8Array(){return this.data}serialize(e){e.serializeFixedBytes(this.data)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(3),e.serialize(this)}static deserialize(e){let r=e.deserializeFixedBytes(Ws.LENGTH);return new Ws(r)}static fromStringStrict(e){if(!e.startsWith("0x"))throw new sf("Hex string must start with a leading 0x.","leading_zero_x_required");let r=Ws.fromString(e);if(e.length!==Ws.LONG_STRING_LENGTH+2)if(r.isSpecial()){if(e.length!==3)throw new sf(`The given hex string ${e} is a special address not in LONG form, it must be 0x0 to 0xf without padding zeroes.`,"INVALID_PADDING_ZEROES")}else throw new sf(`The given hex string ${e} is not a special address, it must be represented as 0x + 64 chars.`,"long_form_required_unless_special");return r}static fromString(e){let r=e;if(e.startsWith("0x")&&(r=e.slice(2)),r.length===0)throw new sf("Hex string is too short, must be 1 to 64 chars long, excluding the leading 0x.","too_short");if(r.length>64)throw new sf("Hex string is too long, must be 1 to 64 chars long, excluding the leading 0x.","too_long");let n;try{n=eC(r.padStart(64,"0"))}catch(s){throw new sf(`Hex characters are invalid: ${s==null?void 0:s.message}`,"invalid_hex_chars")}return new Ws(n)}static from(e){return e instanceof Ws?e:e instanceof Uint8Array?new Ws(e):Ws.fromString(e)}static fromStrict(e){return e instanceof Ws?e:e instanceof Uint8Array?new Ws(e):Ws.fromStringStrict(e)}static isValid(e){try{return e.strict?Ws.fromStrict(e.input):Ws.from(e.input),{valid:!0}}catch(r){return{valid:!1,invalidReason:r==null?void 0:r.invalidReason,invalidReasonMessage:r==null?void 0:r.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((r,n)=>r===e.data[n])}};Lo.LENGTH=32,Lo.LONG_STRING_LENGTH=64,Lo.ZERO=Lo.from("0x0"),Lo.ONE=Lo.from("0x1"),Lo.TWO=Lo.from("0x2"),Lo.THREE=Lo.from("0x3"),Lo.FOUR=Lo.from("0x4");var Jt=Lo,Cot=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,Oot=`
    fragment AnsTokenFragment on current_aptos_names {
  domain
  expiration_timestamp
  registered_address
  subdomain
  token_standard
  is_primary
  owner_address
}
    `,qC=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Bot=`
    query getAccountCoinsCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Pot=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,Not=`
    query getAccountCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,kot=`
    query getAccountOwnedObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,Lot=`
    query getAccountOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${qC}`,Dot=`
    query getAccountOwnedTokensFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${qC}`,Uot=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,Fot=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,jot=`
    query getChainTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,qot=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!) {
  current_collections_v2(where: $where_condition) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,zot=`
    query getCurrentFungibleAssetBalances($where_condition: current_fungible_asset_balances_bool_exp, $offset: Int, $limit: Int) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
  }
}
    `,Hot=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,Vot=`
    query getEvents($where_condition: events_bool_exp, $offset: Int, $limit: Int, $order_by: [events_order_by!]) {
  events(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    account_address
    creation_number
    data
    event_index
    sequence_number
    transaction_block_height
    transaction_version
    type
    indexed_type
  }
}
    `,Kot=`
    query getFungibleAssetActivities($where_condition: fungible_asset_activities_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_activities(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    block_height
    entry_function_id_str
    event_index
    gas_fee_payer_address
    is_frozen
    is_gas_fee
    is_transaction_success
    owner_address
    storage_id
    storage_refund_amount
    token_standard
    transaction_timestamp
    transaction_version
    type
  }
}
    `,Got=`
    query getFungibleAssetMetadata($where_condition: fungible_asset_metadata_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_metadata(where: $where_condition, offset: $offset, limit: $limit) {
    icon_uri
    project_uri
    supply_aggregator_table_handle_v1
    supply_aggregator_table_key_v1
    creator_address
    asset_type
    decimals
    last_transaction_timestamp
    last_transaction_version
    name
    symbol
    token_standard
  }
}
    `,d1=`
    query getNames($offset: Int, $limit: Int, $where_condition: current_aptos_names_bool_exp, $order_by: [current_aptos_names_order_by!]) {
  current_aptos_names(
    limit: $limit
    where: $where_condition
    order_by: $order_by
    offset: $offset
  ) {
    ...AnsTokenFragment
  }
}
    ${Oot}`,are=`
    query getNumberOfDelegators($where_condition: num_active_delegator_per_pool_bool_exp, $order_by: [num_active_delegator_per_pool_order_by!]) {
  num_active_delegator_per_pool(where: $where_condition, order_by: $order_by) {
    num_active_delegator
    pool_address
  }
}
    `,cre=`
    query getProcessorStatus($where_condition: processor_status_bool_exp) {
  processor_status(where: $where_condition) {
    last_success_version
    processor
    last_updated
  }
}
    `,Wot=`
    query getTokenActivity($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${Cot}`,fre=`
    query getCurrentTokenOwnership($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${qC}`,Jot=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,M2=class extends Error{constructor(e,r,n){super(n),this.name="AptosApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.data=r.data,this.request=e}},Qot="1.6.0",aq={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function Zot(t,e){let{url:r,method:n,body:s,contentType:i,params:o,overrides:c}=t,l={...c==null?void 0:c.HEADERS,"x-aptos-client":`aptos-typescript-sdk/${Qot}`,"content-type":i??"application/json"};return c!=null&&c.AUTH_TOKEN&&r.includes("faucet")&&(l.Authorization=`Bearer ${c==null?void 0:c.AUTH_TOKEN}`),c!=null&&c.API_KEY&&!r.includes("faucet")&&(l.Authorization=`Bearer ${c==null?void 0:c.API_KEY}`),e.provider({url:r,method:n,body:s,params:o,headers:l,overrides:c})}async function ure(t,e){let{url:r,path:n}=t,s=n?`${r}/${n}`:r,i=await Zot({...t,url:s},e.client),o={status:i.status,statusText:i.statusText,data:i.data,headers:i.headers,config:i.config,request:i.request,url:s};if(e.isIndexerRequest(r)){let l=o.data;if(l.errors)throw new M2(t,o,`Indexer error: ${l.errors[0].message}`??`Indexer unhandled Error ${i.status} : ${i.statusText}`);o.data=l.data}if(o.status>=200&&o.status<300)return o;let c;throw o&&o.data&&"message"in o.data&&"error_code"in o.data?c=JSON.stringify(o.data):o.status in aq?c=aq[o.status]:c=`Unhandled Error ${o.status} : ${o.statusText}`,new M2(t,o,`${e.isFullnodeRequest(r)?"Fullnode":"Faucet"} error: ${c}`)}async function zC(t){let{type:e,originMethod:r,path:n,body:s,acceptType:i,contentType:o,params:c,aptosConfig:l,overrides:d}=t,v=l.getRequestUrl(e);return ure({url:v,method:"POST",originMethod:r,path:n,body:s,contentType:o==null?void 0:o.valueOf(),acceptType:i==null?void 0:i.valueOf(),params:c,overrides:{...l.clientConfig,...d}},l)}async function xA(t){return zC({...t,type:0})}async function Xot(t){return zC({...t,type:1})}async function Yot(t){return zC({...t,type:2})}async function lre(t){let{aptosConfig:e,overrides:r,params:n,contentType:s,acceptType:i,path:o,originMethod:c,type:l}=t,d=e.getRequestUrl(l);return ure({url:d,method:"GET",originMethod:c,path:o,contentType:s==null?void 0:s.valueOf(),acceptType:i==null?void 0:i.valueOf(),params:n,overrides:{...e.clientConfig,...r}},e)}async function Gu(t){return lre({...t,type:0})}async function MA(t){let e=[],r,n=t.params;do{let s=await lre({type:0,aptosConfig:t.aptosConfig,originMethod:t.originMethod,path:t.path,params:n,overrides:t.overrides});r=s.headers["x-aptos-cursor"],delete s.headers,e.push(...s.data),n.start=r}while(r!=null);return e}async function hre(t){let{aptosConfig:e}=t,{data:r}=await Gu({aptosConfig:e,originMethod:"getLedgerInfo",path:""});return r}async function eat(t){let{aptosConfig:e,ledgerVersion:r,options:n}=t,{data:s}=await Gu({aptosConfig:e,originMethod:"getBlockByVersion",path:`blocks/by_version/${r}`,params:{with_transactions:n==null?void 0:n.withTransactions}});return s}async function tat(t){let{aptosConfig:e,blockHeight:r,options:n}=t,{data:s}=await Gu({aptosConfig:e,originMethod:"getBlockByHeight",path:`blocks/by_height/${r}`,params:{with_transactions:n==null?void 0:n.withTransactions}});return s}async function dre(t){let{aptosConfig:e,handle:r,data:n,options:s}=t;return(await xA({aptosConfig:e,originMethod:"getTableItem",path:`tables/${r}/item`,params:{ledger_version:s==null?void 0:s.ledgerVersion},body:n})).data}async function Wg(t){let{aptosConfig:e,payload:r,options:n}=t,{data:s}=await xA({aptosConfig:e,originMethod:"view",path:"view",params:{ledger_version:n==null?void 0:n.ledgerVersion},body:{function:r.function,type_arguments:r.typeArguments??[],arguments:r.functionArguments??[]}});return s}async function rat(t){let{aptosConfig:e,limit:r}=t;return(await wn({aptosConfig:e,query:{query:jot,variables:{limit:r}},originMethod:"getChainTopUserTransactions"})).user_transactions}async function wn(t){let{aptosConfig:e,query:r,originMethod:n}=t,{data:s}=await Xot({aptosConfig:e,originMethod:n??"queryIndexer",path:"",body:r,overrides:{WITH_CREDENTIALS:!1}});return s}async function nat(t){let{aptosConfig:e}=t;return(await wn({aptosConfig:e,query:{query:cre},originMethod:"getProcessorStatuses"})).processor_status}async function pre(t){let e=await nat({aptosConfig:t.aptosConfig});return BigInt(e[0].last_success_version)}async function gre(t){let{aptosConfig:e,processorType:r}=t,n={processor:{_eq:r.valueOf()}};return(await wn({aptosConfig:e,query:{query:cre,variables:{where_condition:n}},originMethod:"getProcessorStatus"})).processor_status[0]}async function iat(t){let{accountAddress:e,aptosConfig:r,creationNumber:n,options:s}=t,i={where:{account_address:{_eq:Jt.from(e).toStringLong()},creation_number:{_eq:n}},pagination:s,orderBy:s==null?void 0:s.orderBy};return HC({aptosConfig:r,options:i})}async function sat(t){let{accountAddress:e,aptosConfig:r,eventType:n,options:s}=t,i={where:{account_address:{_eq:Jt.from(e).toStringLong()},indexed_type:{_eq:n}},pagination:s,orderBy:s==null?void 0:s.orderBy};return HC({aptosConfig:r,options:i})}async function HC(t){let{aptosConfig:e,options:r}=t,n={query:Vot,variables:{where_condition:r==null?void 0:r.where,offset:r==null?void 0:r.offset,limit:r==null?void 0:r.limit,order_by:r==null?void 0:r.orderBy}};return(await wn({aptosConfig:e,query:n,originMethod:"getEvents"})).events}var K4=new Map;function VC(t,e,r){return async(...n)=>{if(K4.has(e)){let{value:i,timestamp:o}=K4.get(e);if(r===void 0||Date.now()-o<=r)return i}let s=await t(...n);return K4.set(e,{value:s,timestamp:Date.now()}),s}}async function z0(t){return new Promise(e=>{setTimeout(e,t)})}var oat=(t=>(t[t.FULLNODE=0]="FULLNODE",t[t.INDEXER=1]="INDEXER",t[t.FAUCET=2]="FAUCET",t))(oat||{}),aat="devnet",cat=2e5,fat=20,vre=20,yre="0x1::aptos_coin::AptosCoin",uat="APTOS::RawTransaction",cq="APTOS::RawTransactionWithData",lat=(t=>(t.ACCOUNT_TRANSACTION_PROCESSOR="account_transactions_processor",t.DEFAULT="default_processor",t.EVENTS_PROCESSOR="events_processor",t.FUNGIBLE_ASSET_PROCESSOR="fungible_asset_processor",t.STAKE_PROCESSOR="stake_processor",t.TOKEN_V2_PROCESSOR="token_v2_processor",t.USER_TRANSACTION_PROCESSOR="user_transaction_processor",t))(lat||{});async function hat(t){let{aptosConfig:e,options:r}=t;return MA({aptosConfig:e,originMethod:"getTransactions",path:"transactions",params:{start:r==null?void 0:r.offset,limit:r==null?void 0:r.limit}})}async function mre(t){let{aptosConfig:e}=t;return VC(async()=>{let{data:r}=await Gu({aptosConfig:e,originMethod:"getGasPriceEstimation",path:"estimate_gas_price"});return r},`gas-price-${e.network}`,1e3*60*5)()}async function dat(t){let{aptosConfig:e,ledgerVersion:r}=t,{data:n}=await Gu({aptosConfig:e,originMethod:"getTransactionByVersion",path:`transactions/by_version/${r}`});return n}async function KC(t){let{aptosConfig:e,transactionHash:r}=t,{data:n}=await Gu({aptosConfig:e,path:`transactions/by_hash/${r}`,originMethod:"getTransactionByHash"});return n}async function pat(t){let{aptosConfig:e,transactionHash:r}=t;try{return(await KC({aptosConfig:e,transactionHash:r})).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async function GC(t){let{aptosConfig:e,transactionHash:r,options:n}=t,s=(n==null?void 0:n.timeoutSecs)??vre,i=(n==null?void 0:n.checkSuccess)??!0,o=!0,c=0,l,d,v=200,b=1.5;for(;o&&!(c>=s);){try{if(l=await KC({aptosConfig:e,transactionHash:r}),o=l.type==="pending_transaction",!o)break}catch(A){if(!(A instanceof M2)||(d=A,A.status!==404&&A.status>=400&&A.status<500))throw A}await z0(v),c+=v/1e3,v*=b}if(l===void 0)throw d||new fq(`Fetching transaction ${r} failed and timed out after ${s} seconds`,l);if(l.type==="pending_transaction")throw new fq(`Transaction ${r} timed out in pending state after ${s} seconds`,l);if(!i)return l;if(!l.success)throw new gat(`Transaction ${r} failed with an error: ${l.vm_status}`,l);return l}async function bre(t){let{aptosConfig:e,processorType:r}=t,n=BigInt(t.minimumLedgerVersion),s=3e3,i=new Date().getTime(),o=BigInt(-1);for(;o<n;){if(new Date().getTime()-i>s)throw new Error("waitForLastSuccessIndexerVersionSync timeout");if(r===void 0?o=await pre({aptosConfig:e}):o=(await gre({aptosConfig:e,processorType:r})).last_success_version,o>=n)break;await z0(200)}}var fq=class extends Error{constructor(e,r){super(e),this.lastSubmittedTransaction=r}},gat=class extends Error{constructor(e,r){super(e),this.transaction=r}};async function jn(t){t.minimumLedgerVersion!==void 0&&await bre({aptosConfig:t.config,minimumLedgerVersion:t.minimumLedgerVersion,processorType:t.processorType})}var wre=class{constructor(e){this.config=e}async getAccountEventsByCreationNumber(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),iat({aptosConfig:this.config,...e})}async getAccountEventsByEventType(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),sat({aptosConfig:this.config,...e})}async getEvents(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"events_processor"}),HC({aptosConfig:this.config,...e})}};async function vat(t){let{aptosConfig:e,accountAddress:r,amount:n,options:s}=t,i=(s==null?void 0:s.timeoutSecs)||vre,{data:o}=await Yot({aptosConfig:e,path:"fund",body:{address:Jt.from(r).toString(),amount:n},originMethod:"fundAccount"}),c=o.txn_hashes[0],l=await GC({aptosConfig:e,transactionHash:c,options:{timeoutSecs:i,checkSuccess:s==null?void 0:s.checkSuccess}});if(l.type==="user_transaction")return l;throw new Error(`Unexpected transaction received for fund account: ${l.type}`)}var _re=class{constructor(e){this.config=e}async fundAccount(e){var n;let r=await vat({aptosConfig:this.config,...e});return((n=e.options)==null?void 0:n.waitForIndexer)!==!1&&await bre({aptosConfig:this.config,minimumLedgerVersion:BigInt(r.version)}),r}},Xl=class Ere extends hn{constructor(e){super(),this.identifier=e}serialize(e){e.serializeStr(this.identifier)}static deserialize(e){let r=e.deserializeStr();return new Ere(r)}},Yi=class extends hn{static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return J5.load(e);case 1:return Q5.load(e);case 2:return Y5.load(e);case 3:return eI.load(e);case 4:return rI.load(e);case 5:return I2.load(e);case 6:return iI.load(e);case 7:return R2.load(e);case 8:return Z5.load(e);case 9:return X5.load(e);case 10:return tI.load(e);case 255:return nI.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${r}`)}}isBool(){return this instanceof J5}isAddress(){return this instanceof rI}isGeneric(){return this instanceof nI}isSigner(){return this instanceof I2}isVector(){return this instanceof iI}isStruct(){return this instanceof R2}isU8(){return this instanceof Q5}isU16(){return this instanceof Z5}isU32(){return this instanceof X5}isU64(){return this instanceof Y5}isU128(){return this instanceof eI}isU256(){return this instanceof tI}},J5=class Sre extends Yi{toString(){return"bool"}serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Sre}},Q5=class Are extends Yi{toString(){return"u8"}serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Are}},Z5=class xre extends Yi{toString(){return"u16"}serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new xre}},X5=class Mre extends Yi{toString(){return"u32"}serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new Mre}},Y5=class Ire extends Yi{toString(){return"u64"}serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Ire}},eI=class Rre extends Yi{toString(){return"u128"}serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Rre}},tI=class Tre extends Yi{toString(){return"u256"}serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new Tre}},rI=class $re extends Yi{toString(){return"address"}serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new $re}},I2=class Cre extends Yi{toString(){return"signer"}serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new Cre}},yat=class Ore extends Yi{constructor(e){super(),this.value=e}toString(){return`&${this.value.toString()}`}serialize(e){e.serializeU32AsUleb128(254)}static load(e){let r=Yi.deserialize(e);return new Ore(r)}},nI=class Bre extends Yi{constructor(e){if(super(),this.value=e,e<0)throw new Error("Generic type parameter index cannot be negative")}toString(){return`T${this.value}`}serialize(e){e.serializeU32AsUleb128(255),e.serializeU32(this.value)}static load(e){let r=e.deserializeU32();return new Bre(r)}},iI=class Pre extends Yi{constructor(e){super(),this.value=e}toString(){return`vector<${this.value.toString()}>`}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){let r=Yi.deserialize(e);return new Pre(r)}},R2=class Nre extends Yi{constructor(e){super(),this.value=e}toString(){let e="";return this.value.typeArgs.length>0&&(e=`<${this.value.typeArgs.map(r=>r.toString()).join(", ")}>`),`${this.value.address.toString()}::${this.value.moduleName.identifier}::${this.value.name.identifier}${e}`}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){let r=kre.deserialize(e);return new Nre(r)}isTypeTag(e,r,n){return this.value.moduleName.identifier===r&&this.value.name.identifier===n&&this.value.address.equals(e)}isString(){return this.isTypeTag(Jt.ONE,"string","String")}isOption(){return this.isTypeTag(Jt.ONE,"option","Option")}isObject(){return this.isTypeTag(Jt.ONE,"object","Object")}},kre=class Lre extends hn{constructor(e,r,n,s){super(),this.address=e,this.moduleName=r,this.name=n,this.typeArgs=s}serialize(e){e.serialize(this.address),e.serialize(this.moduleName),e.serialize(this.name),e.serializeVector(this.typeArgs)}static deserialize(e){let r=Jt.deserialize(e),n=Xl.deserialize(e),s=Xl.deserialize(e),i=e.deserializeVector(Yi);return new Lre(r,n,s,i)}};function uq(t){return!!t.match(/^[_a-zA-Z0-9]+$/)}function Dre(t){return!!t.match(/\s/)}function mat(t){return!!t.match(/^T[0-9]+$/)}function bat(t,e){let r=e;for(;r<t.length;r+=1){let n=t[r];if(!Dre(n))break}return r}var wat=(t=>(t.InvalidTypeTag="unknown type",t.UnexpectedGenericType="unexpected generic type",t.UnexpectedTypeArgumentClose="unexpected '>'",t.UnexpectedWhitespaceCharacter="unexpected whitespace character",t.UnexpectedComma="unexpected ','",t.TypeArgumentCountMismatch="type argument count doesn't match expected amount",t.MissingTypeArgumentClose="no matching '>' for '<'",t.UnexpectedPrimitiveTypeArguments="primitive types not expected to have type arguments",t.UnexpectedVectorTypeArgumentCount="vector type expected to have exactly one type argument",t.UnexpectedStructFormat="unexpected struct format, must be of the form 0xaddress::module_name::struct_name",t.InvalidModuleNameCharacter="module name must only contain alphanumeric or '_' characters",t.InvalidStructNameCharacter="struct name must only contain alphanumeric or '_' characters",t))(wat||{}),ii=class extends Error{constructor(e,r){super(`Failed to parse typeTag '${e}', ${r}`)}};function WC(t,e){let r=(e==null?void 0:e.allowGenerics)??!1,n=[],s=[],i=[],o=0,c="",l=1;for(;o<t.length;){let d=t[o];if(d==="<")n.push({savedExpectedTypes:l,savedStr:c,savedTypes:i}),c="",i=[],l=1;else if(d===">"){if(c!==""){let R=dw(c,s,r);i.push(R)}let v=n.pop();if(v===void 0)throw new ii(t,"unexpected '>'");if(l!==i.length)throw new ii(t,"type argument count doesn't match expected amount");let{savedStr:b,savedTypes:A,savedExpectedTypes:x}=v;s=i,i=A,c=b,l=x}else if(d===","){if(c.length!==0){let v=dw(c,s,r);s=[],i.push(v),c="",l+=1}}else if(Dre(d)){let v=!1;if(c.length!==0){let A=dw(c,s,r);s=[],i.push(A),c="",v=!0}o=bat(t,o);let b=t[o];if(o<t.length&&v&&b!==","&&b!==">")throw new ii(t,"unexpected whitespace character");continue}else c+=d;o+=1}if(n.length>0)throw new ii(t,"no matching '>' for '<'");switch(i.length){case 0:return dw(c,s,r);case 1:if(c==="")return i[0];throw new ii(t,"unexpected ','");default:throw new ii(t,"unexpected whitespace character")}}function dw(t,e,r){switch(t){case"&signer":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new yat(new I2);case"signer":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new I2;case"bool":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new J5;case"address":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new rI;case"u8":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new Q5;case"u16":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new Z5;case"u32":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new X5;case"u64":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new Y5;case"u128":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new eI;case"u256":if(e.length>0)throw new ii(t,"primitive types not expected to have type arguments");return new tI;case"vector":if(e.length!==1)throw new ii(t,"vector type expected to have exactly one type argument");return new iI(e[0]);default:if(mat(t)){if(r)return new nI(Number(t.split("T")[1]));throw new ii(t,"unexpected generic type")}if(!t.match(/.*:.*/))throw new ii(t,"unknown type");let n=t.split("::");if(n.length!==3)throw new ii(t,"unexpected struct format, must be of the form 0xaddress::module_name::struct_name");if(!uq(n[1]))throw new ii(t,"module name must only contain alphanumeric or '_' characters");if(!uq(n[2]))throw new ii(t,"struct name must only contain alphanumeric or '_' characters");return new R2(new kre(Jt.fromString(n[0]),new Xl(n[1]),new Xl(n[2]),e))}}var sI=class Ure extends hn{constructor(e){super(),this.value=yi.fromHexInput(e).toUint8Array()}serialize(e){e.serializeFixedBytes(this.value)}serializeForEntryFunction(e){e.serialize(this)}serializeForScriptFunction(e){e.serialize(this)}static deserialize(e,r){let n=e.deserializeFixedBytes(r);return new Ure(n)}},go=class Fre extends hn{constructor(e){super(),ore(e),this.value=e}serialize(e){e.serializeBool(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(5),e.serialize(this)}static deserialize(e){return new Fre(e.deserializeBool())}},Hu=class jre extends hn{constructor(e){super(),Kd(e,0,nre),this.value=e}serialize(e){e.serializeU8(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(0),e.serialize(this)}static deserialize(e){return new jre(e.deserializeU8())}},p1=class qre extends hn{constructor(e){super(),Kd(e,0,ire),this.value=e}serialize(e){e.serializeU16(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(6),e.serialize(this)}static deserialize(e){return new qre(e.deserializeU16())}},g1=class zre extends hn{constructor(e){super(),Kd(e,0,Wp),this.value=e}serialize(e){e.serializeU32(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(7),e.serialize(this)}static deserialize(e){return new zre(e.deserializeU32())}},Ru=class Hre extends hn{constructor(e){super(),Kd(e,BigInt(0),AA),this.value=BigInt(e)}serialize(e){e.serializeU64(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(1),e.serialize(this)}static deserialize(e){return new Hre(e.deserializeU64())}},v1=class Vre extends hn{constructor(e){super(),Kd(e,BigInt(0),jC),this.value=BigInt(e)}serialize(e){e.serializeU128(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(2),e.serialize(this)}static deserialize(e){return new Vre(e.deserializeU128())}},y1=class Kre extends hn{constructor(e){super(),Kd(e,BigInt(0),sre),this.value=BigInt(e)}serialize(e){e.serializeU256(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){e.serializeU32AsUleb128(8),e.serialize(this)}static deserialize(e){return new Kre(e.deserializeU256())}},Ni=class ef extends hn{constructor(e){super(),this.values=e}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){if(!(this.values[0]instanceof Hu)&&this.values[0]!==void 0)throw new Error("Script function arguments only accept u8 vectors");e.serializeU32AsUleb128(4),e.serialize(this)}static U8(e){let r;if(Array.isArray(e)&&typeof e[0]=="number")r=e;else if(typeof e=="string"){let n=yi.fromHexInput(e);r=Array.from(n.toUint8Array())}else if(e instanceof Uint8Array)r=Array.from(e);else throw new Error("Invalid input type");return new ef(r.map(n=>new Hu(n)))}static U16(e){return new ef(e.map(r=>new p1(r)))}static U32(e){return new ef(e.map(r=>new g1(r)))}static U64(e){return new ef(e.map(r=>new Ru(r)))}static U128(e){return new ef(e.map(r=>new v1(r)))}static U256(e){return new ef(e.map(r=>new y1(r)))}static Bool(e){return new ef(e.map(r=>new go(r)))}static MoveString(e){return new ef(e.map(r=>new Tu(r)))}serialize(e){e.serializeVector(this.values)}static deserialize(e,r){let n=e.deserializeUleb128AsU32(),s=new Array;for(let i=0;i<n;i+=1)s.push(r.deserialize(e));return new ef(s)}},Tu=class Gre extends hn{constructor(e){super(),this.value=e}serialize(e){e.serializeStr(this.value)}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}serializeForScriptFunction(e){let r=this.bcsToBytes().slice(1);Ni.U8(r).serializeForScriptFunction(e)}static deserialize(e){return new Gre(e.deserializeStr())}},T2=class tf extends hn{constructor(e){super(),typeof e<"u"&&e!==null?this.vec=new Ni([e]):this.vec=new Ni([]),[this.value]=this.vec.values}serializeForEntryFunction(e){let r=this.bcsToBytes();e.serializeBytes(r)}unwrap(){if(this.isSome())return this.vec.values[0];throw new Error("Called unwrap on a MoveOption with no value")}isSome(){return this.vec.values.length===1}serialize(e){this.vec.serialize(e)}static U8(e){return new tf(e!=null?new Hu(e):void 0)}static U16(e){return new tf(e!=null?new p1(e):void 0)}static U32(e){return new tf(e!=null?new g1(e):void 0)}static U64(e){return new tf(e!=null?new Ru(e):void 0)}static U128(e){return new tf(e!=null?new v1(e):void 0)}static U256(e){return new tf(e!=null?new y1(e):void 0)}static Bool(e){return new tf(e!=null?new go(e):void 0)}static MoveString(e){return new tf(e!=null?new Tu(e):void 0)}static deserialize(e,r){let n=Ni.deserialize(e,r);return new tf(n.values[0])}};function _at(t){return typeof t=="boolean"}function gy(t){return typeof t=="string"}function G4(t){return typeof t=="number"}function W4(t){return typeof t=="number"||typeof t=="bigint"||typeof t=="string"}function Eat(t){return t==null}function Sat(t){return Wre(t)||Qre(t)||Zre(t)||Xre(t)||Yre(t)||ene(t)||tne(t)||oI(t)||Jre(t)||Aat(t)||t instanceof Ni||t instanceof T2}function Wre(t){return t instanceof go}function oI(t){return t instanceof Jt}function Jre(t){return t instanceof Tu}function Aat(t){return t instanceof sI}function Qre(t){return t instanceof Hu}function Zre(t){return t instanceof p1}function Xre(t){return t instanceof g1}function Yre(t){return t instanceof Ru}function ene(t){return t instanceof v1}function tne(t){return t instanceof y1}function rne(t){return"bytecode"in t}function si(t,e){throw new Error(`Type mismatch for argument ${e}, expected '${t}'`)}function xat(t){let e=t.params.findIndex(r=>r!=="signer"&&r!=="&signer");return e<0?t.params.length:e}function nne(t){let e=t.split("::");if(e.length!==3)throw new Error(`Invalid function ${t}`);let r=e[0],n=e[1],s=e[2];return{moduleAddress:r,moduleName:n,functionName:s}}var m1=class extends hn{},ine=class extends hn{},IA=class extends hn{};class sne extends rC{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ree(e);const n=Ed(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return qp(this),this.iHash.update(e),this}digestInto(e){qp(this),Pl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Jp=(t,e,r)=>new sne(t,e).update(r).digest();Jp.create=(t,e)=>new sne(t,e);function Mat(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),c=Number(r&i),l=n?4:0,d=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+d,c,n)}class JC extends rC{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=od(this.buffer)}update(e){qp(this);const{view:r,buffer:n,blockLen:s}=this;e=Ed(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const l=od(e);for(;s<=i-o;o+=s)this.process(l,o);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qp(this),nee(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let b=o;b<s;b++)r[b]=0;Mat(n,s-8,BigInt(this.length*8),i),this.process(n,0);const c=od(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,v=this.get();if(d>v.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,v[b],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const[Iat,Rat]=(()=>Cr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),dl=new Uint32Array(80),pl=new Uint32Array(80);class Tat extends JC{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:c,Dl:l,Eh:d,El:v,Fh:b,Fl:A,Gh:x,Gl:R,Hh:C,Hl:T}=this;return[e,r,n,s,i,o,c,l,d,v,b,A,x,R,C,T]}set(e,r,n,s,i,o,c,l,d,v,b,A,x,R,C,T){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=l|0,this.Eh=d|0,this.El=v|0,this.Fh=b|0,this.Fl=A|0,this.Gh=x|0,this.Gl=R|0,this.Hh=C|0,this.Hl=T|0}process(e,r){for(let D=0;D<16;D++,r+=4)dl[D]=e.getUint32(r),pl[D]=e.getUint32(r+=4);for(let D=16;D<80;D++){const L=dl[D-15]|0,F=pl[D-15]|0,H=Cr.rotrSH(L,F,1)^Cr.rotrSH(L,F,8)^Cr.shrSH(L,F,7),V=Cr.rotrSL(L,F,1)^Cr.rotrSL(L,F,8)^Cr.shrSL(L,F,7),J=dl[D-2]|0,Z=pl[D-2]|0,se=Cr.rotrSH(J,Z,19)^Cr.rotrBH(J,Z,61)^Cr.shrSH(J,Z,6),S=Cr.rotrSL(J,Z,19)^Cr.rotrBL(J,Z,61)^Cr.shrSL(J,Z,6),a=Cr.add4L(V,S,pl[D-7],pl[D-16]),u=Cr.add4H(a,H,se,dl[D-7],dl[D-16]);dl[D]=u|0,pl[D]=a|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:c,Cl:l,Dh:d,Dl:v,Eh:b,El:A,Fh:x,Fl:R,Gh:C,Gl:T,Hh:$,Hl:O}=this;for(let D=0;D<80;D++){const L=Cr.rotrSH(b,A,14)^Cr.rotrSH(b,A,18)^Cr.rotrBH(b,A,41),F=Cr.rotrSL(b,A,14)^Cr.rotrSL(b,A,18)^Cr.rotrBL(b,A,41),H=b&x^~b&C,V=A&R^~A&T,J=Cr.add5L(O,F,V,Rat[D],pl[D]),Z=Cr.add5H(J,$,L,H,Iat[D],dl[D]),se=J|0,S=Cr.rotrSH(n,s,28)^Cr.rotrBH(n,s,34)^Cr.rotrBH(n,s,39),a=Cr.rotrSL(n,s,28)^Cr.rotrBL(n,s,34)^Cr.rotrBL(n,s,39),u=n&i^n&c^i&c,h=s&o^s&l^o&l;$=C|0,O=T|0,C=x|0,T=R|0,x=b|0,R=A|0,{h:b,l:A}=Cr.add(d|0,v|0,Z|0,se|0),d=c|0,v=l|0,c=i|0,l=o|0,i=n|0,o=s|0;const p=Cr.add3L(se,a,h);n=Cr.add3H(p,Z,S,u),s=p|0}({h:n,l:s}=Cr.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Cr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l}=Cr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:d,l:v}=Cr.add(this.Dh|0,this.Dl|0,d|0,v|0),{h:b,l:A}=Cr.add(this.Eh|0,this.El|0,b|0,A|0),{h:x,l:R}=Cr.add(this.Fh|0,this.Fl|0,x|0,R|0),{h:C,l:T}=Cr.add(this.Gh|0,this.Gl|0,C|0,T|0),{h:$,l:O}=Cr.add(this.Hh|0,this.Hl|0,$|0,O|0),this.set(n,s,i,o,c,l,d,v,b,A,x,R,C,T,$,O)}roundClean(){dl.fill(0),pl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Qp=oA(()=>new Tat);function $at(t,e,r,n){ree(t);const s=cZe({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:c}=s;if(sd(i),sd(o),sd(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Ed(e),d=Ed(r),v=new Uint8Array(o),b=Jp.create(t,l),A=b._cloneInto().update(d);return{c:i,dkLen:o,asyncTick:c,DK:v,PRF:b,PRFSalt:A}}function Cat(t,e,r,n,s){return t.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),r}function Oat(t,e,r,n){const{c:s,dkLen:i,DK:o,PRF:c,PRFSalt:l}=$at(t,e,r,n);let d;const v=new Uint8Array(4),b=od(v),A=new Uint8Array(c.outputLen);for(let x=1,R=0;R<i;x++,R+=c.outputLen){const C=o.subarray(R,R+c.outputLen);b.setInt32(0,x,!1),(d=l._cloneInto(d)).update(v).digestInto(A),C.set(A.subarray(0,C.length));for(let T=1;T<s;T++){c._cloneInto(d).update(A).digestInto(A);for(let $=0;$<C.length;$++)C[$]^=A[$]}}return Cat(c,l,o,d,A)}const Bat=(t,e,r)=>t&e^~t&r,Pat=(t,e,r)=>t&e^t&r^e&r,Nat=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vl=new Uint32Array(64);class kat extends JC{constructor(){super(64,32,8,!1),this.A=gl[0]|0,this.B=gl[1]|0,this.C=gl[2]|0,this.D=gl[3]|0,this.E=gl[4]|0,this.F=gl[5]|0,this.G=gl[6]|0,this.H=gl[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:c,H:l}=this;return[e,r,n,s,i,o,c,l]}set(e,r,n,s,i,o,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=l|0}process(e,r){for(let b=0;b<16;b++,r+=4)vl[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){const A=vl[b-15],x=vl[b-2],R=Jc(A,7)^Jc(A,18)^A>>>3,C=Jc(x,17)^Jc(x,19)^x>>>10;vl[b]=C+vl[b-7]+R+vl[b-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:l,G:d,H:v}=this;for(let b=0;b<64;b++){const A=Jc(c,6)^Jc(c,11)^Jc(c,25),x=v+A+Bat(c,l,d)+Nat[b]+vl[b]|0,C=(Jc(n,2)^Jc(n,13)^Jc(n,22))+Pat(n,s,i)|0;v=d,d=l,l=c,c=o+x|0,o=i,i=s,s=n,n=x+C|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,d=d+this.G|0,v=v+this.H|0,this.set(n,s,i,o,c,l,d,v)}roundClean(){vl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const dm=oA(()=>new kat);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function one(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function Lat(t){const e=one(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}const Dat=t=>one(`mnemonic${t}`);function Uat(t,e=""){return Oat(Qp,Lat(t).nfkd,Dat(e),{c:2048,dkLen:64})}var Fat=/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'?$/,jat=/^m\/44'\/637'\/[0-9]+'\/[0-9]+\/[0-9]+$/,qat=(t=>(t.ED25519="ed25519 seed",t))(qat||{}),zat=2147483648;function Hat(t){return jat.test(t)}function Vat(t){return Fat.test(t)}var ane=(t,e)=>{let r=Jp.create(Qp,t).update(e).digest();return{key:r.slice(0,32),chainCode:r.slice(32)}},Kat=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(n),i=new Uint8Array([0]),o=new Uint8Array([...i,...t,...s]);return ane(e,o)},Gat=t=>t.replace("'",""),Wat=t=>t.split("/").slice(1).map(Gat),cne=t=>{let e=t.trim().split(/\s+/).map(r=>r.toLowerCase()).join(" ");return Uat(e)},fne={exports:{}};(function(t){(function(e){var r=function(Q){var ee,te=new Float64Array(16);if(Q)for(ee=0;ee<Q.length;ee++)te[ee]=Q[ee];return te},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=r(),c=r([1]),l=r([56129,1]),d=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(Q,ee,te,q){Q[ee]=te>>24&255,Q[ee+1]=te>>16&255,Q[ee+2]=te>>8&255,Q[ee+3]=te&255,Q[ee+4]=q>>24&255,Q[ee+5]=q>>16&255,Q[ee+6]=q>>8&255,Q[ee+7]=q&255}function C(Q,ee,te,q,re){var fe,Se=0;for(fe=0;fe<re;fe++)Se|=Q[ee+fe]^te[q+fe];return(1&Se-1>>>8)-1}function T(Q,ee,te,q){return C(Q,ee,te,q,16)}function $(Q,ee,te,q){return C(Q,ee,te,q,32)}function O(Q,ee,te,q){for(var re=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Se=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,pe=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,be=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,ut=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,nt=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Vt=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,bt=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ct=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Bt=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,kt=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Lt=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Dt=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Nt=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Ut=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,At=re,Tt=fe,wt=Se,xt=pe,Mt=be,vt=ut,Be=nt,Ne=Vt,pt=bt,ot=Ct,ct=Bt,Et=kt,er=Lt,wr=Dt,_r=Nt,vr=Ut,ye,Ir=0;Ir<20;Ir+=2)ye=At+er|0,Mt^=ye<<7|ye>>>32-7,ye=Mt+At|0,pt^=ye<<9|ye>>>32-9,ye=pt+Mt|0,er^=ye<<13|ye>>>32-13,ye=er+pt|0,At^=ye<<18|ye>>>32-18,ye=vt+Tt|0,ot^=ye<<7|ye>>>32-7,ye=ot+vt|0,wr^=ye<<9|ye>>>32-9,ye=wr+ot|0,Tt^=ye<<13|ye>>>32-13,ye=Tt+wr|0,vt^=ye<<18|ye>>>32-18,ye=ct+Be|0,_r^=ye<<7|ye>>>32-7,ye=_r+ct|0,wt^=ye<<9|ye>>>32-9,ye=wt+_r|0,Be^=ye<<13|ye>>>32-13,ye=Be+wt|0,ct^=ye<<18|ye>>>32-18,ye=vr+Et|0,xt^=ye<<7|ye>>>32-7,ye=xt+vr|0,Ne^=ye<<9|ye>>>32-9,ye=Ne+xt|0,Et^=ye<<13|ye>>>32-13,ye=Et+Ne|0,vr^=ye<<18|ye>>>32-18,ye=At+xt|0,Tt^=ye<<7|ye>>>32-7,ye=Tt+At|0,wt^=ye<<9|ye>>>32-9,ye=wt+Tt|0,xt^=ye<<13|ye>>>32-13,ye=xt+wt|0,At^=ye<<18|ye>>>32-18,ye=vt+Mt|0,Be^=ye<<7|ye>>>32-7,ye=Be+vt|0,Ne^=ye<<9|ye>>>32-9,ye=Ne+Be|0,Mt^=ye<<13|ye>>>32-13,ye=Mt+Ne|0,vt^=ye<<18|ye>>>32-18,ye=ct+ot|0,Et^=ye<<7|ye>>>32-7,ye=Et+ct|0,pt^=ye<<9|ye>>>32-9,ye=pt+Et|0,ot^=ye<<13|ye>>>32-13,ye=ot+pt|0,ct^=ye<<18|ye>>>32-18,ye=vr+_r|0,er^=ye<<7|ye>>>32-7,ye=er+vr|0,wr^=ye<<9|ye>>>32-9,ye=wr+er|0,_r^=ye<<13|ye>>>32-13,ye=_r+wr|0,vr^=ye<<18|ye>>>32-18;At=At+re|0,Tt=Tt+fe|0,wt=wt+Se|0,xt=xt+pe|0,Mt=Mt+be|0,vt=vt+ut|0,Be=Be+nt|0,Ne=Ne+Vt|0,pt=pt+bt|0,ot=ot+Ct|0,ct=ct+Bt|0,Et=Et+kt|0,er=er+Lt|0,wr=wr+Dt|0,_r=_r+Nt|0,vr=vr+Ut|0,Q[0]=At>>>0&255,Q[1]=At>>>8&255,Q[2]=At>>>16&255,Q[3]=At>>>24&255,Q[4]=Tt>>>0&255,Q[5]=Tt>>>8&255,Q[6]=Tt>>>16&255,Q[7]=Tt>>>24&255,Q[8]=wt>>>0&255,Q[9]=wt>>>8&255,Q[10]=wt>>>16&255,Q[11]=wt>>>24&255,Q[12]=xt>>>0&255,Q[13]=xt>>>8&255,Q[14]=xt>>>16&255,Q[15]=xt>>>24&255,Q[16]=Mt>>>0&255,Q[17]=Mt>>>8&255,Q[18]=Mt>>>16&255,Q[19]=Mt>>>24&255,Q[20]=vt>>>0&255,Q[21]=vt>>>8&255,Q[22]=vt>>>16&255,Q[23]=vt>>>24&255,Q[24]=Be>>>0&255,Q[25]=Be>>>8&255,Q[26]=Be>>>16&255,Q[27]=Be>>>24&255,Q[28]=Ne>>>0&255,Q[29]=Ne>>>8&255,Q[30]=Ne>>>16&255,Q[31]=Ne>>>24&255,Q[32]=pt>>>0&255,Q[33]=pt>>>8&255,Q[34]=pt>>>16&255,Q[35]=pt>>>24&255,Q[36]=ot>>>0&255,Q[37]=ot>>>8&255,Q[38]=ot>>>16&255,Q[39]=ot>>>24&255,Q[40]=ct>>>0&255,Q[41]=ct>>>8&255,Q[42]=ct>>>16&255,Q[43]=ct>>>24&255,Q[44]=Et>>>0&255,Q[45]=Et>>>8&255,Q[46]=Et>>>16&255,Q[47]=Et>>>24&255,Q[48]=er>>>0&255,Q[49]=er>>>8&255,Q[50]=er>>>16&255,Q[51]=er>>>24&255,Q[52]=wr>>>0&255,Q[53]=wr>>>8&255,Q[54]=wr>>>16&255,Q[55]=wr>>>24&255,Q[56]=_r>>>0&255,Q[57]=_r>>>8&255,Q[58]=_r>>>16&255,Q[59]=_r>>>24&255,Q[60]=vr>>>0&255,Q[61]=vr>>>8&255,Q[62]=vr>>>16&255,Q[63]=vr>>>24&255}function D(Q,ee,te,q){for(var re=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,fe=te[0]&255|(te[1]&255)<<8|(te[2]&255)<<16|(te[3]&255)<<24,Se=te[4]&255|(te[5]&255)<<8|(te[6]&255)<<16|(te[7]&255)<<24,pe=te[8]&255|(te[9]&255)<<8|(te[10]&255)<<16|(te[11]&255)<<24,be=te[12]&255|(te[13]&255)<<8|(te[14]&255)<<16|(te[15]&255)<<24,ut=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,nt=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,Vt=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,bt=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,Ct=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,Bt=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,kt=te[16]&255|(te[17]&255)<<8|(te[18]&255)<<16|(te[19]&255)<<24,Lt=te[20]&255|(te[21]&255)<<8|(te[22]&255)<<16|(te[23]&255)<<24,Dt=te[24]&255|(te[25]&255)<<8|(te[26]&255)<<16|(te[27]&255)<<24,Nt=te[28]&255|(te[29]&255)<<8|(te[30]&255)<<16|(te[31]&255)<<24,Ut=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,At=re,Tt=fe,wt=Se,xt=pe,Mt=be,vt=ut,Be=nt,Ne=Vt,pt=bt,ot=Ct,ct=Bt,Et=kt,er=Lt,wr=Dt,_r=Nt,vr=Ut,ye,Ir=0;Ir<20;Ir+=2)ye=At+er|0,Mt^=ye<<7|ye>>>32-7,ye=Mt+At|0,pt^=ye<<9|ye>>>32-9,ye=pt+Mt|0,er^=ye<<13|ye>>>32-13,ye=er+pt|0,At^=ye<<18|ye>>>32-18,ye=vt+Tt|0,ot^=ye<<7|ye>>>32-7,ye=ot+vt|0,wr^=ye<<9|ye>>>32-9,ye=wr+ot|0,Tt^=ye<<13|ye>>>32-13,ye=Tt+wr|0,vt^=ye<<18|ye>>>32-18,ye=ct+Be|0,_r^=ye<<7|ye>>>32-7,ye=_r+ct|0,wt^=ye<<9|ye>>>32-9,ye=wt+_r|0,Be^=ye<<13|ye>>>32-13,ye=Be+wt|0,ct^=ye<<18|ye>>>32-18,ye=vr+Et|0,xt^=ye<<7|ye>>>32-7,ye=xt+vr|0,Ne^=ye<<9|ye>>>32-9,ye=Ne+xt|0,Et^=ye<<13|ye>>>32-13,ye=Et+Ne|0,vr^=ye<<18|ye>>>32-18,ye=At+xt|0,Tt^=ye<<7|ye>>>32-7,ye=Tt+At|0,wt^=ye<<9|ye>>>32-9,ye=wt+Tt|0,xt^=ye<<13|ye>>>32-13,ye=xt+wt|0,At^=ye<<18|ye>>>32-18,ye=vt+Mt|0,Be^=ye<<7|ye>>>32-7,ye=Be+vt|0,Ne^=ye<<9|ye>>>32-9,ye=Ne+Be|0,Mt^=ye<<13|ye>>>32-13,ye=Mt+Ne|0,vt^=ye<<18|ye>>>32-18,ye=ct+ot|0,Et^=ye<<7|ye>>>32-7,ye=Et+ct|0,pt^=ye<<9|ye>>>32-9,ye=pt+Et|0,ot^=ye<<13|ye>>>32-13,ye=ot+pt|0,ct^=ye<<18|ye>>>32-18,ye=vr+_r|0,er^=ye<<7|ye>>>32-7,ye=er+vr|0,wr^=ye<<9|ye>>>32-9,ye=wr+er|0,_r^=ye<<13|ye>>>32-13,ye=_r+wr|0,vr^=ye<<18|ye>>>32-18;Q[0]=At>>>0&255,Q[1]=At>>>8&255,Q[2]=At>>>16&255,Q[3]=At>>>24&255,Q[4]=vt>>>0&255,Q[5]=vt>>>8&255,Q[6]=vt>>>16&255,Q[7]=vt>>>24&255,Q[8]=ct>>>0&255,Q[9]=ct>>>8&255,Q[10]=ct>>>16&255,Q[11]=ct>>>24&255,Q[12]=vr>>>0&255,Q[13]=vr>>>8&255,Q[14]=vr>>>16&255,Q[15]=vr>>>24&255,Q[16]=Be>>>0&255,Q[17]=Be>>>8&255,Q[18]=Be>>>16&255,Q[19]=Be>>>24&255,Q[20]=Ne>>>0&255,Q[21]=Ne>>>8&255,Q[22]=Ne>>>16&255,Q[23]=Ne>>>24&255,Q[24]=pt>>>0&255,Q[25]=pt>>>8&255,Q[26]=pt>>>16&255,Q[27]=pt>>>24&255,Q[28]=ot>>>0&255,Q[29]=ot>>>8&255,Q[30]=ot>>>16&255,Q[31]=ot>>>24&255}function L(Q,ee,te,q){O(Q,ee,te,q)}function F(Q,ee,te,q){D(Q,ee,te,q)}var H=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function V(Q,ee,te,q,re,fe,Se){var pe=new Uint8Array(16),be=new Uint8Array(64),ut,nt;for(nt=0;nt<16;nt++)pe[nt]=0;for(nt=0;nt<8;nt++)pe[nt]=fe[nt];for(;re>=64;){for(L(be,pe,Se,H),nt=0;nt<64;nt++)Q[ee+nt]=te[q+nt]^be[nt];for(ut=1,nt=8;nt<16;nt++)ut=ut+(pe[nt]&255)|0,pe[nt]=ut&255,ut>>>=8;re-=64,ee+=64,q+=64}if(re>0)for(L(be,pe,Se,H),nt=0;nt<re;nt++)Q[ee+nt]=te[q+nt]^be[nt];return 0}function J(Q,ee,te,q,re){var fe=new Uint8Array(16),Se=new Uint8Array(64),pe,be;for(be=0;be<16;be++)fe[be]=0;for(be=0;be<8;be++)fe[be]=q[be];for(;te>=64;){for(L(Se,fe,re,H),be=0;be<64;be++)Q[ee+be]=Se[be];for(pe=1,be=8;be<16;be++)pe=pe+(fe[be]&255)|0,fe[be]=pe&255,pe>>>=8;te-=64,ee+=64}if(te>0)for(L(Se,fe,re,H),be=0;be<te;be++)Q[ee+be]=Se[be];return 0}function Z(Q,ee,te,q,re){var fe=new Uint8Array(32);F(fe,q,re,H);for(var Se=new Uint8Array(8),pe=0;pe<8;pe++)Se[pe]=q[pe+16];return J(Q,ee,te,Se,fe)}function se(Q,ee,te,q,re,fe,Se){var pe=new Uint8Array(32);F(pe,fe,Se,H);for(var be=new Uint8Array(8),ut=0;ut<8;ut++)be[ut]=fe[ut+16];return V(Q,ee,te,q,re,be,pe)}var S=function(Q){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var ee,te,q,re,fe,Se,pe,be;ee=Q[0]&255|(Q[1]&255)<<8,this.r[0]=ee&8191,te=Q[2]&255|(Q[3]&255)<<8,this.r[1]=(ee>>>13|te<<3)&8191,q=Q[4]&255|(Q[5]&255)<<8,this.r[2]=(te>>>10|q<<6)&7939,re=Q[6]&255|(Q[7]&255)<<8,this.r[3]=(q>>>7|re<<9)&8191,fe=Q[8]&255|(Q[9]&255)<<8,this.r[4]=(re>>>4|fe<<12)&255,this.r[5]=fe>>>1&8190,Se=Q[10]&255|(Q[11]&255)<<8,this.r[6]=(fe>>>14|Se<<2)&8191,pe=Q[12]&255|(Q[13]&255)<<8,this.r[7]=(Se>>>11|pe<<5)&8065,be=Q[14]&255|(Q[15]&255)<<8,this.r[8]=(pe>>>8|be<<8)&8191,this.r[9]=be>>>5&127,this.pad[0]=Q[16]&255|(Q[17]&255)<<8,this.pad[1]=Q[18]&255|(Q[19]&255)<<8,this.pad[2]=Q[20]&255|(Q[21]&255)<<8,this.pad[3]=Q[22]&255|(Q[23]&255)<<8,this.pad[4]=Q[24]&255|(Q[25]&255)<<8,this.pad[5]=Q[26]&255|(Q[27]&255)<<8,this.pad[6]=Q[28]&255|(Q[29]&255)<<8,this.pad[7]=Q[30]&255|(Q[31]&255)<<8};S.prototype.blocks=function(Q,ee,te){for(var q=this.fin?0:2048,re,fe,Se,pe,be,ut,nt,Vt,bt,Ct,Bt,kt,Lt,Dt,Nt,Ut,At,Tt,wt,xt=this.h[0],Mt=this.h[1],vt=this.h[2],Be=this.h[3],Ne=this.h[4],pt=this.h[5],ot=this.h[6],ct=this.h[7],Et=this.h[8],er=this.h[9],wr=this.r[0],_r=this.r[1],vr=this.r[2],ye=this.r[3],Ir=this.r[4],jr=this.r[5],qr=this.r[6],Er=this.r[7],zr=this.r[8],Dr=this.r[9];te>=16;)re=Q[ee+0]&255|(Q[ee+1]&255)<<8,xt+=re&8191,fe=Q[ee+2]&255|(Q[ee+3]&255)<<8,Mt+=(re>>>13|fe<<3)&8191,Se=Q[ee+4]&255|(Q[ee+5]&255)<<8,vt+=(fe>>>10|Se<<6)&8191,pe=Q[ee+6]&255|(Q[ee+7]&255)<<8,Be+=(Se>>>7|pe<<9)&8191,be=Q[ee+8]&255|(Q[ee+9]&255)<<8,Ne+=(pe>>>4|be<<12)&8191,pt+=be>>>1&8191,ut=Q[ee+10]&255|(Q[ee+11]&255)<<8,ot+=(be>>>14|ut<<2)&8191,nt=Q[ee+12]&255|(Q[ee+13]&255)<<8,ct+=(ut>>>11|nt<<5)&8191,Vt=Q[ee+14]&255|(Q[ee+15]&255)<<8,Et+=(nt>>>8|Vt<<8)&8191,er+=Vt>>>5|q,bt=0,Ct=bt,Ct+=xt*wr,Ct+=Mt*(5*Dr),Ct+=vt*(5*zr),Ct+=Be*(5*Er),Ct+=Ne*(5*qr),bt=Ct>>>13,Ct&=8191,Ct+=pt*(5*jr),Ct+=ot*(5*Ir),Ct+=ct*(5*ye),Ct+=Et*(5*vr),Ct+=er*(5*_r),bt+=Ct>>>13,Ct&=8191,Bt=bt,Bt+=xt*_r,Bt+=Mt*wr,Bt+=vt*(5*Dr),Bt+=Be*(5*zr),Bt+=Ne*(5*Er),bt=Bt>>>13,Bt&=8191,Bt+=pt*(5*qr),Bt+=ot*(5*jr),Bt+=ct*(5*Ir),Bt+=Et*(5*ye),Bt+=er*(5*vr),bt+=Bt>>>13,Bt&=8191,kt=bt,kt+=xt*vr,kt+=Mt*_r,kt+=vt*wr,kt+=Be*(5*Dr),kt+=Ne*(5*zr),bt=kt>>>13,kt&=8191,kt+=pt*(5*Er),kt+=ot*(5*qr),kt+=ct*(5*jr),kt+=Et*(5*Ir),kt+=er*(5*ye),bt+=kt>>>13,kt&=8191,Lt=bt,Lt+=xt*ye,Lt+=Mt*vr,Lt+=vt*_r,Lt+=Be*wr,Lt+=Ne*(5*Dr),bt=Lt>>>13,Lt&=8191,Lt+=pt*(5*zr),Lt+=ot*(5*Er),Lt+=ct*(5*qr),Lt+=Et*(5*jr),Lt+=er*(5*Ir),bt+=Lt>>>13,Lt&=8191,Dt=bt,Dt+=xt*Ir,Dt+=Mt*ye,Dt+=vt*vr,Dt+=Be*_r,Dt+=Ne*wr,bt=Dt>>>13,Dt&=8191,Dt+=pt*(5*Dr),Dt+=ot*(5*zr),Dt+=ct*(5*Er),Dt+=Et*(5*qr),Dt+=er*(5*jr),bt+=Dt>>>13,Dt&=8191,Nt=bt,Nt+=xt*jr,Nt+=Mt*Ir,Nt+=vt*ye,Nt+=Be*vr,Nt+=Ne*_r,bt=Nt>>>13,Nt&=8191,Nt+=pt*wr,Nt+=ot*(5*Dr),Nt+=ct*(5*zr),Nt+=Et*(5*Er),Nt+=er*(5*qr),bt+=Nt>>>13,Nt&=8191,Ut=bt,Ut+=xt*qr,Ut+=Mt*jr,Ut+=vt*Ir,Ut+=Be*ye,Ut+=Ne*vr,bt=Ut>>>13,Ut&=8191,Ut+=pt*_r,Ut+=ot*wr,Ut+=ct*(5*Dr),Ut+=Et*(5*zr),Ut+=er*(5*Er),bt+=Ut>>>13,Ut&=8191,At=bt,At+=xt*Er,At+=Mt*qr,At+=vt*jr,At+=Be*Ir,At+=Ne*ye,bt=At>>>13,At&=8191,At+=pt*vr,At+=ot*_r,At+=ct*wr,At+=Et*(5*Dr),At+=er*(5*zr),bt+=At>>>13,At&=8191,Tt=bt,Tt+=xt*zr,Tt+=Mt*Er,Tt+=vt*qr,Tt+=Be*jr,Tt+=Ne*Ir,bt=Tt>>>13,Tt&=8191,Tt+=pt*ye,Tt+=ot*vr,Tt+=ct*_r,Tt+=Et*wr,Tt+=er*(5*Dr),bt+=Tt>>>13,Tt&=8191,wt=bt,wt+=xt*Dr,wt+=Mt*zr,wt+=vt*Er,wt+=Be*qr,wt+=Ne*jr,bt=wt>>>13,wt&=8191,wt+=pt*Ir,wt+=ot*ye,wt+=ct*vr,wt+=Et*_r,wt+=er*wr,bt+=wt>>>13,wt&=8191,bt=(bt<<2)+bt|0,bt=bt+Ct|0,Ct=bt&8191,bt=bt>>>13,Bt+=bt,xt=Ct,Mt=Bt,vt=kt,Be=Lt,Ne=Dt,pt=Nt,ot=Ut,ct=At,Et=Tt,er=wt,ee+=16,te-=16;this.h[0]=xt,this.h[1]=Mt,this.h[2]=vt,this.h[3]=Be,this.h[4]=Ne,this.h[5]=pt,this.h[6]=ot,this.h[7]=ct,this.h[8]=Et,this.h[9]=er},S.prototype.finish=function(Q,ee){var te=new Uint16Array(10),q,re,fe,Se;if(this.leftover){for(Se=this.leftover,this.buffer[Se++]=1;Se<16;Se++)this.buffer[Se]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(q=this.h[1]>>>13,this.h[1]&=8191,Se=2;Se<10;Se++)this.h[Se]+=q,q=this.h[Se]>>>13,this.h[Se]&=8191;for(this.h[0]+=q*5,q=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=q,q=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=q,te[0]=this.h[0]+5,q=te[0]>>>13,te[0]&=8191,Se=1;Se<10;Se++)te[Se]=this.h[Se]+q,q=te[Se]>>>13,te[Se]&=8191;for(te[9]-=8192,re=(q^1)-1,Se=0;Se<10;Se++)te[Se]&=re;for(re=~re,Se=0;Se<10;Se++)this.h[Se]=this.h[Se]&re|te[Se];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,fe=this.h[0]+this.pad[0],this.h[0]=fe&65535,Se=1;Se<8;Se++)fe=(this.h[Se]+this.pad[Se]|0)+(fe>>>16)|0,this.h[Se]=fe&65535;Q[ee+0]=this.h[0]>>>0&255,Q[ee+1]=this.h[0]>>>8&255,Q[ee+2]=this.h[1]>>>0&255,Q[ee+3]=this.h[1]>>>8&255,Q[ee+4]=this.h[2]>>>0&255,Q[ee+5]=this.h[2]>>>8&255,Q[ee+6]=this.h[3]>>>0&255,Q[ee+7]=this.h[3]>>>8&255,Q[ee+8]=this.h[4]>>>0&255,Q[ee+9]=this.h[4]>>>8&255,Q[ee+10]=this.h[5]>>>0&255,Q[ee+11]=this.h[5]>>>8&255,Q[ee+12]=this.h[6]>>>0&255,Q[ee+13]=this.h[6]>>>8&255,Q[ee+14]=this.h[7]>>>0&255,Q[ee+15]=this.h[7]>>>8&255},S.prototype.update=function(Q,ee,te){var q,re;if(this.leftover){for(re=16-this.leftover,re>te&&(re=te),q=0;q<re;q++)this.buffer[this.leftover+q]=Q[ee+q];if(te-=re,ee+=re,this.leftover+=re,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(te>=16&&(re=te-te%16,this.blocks(Q,ee,re),ee+=re,te-=re),te){for(q=0;q<te;q++)this.buffer[this.leftover+q]=Q[ee+q];this.leftover+=te}};function a(Q,ee,te,q,re,fe){var Se=new S(fe);return Se.update(te,q,re),Se.finish(Q,ee),0}function u(Q,ee,te,q,re,fe){var Se=new Uint8Array(16);return a(Se,0,te,q,re,fe),T(Q,ee,Se,0)}function h(Q,ee,te,q,re){var fe;if(te<32)return-1;for(se(Q,0,ee,0,te,q,re),a(Q,16,Q,32,te-32,Q),fe=0;fe<16;fe++)Q[fe]=0;return 0}function p(Q,ee,te,q,re){var fe,Se=new Uint8Array(32);if(te<32||(Z(Se,0,32,q,re),u(ee,16,ee,32,te-32,Se)!==0))return-1;for(se(Q,0,ee,0,te,q,re),fe=0;fe<32;fe++)Q[fe]=0;return 0}function y(Q,ee){var te;for(te=0;te<16;te++)Q[te]=ee[te]|0}function w(Q){var ee,te,q=1;for(ee=0;ee<16;ee++)te=Q[ee]+q+65535,q=Math.floor(te/65536),Q[ee]=te-q*65536;Q[0]+=q-1+37*(q-1)}function _(Q,ee,te){for(var q,re=~(te-1),fe=0;fe<16;fe++)q=re&(Q[fe]^ee[fe]),Q[fe]^=q,ee[fe]^=q}function g(Q,ee){var te,q,re,fe=r(),Se=r();for(te=0;te<16;te++)Se[te]=ee[te];for(w(Se),w(Se),w(Se),q=0;q<2;q++){for(fe[0]=Se[0]-65517,te=1;te<15;te++)fe[te]=Se[te]-65535-(fe[te-1]>>16&1),fe[te-1]&=65535;fe[15]=Se[15]-32767-(fe[14]>>16&1),re=fe[15]>>16&1,fe[14]&=65535,_(Se,fe,1-re)}for(te=0;te<16;te++)Q[2*te]=Se[te]&255,Q[2*te+1]=Se[te]>>8}function f(Q,ee){var te=new Uint8Array(32),q=new Uint8Array(32);return g(te,Q),g(q,ee),$(te,0,q,0)}function m(Q){var ee=new Uint8Array(32);return g(ee,Q),ee[0]&1}function I(Q,ee){var te;for(te=0;te<16;te++)Q[te]=ee[2*te]+(ee[2*te+1]<<8);Q[15]&=32767}function P(Q,ee,te){for(var q=0;q<16;q++)Q[q]=ee[q]+te[q]}function j(Q,ee,te){for(var q=0;q<16;q++)Q[q]=ee[q]-te[q]}function k(Q,ee,te){var q,re,fe=0,Se=0,pe=0,be=0,ut=0,nt=0,Vt=0,bt=0,Ct=0,Bt=0,kt=0,Lt=0,Dt=0,Nt=0,Ut=0,At=0,Tt=0,wt=0,xt=0,Mt=0,vt=0,Be=0,Ne=0,pt=0,ot=0,ct=0,Et=0,er=0,wr=0,_r=0,vr=0,ye=te[0],Ir=te[1],jr=te[2],qr=te[3],Er=te[4],zr=te[5],Dr=te[6],Bn=te[7],tn=te[8],pn=te[9],Pn=te[10],Nn=te[11],di=te[12],Si=te[13],Ai=te[14],xi=te[15];q=ee[0],fe+=q*ye,Se+=q*Ir,pe+=q*jr,be+=q*qr,ut+=q*Er,nt+=q*zr,Vt+=q*Dr,bt+=q*Bn,Ct+=q*tn,Bt+=q*pn,kt+=q*Pn,Lt+=q*Nn,Dt+=q*di,Nt+=q*Si,Ut+=q*Ai,At+=q*xi,q=ee[1],Se+=q*ye,pe+=q*Ir,be+=q*jr,ut+=q*qr,nt+=q*Er,Vt+=q*zr,bt+=q*Dr,Ct+=q*Bn,Bt+=q*tn,kt+=q*pn,Lt+=q*Pn,Dt+=q*Nn,Nt+=q*di,Ut+=q*Si,At+=q*Ai,Tt+=q*xi,q=ee[2],pe+=q*ye,be+=q*Ir,ut+=q*jr,nt+=q*qr,Vt+=q*Er,bt+=q*zr,Ct+=q*Dr,Bt+=q*Bn,kt+=q*tn,Lt+=q*pn,Dt+=q*Pn,Nt+=q*Nn,Ut+=q*di,At+=q*Si,Tt+=q*Ai,wt+=q*xi,q=ee[3],be+=q*ye,ut+=q*Ir,nt+=q*jr,Vt+=q*qr,bt+=q*Er,Ct+=q*zr,Bt+=q*Dr,kt+=q*Bn,Lt+=q*tn,Dt+=q*pn,Nt+=q*Pn,Ut+=q*Nn,At+=q*di,Tt+=q*Si,wt+=q*Ai,xt+=q*xi,q=ee[4],ut+=q*ye,nt+=q*Ir,Vt+=q*jr,bt+=q*qr,Ct+=q*Er,Bt+=q*zr,kt+=q*Dr,Lt+=q*Bn,Dt+=q*tn,Nt+=q*pn,Ut+=q*Pn,At+=q*Nn,Tt+=q*di,wt+=q*Si,xt+=q*Ai,Mt+=q*xi,q=ee[5],nt+=q*ye,Vt+=q*Ir,bt+=q*jr,Ct+=q*qr,Bt+=q*Er,kt+=q*zr,Lt+=q*Dr,Dt+=q*Bn,Nt+=q*tn,Ut+=q*pn,At+=q*Pn,Tt+=q*Nn,wt+=q*di,xt+=q*Si,Mt+=q*Ai,vt+=q*xi,q=ee[6],Vt+=q*ye,bt+=q*Ir,Ct+=q*jr,Bt+=q*qr,kt+=q*Er,Lt+=q*zr,Dt+=q*Dr,Nt+=q*Bn,Ut+=q*tn,At+=q*pn,Tt+=q*Pn,wt+=q*Nn,xt+=q*di,Mt+=q*Si,vt+=q*Ai,Be+=q*xi,q=ee[7],bt+=q*ye,Ct+=q*Ir,Bt+=q*jr,kt+=q*qr,Lt+=q*Er,Dt+=q*zr,Nt+=q*Dr,Ut+=q*Bn,At+=q*tn,Tt+=q*pn,wt+=q*Pn,xt+=q*Nn,Mt+=q*di,vt+=q*Si,Be+=q*Ai,Ne+=q*xi,q=ee[8],Ct+=q*ye,Bt+=q*Ir,kt+=q*jr,Lt+=q*qr,Dt+=q*Er,Nt+=q*zr,Ut+=q*Dr,At+=q*Bn,Tt+=q*tn,wt+=q*pn,xt+=q*Pn,Mt+=q*Nn,vt+=q*di,Be+=q*Si,Ne+=q*Ai,pt+=q*xi,q=ee[9],Bt+=q*ye,kt+=q*Ir,Lt+=q*jr,Dt+=q*qr,Nt+=q*Er,Ut+=q*zr,At+=q*Dr,Tt+=q*Bn,wt+=q*tn,xt+=q*pn,Mt+=q*Pn,vt+=q*Nn,Be+=q*di,Ne+=q*Si,pt+=q*Ai,ot+=q*xi,q=ee[10],kt+=q*ye,Lt+=q*Ir,Dt+=q*jr,Nt+=q*qr,Ut+=q*Er,At+=q*zr,Tt+=q*Dr,wt+=q*Bn,xt+=q*tn,Mt+=q*pn,vt+=q*Pn,Be+=q*Nn,Ne+=q*di,pt+=q*Si,ot+=q*Ai,ct+=q*xi,q=ee[11],Lt+=q*ye,Dt+=q*Ir,Nt+=q*jr,Ut+=q*qr,At+=q*Er,Tt+=q*zr,wt+=q*Dr,xt+=q*Bn,Mt+=q*tn,vt+=q*pn,Be+=q*Pn,Ne+=q*Nn,pt+=q*di,ot+=q*Si,ct+=q*Ai,Et+=q*xi,q=ee[12],Dt+=q*ye,Nt+=q*Ir,Ut+=q*jr,At+=q*qr,Tt+=q*Er,wt+=q*zr,xt+=q*Dr,Mt+=q*Bn,vt+=q*tn,Be+=q*pn,Ne+=q*Pn,pt+=q*Nn,ot+=q*di,ct+=q*Si,Et+=q*Ai,er+=q*xi,q=ee[13],Nt+=q*ye,Ut+=q*Ir,At+=q*jr,Tt+=q*qr,wt+=q*Er,xt+=q*zr,Mt+=q*Dr,vt+=q*Bn,Be+=q*tn,Ne+=q*pn,pt+=q*Pn,ot+=q*Nn,ct+=q*di,Et+=q*Si,er+=q*Ai,wr+=q*xi,q=ee[14],Ut+=q*ye,At+=q*Ir,Tt+=q*jr,wt+=q*qr,xt+=q*Er,Mt+=q*zr,vt+=q*Dr,Be+=q*Bn,Ne+=q*tn,pt+=q*pn,ot+=q*Pn,ct+=q*Nn,Et+=q*di,er+=q*Si,wr+=q*Ai,_r+=q*xi,q=ee[15],At+=q*ye,Tt+=q*Ir,wt+=q*jr,xt+=q*qr,Mt+=q*Er,vt+=q*zr,Be+=q*Dr,Ne+=q*Bn,pt+=q*tn,ot+=q*pn,ct+=q*Pn,Et+=q*Nn,er+=q*di,wr+=q*Si,_r+=q*Ai,vr+=q*xi,fe+=38*Tt,Se+=38*wt,pe+=38*xt,be+=38*Mt,ut+=38*vt,nt+=38*Be,Vt+=38*Ne,bt+=38*pt,Ct+=38*ot,Bt+=38*ct,kt+=38*Et,Lt+=38*er,Dt+=38*wr,Nt+=38*_r,Ut+=38*vr,re=1,q=fe+re+65535,re=Math.floor(q/65536),fe=q-re*65536,q=Se+re+65535,re=Math.floor(q/65536),Se=q-re*65536,q=pe+re+65535,re=Math.floor(q/65536),pe=q-re*65536,q=be+re+65535,re=Math.floor(q/65536),be=q-re*65536,q=ut+re+65535,re=Math.floor(q/65536),ut=q-re*65536,q=nt+re+65535,re=Math.floor(q/65536),nt=q-re*65536,q=Vt+re+65535,re=Math.floor(q/65536),Vt=q-re*65536,q=bt+re+65535,re=Math.floor(q/65536),bt=q-re*65536,q=Ct+re+65535,re=Math.floor(q/65536),Ct=q-re*65536,q=Bt+re+65535,re=Math.floor(q/65536),Bt=q-re*65536,q=kt+re+65535,re=Math.floor(q/65536),kt=q-re*65536,q=Lt+re+65535,re=Math.floor(q/65536),Lt=q-re*65536,q=Dt+re+65535,re=Math.floor(q/65536),Dt=q-re*65536,q=Nt+re+65535,re=Math.floor(q/65536),Nt=q-re*65536,q=Ut+re+65535,re=Math.floor(q/65536),Ut=q-re*65536,q=At+re+65535,re=Math.floor(q/65536),At=q-re*65536,fe+=re-1+37*(re-1),re=1,q=fe+re+65535,re=Math.floor(q/65536),fe=q-re*65536,q=Se+re+65535,re=Math.floor(q/65536),Se=q-re*65536,q=pe+re+65535,re=Math.floor(q/65536),pe=q-re*65536,q=be+re+65535,re=Math.floor(q/65536),be=q-re*65536,q=ut+re+65535,re=Math.floor(q/65536),ut=q-re*65536,q=nt+re+65535,re=Math.floor(q/65536),nt=q-re*65536,q=Vt+re+65535,re=Math.floor(q/65536),Vt=q-re*65536,q=bt+re+65535,re=Math.floor(q/65536),bt=q-re*65536,q=Ct+re+65535,re=Math.floor(q/65536),Ct=q-re*65536,q=Bt+re+65535,re=Math.floor(q/65536),Bt=q-re*65536,q=kt+re+65535,re=Math.floor(q/65536),kt=q-re*65536,q=Lt+re+65535,re=Math.floor(q/65536),Lt=q-re*65536,q=Dt+re+65535,re=Math.floor(q/65536),Dt=q-re*65536,q=Nt+re+65535,re=Math.floor(q/65536),Nt=q-re*65536,q=Ut+re+65535,re=Math.floor(q/65536),Ut=q-re*65536,q=At+re+65535,re=Math.floor(q/65536),At=q-re*65536,fe+=re-1+37*(re-1),Q[0]=fe,Q[1]=Se,Q[2]=pe,Q[3]=be,Q[4]=ut,Q[5]=nt,Q[6]=Vt,Q[7]=bt,Q[8]=Ct,Q[9]=Bt,Q[10]=kt,Q[11]=Lt,Q[12]=Dt,Q[13]=Nt,Q[14]=Ut,Q[15]=At}function z(Q,ee){k(Q,ee,ee)}function B(Q,ee){var te=r(),q;for(q=0;q<16;q++)te[q]=ee[q];for(q=253;q>=0;q--)z(te,te),q!==2&&q!==4&&k(te,te,ee);for(q=0;q<16;q++)Q[q]=te[q]}function U(Q,ee){var te=r(),q;for(q=0;q<16;q++)te[q]=ee[q];for(q=250;q>=0;q--)z(te,te),q!==1&&k(te,te,ee);for(q=0;q<16;q++)Q[q]=te[q]}function K(Q,ee,te){var q=new Uint8Array(32),re=new Float64Array(80),fe,Se,pe=r(),be=r(),ut=r(),nt=r(),Vt=r(),bt=r();for(Se=0;Se<31;Se++)q[Se]=ee[Se];for(q[31]=ee[31]&127|64,q[0]&=248,I(re,te),Se=0;Se<16;Se++)be[Se]=re[Se],nt[Se]=pe[Se]=ut[Se]=0;for(pe[0]=nt[0]=1,Se=254;Se>=0;--Se)fe=q[Se>>>3]>>>(Se&7)&1,_(pe,be,fe),_(ut,nt,fe),P(Vt,pe,ut),j(pe,pe,ut),P(ut,be,nt),j(be,be,nt),z(nt,Vt),z(bt,pe),k(pe,ut,pe),k(ut,be,Vt),P(Vt,pe,ut),j(pe,pe,ut),z(be,pe),j(ut,nt,bt),k(pe,ut,l),P(pe,pe,nt),k(ut,ut,pe),k(pe,nt,bt),k(nt,be,re),z(be,Vt),_(pe,be,fe),_(ut,nt,fe);for(Se=0;Se<16;Se++)re[Se+16]=pe[Se],re[Se+32]=ut[Se],re[Se+48]=be[Se],re[Se+64]=nt[Se];var Ct=re.subarray(32),Bt=re.subarray(16);return B(Ct,Ct),k(Bt,Bt,Ct),g(Q,Bt),0}function Y(Q,ee){return K(Q,ee,i)}function X(Q,ee){return n(ee,32),Y(Q,ee)}function G(Q,ee,te){var q=new Uint8Array(32);return K(q,te,ee),F(Q,s,q,H)}var ne=h,le=p;function de(Q,ee,te,q,re,fe){var Se=new Uint8Array(32);return G(Se,re,fe),ne(Q,ee,te,q,Se)}function me(Q,ee,te,q,re,fe){var Se=new Uint8Array(32);return G(Se,re,fe),le(Q,ee,te,q,Se)}var rt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ae(Q,ee,te,q){for(var re=new Int32Array(16),fe=new Int32Array(16),Se,pe,be,ut,nt,Vt,bt,Ct,Bt,kt,Lt,Dt,Nt,Ut,At,Tt,wt,xt,Mt,vt,Be,Ne,pt,ot,ct,Et,er=Q[0],wr=Q[1],_r=Q[2],vr=Q[3],ye=Q[4],Ir=Q[5],jr=Q[6],qr=Q[7],Er=ee[0],zr=ee[1],Dr=ee[2],Bn=ee[3],tn=ee[4],pn=ee[5],Pn=ee[6],Nn=ee[7],di=0;q>=128;){for(Mt=0;Mt<16;Mt++)vt=8*Mt+di,re[Mt]=te[vt+0]<<24|te[vt+1]<<16|te[vt+2]<<8|te[vt+3],fe[Mt]=te[vt+4]<<24|te[vt+5]<<16|te[vt+6]<<8|te[vt+7];for(Mt=0;Mt<80;Mt++)if(Se=er,pe=wr,be=_r,ut=vr,nt=ye,Vt=Ir,bt=jr,Ct=qr,Bt=Er,kt=zr,Lt=Dr,Dt=Bn,Nt=tn,Ut=pn,At=Pn,Tt=Nn,Be=qr,Ne=Nn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=(ye>>>14|tn<<32-14)^(ye>>>18|tn<<32-18)^(tn>>>41-32|ye<<32-(41-32)),Ne=(tn>>>14|ye<<32-14)^(tn>>>18|ye<<32-18)^(ye>>>41-32|tn<<32-(41-32)),pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,Be=ye&Ir^~ye&jr,Ne=tn&pn^~tn&Pn,pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,Be=rt[Mt*2],Ne=rt[Mt*2+1],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,Be=re[Mt%16],Ne=fe[Mt%16],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,wt=ct&65535|Et<<16,xt=pt&65535|ot<<16,Be=wt,Ne=xt,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=(er>>>28|Er<<32-28)^(Er>>>34-32|er<<32-(34-32))^(Er>>>39-32|er<<32-(39-32)),Ne=(Er>>>28|er<<32-28)^(er>>>34-32|Er<<32-(34-32))^(er>>>39-32|Er<<32-(39-32)),pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,Be=er&wr^er&_r^wr&_r,Ne=Er&zr^Er&Dr^zr&Dr,pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Ct=ct&65535|Et<<16,Tt=pt&65535|ot<<16,Be=ut,Ne=Dt,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=wt,Ne=xt,pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,ut=ct&65535|Et<<16,Dt=pt&65535|ot<<16,wr=Se,_r=pe,vr=be,ye=ut,Ir=nt,jr=Vt,qr=bt,er=Ct,zr=Bt,Dr=kt,Bn=Lt,tn=Dt,pn=Nt,Pn=Ut,Nn=At,Er=Tt,Mt%16===15)for(vt=0;vt<16;vt++)Be=re[vt],Ne=fe[vt],pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=re[(vt+9)%16],Ne=fe[(vt+9)%16],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,wt=re[(vt+1)%16],xt=fe[(vt+1)%16],Be=(wt>>>1|xt<<32-1)^(wt>>>8|xt<<32-8)^wt>>>7,Ne=(xt>>>1|wt<<32-1)^(xt>>>8|wt<<32-8)^(xt>>>7|wt<<32-7),pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,wt=re[(vt+14)%16],xt=fe[(vt+14)%16],Be=(wt>>>19|xt<<32-19)^(xt>>>61-32|wt<<32-(61-32))^wt>>>6,Ne=(xt>>>19|wt<<32-19)^(wt>>>61-32|xt<<32-(61-32))^(xt>>>6|wt<<32-6),pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,re[vt]=ct&65535|Et<<16,fe[vt]=pt&65535|ot<<16;Be=er,Ne=Er,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[0],Ne=ee[0],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[0]=er=ct&65535|Et<<16,ee[0]=Er=pt&65535|ot<<16,Be=wr,Ne=zr,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[1],Ne=ee[1],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[1]=wr=ct&65535|Et<<16,ee[1]=zr=pt&65535|ot<<16,Be=_r,Ne=Dr,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[2],Ne=ee[2],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[2]=_r=ct&65535|Et<<16,ee[2]=Dr=pt&65535|ot<<16,Be=vr,Ne=Bn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[3],Ne=ee[3],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[3]=vr=ct&65535|Et<<16,ee[3]=Bn=pt&65535|ot<<16,Be=ye,Ne=tn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[4],Ne=ee[4],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[4]=ye=ct&65535|Et<<16,ee[4]=tn=pt&65535|ot<<16,Be=Ir,Ne=pn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[5],Ne=ee[5],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[5]=Ir=ct&65535|Et<<16,ee[5]=pn=pt&65535|ot<<16,Be=jr,Ne=Pn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[6],Ne=ee[6],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[6]=jr=ct&65535|Et<<16,ee[6]=Pn=pt&65535|ot<<16,Be=qr,Ne=Nn,pt=Ne&65535,ot=Ne>>>16,ct=Be&65535,Et=Be>>>16,Be=Q[7],Ne=ee[7],pt+=Ne&65535,ot+=Ne>>>16,ct+=Be&65535,Et+=Be>>>16,ot+=pt>>>16,ct+=ot>>>16,Et+=ct>>>16,Q[7]=qr=ct&65535|Et<<16,ee[7]=Nn=pt&65535|ot<<16,di+=128,q-=128}return q}function he(Q,ee,te){var q=new Int32Array(8),re=new Int32Array(8),fe=new Uint8Array(256),Se,pe=te;for(q[0]=1779033703,q[1]=3144134277,q[2]=1013904242,q[3]=2773480762,q[4]=1359893119,q[5]=2600822924,q[6]=528734635,q[7]=1541459225,re[0]=4089235720,re[1]=2227873595,re[2]=4271175723,re[3]=1595750129,re[4]=2917565137,re[5]=725511199,re[6]=4215389547,re[7]=327033209,Ae(q,re,ee,te),te%=128,Se=0;Se<te;Se++)fe[Se]=ee[pe-te+Se];for(fe[te]=128,te=256-128*(te<112?1:0),fe[te-9]=0,R(fe,te-8,pe/536870912|0,pe<<3),Ae(q,re,fe,te),Se=0;Se<8;Se++)R(Q,8*Se,q[Se],re[Se]);return 0}function Rt(Q,ee){var te=r(),q=r(),re=r(),fe=r(),Se=r(),pe=r(),be=r(),ut=r(),nt=r();j(te,Q[1],Q[0]),j(nt,ee[1],ee[0]),k(te,te,nt),P(q,Q[0],Q[1]),P(nt,ee[0],ee[1]),k(q,q,nt),k(re,Q[3],ee[3]),k(re,re,v),k(fe,Q[2],ee[2]),P(fe,fe,fe),j(Se,q,te),j(pe,fe,re),P(be,fe,re),P(ut,q,te),k(Q[0],Se,pe),k(Q[1],ut,be),k(Q[2],be,pe),k(Q[3],Se,ut)}function Ie(Q,ee,te){var q;for(q=0;q<4;q++)_(Q[q],ee[q],te)}function ke(Q,ee){var te=r(),q=r(),re=r();B(re,ee[2]),k(te,ee[0],re),k(q,ee[1],re),g(Q,q),Q[31]^=m(te)<<7}function $t(Q,ee,te){var q,re;for(y(Q[0],o),y(Q[1],c),y(Q[2],c),y(Q[3],o),re=255;re>=0;--re)q=te[re/8|0]>>(re&7)&1,Ie(Q,ee,q),Rt(ee,Q),Rt(Q,Q),Ie(Q,ee,q)}function ae(Q,ee){var te=[r(),r(),r(),r()];y(te[0],b),y(te[1],A),y(te[2],c),k(te[3],b,A),$t(Q,te,ee)}function ue(Q,ee,te){var q=new Uint8Array(64),re=[r(),r(),r(),r()],fe;for(te||n(ee,32),he(q,ee,32),q[0]&=248,q[31]&=127,q[31]|=64,ae(re,q),ke(Q,re),fe=0;fe<32;fe++)ee[fe+32]=Q[fe];return 0}var je=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ge(Q,ee){var te,q,re,fe;for(q=63;q>=32;--q){for(te=0,re=q-32,fe=q-12;re<fe;++re)ee[re]+=te-16*ee[q]*je[re-(q-32)],te=Math.floor((ee[re]+128)/256),ee[re]-=te*256;ee[re]+=te,ee[q]=0}for(te=0,re=0;re<32;re++)ee[re]+=te-(ee[31]>>4)*je[re],te=ee[re]>>8,ee[re]&=255;for(re=0;re<32;re++)ee[re]-=te*je[re];for(q=0;q<32;q++)ee[q+1]+=ee[q]>>8,Q[q]=ee[q]&255}function we(Q){var ee=new Float64Array(64),te;for(te=0;te<64;te++)ee[te]=Q[te];for(te=0;te<64;te++)Q[te]=0;ge(Q,ee)}function jt(Q,ee,te,q){var re=new Uint8Array(64),fe=new Uint8Array(64),Se=new Uint8Array(64),pe,be,ut=new Float64Array(64),nt=[r(),r(),r(),r()];he(re,q,32),re[0]&=248,re[31]&=127,re[31]|=64;var Vt=te+64;for(pe=0;pe<te;pe++)Q[64+pe]=ee[pe];for(pe=0;pe<32;pe++)Q[32+pe]=re[32+pe];for(he(Se,Q.subarray(32),te+32),we(Se),ae(nt,Se),ke(Q,nt),pe=32;pe<64;pe++)Q[pe]=q[pe];for(he(fe,Q,te+64),we(fe),pe=0;pe<64;pe++)ut[pe]=0;for(pe=0;pe<32;pe++)ut[pe]=Se[pe];for(pe=0;pe<32;pe++)for(be=0;be<32;be++)ut[pe+be]+=fe[pe]*re[be];return ge(Q.subarray(32),ut),Vt}function Ee(Q,ee){var te=r(),q=r(),re=r(),fe=r(),Se=r(),pe=r(),be=r();return y(Q[2],c),I(Q[1],ee),z(re,Q[1]),k(fe,re,d),j(re,re,Q[2]),P(fe,Q[2],fe),z(Se,fe),z(pe,Se),k(be,pe,Se),k(te,be,re),k(te,te,fe),U(te,te),k(te,te,re),k(te,te,fe),k(te,te,fe),k(Q[0],te,fe),z(q,Q[0]),k(q,q,fe),f(q,re)&&k(Q[0],Q[0],x),z(q,Q[0]),k(q,q,fe),f(q,re)?-1:(m(Q[0])===ee[31]>>7&&j(Q[0],o,Q[0]),k(Q[3],Q[0],Q[1]),0)}function Me(Q,ee,te,q){var re,fe=new Uint8Array(32),Se=new Uint8Array(64),pe=[r(),r(),r(),r()],be=[r(),r(),r(),r()];if(te<64||Ee(be,q))return-1;for(re=0;re<te;re++)Q[re]=ee[re];for(re=0;re<32;re++)Q[re+32]=q[re];if(he(Se,Q,te),we(Se),$t(pe,be,Se),ae(be,ee.subarray(32)),Rt(pe,be),ke(fe,pe),te-=64,$(ee,0,fe,0)){for(re=0;re<te;re++)Q[re]=0;return-1}for(re=0;re<te;re++)Q[re]=ee[re+64];return te}var dt=32,xe=24,$e=32,Gt=16,Le=32,Ke=32,sr=32,Ue=32,Ze=32,hr=xe,ze=$e,et=Gt,rr=64,De=32,Ge=64,cr=32,qe=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:se,crypto_stream:Z,crypto_stream_salsa20_xor:V,crypto_stream_salsa20:J,crypto_onetimeauth:a,crypto_onetimeauth_verify:u,crypto_verify_16:T,crypto_verify_32:$,crypto_secretbox:h,crypto_secretbox_open:p,crypto_scalarmult:K,crypto_scalarmult_base:Y,crypto_box_beforenm:G,crypto_box_afternm:ne,crypto_box:de,crypto_box_open:me,crypto_box_keypair:X,crypto_hash:he,crypto_sign:jt,crypto_sign_keypair:ue,crypto_sign_open:Me,crypto_secretbox_KEYBYTES:dt,crypto_secretbox_NONCEBYTES:xe,crypto_secretbox_ZEROBYTES:$e,crypto_secretbox_BOXZEROBYTES:Gt,crypto_scalarmult_BYTES:Le,crypto_scalarmult_SCALARBYTES:Ke,crypto_box_PUBLICKEYBYTES:sr,crypto_box_SECRETKEYBYTES:Ue,crypto_box_BEFORENMBYTES:Ze,crypto_box_NONCEBYTES:hr,crypto_box_ZEROBYTES:ze,crypto_box_BOXZEROBYTES:et,crypto_sign_BYTES:rr,crypto_sign_PUBLICKEYBYTES:De,crypto_sign_SECRETKEYBYTES:Ge,crypto_sign_SEEDBYTES:cr,crypto_hash_BYTES:qe,gf:r,D:d,L:je,pack25519:g,unpack25519:I,M:k,A:P,S:z,Z:j,pow2523:U,add:Rt,set25519:y,modL:ge,scalarmult:$t,scalarbase:ae};function Xe(Q,ee){if(Q.length!==dt)throw new Error("bad key size");if(ee.length!==xe)throw new Error("bad nonce size")}function gr(Q,ee){if(Q.length!==sr)throw new Error("bad public key size");if(ee.length!==Ue)throw new Error("bad secret key size")}function Pe(){for(var Q=0;Q<arguments.length;Q++)if(!(arguments[Q]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ye(Q){for(var ee=0;ee<Q.length;ee++)Q[ee]=0}e.randomBytes=function(Q){var ee=new Uint8Array(Q);return n(ee,Q),ee},e.secretbox=function(Q,ee,te){Pe(Q,ee,te),Xe(te,ee);for(var q=new Uint8Array($e+Q.length),re=new Uint8Array(q.length),fe=0;fe<Q.length;fe++)q[fe+$e]=Q[fe];return h(re,q,q.length,ee,te),re.subarray(Gt)},e.secretbox.open=function(Q,ee,te){Pe(Q,ee,te),Xe(te,ee);for(var q=new Uint8Array(Gt+Q.length),re=new Uint8Array(q.length),fe=0;fe<Q.length;fe++)q[fe+Gt]=Q[fe];return q.length<32||p(re,q,q.length,ee,te)!==0?null:re.subarray($e)},e.secretbox.keyLength=dt,e.secretbox.nonceLength=xe,e.secretbox.overheadLength=Gt,e.scalarMult=function(Q,ee){if(Pe(Q,ee),Q.length!==Ke)throw new Error("bad n size");if(ee.length!==Le)throw new Error("bad p size");var te=new Uint8Array(Le);return K(te,Q,ee),te},e.scalarMult.base=function(Q){if(Pe(Q),Q.length!==Ke)throw new Error("bad n size");var ee=new Uint8Array(Le);return Y(ee,Q),ee},e.scalarMult.scalarLength=Ke,e.scalarMult.groupElementLength=Le,e.box=function(Q,ee,te,q){var re=e.box.before(te,q);return e.secretbox(Q,ee,re)},e.box.before=function(Q,ee){Pe(Q,ee),gr(Q,ee);var te=new Uint8Array(Ze);return G(te,Q,ee),te},e.box.after=e.secretbox,e.box.open=function(Q,ee,te,q){var re=e.box.before(te,q);return e.secretbox.open(Q,ee,re)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var Q=new Uint8Array(sr),ee=new Uint8Array(Ue);return X(Q,ee),{publicKey:Q,secretKey:ee}},e.box.keyPair.fromSecretKey=function(Q){if(Pe(Q),Q.length!==Ue)throw new Error("bad secret key size");var ee=new Uint8Array(sr);return Y(ee,Q),{publicKey:ee,secretKey:new Uint8Array(Q)}},e.box.publicKeyLength=sr,e.box.secretKeyLength=Ue,e.box.sharedKeyLength=Ze,e.box.nonceLength=hr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(Q,ee){if(Pe(Q,ee),ee.length!==Ge)throw new Error("bad secret key size");var te=new Uint8Array(rr+Q.length);return jt(te,Q,Q.length,ee),te},e.sign.open=function(Q,ee){if(Pe(Q,ee),ee.length!==De)throw new Error("bad public key size");var te=new Uint8Array(Q.length),q=Me(te,Q,Q.length,ee);if(q<0)return null;for(var re=new Uint8Array(q),fe=0;fe<re.length;fe++)re[fe]=te[fe];return re},e.sign.detached=function(Q,ee){for(var te=e.sign(Q,ee),q=new Uint8Array(rr),re=0;re<q.length;re++)q[re]=te[re];return q},e.sign.detached.verify=function(Q,ee,te){if(Pe(Q,ee,te),ee.length!==rr)throw new Error("bad signature size");if(te.length!==De)throw new Error("bad public key size");var q=new Uint8Array(rr+Q.length),re=new Uint8Array(rr+Q.length),fe;for(fe=0;fe<rr;fe++)q[fe]=ee[fe];for(fe=0;fe<Q.length;fe++)q[fe+rr]=Q[fe];return Me(re,q,q.length,te)>=0},e.sign.keyPair=function(){var Q=new Uint8Array(De),ee=new Uint8Array(Ge);return ue(Q,ee),{publicKey:Q,secretKey:ee}},e.sign.keyPair.fromSecretKey=function(Q){if(Pe(Q),Q.length!==Ge)throw new Error("bad secret key size");for(var ee=new Uint8Array(De),te=0;te<ee.length;te++)ee[te]=Q[32+te];return{publicKey:ee,secretKey:new Uint8Array(Q)}},e.sign.keyPair.fromSeed=function(Q){if(Pe(Q),Q.length!==cr)throw new Error("bad seed size");for(var ee=new Uint8Array(De),te=new Uint8Array(Ge),q=0;q<32;q++)te[q]=Q[q];return ue(ee,te,!0),{publicKey:ee,secretKey:te}},e.sign.publicKeyLength=De,e.sign.secretKeyLength=Ge,e.sign.seedLength=cr,e.sign.signatureLength=rr,e.hash=function(Q){Pe(Q);var ee=new Uint8Array(qe);return he(ee,Q,Q.length),ee},e.hash.hashLength=qe,e.verify=function(Q,ee){return Pe(Q,ee),Q.length===0||ee.length===0||Q.length!==ee.length?!1:C(Q,0,ee,0,Q.length)===0},e.setPRNG=function(Q){n=Q},function(){var Q=typeof self<"u"?self.crypto||self.msCrypto:null;if(Q&&Q.getRandomValues){var ee=65536;e.setPRNG(function(te,q){var re,fe=new Uint8Array(q);for(re=0;re<q;re+=ee)Q.getRandomValues(fe.subarray(re,re+Math.min(q-re,ee)));for(re=0;re<q;re++)te[re]=fe[re];Ye(fe)})}else typeof L5<"u"&&(Q=YR(),Q&&Q.randomBytes&&e.setPRNG(function(te,q){var re,fe=Q.randomBytes(q);for(re=0;re<q;re++)te[re]=fe[re];Ye(fe)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(fne);var une=fne.exports;const c_=Mr(une);var lne=class I0 extends m1{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==I0.LENGTH)throw new Error(`PublicKey length should be ${I0.LENGTH}`);this.key=r}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(e){let{message:r,signature:n}=e,s=yi.fromHexInput(r).toUint8Array(),i=n.toUint8Array();return c_.sign.detached.verify(s,i,this.key.toUint8Array())}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new I0(r)}static load(e){let r=e.deserializeBytes();return new I0(r)}static isPublicKey(e){return e instanceof I0}};lne.LENGTH=32;var us=lne,aI=class ha extends ine{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==ha.LENGTH)throw new Error(`PrivateKey length should be ${ha.LENGTH}`);this.signingKeyPair=c_.sign.keyPair.fromSeed(r.toUint8Array().slice(0,ha.LENGTH))}toUint8Array(){return this.signingKeyPair.secretKey.slice(0,ha.LENGTH)}toString(){return yi.fromHexInput(this.toUint8Array()).toString()}sign(e){let r=yi.fromHexInput(e),n=c_.sign.detached(r.toUint8Array(),this.signingKeyPair.secretKey);return new mo(n)}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new ha(r)}static generate(){let e=c_.sign.keyPair();return new ha(e.secretKey.slice(0,ha.LENGTH))}publicKey(){let e=this.signingKeyPair.publicKey;return new us(e)}static fromDerivationPath(e,r){if(!Vat(e))throw new Error(`Invalid derivation path ${e}`);return ha.fromDerivationPathInner(e,cne(r))}static fromDerivationPathInner(e,r,n=zat){let{key:s,chainCode:i}=ane(ha.SLIP_0010_SEED,r),o=Wat(e).map(l=>parseInt(l,10)),{key:c}=o.reduce((l,d)=>Kat(l,d+n),{key:s,chainCode:i});return new ha(c)}static isPrivateKey(e){return e instanceof ha}};aI.LENGTH=32,aI.SLIP_0010_SEED="ed25519 seed";var f_=aI,hne=class R0 extends IA{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==R0.LENGTH)throw new Error(`Signature length should be ${R0.LENGTH}`);this.data=r}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new R0(r)}static load(e){let r=e.deserializeBytes();return new R0(r)}static isSignature(e){return e instanceof R0}};hne.LENGTH=64;var mo=hne,u_=class wl extends m1{constructor(e){super();let{publicKeys:r,threshold:n}=e;if(r.length>wl.MAX_KEYS||r.length<wl.MIN_KEYS)throw new Error(`Must have between ${wl.MIN_KEYS} and ${wl.MAX_KEYS} public keys, inclusive`);if(n<wl.MIN_THRESHOLD||n>r.length)throw new Error(`Threshold must be between ${wl.MIN_THRESHOLD} and ${r.length}, inclusive`);this.publicKeys=r,this.threshold=n}toUint8Array(){let e=new Uint8Array(this.publicKeys.length*us.LENGTH+1);return this.publicKeys.forEach((r,n)=>{e.set(r.toUint8Array(),n*us.LENGTH)}),e[this.publicKeys.length*us.LENGTH]=this.threshold,e}toString(){return yi.fromHexInput(this.toUint8Array()).toString()}verifySignature(e){throw new Error("TODO - Method not implemented.")}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let r=e.deserializeBytes(),n=r[r.length-1],s=[];for(let i=0;i<r.length-1;i+=us.LENGTH){let o=i;s.push(new us(r.subarray(o,o+us.LENGTH)))}return new wl({publicKeys:s,threshold:n})}};u_.MAX_KEYS=32,u_.MIN_KEYS=2,u_.MIN_THRESHOLD=1;var RA=u_,cI=class cu extends IA{constructor(e){super();let{signatures:r,bitmap:n}=e;if(n.length!==cu.BITMAP_LEN)throw new Error(`"bitmap" length should be ${cu.BITMAP_LEN}`);if(r.length>cu.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${cu.MAX_SIGNATURES_SUPPORTED}`);this.signatures=r,this.bitmap=n}toUint8Array(){let e=new Uint8Array(this.signatures.length*mo.LENGTH+cu.BITMAP_LEN);return this.signatures.forEach((r,n)=>{e.set(r.toUint8Array(),n*mo.LENGTH)}),e.set(this.bitmap,this.signatures.length*mo.LENGTH),e}toString(){return yi.fromHexInput(this.toUint8Array()).toString()}static createBitmap(e){let{bits:r}=e,n=128,s=new Uint8Array([0,0,0,0]),i=new Set;return r.forEach(o=>{if(o>=cu.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${cu.MAX_SIGNATURES_SUPPORTED-1}.`);if(i.has(o))throw new Error("Duplicate bits detected.");i.add(o);let c=Math.floor(o/8),l=s[c];l|=n>>o%8,s[c]=l}),s}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let r=e.deserializeBytes(),n=r.subarray(r.length-4),s=[];for(let i=0;i<r.length-n.length;i+=mo.LENGTH){let o=i;s.push(new mo(r.subarray(o,o+mo.LENGTH)))}return new cu({signatures:s,bitmap:n})}};cI.MAX_SIGNATURES_SUPPORTED=32,cI.BITMAP_LEN=4;var dne=cI;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pne=BigInt(0),TA=BigInt(1),Jat=BigInt(2);function Tf(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const Qat=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ad(t){if(!Tf(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Qat[t[r]];return e}function gne(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function QC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const ou={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lq(t){if(t>=ou._0&&t<=ou._9)return t-ou._0;if(t>=ou._A&&t<=ou._F)return t-(ou._A-10);if(t>=ou._a&&t<=ou._f)return t-(ou._a-10)}function Zp(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=lq(t.charCodeAt(i)),c=lq(t.charCodeAt(i+1));if(o===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}n[s]=o*16+c}return n}function cd(t){return QC(Ad(t))}function rp(t){if(!Tf(t))throw new Error("Uint8Array expected");return QC(Ad(Uint8Array.from(t).reverse()))}function Xp(t,e){return Zp(t.toString(16).padStart(e*2,"0"))}function pm(t,e){return Xp(t,e).reverse()}function Zat(t){return Zp(gne(t))}function Oi(t,e,r){let n;if(typeof e=="string")try{n=Zp(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Tf(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function xd(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];if(!Tf(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e),n=0;for(let s=0;s<t.length;s++){const i=t[s];r.set(i,n),n+=i.length}return r}function Xat(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Yat(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ect(t){let e;for(e=0;t>pne;t>>=TA,e+=1);return e}function tct(t,e){return t>>BigInt(e)&TA}const rct=(t,e,r)=>t|(r?TA:pne)<<BigInt(e),ZC=t=>(Jat<<BigInt(t-1))-TA,J4=t=>new Uint8Array(t),hq=t=>Uint8Array.from(t);function vne(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=J4(t),s=J4(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},c=(...b)=>r(s,n,...b),l=(b=J4())=>{s=c(hq([0]),b),n=c(),b.length!==0&&(s=c(hq([1]),b),n=c())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const A=[];for(;b<e;){n=c();const x=n.slice();A.push(x),b+=n.length}return xd(...A)};return(b,A)=>{o(),l(b);let x;for(;!(x=A(d()));)l();return o(),x}}const nct={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Tf(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Jg(t,e,r={}){const n=(s,i,o)=>{const c=nct[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const ict=Object.freeze(Object.defineProperty({__proto__:null,bitGet:tct,bitLen:ect,bitMask:ZC,bitSet:rct,bytesToHex:Ad,bytesToNumberBE:cd,bytesToNumberLE:rp,concatBytes:xd,createHmacDrbg:vne,ensureBytes:Oi,equalBytes:Xat,hexToBytes:Zp,hexToNumber:QC,isBytes:Tf,numberToBytesBE:Xp,numberToBytesLE:pm,numberToHexUnpadded:gne,numberToVarBytesBE:Zat,utf8ToBytes:Yat,validateObject:Jg},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ji=BigInt(0),Yn=BigInt(1),qh=BigInt(2),sct=BigInt(3),fI=BigInt(4),dq=BigInt(5),pq=BigInt(8);BigInt(9);BigInt(16);function qn(t,e){const r=t%e;return r>=Ji?r:e+r}function oct(t,e,r){if(r<=Ji||e<Ji)throw new Error("Expected power/modulo > 0");if(r===Yn)return Ji;let n=Yn;for(;e>Ji;)e&Yn&&(n=n*t%r),t=t*t%r,e>>=Yn;return n}function oi(t,e,r){let n=t;for(;e-- >Ji;)n*=n,n%=r;return n}function uI(t,e){if(t===Ji||e<=Ji)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=qn(t,e),n=e,s=Ji,i=Yn;for(;r!==Ji;){const c=n/r,l=n%r,d=s-i*c;n=r,r=l,s=i,i=d}if(n!==Yn)throw new Error("invert: does not exist");return qn(s,e)}function act(t){const e=(t-Yn)/qh;let r,n,s;for(r=t-Yn,n=0;r%qh===Ji;r/=qh,n++);for(s=qh;s<t&&oct(s,e,t)!==t-Yn;s++);if(n===1){const o=(t+Yn)/fI;return function(l,d){const v=l.pow(d,o);if(!l.eql(l.sqr(v),d))throw new Error("Cannot find square root");return v}}const i=(r+Yn)/qh;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=n,v=c.pow(c.mul(c.ONE,s),r),b=c.pow(l,i),A=c.pow(l,r);for(;!c.eql(A,c.ONE);){if(c.eql(A,c.ZERO))return c.ZERO;let x=1;for(let C=c.sqr(A);x<d&&!c.eql(C,c.ONE);x++)C=c.sqr(C);const R=c.pow(v,Yn<<BigInt(d-x-1));v=c.sqr(R),b=c.mul(b,R),A=c.mul(A,v),d=x}return b}}function cct(t){if(t%fI===sct){const e=(t+Yn)/fI;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%pq===dq){const e=(t-dq)/pq;return function(n,s){const i=n.mul(s,qh),o=n.pow(i,e),c=n.mul(s,o),l=n.mul(n.mul(c,qh),o),d=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(d),s))throw new Error("Cannot find square root");return d}}return act(t)}const fct=(t,e)=>(qn(t,e)&Yn)===Yn,uct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lct(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=uct.reduce((n,s)=>(n[s]="function",n),e);return Jg(t,r)}function hct(t,e,r){if(r<Ji)throw new Error("Expected power > 0");if(r===Ji)return t.ONE;if(r===Yn)return e;let n=t.ONE,s=e;for(;r>Ji;)r&Yn&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Yn;return n}function dct(t,e){const r=new Array(e.length),n=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),s),r}function yne(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function mne(t,e,r=!1,n={}){if(t<=Ji)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=yne(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=cct(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:ZC(s),ZERO:Ji,ONE:Yn,create:l=>qn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ji<=l&&l<t},is0:l=>l===Ji,isOdd:l=>(l&Yn)===Yn,neg:l=>qn(-l,t),eql:(l,d)=>l===d,sqr:l=>qn(l*l,t),add:(l,d)=>qn(l+d,t),sub:(l,d)=>qn(l-d,t),mul:(l,d)=>qn(l*d,t),pow:(l,d)=>hct(c,l,d),div:(l,d)=>qn(l*uI(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>uI(l,t),sqrt:n.sqrt||(l=>o(c,l)),invertBatch:l=>dct(c,l),cmov:(l,d,v)=>v?d:l,toBytes:l=>r?pm(l,i):Xp(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return r?rp(l):cd(l)}});return Object.freeze(c)}function pct(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function bne(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function wne(t){const e=bne(t);return e+Math.ceil(e/2)}function gct(t,e,r=!1){const n=t.length,s=bne(e),i=wne(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?cd(t):rp(t),c=qn(o,e-Yn)+Yn;return r?pm(c,s):Xp(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vct=BigInt(0),Q4=BigInt(1);function _ne(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,c=s;for(;i>vct;)i&Q4&&(o=o.add(c)),c=c.double(),i>>=Q4;return o},precomputeWindow(s,i){const{windows:o,windowSize:c}=n(i),l=[];let d=s,v=d;for(let b=0;b<o;b++){v=d,l.push(v);for(let A=1;A<c;A++)v=v.add(d),l.push(v);d=v.double()}return l},wNAF(s,i,o){const{windows:c,windowSize:l}=n(s);let d=t.ZERO,v=t.BASE;const b=BigInt(2**s-1),A=2**s,x=BigInt(s);for(let R=0;R<c;R++){const C=R*l;let T=Number(o&b);o>>=x,T>l&&(T-=A,o+=Q4);const $=C,O=C+Math.abs(T)-1,D=R%2!==0,L=T<0;T===0?v=v.add(r(D,i[$])):d=d.add(r(L,i[O]))}return{p:d,f:v}},wNAFCached(s,i,o,c){const l=s._WINDOW_SIZE||1;let d=i.get(s);return d||(d=this.precomputeWindow(s,l),l!==1&&i.set(s,c(d))),this.wNAF(l,d,o)}}}function XC(t){return lct(t.Fp),Jg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yne(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yct(t){const e=XC(t);Jg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:mct,hexToBytes:bct}=ict,Xh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Xh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:mct(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Xh,r=typeof t=="string"?bct(t):t;if(!Tf(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Xh._parseInt(r.subarray(2)),{d:o,l:c}=Xh._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,r=d=>{const v=d.toString(16);return v.length&1?`0${v}`:v},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,c=r(i),l=r(o);return`30${r(o+i+4)}02${l}${s}02${c}${n}`}},vu=BigInt(0),ga=BigInt(1);BigInt(2);const gq=BigInt(3);BigInt(4);function wct(t){const e=yct(t),{Fp:r}=e,n=e.toBytes||((R,C,T)=>{const $=C.toAffine();return xd(Uint8Array.from([4]),r.toBytes($.x),r.toBytes($.y))}),s=e.fromBytes||(R=>{const C=R.subarray(1),T=r.fromBytes(C.subarray(0,r.BYTES)),$=r.fromBytes(C.subarray(r.BYTES,2*r.BYTES));return{x:T,y:$}});function i(R){const{a:C,b:T}=e,$=r.sqr(R),O=r.mul($,R);return r.add(r.add(O,r.mul(R,C)),T)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(R){return typeof R=="bigint"&&vu<R&&R<e.n}function c(R){if(!o(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(R){const{allowedPrivateKeyLengths:C,nByteLength:T,wrapPrivateKey:$,n:O}=e;if(C&&typeof R!="bigint"){if(Tf(R)&&(R=Ad(R)),typeof R!="string"||!C.includes(R.length))throw new Error("Invalid key");R=R.padStart(T*2,"0")}let D;try{D=typeof R=="bigint"?R:cd(Oi("private key",R,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof R}`)}return $&&(D=qn(D,O)),c(D),D}const d=new Map;function v(R){if(!(R instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(C,T,$){if(this.px=C,this.py=T,this.pz=$,C==null||!r.isValid(C))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if($==null||!r.isValid($))throw new Error("z required")}static fromAffine(C){const{x:T,y:$}=C||{};if(!C||!r.isValid(T)||!r.isValid($))throw new Error("invalid affine point");if(C instanceof b)throw new Error("projective point not allowed");const O=D=>r.eql(D,r.ZERO);return O(T)&&O($)?b.ZERO:new b(T,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const T=r.invertBatch(C.map($=>$.pz));return C.map(($,O)=>$.toAffine(T[O])).map(b.fromAffine)}static fromHex(C){const T=b.fromAffine(s(Oi("pointHex",C)));return T.assertValidity(),T}static fromPrivateKey(C){return b.BASE.multiply(l(C))}_setWindowSize(C){this._WINDOW_SIZE=C,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:T}=this.toAffine();if(!r.isValid(C)||!r.isValid(T))throw new Error("bad point: x or y not FE");const $=r.sqr(T),O=i(C);if(!r.eql($,O))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(r.isOdd)return!r.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){v(C);const{px:T,py:$,pz:O}=this,{px:D,py:L,pz:F}=C,H=r.eql(r.mul(T,F),r.mul(D,O)),V=r.eql(r.mul($,F),r.mul(L,O));return H&&V}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:T}=e,$=r.mul(T,gq),{px:O,py:D,pz:L}=this;let F=r.ZERO,H=r.ZERO,V=r.ZERO,J=r.mul(O,O),Z=r.mul(D,D),se=r.mul(L,L),S=r.mul(O,D);return S=r.add(S,S),V=r.mul(O,L),V=r.add(V,V),F=r.mul(C,V),H=r.mul($,se),H=r.add(F,H),F=r.sub(Z,H),H=r.add(Z,H),H=r.mul(F,H),F=r.mul(S,F),V=r.mul($,V),se=r.mul(C,se),S=r.sub(J,se),S=r.mul(C,S),S=r.add(S,V),V=r.add(J,J),J=r.add(V,J),J=r.add(J,se),J=r.mul(J,S),H=r.add(H,J),se=r.mul(D,L),se=r.add(se,se),J=r.mul(se,S),F=r.sub(F,J),V=r.mul(se,Z),V=r.add(V,V),V=r.add(V,V),new b(F,H,V)}add(C){v(C);const{px:T,py:$,pz:O}=this,{px:D,py:L,pz:F}=C;let H=r.ZERO,V=r.ZERO,J=r.ZERO;const Z=e.a,se=r.mul(e.b,gq);let S=r.mul(T,D),a=r.mul($,L),u=r.mul(O,F),h=r.add(T,$),p=r.add(D,L);h=r.mul(h,p),p=r.add(S,a),h=r.sub(h,p),p=r.add(T,O);let y=r.add(D,F);return p=r.mul(p,y),y=r.add(S,u),p=r.sub(p,y),y=r.add($,O),H=r.add(L,F),y=r.mul(y,H),H=r.add(a,u),y=r.sub(y,H),J=r.mul(Z,p),H=r.mul(se,u),J=r.add(H,J),H=r.sub(a,J),J=r.add(a,J),V=r.mul(H,J),a=r.add(S,S),a=r.add(a,S),u=r.mul(Z,u),p=r.mul(se,p),a=r.add(a,u),u=r.sub(S,u),u=r.mul(Z,u),p=r.add(p,u),S=r.mul(a,p),V=r.add(V,S),S=r.mul(y,p),H=r.mul(h,H),H=r.sub(H,S),S=r.mul(h,a),J=r.mul(y,J),J=r.add(J,S),new b(H,V,J)}subtract(C){return this.add(C.negate())}is0(){return this.equals(b.ZERO)}wNAF(C){return x.wNAFCached(this,d,C,T=>{const $=r.invertBatch(T.map(O=>O.pz));return T.map((O,D)=>O.toAffine($[D])).map(b.fromAffine)})}multiplyUnsafe(C){const T=b.ZERO;if(C===vu)return T;if(c(C),C===ga)return this;const{endo:$}=e;if(!$)return x.unsafeLadder(this,C);let{k1neg:O,k1:D,k2neg:L,k2:F}=$.splitScalar(C),H=T,V=T,J=this;for(;D>vu||F>vu;)D&ga&&(H=H.add(J)),F&ga&&(V=V.add(J)),J=J.double(),D>>=ga,F>>=ga;return O&&(H=H.negate()),L&&(V=V.negate()),V=new b(r.mul(V.px,$.beta),V.py,V.pz),H.add(V)}multiply(C){c(C);let T=C,$,O;const{endo:D}=e;if(D){const{k1neg:L,k1:F,k2neg:H,k2:V}=D.splitScalar(T);let{p:J,f:Z}=this.wNAF(F),{p:se,f:S}=this.wNAF(V);J=x.constTimeNegate(L,J),se=x.constTimeNegate(H,se),se=new b(r.mul(se.px,D.beta),se.py,se.pz),$=J.add(se),O=Z.add(S)}else{const{p:L,f:F}=this.wNAF(T);$=L,O=F}return b.normalizeZ([$,O])[0]}multiplyAndAddUnsafe(C,T,$){const O=b.BASE,D=(F,H)=>H===vu||H===ga||!F.equals(O)?F.multiplyUnsafe(H):F.multiply(H),L=D(this,T).add(D(C,$));return L.is0()?void 0:L}toAffine(C){const{px:T,py:$,pz:O}=this,D=this.is0();C==null&&(C=D?r.ONE:r.inv(O));const L=r.mul(T,C),F=r.mul($,C),H=r.mul(O,C);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:L,y:F}}isTorsionFree(){const{h:C,isTorsionFree:T}=e;if(C===ga)return!0;if(T)return T(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:T}=e;return C===ga?this:T?T(b,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return this.assertValidity(),n(b,this,C)}toHex(C=!0){return Ad(this.toRawBytes(C))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const A=e.nBitLength,x=_ne(b,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function _ct(t){const e=XC(t);return Jg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ect(t){const e=_ct(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(p){return vu<p&&p<r.ORDER}function c(p){return qn(p,n)}function l(p){return uI(p,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:v,weierstrassEquation:b,isWithinCurveOrder:A}=wct({...e,toBytes(p,y,w){const _=y.toAffine(),g=r.toBytes(_.x),f=xd;return w?f(Uint8Array.from([y.hasEvenY()?2:3]),g):f(Uint8Array.from([4]),g,r.toBytes(_.y))},fromBytes(p){const y=p.length,w=p[0],_=p.subarray(1);if(y===s&&(w===2||w===3)){const g=cd(_);if(!o(g))throw new Error("Point is not on curve");const f=b(g);let m=r.sqrt(f);const I=(m&ga)===ga;return(w&1)===1!==I&&(m=r.neg(m)),{x:g,y:m}}else if(y===i&&w===4){const g=r.fromBytes(_.subarray(0,r.BYTES)),f=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:g,y:f}}else throw new Error(`Point of length ${y} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=p=>Ad(Xp(p,e.nByteLength));function R(p){const y=n>>ga;return p>y}function C(p){return R(p)?c(-p):p}const T=(p,y,w)=>cd(p.slice(y,w));class ${constructor(y,w,_){this.r=y,this.s=w,this.recovery=_,this.assertValidity()}static fromCompact(y){const w=e.nByteLength;return y=Oi("compactSignature",y,w*2),new $(T(y,0,w),T(y,w,2*w))}static fromDER(y){const{r:w,s:_}=Xh.toSig(Oi("DER",y));return new $(w,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new $(this.r,this.s,y)}recoverPublicKey(y){const{r:w,s:_,recovery:g}=this,f=V(Oi("msgHash",y));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");const m=g===2||g===3?w+e.n:w;if(m>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=g&1?"03":"02",P=d.fromHex(I+x(m)),j=l(m),k=c(-f*j),z=c(_*j),B=d.BASE.multiplyAndAddUnsafe(P,k,z);if(!B)throw new Error("point at infinify");return B.assertValidity(),B}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Zp(this.toDERHex())}toDERHex(){return Xh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Zp(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const O={isValidPrivateKey(p){try{return v(p),!0}catch{return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{const p=wne(e.n);return gct(e.randomBytes(p),e.n)},precompute(p=8,y=d.BASE){return y._setWindowSize(p),y.multiply(BigInt(3)),y}};function D(p,y=!0){return d.fromPrivateKey(p).toRawBytes(y)}function L(p){const y=Tf(p),w=typeof p=="string",_=(y||w)&&p.length;return y?_===s||_===i:w?_===2*s||_===2*i:p instanceof d}function F(p,y,w=!0){if(L(p))throw new Error("first arg must be private key");if(!L(y))throw new Error("second arg must be public key");return d.fromHex(y).multiply(v(p)).toRawBytes(w)}const H=e.bits2int||function(p){const y=cd(p),w=p.length*8-e.nBitLength;return w>0?y>>BigInt(w):y},V=e.bits2int_modN||function(p){return c(H(p))},J=ZC(e.nBitLength);function Z(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(vu<=p&&p<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Xp(p,e.nByteLength)}function se(p,y,w=S){if(["recovered","canonical"].some(K=>K in w))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:g}=e;let{lowS:f,prehash:m,extraEntropy:I}=w;f==null&&(f=!0),p=Oi("msgHash",p),m&&(p=Oi("prehashed msgHash",_(p)));const P=V(p),j=v(y),k=[Z(j),Z(P)];if(I!=null){const K=I===!0?g(r.BYTES):I;k.push(Oi("extraEntropy",K))}const z=xd(...k),B=P;function U(K){const Y=H(K);if(!A(Y))return;const X=l(Y),G=d.BASE.multiply(Y).toAffine(),ne=c(G.x);if(ne===vu)return;const le=c(X*c(B+ne*j));if(le===vu)return;let de=(G.x===ne?0:2)|Number(G.y&ga),me=le;return f&&R(le)&&(me=C(le),de^=1),new $(ne,me,de)}return{seed:z,k2sig:U}}const S={lowS:e.lowS,prehash:!1},a={lowS:e.lowS,prehash:!1};function u(p,y,w=S){const{seed:_,k2sig:g}=se(p,y,w),f=e;return vne(f.hash.outputLen,f.nByteLength,f.hmac)(_,g)}d.BASE._setWindowSize(8);function h(p,y,w,_=a){var G;const g=p;if(y=Oi("msgHash",y),w=Oi("publicKey",w),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:f,prehash:m}=_;let I,P;try{if(typeof g=="string"||Tf(g))try{I=$.fromDER(g)}catch(ne){if(!(ne instanceof Xh.Err))throw ne;I=$.fromCompact(g)}else if(typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint"){const{r:ne,s:le}=g;I=new $(ne,le)}else throw new Error("PARSE");P=d.fromHex(w)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&I.hasHighS())return!1;m&&(y=e.hash(y));const{r:j,s:k}=I,z=V(y),B=l(k),U=c(z*B),K=c(j*B),Y=(G=d.BASE.multiplyAndAddUnsafe(P,U,K))==null?void 0:G.toAffine();return Y?c(Y.x)===j:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:F,sign:u,verify:h,ProjectivePoint:d,Signature:$,utils:O}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sct(t){return{hash:t,hmac:(e,...r)=>Jp(t,e,j0(...r)),randomBytes:uee}}function Act(t,e){const r=n=>Ect({...t,...Sct(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ene=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vq=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xct=BigInt(1),lI=BigInt(2),yq=(t,e)=>(t+e/lI)/e;function Mct(t){const e=Ene,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),d=t*t*t%e,v=d*d*t%e,b=oi(v,r,e)*v%e,A=oi(b,r,e)*v%e,x=oi(A,lI,e)*d%e,R=oi(x,s,e)*x%e,C=oi(R,i,e)*R%e,T=oi(C,c,e)*C%e,$=oi(T,l,e)*T%e,O=oi($,c,e)*C%e,D=oi(O,r,e)*v%e,L=oi(D,o,e)*R%e,F=oi(L,n,e)*d%e,H=oi(F,lI,e);if(!hI.eql(hI.sqr(H),t))throw new Error("Cannot find square root");return H}const hI=mne(Ene,void 0,void 0,{sqrt:Mct}),Ls=Act({a:BigInt(0),b:BigInt(7),Fp:hI,n:vq,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vq,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-xct*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),c=yq(i*t,e),l=yq(-n*t,e);let d=qn(t-c*r-l*s,e),v=qn(-c*n-l*i,e);const b=d>o,A=v>o;if(b&&(d=e-d),A&&(v=e-v),d>o||v>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:d,k2neg:A,k2:v}}}},dm);BigInt(0);Ls.ProjectivePoint;const Ict=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Sne=Uint8Array.from({length:16},(t,e)=>e),Rct=Sne.map(t=>(9*t+5)%16);let YC=[Sne],eO=[Rct];for(let t=0;t<4;t++)for(let e of[YC,eO])e.push(e[t].map(r=>Ict[r]));const Ane=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Tct=YC.map((t,e)=>t.map(r=>Ane[e][r])),$ct=eO.map((t,e)=>t.map(r=>Ane[e][r])),Cct=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Oct=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),pw=(t,e)=>t<<e|t>>>32-e;function mq(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const gw=new Uint32Array(16);class Bct extends JC{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:s,h4:i}=this;return[e,r,n,s,i]}set(e,r,n,s,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,r){for(let x=0;x<16;x++,r+=4)gw[x]=e.getUint32(r,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,c=this.h2|0,l=c,d=this.h3|0,v=d,b=this.h4|0,A=b;for(let x=0;x<5;x++){const R=4-x,C=Cct[x],T=Oct[x],$=YC[x],O=eO[x],D=Tct[x],L=$ct[x];for(let F=0;F<16;F++){const H=pw(n+mq(x,i,c,d)+gw[$[F]]+C,D[F])+b|0;n=b,b=d,d=pw(c,10)|0,c=i,i=H}for(let F=0;F<16;F++){const H=pw(s+mq(R,o,l,v)+gw[O[F]]+T,L[F])+A|0;s=A,A=v,v=pw(l,10)|0,l=o,o=H}}this.set(this.h1+c+v|0,this.h2+d+A|0,this.h3+b+s|0,this.h4+n+o|0,this.h0+i+l|0)}roundClean(){gw.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Pct=oA(()=>new Bct);/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const vw=Ls.ProjectivePoint,Z4=iC(dm);function bq(t){return BigInt(`0x${w2(t)}`)}function Nct(t){return eC(t.toString(16).padStart(64,"0"))}const kct=tC("Bitcoin seed"),X4={private:76066276,public:76067358},Y4=2147483648,Lct=t=>Pct(dm(t)),Dct=t=>od(t).getUint32(0,!1),yw=t=>{if(!Number.isSafeInteger(t)||t<0||t>2**32-1)throw new Error(`Invalid number=${t}. Should be from 0 to 2 ** 32 - 1`);const e=new Uint8Array(4);return od(e).setUint32(0,t,!1),e};class zh{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return Dct(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return Z4.encode(this.serialize(this.versions.private,j0(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Z4.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,r=X4){if(Pl(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=Jp(Qp,kct,e);return new zh({versions:r,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,r=X4){const n=Z4.decode(e),s=od(n),i=s.getUint32(0,!1),o={versions:r,depth:n[4],parentFingerprint:s.getUint32(5,!1),index:s.getUint32(9,!1),chainCode:n.slice(13,45)},c=n.slice(45),l=c[0]===0;if(i!==r[l?"private":"public"])throw new Error("Version mismatch");return l?new zh({...o,privateKey:c.slice(1)}):new zh({...o,publicKey:c})}static fromJSON(e){return zh.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||X4,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Ls.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:bq(e.privateKey),this.privKeyBytes=Nct(this.privKey),this.pubKey=Ls.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=vw.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=Lct(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const r=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const s of r){const i=/^(\d+)('?)$/.exec(s),o=i&&i[1];if(!i||i.length!==3||typeof o!="string")throw new Error(`Invalid child index: ${s}`);let c=+o;if(!Number.isSafeInteger(c)||c>=Y4)throw new Error("Invalid index");i[2]==="'"&&(c+=Y4),n=n.deriveChild(c)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let r=yw(e);if(e>=Y4){const c=this.privateKey;if(!c)throw new Error("Could not derive hardened child key");r=j0(new Uint8Array([0]),c,r)}else r=j0(this.pubKey,r);const n=Jp(Qp,this.chainCode,r),s=bq(n.slice(0,32)),i=n.slice(32);if(!Ls.utils.isValidPrivateKey(s))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const c=qn(this.privKey+s,Ls.CURVE.n);if(!Ls.utils.isValidPrivateKey(c))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=c}else{const c=vw.fromHex(this.pubKey).add(vw.fromPrivateKey(s));if(c.equals(vw.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=c.toRawBytes(!0)}return new zh(o)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Pl(e,32),Ls.sign(e,this.privKey).toCompactRawBytes()}verify(e,r){if(Pl(e,32),Pl(r,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Ls.Signature.fromCompact(r)}catch{return!1}return Ls.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,r){if(!this.chainCode)throw new Error("No chainCode set");return Pl(r,33),j0(yw(e),new Uint8Array([this.depth]),yw(this.parentFingerprint),yw(this.index),this.chainCode,r)}}var xne=class T0 extends m1{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==T0.LENGTH)throw new Error(`PublicKey length should be ${T0.LENGTH}`);this.key=r}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(e){let{message:r,signature:n}=e,s=yi.fromHexInput(r).toUint8Array(),i=s1(s),o=n.toUint8Array();return Ls.verify(o,i,this.toUint8Array())}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new T0(r)}static load(e){let r=e.deserializeBytes();return new T0(r)}static isPublicKey(e){return e instanceof T0}};xne.LENGTH=65;var np=xne,Mne=class _l extends ine{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==_l.LENGTH)throw new Error(`PrivateKey length should be ${_l.LENGTH}`);this.key=r}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}sign(e){let r=yi.fromHexInput(e),n=s1(r.toUint8Array()),s=Ls.sign(n,this.key.toUint8Array());return new $2(s.toCompactRawBytes())}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new _l(r)}static generate(){let e=Ls.utils.randomPrivateKey();return new _l(e)}publicKey(){let e=Ls.getPublicKey(this.key.toUint8Array(),!1);return new np(e)}static fromDerivationPath(e,r){if(!Hat(e))throw new Error(`Invalid derivation path ${e}`);return _l.fromDerivationPathInner(e,cne(r))}static fromDerivationPathInner(e,r){let{privateKey:n}=zh.fromMasterSeed(r).derive(e);if(n===null)throw new Error("Invalid key");return new _l(n)}static isPrivateKey(e){return e instanceof _l}};Mne.LENGTH=32;var l_=Mne,Ine=class $0 extends IA{constructor(e){super();let r=yi.fromHexInput(e);if(r.toUint8Array().length!==$0.LENGTH)throw new Error(`Signature length should be ${$0.LENGTH}, recieved ${r.toUint8Array().length}`);this.data=r}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let r=e.deserializeBytes();return new $0(r)}static load(e){let r=e.deserializeBytes();return new $0(r)}static isSignature(e){return e instanceof $0}};Ine.LENGTH=64;var $2=Ine,bo=class h_ extends m1{constructor(e){super(),this.publicKey=e}toUint8Array(){return this.publicKey.toUint8Array()}toString(){return this.publicKey.toString()}verifySignature(e){let{message:r,signature:n}=e;return this.publicKey.verifySignature({message:r,signature:n})}serialize(e){if(this.publicKey instanceof us)e.serializeU32AsUleb128(0),this.publicKey.serialize(e);else if(this.publicKey instanceof np)e.serializeU32AsUleb128(1),this.publicKey.serialize(e);else throw new Error("Unknown public key type")}static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return new h_(us.load(e));case 1:return new h_(np.load(e));default:throw new Error(`Unknown variant index for AnyPublicKey: ${r}`)}}static isPublicKey(e){return e instanceof h_}isEd25519(){return this.publicKey instanceof us}isSecp256k1PublicKey(){return this.publicKey instanceof np}},Rne=class Tne extends m1{constructor(e){super();let{publicKeys:r,signaturesRequired:n}=e;if(n<1)throw new Error("The number of required signatures needs to be greater then 0");if(r.length<n)throw new Error(`Provided ${r.length} public keys is smaller than the ${n} required signatures`);let s=[];r.forEach(i=>{i instanceof bo?s.push(i):s.push(new bo(i))}),this.publicKeys=s,this.signaturesRequired=n}toUint8Array(){return this.bcsToBytes()}createBitmap(e){let{bits:r}=e,n=128,s=new Uint8Array([0,0,0,0]),i=new Set;return r.forEach((o,c)=>{if(c+1>this.publicKeys.length)throw new Error(`Signature index ${c+1} is out of public keys range, ${this.publicKeys.length}.`);if(i.has(o))throw new Error(`Duplicate bit ${o} detected.`);i.add(o);let l=Math.floor(o/8),d=s[l];d|=n>>o%8,s[l]=d}),s}toString(){return yi.fromHexInput(this.toUint8Array()).toString()}verifySignature(e){throw new Error("not implemented")}serialize(e){e.serializeVector(this.publicKeys),e.serializeU8(this.signaturesRequired)}static deserialize(e){let r=e.deserializeVector(bo),n=e.deserializeU8();return new Tne({publicKeys:r,signaturesRequired:n})}},$ne=class Lh extends hn{constructor(e){super();let{data:r}=e,n=yi.fromHexInput(r);if(n.toUint8Array().length!==Lh.LENGTH)throw new Error(`Authentication Key length should be ${Lh.LENGTH}`);this.data=n}serialize(e){e.serializeFixedBytes(this.data.toUint8Array())}static deserialize(e){let r=e.deserializeFixedBytes(Lh.LENGTH);return new Lh({data:r})}toString(){return this.data.toString()}toUint8Array(){return this.data.toUint8Array()}static fromPublicKeyAndScheme(e){let{publicKey:r,scheme:n}=e,s;switch(n){case 3:case 2:{let c=r.bcsToBytes();s=new Uint8Array([...c,n]);break}case 0:case 1:{let c=r.toUint8Array(),l=yi.fromHexInput(c).toUint8Array();s=new Uint8Array([...l,n]);break}default:throw new Error(`Scheme ${n} is not supported`)}let i=s1.create();i.update(s);let o=i.digest();return new Lh({data:o})}static fromPublicKey(e){let{publicKey:r}=e,n;if(r instanceof us)n=0 .valueOf();else if(r instanceof RA)n=1 .valueOf();else if(r instanceof bo)n=2 .valueOf();else if(r instanceof Rne)n=3 .valueOf();else throw new Error("No supported authentication scheme for public key");return Lh.fromPublicKeyAndScheme({publicKey:r,scheme:n})}derivedAddress(){return new Jt(this.data.toUint8Array())}};$ne.LENGTH=32;var ip=$ne,d_=class vy{constructor(e){let{privateKey:r,address:n,legacy:s}=e,i=s??!0;if(this.publicKey=r.publicKey(),this.publicKey instanceof us)i?this.signingScheme=0:(this.publicKey=new bo(this.publicKey),this.signingScheme=2);else if(this.publicKey instanceof RA)this.signingScheme=1;else if(this.publicKey instanceof np)this.publicKey=new bo(this.publicKey),this.signingScheme=2;else throw new Error("Can not create new Account, unsupported public key type");this.privateKey=r,this.accountAddress=n}static generate(e){let r=(e==null?void 0:e.legacy)??!0,n,s;switch(e==null?void 0:e.scheme){case 2:n=l_.generate(),s=new bo(n.publicKey());break;default:n=f_.generate(),r===!1?s=new bo(n.publicKey()):s=n.publicKey()}let i=ip.fromPublicKey({publicKey:s}).derivedAddress();return new vy({privateKey:n,address:i,legacy:e==null?void 0:e.legacy})}static fromPrivateKey(e){let{privateKey:r,legacy:n}=e,s=n??!0,i;if(r instanceof l_)i=new bo(r.publicKey());else if(r instanceof f_)s?i=r.publicKey():i=new bo(r.publicKey());else throw new Error(`Unsupported private key ${r}`);let o=ip.fromPublicKey({publicKey:i}).derivedAddress();return new vy({privateKey:r,address:o,legacy:s})}static fromPrivateKeyAndAddress(e){let{privateKey:r,address:n,legacy:s}=e;return new vy({privateKey:r,address:n,legacy:s})}static fromDerivationPath(e){let{path:r,mnemonic:n,scheme:s,legacy:i}=e,o;switch(s){case 2:o=l_.fromDerivationPath(r,n);break;case 0:o=f_.fromDerivationPath(r,n);break;default:throw new Error(`Unsupported scheme ${s}`)}return vy.fromPrivateKey({privateKey:o,legacy:i})}static authKey(e){let{publicKey:r}=e;return ip.fromPublicKey({publicKey:r})}sign(e){return this.privateKey.sign(e)}verifySignature(e){let{message:r,signature:n}=e,s=yi.fromHexInput(r).toUint8Array();return this.publicKey.verifySignature({message:s,signature:n})}};async function Yp(t){let{aptosConfig:e,accountAddress:r}=t,{data:n}=await Gu({aptosConfig:e,originMethod:"getInfo",path:`accounts/${Jt.from(r).toString()}`});return n}async function Uct(t){let{aptosConfig:e,accountAddress:r,options:n}=t;return MA({aptosConfig:e,originMethod:"getModules",path:`accounts/${Jt.from(r).toString()}/modules`,params:{ledger_version:n==null?void 0:n.ledgerVersion,start:n==null?void 0:n.offset,limit:(n==null?void 0:n.limit)??1e3}})}async function Cne(t){var e;return((e=t.options)==null?void 0:e.ledgerVersion)!==void 0?wq(t):VC(async()=>wq(t),`module-${t.accountAddress}-${t.moduleName}`,1e3*60*5)()}async function wq(t){let{aptosConfig:e,accountAddress:r,moduleName:n,options:s}=t,{data:i}=await Gu({aptosConfig:e,originMethod:"getModule",path:`accounts/${Jt.from(r).toString()}/module/${n}`,params:{ledger_version:s==null?void 0:s.ledgerVersion}});return i}async function Fct(t){let{aptosConfig:e,accountAddress:r,options:n}=t;return MA({aptosConfig:e,originMethod:"getTransactions",path:`accounts/${Jt.from(r).toString()}/transactions`,params:{start:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}})}async function jct(t){let{aptosConfig:e,accountAddress:r,options:n}=t;return MA({aptosConfig:e,originMethod:"getResources",path:`accounts/${Jt.from(r).toString()}/resources`,params:{ledger_version:n==null?void 0:n.ledgerVersion,start:n==null?void 0:n.offset,limit:(n==null?void 0:n.limit)??999}})}async function One(t){let{aptosConfig:e,accountAddress:r,resourceType:n,options:s}=t,{data:i}=await Gu({aptosConfig:e,originMethod:"getResource",path:`accounts/${Jt.from(r).toString()}/resource/${n}`,params:{ledger_version:s==null?void 0:s.ledgerVersion}});return i.data}async function Bne(t){let{aptosConfig:e,authenticationKey:r,options:n}=t,s=await One({aptosConfig:e,accountAddress:"0x1",resourceType:"0x1::account::OriginatingAddress",options:n}),{address_map:{handle:i}}=s,o=Jt.from(r);try{let c=await dre({aptosConfig:e,handle:i,data:{key:o.toString(),key_type:"address",value_type:"address"},options:n});return Jt.from(c)}catch(c){if(c instanceof M2&&c.data.error_code==="table_item_not_found")return o;throw c}}async function qct(t){let{aptosConfig:e,accountAddress:r}=t,n={owner_address:{_eq:Jt.from(r).toStringLong()},amount:{_gt:0}},s=await wn({aptosConfig:e,query:{query:Uot,variables:{where_condition:n}},originMethod:"getAccountTokensCount"});return s.current_token_ownerships_v2_aggregate.aggregate?s.current_token_ownerships_v2_aggregate.aggregate.count:0}async function zct(t){let{aptosConfig:e,accountAddress:r,options:n}=t,s={owner_address:{_eq:Jt.from(r).toStringLong()},amount:{_gt:0}};n!=null&&n.tokenStandard&&(s.token_standard={_eq:n==null?void 0:n.tokenStandard});let i={query:Lot,variables:{where_condition:s,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:i,originMethod:"getAccountOwnedTokens"})).current_token_ownerships_v2}async function Hct(t){let{aptosConfig:e,accountAddress:r,collectionAddress:n,options:s}=t,i=Jt.from(r).toStringLong(),o=Jt.from(n).toStringLong(),c={owner_address:{_eq:i},current_token_data:{collection_id:{_eq:o}},amount:{_gt:0}};s!=null&&s.tokenStandard&&(c.token_standard={_eq:s==null?void 0:s.tokenStandard});let l={query:Dot,variables:{where_condition:c,offset:s==null?void 0:s.offset,limit:s==null?void 0:s.limit,order_by:s==null?void 0:s.orderBy}};return(await wn({aptosConfig:e,query:l,originMethod:"getAccountOwnedTokensFromCollectionAddress"})).current_token_ownerships_v2}async function Vct(t){let{aptosConfig:e,accountAddress:r,options:n}=t,s={owner_address:{_eq:Jt.from(r).toStringLong()},amount:{_gt:0}};n!=null&&n.tokenStandard&&(s.current_collection={token_standard:{_eq:n==null?void 0:n.tokenStandard}});let i={query:Not,variables:{where_condition:s,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:i,originMethod:"getAccountCollectionsWithOwnedTokens"})).current_collection_ownership_v2_view}async function Kct(t){let{aptosConfig:e,accountAddress:r}=t,n=Jt.from(r).toStringLong(),s=await wn({aptosConfig:e,query:{query:Fot,variables:{address:n}},originMethod:"getAccountTransactionsCount"});return s.account_transactions_aggregate.aggregate?s.account_transactions_aggregate.aggregate.count:0}async function Gct(t){let{aptosConfig:e,accountAddress:r,coinType:n}=t,s=Jt.from(r).toStringLong(),i=await Pne({aptosConfig:e,accountAddress:s,options:{where:{asset_type:{_eq:n}}}});return i[0]?i[0].amount:0}async function Pne(t){let{aptosConfig:e,accountAddress:r,options:n}=t,s=Jt.from(r).toStringLong(),i={...n==null?void 0:n.where,owner_address:{_eq:s}},o={query:Pot,variables:{where_condition:i,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:o,originMethod:"getAccountCoinsData"})).current_fungible_asset_balances}async function Wct(t){let{aptosConfig:e,accountAddress:r}=t,n=Jt.from(r).toStringLong(),s=await wn({aptosConfig:e,query:{query:Bot,variables:{address:n}},originMethod:"getAccountCoinsCount"});if(!s.current_fungible_asset_balances_aggregate.aggregate)throw Error("Failed to get the count of account coins");return s.current_fungible_asset_balances_aggregate.aggregate.count}async function Jct(t){let{aptosConfig:e,accountAddress:r,options:n}=t,s={owner_address:{_eq:Jt.from(r).toStringLong()}},i={query:kot,variables:{where_condition:s,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:i,originMethod:"getAccountOwnedObjects"})).current_objects}async function Qct(t){let{aptosConfig:e,privateKey:r}=t,n=new bo(r.publicKey());if(r instanceof l_){let s=ip.fromPublicKeyAndScheme({publicKey:n,scheme:2}).derivedAddress();return d_.fromPrivateKeyAndAddress({privateKey:r,address:s})}if(r instanceof f_){let s=ip.fromPublicKeyAndScheme({publicKey:n,scheme:2});if(await _q({authKey:s,aptosConfig:e})){let o=s.derivedAddress();return d_.fromPrivateKeyAndAddress({privateKey:r,address:o,legacy:!1})}let i=ip.fromPublicKeyAndScheme({publicKey:n,scheme:0});if(await _q({authKey:i,aptosConfig:e})){let o=i.derivedAddress();return d_.fromPrivateKeyAndAddress({privateKey:r,address:o,legacy:!0})}}throw new Error(`Can't derive account from private key ${r}`)}async function _q(t){let{aptosConfig:e,authKey:r}=t,n=await Bne({aptosConfig:e,authenticationKey:r.derivedAddress()});try{return await Yp({aptosConfig:e,accountAddress:n}),!0}catch(s){if(s.status===404)return!1;throw new Error(`Error while looking for an account info ${n.toString()}`)}}var Zct=new TextEncoder;function Xct(t){return(t==null?void 0:t.map(e=>gy(e)?WC(e):e))??[]}async function Yct(t,e,r,n){var c;let s=(c=(await Cne({aptosConfig:n,accountAddress:t,moduleName:e})).abi)==null?void 0:c.exposed_functions.find(l=>l.name===r);if(!s)throw new Error(`Could not find entry function ABI for '${t}::${e}::${r}'`);if(!s.is_entry)throw new Error(`'${t}::${e}::${r}' is not an entry function`);let i=xat(s),o=[];for(let l=i;l<s.params.length;l+=1)o.push(WC(s.params[l],{allowGenerics:!0}));return{typeParameters:s.generic_type_params,parameters:o}}function eft(t,e,r,n,s){if(n>=e.parameters.length)throw new Error(`Too many arguments for '${t}', expected ${e.parameters.length}`);let i=e.parameters[n];return Cy(r,i,n,s)}function Cy(t,e,r,n){return Sat(t)?(dI(e,t,r),t):tft(t,e,r,n)}function tft(t,e,r,n){if(e.isBool()){if(_at(t))return new go(t);si("boolean",r)}if(e.isAddress()){if(gy(t))return Jt.fromString(t);si("string | AccountAddress",r)}if(e.isU8()){if(G4(t))return new Hu(t);si("number",r)}if(e.isU16()){if(G4(t))return new p1(t);si("number",r)}if(e.isU32()){if(G4(t))return new g1(t);si("number",r)}if(e.isU64()){if(W4(t))return new Ru(BigInt(t));si("bigint | number | string",r)}if(e.isU128()){if(W4(t))return new v1(BigInt(t));si("bigint | number | string",r)}if(e.isU256()){if(W4(t))return new y1(BigInt(t));si("bigint | number | string",r)}if(e.isGeneric()){let s=e.value;if(s<0||s>=n.length)throw new Error(`Generic argument ${e.toString()} is invalid for argument ${r}`);return Cy(t,n[s],r,n)}if(e.isVector()){if(e.value.isU8()){if(gy(t))return Ni.U8(Zct.encode(t));if(t instanceof Uint8Array)return Ni.U8(t);if(t instanceof ArrayBuffer)return Ni.U8(new Uint8Array(t))}if(Array.isArray(t))return new Ni(t.map(s=>Cy(s,e.value,r,n)));throw new Error(`Type mismatch for argument ${r}, type '${e.toString()}'`)}if(e.isStruct()){if(e.isString()){if(gy(t))return new Tu(t);si("string",r)}if(e.isObject()){if(gy(t))return Jt.fromString(t);si("string | AccountAddress",r)}if(e.isOption())return Eat(t)?new T2(null):new T2(Cy(t,e.value.typeArgs[0],r,n));throw new Error(`Unsupported struct input type for argument ${r}, type '${e.toString()}'`)}throw new Error(`Type mismatch for argument ${r}, type '${e.toString()}'`)}function dI(t,e,r){if(t.isBool()){if(Wre(e))return;si("Bool",r)}if(t.isAddress()){if(oI(e))return;si("AccountAddress",r)}if(t.isU8()){if(Qre(e))return;si("U8",r)}if(t.isU16()){if(Zre(e))return;si("U16",r)}if(t.isU32()){if(Xre(e))return;si("U32",r)}if(t.isU64()){if(Yre(e))return;si("U64",r)}if(t.isU128()){if(ene(e))return;si("U128",r)}if(t.isU256()){if(tne(e))return;si("U256",r)}if(t.isVector()){if(e instanceof Ni){e.values.length>0&&dI(t.value,e.values[0],r);return}si("MoveVector",r)}if(t instanceof R2){if(t.isString()){if(Jre(e))return;si("MoveString",r)}if(t.isObject()){if(oI(e))return;si("AccountAddress",r)}if(t.isOption()){if(e instanceof T2){e.value!==void 0&&dI(t.value.typeArgs[0],e.value,r);return}si("MoveOption",r)}}throw new Error(`Type mismatch for argument ${r}, expected '${t.toString()}'`)}var gm=class pI extends IA{constructor(e){super(),this.signature=e}toUint8Array(){return this.signature.toUint8Array()}toString(){return this.signature.toString()}serialize(e){if(this.signature instanceof mo)e.serializeU32AsUleb128(0),this.signature.serialize(e);else if(this.signature instanceof $2)e.serializeU32AsUleb128(1),this.signature.serialize(e);else throw new Error("Unknown signature type")}static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return new pI(mo.load(e));case 1:return new pI($2.load(e));default:throw new Error(`Unknown variant index for AnySignature: ${r}`)}}},_f=class extends hn{static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return eg.load(e);case 1:return Eq.load(e);case 2:return Md.load(e);case 3:return gI.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${r}`)}}isEd25519(){return this instanceof eg}isMultiEd25519(){return this instanceof Eq}isSingleKey(){return this instanceof Md}isMultiKey(){return this instanceof gI}},eg=class Nne extends _f{constructor(e,r){super(),this.public_key=e,this.signature=r}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let r=us.deserialize(e),n=mo.deserialize(e);return new Nne(r,n)}},Eq=class kne extends _f{constructor(e,r){super(),this.public_key=e,this.signature=r}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let r=RA.deserialize(e),n=dne.deserialize(e);return new kne(r,n)}},Md=class Lne extends _f{constructor(e,r){super(),this.public_key=e,this.signature=r}serialize(e){e.serializeU32AsUleb128(2),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let r=bo.deserialize(e),n=gm.deserialize(e);return new Lne(r,n)}},gI=class Dne extends _f{constructor(e,r,n){super(),this.public_keys=e,this.signatures=r,this.signatures_bitmap=n}serialize(e){e.serializeU32AsUleb128(3),this.public_keys.serialize(e),e.serializeVector(this.signatures),e.serializeBytes(this.signatures_bitmap)}static load(e){let r=Rne.deserialize(e),n=e.deserializeVector(gm),s=e.deserializeBytes();return new Dne(r,n,s)}},Qg=class extends hn{static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return tO.load(e);case 1:return rft.load(e);case 2:return rO.load(e);case 3:return nO.load(e);case 4:return iO.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${r}`)}}},tO=class Une extends Qg{constructor(e,r){super(),this.public_key=e,this.signature=r}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let r=us.deserialize(e),n=mo.deserialize(e);return new Une(r,n)}},rft=class Fne extends Qg{constructor(e,r){super(),this.public_key=e,this.signature=r}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let r=RA.deserialize(e),n=dne.deserialize(e);return new Fne(r,n)}},rO=class jne extends Qg{constructor(e,r,n){super(),this.sender=e,this.secondary_signer_addresses=r,this.secondary_signers=n}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers)}static load(e){let r=_f.deserialize(e),n=e.deserializeVector(Jt),s=e.deserializeVector(_f);return new jne(r,n,s)}},nO=class qne extends Qg{constructor(e,r,n,s){super(),this.sender=e,this.secondary_signer_addresses=r,this.secondary_signers=n,this.fee_payer=s}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){let r=_f.deserialize(e),n=e.deserializeVector(Jt),s=e.deserializeVector(_f),i=Jt.deserialize(e),o=_f.deserialize(e),c={address:i,authenticator:o};return new qne(r,n,s,c)}},iO=class zne extends Qg{constructor(e){super(),this.sender=e}serialize(e){e.serializeU32AsUleb128(4),this.sender.serialize(e)}static load(e){let r=_f.deserialize(e);return new zne(r)}},Sq=class vI extends hn{constructor(e,r){super(),this.address=e,this.name=r}static fromStr(e){let r=e.split("::");if(r.length!==2)throw new Error("Invalid module id.");return new vI(Jt.fromString(r[0]),new Xl(r[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){let r=Jt.deserialize(e),n=Xl.deserialize(e);return new vI(r,n)}},nft=class Hne extends hn{constructor(e){super(),this.value=new sI(e)}serialize(e){e.serialize(this.value)}serializeForEntryFunction(e){e.serializeU32AsUleb128(this.value.value.length),e.serialize(this)}static deserialize(e,r){let n=sI.deserialize(e,r);return new Hne(n.value)}};function ift(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return Hu.deserialize(t);case 1:return Ru.deserialize(t);case 2:return v1.deserialize(t);case 3:return Jt.deserialize(t);case 4:return Ni.deserialize(t,Hu);case 5:return go.deserialize(t);case 6:return p1.deserialize(t);case 7:return g1.deserialize(t);case 8:return y1.deserialize(t);default:throw new Error(`Unknown variant index for ScriptTransactionArgument: ${e}`)}}var $A=class extends hn{static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return Vne.load(e);case 2:return Gne.load(e);case 3:return Jne.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${r}`)}}},Vne=class Kne extends $A{constructor(e){super(),this.script=e}serialize(e){e.serializeU32AsUleb128(0),this.script.serialize(e)}static load(e){let r=Zne.deserialize(e);return new Kne(r)}},Gne=class Wne extends $A{constructor(e){super(),this.entryFunction=e}serialize(e){e.serializeU32AsUleb128(2),this.entryFunction.serialize(e)}static load(e){let r=sO.deserialize(e);return new Wne(r)}},Jne=class Qne extends $A{constructor(e){super(),this.multiSig=e}serialize(e){e.serializeU32AsUleb128(3),this.multiSig.serialize(e)}static load(e){let r=Yne.deserialize(e);return new Qne(r)}},sO=class yI{constructor(e,r,n,s){this.module_name=e,this.function_name=r,this.type_args=n,this.args=s}static build(e,r,n,s){return new yI(Sq.fromStr(e),new Xl(r),n,s)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(r=>{r.serializeForEntryFunction(e)})}static deserialize(e){let r=Sq.deserialize(e),n=Xl.deserialize(e),s=e.deserializeVector(Yi),i=e.deserializeUleb128AsU32(),o=new Array;for(let c=0;c<i;c+=1){let l=e.deserializeUleb128AsU32(),d=nft.deserialize(e,l);o.push(d)}return new yI(r,n,s,o)}},Zne=class Xne{constructor(e,r,n){this.bytecode=e,this.type_args=r,this.args=n}serialize(e){e.serializeBytes(this.bytecode),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(r=>{r.serializeForScriptFunction(e)})}static deserialize(e){let r=e.deserializeBytes(),n=e.deserializeVector(Yi),s=e.deserializeUleb128AsU32(),i=new Array;for(let o=0;o<s;o+=1){let c=ift(e);i.push(c)}return new Xne(r,n,i)}},Yne=class eie{constructor(e,r){this.multisig_address=e,this.transaction_payload=r}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){let r=Jt.deserialize(e),n=e.deserializeBool(),s;return n&&(s=tie.deserialize(e)),new eie(r,s)}},tie=class rie extends hn{constructor(e){super(),this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new rie(sO.deserialize(e))}},nie=class iie extends hn{constructor(e){super(),this.chainId=e}serialize(e){e.serializeU8(this.chainId)}static deserialize(e){let r=e.deserializeU8();return new iie(r)}},Id=class sie extends hn{constructor(e,r,n,s,i,o,c){super(),this.sender=e,this.sequence_number=r,this.payload=n,this.max_gas_amount=s,this.gas_unit_price=i,this.expiration_timestamp_secs=o,this.chain_id=c}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){let r=Jt.deserialize(e),n=e.deserializeU64(),s=$A.deserialize(e),i=e.deserializeU64(),o=e.deserializeU64(),c=e.deserializeU64(),l=nie.deserialize(e);return new sie(r,n,s,i,o,c,l)}},oie=class extends hn{static deserialize(e){let r=e.deserializeUleb128AsU32();switch(r){case 0:return Zg.load(e);case 1:return Xg.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${r}`)}}},Zg=class aie extends oie{constructor(e,r){super(),this.raw_txn=e,this.secondary_signer_addresses=r}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses)}static load(e){let r=Id.deserialize(e),n=e.deserializeVector(Jt);return new aie(r,n)}},Xg=class cie extends oie{constructor(e,r,n){super(),this.raw_txn=e,this.secondary_signer_addresses=r,this.fee_payer_address=n}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses),this.fee_payer_address.serialize(e)}static load(e){let r=Id.deserialize(e),n=e.deserializeVector(Jt),s=Jt.deserialize(e);return new cie(r,n,s)}},fd=class fie extends hn{constructor(e,r){super(),this.raw_txn=e,this.authenticator=r}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){let r=Id.deserialize(e),n=Qg.deserialize(e);return new fie(r,n)}},Aq={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",randomnet:"https://indexer-randomnet.hasura.app/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},xq={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",randomnet:"https://fullnode.random.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},Mq={mainnet:"https://faucet.mainnet.aptoslabs.com",testnet:"https://faucet.testnet.aptoslabs.com",devnet:"https://faucet.devnet.aptoslabs.com",randomnet:"https://faucet.random.aptoslabs.com",local:"http://127.0.0.1:8081"},sft=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t.RANDOMNET="randomnet",t.LOCAL="local",t.CUSTOM="custom",t))(sft||{}),Iq={mainnet:1,testnet:2,randomnet:70};async function eM(t){if(rne(t))return uie(t);let{moduleAddress:e,moduleName:r,functionName:n}=nne(t.function),s=await VC(async()=>Yct(e,r,n,t.aptosConfig),`entry-function-${t.aptosConfig.network}-${e}-${r}-${n}`,1e3*60*5)();return oft(t,s)}function oft(t,e){if(rne(t))return uie(t);let{moduleAddress:r,moduleName:n,functionName:s}=nne(t.function),i=Xct(t.typeArguments);if(i.length!==e.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${e.typeParameters.length}, received ${i.length}`);let o=t.functionArguments.map((l,d)=>eft(t.function,e,l,d,i));if(o.length!==e.parameters.length)throw new Error(`Too few arguments for '${r}::${n}::${s}', expected ${e.parameters.length} but got ${o.length}`);let c=sO.build(`${r}::${n}`,s,i,o);if("multisigAddress"in t){let l=Jt.from(t.multisigAddress);return new Jne(new Yne(l,new tie(c)))}return new Gne(c)}function uie(t){return new Vne(new Zne(yi.fromHexInput(t.bytecode).toUint8Array(),t.typeArguments??[],t.functionArguments))}async function aft(t){let{aptosConfig:e,sender:r,payload:n,options:s,feePayerAddress:i}=t,o=Iq[e.network]?Promise.resolve({chain_id:Iq[e.network]}):hre({aptosConfig:e}),c=s!=null&&s.gasUnitPrice?Promise.resolve({gas_estimate:s.gasUnitPrice}):mre({aptosConfig:e}),[{chain_id:l},{gas_estimate:d}]=await Promise.all([o,c]),v=(s==null?void 0:s.accountSequenceNumber)!==void 0?Promise.resolve({sequence_number:s.accountSequenceNumber}):Yp({aptosConfig:e,accountAddress:r}),b;if(i&&Jt.from(i).equals(Jt.ZERO))try{let{sequence_number:C}=await v;b=C}catch{b="0"}else{let{sequence_number:C}=await v;b=C}let{maxGasAmount:A,gasUnitPrice:x,expireTimestamp:R}={maxGasAmount:s!=null&&s.maxGasAmount?BigInt(s.maxGasAmount):BigInt(cat),gasUnitPrice:BigInt(d),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+fat),...s};return new Id(Jt.from(r),BigInt(b),n,BigInt(A),BigInt(x),BigInt(R),new nie(l))}async function Rq(t){var c;let{aptosConfig:e,sender:r,payload:n,options:s,feePayerAddress:i}=t,o=await aft({aptosConfig:e,sender:r,payload:n,options:s,feePayerAddress:i});if("secondarySignerAddresses"in t){let l=((c=t.secondarySignerAddresses)==null?void 0:c.map(d=>Jt.from(d)))??[];return{rawTransaction:o,secondarySignerAddresses:l,feePayerAddress:t.feePayerAddress?Jt.from(t.feePayerAddress):void 0}}return{rawTransaction:o,feePayerAddress:t.feePayerAddress?Jt.from(t.feePayerAddress):void 0}}function cft(t){let{signerPublicKey:e,transaction:r,secondarySignersPublicKeys:n,feePayerPublicKey:s}=t,i=mw(e);if(r.feePayerAddress){let c=new Xg(r.rawTransaction,r.secondarySignerAddresses??[],r.feePayerAddress),l=[];n&&(l=n.map(b=>mw(b)));let d=mw(s),v=new nO(i,r.secondarySignerAddresses??[],l,{address:r.feePayerAddress,authenticator:d});return new fd(c.raw_txn,v).bcsToBytes()}if(r.secondarySignerAddresses){let c=new Zg(r.rawTransaction,r.secondarySignerAddresses),l=[];l=n.map(v=>mw(v));let d=new rO(i,r.secondarySignerAddresses,l);return new fd(c.raw_txn,d).bcsToBytes()}let o;if(i instanceof eg)o=new tO(i.public_key,i.signature);else if(i instanceof Md)o=new iO(i);else throw new Error("Invalid public key");return new fd(r.rawTransaction,o).bcsToBytes()}function mw(t){if(t instanceof bo){if(t.publicKey instanceof us)return new Md(t,new gm(new mo(new Uint8Array(64))));if(t.publicKey instanceof np)return new Md(t,new gm(new $2(new Uint8Array(64))))}return new eg(new us(t.toUint8Array()),new mo(new Uint8Array(64)))}function fft(t){let{signer:e,transaction:r}=t,n=hie(r),s=e.sign(n);switch(e.signingScheme){case 0:return new eg(new us(e.publicKey.toUint8Array()),new mo(s.toUint8Array()));case 2:if(!bo.isPublicKey(e.publicKey))throw new Error(`Cannot sign transaction, public key does not match ${e.signingScheme}`);return new Md(e.publicKey,new gm(s));default:throw new Error(`Cannot sign transaction, signing scheme ${e.signingScheme} not supported`)}}function uft(t){let{transaction:e,senderAuthenticator:r,feePayerAuthenticator:n,additionalSignersAuthenticators:s}=t,i=lie(e);if((n||s)&&(i instanceof Zg||i instanceof Xg))return lft(i,r,n,s);if(r instanceof eg&&i instanceof Id){let o=new tO(r.public_key,r.signature);return new fd(i,o).bcsToBytes()}if((r instanceof Md||r instanceof gI)&&i instanceof Id){let o=new iO(r);return new fd(i,o).bcsToBytes()}throw new Error(`Cannot generate a signed transaction, ${r} is not a supported account authentication scheme`)}function lie(t){return t.feePayerAddress?new Xg(t.rawTransaction,t.secondarySignerAddresses??[],t.feePayerAddress):t.secondarySignerAddresses?new Zg(t.rawTransaction,t.secondarySignerAddresses):t.rawTransaction}function lft(t,e,r,n){if(t instanceof Xg){if(!r)throw new Error("Must provide a feePayerAuthenticator argument to generate a signed fee payer transaction");let s=new nO(e,t.secondary_signer_addresses,n??[],{address:t.fee_payer_address,authenticator:r});return new fd(t.raw_txn,s).bcsToBytes()}if(t instanceof Zg){if(!n)throw new Error("Must provide a additionalSignersAuthenticators argument to generate a signed multi agent transaction");let s=new rO(e,t.secondary_signer_addresses,n??[]);return new fd(t.raw_txn,s).bcsToBytes()}throw new Error(`Cannot prepare multi signers transaction to submission, ${typeof t} transaction is not supported`)}function hie(t){let e=lie(t),r=s1.create();if(e instanceof Id)r.update(uat);else if(e instanceof Zg)r.update(cq);else if(e instanceof Xg)r.update(cq);else throw new Error(`Unknown transaction type to sign on: ${e}`);let n=r.digest(),s=e.bcsToBytes(),i=new Uint8Array(n.length+s.length);return i.set(n),i.set(s,n.length),i}var hft=class extends hn{constructor(e){super(),this.accountAddress=Jt.ONE,this.moduleName=new Tu("account"),this.structName=new Tu("RotationProofChallenge"),this.sequenceNumber=new Ru(e.sequenceNumber),this.originator=e.originator,this.currentAuthKey=e.currentAuthKey,this.newPublicKey=Ni.U8(e.newPublicKey.toUint8Array())}serialize(e){e.serialize(this.accountAddress),e.serialize(this.moduleName),e.serialize(this.structName),e.serialize(this.sequenceNumber),e.serialize(this.originator),e.serialize(this.currentAuthKey),e.serialize(this.newPublicKey)}};async function _n(t){let e=await dft(t);return pft(t,e)}async function dft(t){let{aptosConfig:e,data:r}=t,n,s;return"bytecode"in r?(n=r,s=await eM(n)):"multisigAddress"in r?(n={aptosConfig:e,multisigAddress:r.multisigAddress,function:r.function,functionArguments:r.functionArguments,typeArguments:r.typeArguments},s=await eM(n)):(n={aptosConfig:e,function:r.function,functionArguments:r.functionArguments,typeArguments:r.typeArguments},s=await eM(n)),s}async function pft(t,e){let{aptosConfig:r,sender:n,options:s}=t,i;if(gft(t)&&(i=Jt.ZERO.toString()),vft(t)){let{secondarySignerAddresses:o}=t;return Rq({aptosConfig:r,sender:n,payload:e,options:s,secondarySignerAddresses:o,feePayerAddress:i})}return Rq({aptosConfig:r,sender:n,payload:e,options:s,feePayerAddress:i})}function gft(t){return t.withFeePayer===!0}function vft(t){return"secondarySignerAddresses"in t}function yft(t){let{transaction:e}=t;return hie(e)}function mI(t){return fft({...t})}async function Tq(t){var d,v,b;let{aptosConfig:e,transaction:r,signerPublicKey:n,secondarySignersPublicKeys:s,feePayerPublicKey:i,options:o}=t,c=cft({transaction:r,signerPublicKey:n,secondarySignersPublicKeys:s,feePayerPublicKey:i,options:o}),{data:l}=await xA({aptosConfig:e,body:c,path:"transactions/simulate",params:{estimate_gas_unit_price:((d=t.options)==null?void 0:d.estimateGasUnitPrice)??!1,estimate_max_gas_amount:((v=t.options)==null?void 0:v.estimateMaxGasAmount)??!1,estimate_prioritized_gas_unit_price:((b=t.options)==null?void 0:b.estimatePrioritizedGasUnitPrice)??!1},originMethod:"simulateTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return l}async function bI(t){let{aptosConfig:e}=t,r=uft({...t}),{data:n}=await xA({aptosConfig:e,body:r,path:"transactions",originMethod:"submitTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return n}async function oO(t){let{aptosConfig:e,signer:r,transaction:n}=t,s=mI({signer:r,transaction:n});return bI({aptosConfig:e,transaction:n,senderAuthenticator:s})}async function mft(t){let{aptosConfig:e,account:r,metadataBytes:n,moduleBytecode:s,options:i}=t,o=s.map(c=>Ni.U8(c));return await _n({aptosConfig:e,sender:Jt.from(r),data:{function:"0x1::code::publish_package_txn",functionArguments:[Ni.U8(n),new Ni(o)]},options:i})}async function bft(t){let{aptosConfig:e,fromAccount:r,toNewPrivateKey:n}=t,s=await Yp({aptosConfig:e,accountAddress:r.accountAddress}),i=d_.fromPrivateKey({privateKey:n,legacy:!0}),o=new hft({sequenceNumber:BigInt(s.sequence_number),originator:r.accountAddress,currentAuthKey:Jt.from(s.authentication_key),newPublicKey:i.publicKey}).bcsToBytes(),c=r.sign(o),l=i.sign(o),d=await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x1::account::rotate_authentication_key",functionArguments:[new Hu(r.signingScheme.valueOf()),Ni.U8(r.publicKey.toUint8Array()),new Hu(i.signingScheme.valueOf()),Ni.U8(i.publicKey.toUint8Array()),Ni.U8(c.toUint8Array()),Ni.U8(l.toUint8Array())]}});return await oO({aptosConfig:e,signer:r,transaction:d})}async function $q(t){let{aptosConfig:e,options:r}=t,n={query:Got,variables:{where_condition:r==null?void 0:r.where,limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset}};return(await wn({aptosConfig:e,query:n,originMethod:"getFungibleAssetMetadata"})).fungible_asset_metadata}async function wft(t){let{aptosConfig:e,options:r}=t,n={query:Kot,variables:{where_condition:r==null?void 0:r.where,limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset}};return(await wn({aptosConfig:e,query:n,originMethod:"getFungibleAssetActivities"})).fungible_asset_activities}async function _ft(t){let{aptosConfig:e,options:r}=t,n={query:zot,variables:{where_condition:r==null?void 0:r.where,limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset}};return(await wn({aptosConfig:e,query:n,originMethod:"getCurrentFungibleAssetBalances"})).current_fungible_asset_balances}async function Eft(t){let{aptosConfig:e,sender:r,fungibleAssetMetadataAddress:n,recipient:s,amount:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x1::primary_fungible_store::transfer",typeArguments:["0x1::fungible_asset::Metadata"],functionArguments:[n,s,i]},options:o})}var die=class{constructor(e){this.config=e}async getFungibleAssetMetadata(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),$q({aptosConfig:this.config,...e})}async getFungibleAssetMetadataByAssetType(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),(await $q({aptosConfig:this.config,options:{where:{asset_type:{_eq:e.assetType}}}}))[0]}async getFungibleAssetActivities(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),wft({aptosConfig:this.config,...e})}async getCurrentFungibleAssetBalances(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),_ft({aptosConfig:this.config,...e})}async transferFungibleAsset(e){return Eft({aptosConfig:this.config,...e})}},pie=class{constructor(e){this.config=e}async getLedgerInfo(){return hre({aptosConfig:this.config})}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getBlockByVersion(e){return eat({aptosConfig:this.config,...e})}async getBlockByHeight(e){return tat({aptosConfig:this.config,...e})}async getTableItem(e){return dre({aptosConfig:this.config,...e})}async view(e){return Wg({aptosConfig:this.config,...e})}async getChainTopUserTransactions(e){return rat({aptosConfig:this.config,...e})}async queryIndexer(e){return wn({aptosConfig:this.config,...e})}async getIndexerLastSuccessVersion(){return pre({aptosConfig:this.config})}async getProcessorStatus(e){return gre({aptosConfig:this.config,processorType:e})}};async function Sft(t){let{aptosConfig:e,poolAddress:r}=t,n=Jt.from(r).toStringLong(),s=await wn({aptosConfig:e,query:{query:are,variables:{where_condition:{pool_address:{_eq:n}}}}});return s.num_active_delegator_per_pool[0]?s.num_active_delegator_per_pool[0].num_active_delegator:0}async function Aft(t){let{aptosConfig:e,options:r}=t,n={query:are,variables:{order_by:r==null?void 0:r.orderBy}};return(await wn({aptosConfig:e,query:n})).num_active_delegator_per_pool}async function xft(t){let{aptosConfig:e,delegatorAddress:r,poolAddress:n}=t,s={query:Hot,variables:{delegatorAddress:Jt.from(r).toStringLong(),poolAddress:Jt.from(n).toStringLong()}};return(await wn({aptosConfig:e,query:s})).delegated_staking_activities}var gie=class{constructor(e){this.config=e}async getNumberOfDelegators(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"stake_processor"}),Sft({aptosConfig:this.config,...e})}async getNumberOfDelegatorsForAllPools(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"stake_processor"}),Aft({aptosConfig:this.config,...e})}async getDelegatedStakingActivities(e){return await jn({config:this.config,minimumLedgerVersion:e==null?void 0:e.minimumLedgerVersion,processorType:"stake_processor"}),xft({aptosConfig:this.config,...e})}};function Cq(t,e,r){let n=r.value;return r.value=async function(...s){let[i]=s;if(i.transaction.feePayerAddress&&!i.feePayerAuthenticator)throw new Error("You are submitting a Fee Payer transaction but missing the feePayerAuthenticator");return n.apply(this,s)},r}function Oq(t,e,r){let n=r.value;return r.value=async function(...s){let[i]=s;if(i.transaction.feePayerAddress&&!i.feePayerPublicKey)throw new Error("You are simulating a Fee Payer transaction but missing the feePayerPublicKey");return n.apply(this,s)},r}var wI=class{constructor(e){this.config=e}async simple(e){return Tq({aptosConfig:this.config,...e})}async multiAgent(e){return Tq({aptosConfig:this.config,...e})}};lc([Oq],wI.prototype,"simple",1),lc([Oq],wI.prototype,"multiAgent",1);var _I=class{constructor(e){this.config=e}async simple(e){return bI({aptosConfig:this.config,...e})}async multiAgent(e){return bI({aptosConfig:this.config,...e})}};lc([Cq],_I.prototype,"simple",1),lc([Cq],_I.prototype,"multiAgent",1);var Mft=class{constructor(t){this.config=t}async simple(t){return _n({aptosConfig:this.config,...t})}async multiAgent(t){return _n({aptosConfig:this.config,...t})}},bw=()=>Math.floor(Date.now()/1e3),Ift=class{constructor(e,r,n,s,i){this.lastUncommintedNumber=null,this.currentNumber=null,this.lock=!1,this.aptosConfig=e,this.account=r,this.maxWaitTime=n,this.maximumInFlight=s,this.sleepTime=i}async nextSequenceNumber(){for(;this.lock;)await z0(this.sleepTime);this.lock=!0;let e=BigInt(0);try{if((this.lastUncommintedNumber===null||this.currentNumber===null)&&await this.initialize(),this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight){await this.update();let r=bw();for(;this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight;)await z0(this.sleepTime),bw()-r>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):await this.update()}e=this.currentNumber,this.currentNumber+=BigInt(1)}catch(r){console.error("error in getting next sequence number for this account",r)}finally{this.lock=!1}return e}async initialize(){let{sequence_number:e}=await Yp({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});this.currentNumber=BigInt(e),this.lastUncommintedNumber=BigInt(e)}async update(){let{sequence_number:e}=await Yp({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});return this.lastUncommintedNumber=BigInt(e),this.lastUncommintedNumber}async synchronize(){if(this.lastUncommintedNumber!==this.currentNumber){for(;this.lock;)await z0(this.sleepTime);this.lock=!0;try{await this.update();let e=bw();for(;this.lastUncommintedNumber!==this.currentNumber;)bw()-e>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):(await z0(this.sleepTime),await this.update())}catch(e){console.error("error in synchronizing this account sequence number with the one on chain",e)}finally{this.lock=!1}}}},tM=class{constructor(){this.queue=[],this.pendingDequeue=[],this.cancelled=!1}enqueue(e){var r;if(this.cancelled=!1,this.pendingDequeue.length>0){(r=this.pendingDequeue.shift())==null||r.resolve(e);return}this.queue.push(e)}async dequeue(){return this.queue.length>0?Promise.resolve(this.queue.shift()):new Promise((e,r)=>{this.pendingDequeue.push({resolve:e,reject:r})})}isEmpty(){return this.queue.length===0}cancel(){this.cancelled=!0,this.pendingDequeue.forEach(async({reject:e})=>{e(new EI("Task cancelled"))}),this.pendingDequeue=[],this.queue.length=0}isCancelled(){return this.cancelled}pendingDequeueLength(){return this.pendingDequeue.length}},EI=class extends Error{},Bq="fulfilled",Rft=(t=>(t.TransactionSent="transactionSent",t.TransactionSendFailed="transactionSendFailed",t.TransactionExecuted="transactionExecuted",t.TransactionExecutionFailed="transactionExecutionFailed",t.ExecutionFinish="executionFinish",t))(Rft||{}),Tft=class extends Uu{constructor(e,r,n=30,s=100,i=10){super(),this.taskQueue=new tM,this.transactionsQueue=new tM,this.outstandingTransactions=new tM,this.sentTransactions=[],this.executedTransactions=[],this.aptosConfig=e,this.account=r,this.started=!1,this.accountSequnceNumber=new Ift(e,r,n,s,i)}async submitNextTransaction(){try{for(;;){let e=await this.accountSequnceNumber.nextSequenceNumber();if(e===null)return;let r=await this.generateNextTransaction(this.account,e);if(!r)return;let n=oO({aptosConfig:this.aptosConfig,transaction:r,signer:this.account});await this.outstandingTransactions.enqueue([n,e])}}catch(e){if(e instanceof EI)return;throw new Error(`Submit transaction failed for ${this.account.accountAddress.toString()} with error ${e}`)}}async processTransactions(){try{for(;;){let e=[],r=[],[n,s]=await this.outstandingTransactions.dequeue();for(e.push(n),r.push(s);!this.outstandingTransactions.isEmpty();)[n,s]=await this.outstandingTransactions.dequeue(),e.push(n),r.push(s);let i=await Promise.allSettled(e);for(let o=0;o<i.length&&o<r.length;o+=1){let c=i[o];s=r[o],c.status===Bq?(this.sentTransactions.push([c.value.hash,s,null]),this.emit("transactionSent",{message:`transaction hash ${c.value.hash} has been committed to chain`,transactionHash:c.value.hash}),await this.checkTransaction(c,s)):(this.sentTransactions.push([c.status,s,c.reason]),this.emit("transactionSendFailed",{message:`failed to commit transaction ${this.sentTransactions.length} with error ${c.reason}`,error:c.reason}))}this.emit("executionFinish",{message:`execute ${i.length} transactions finished`})}}catch(e){if(e instanceof EI)return;throw new Error(`Process execution failed for ${this.account.accountAddress.toString()} with error ${e}`)}}async checkTransaction(e,r){try{let n=[];n.push(GC({aptosConfig:this.aptosConfig,transactionHash:e.value.hash}));let s=await Promise.allSettled(n);for(let i=0;i<s.length;i+=1){let o=s[i];o.status===Bq?(this.executedTransactions.push([o.value.hash,r,null]),this.emit("transactionExecuted",{message:`transaction hash ${o.value.hash} has been executed on chain`,transactionHash:e.value.hash})):(this.executedTransactions.push([o.status,r,o.reason]),this.emit("transactionExecutionFailed",{message:`failed to execute transaction ${this.executedTransactions.length} with error ${o.reason}`,error:o.reason}))}}catch(n){throw new Error(`Check transaction failed for ${this.account.accountAddress.toString()} with error ${n}`)}}async push(e,r){await this.transactionsQueue.enqueue([e,r])}async generateNextTransaction(e,r){if(this.transactionsQueue.isEmpty())return;let[n,s]=await this.transactionsQueue.dequeue();return await _n({aptosConfig:this.aptosConfig,sender:e.accountAddress,data:n,options:{...s,accountSequenceNumber:r}})}async run(){try{for(;!this.taskQueue.isCancelled();)await(await this.taskQueue.dequeue())()}catch(e){throw new Error(`Unable to start transaction batching: ${e}`)}}start(){if(this.started)throw new Error("worker has already started");this.started=!0,this.taskQueue.enqueue(()=>this.submitNextTransaction()),this.taskQueue.enqueue(()=>this.processTransactions()),this.run()}stop(){if(this.taskQueue.isCancelled())throw new Error("worker has already stopped");this.started=!1,this.taskQueue.cancel()}},$ft=class extends Uu{constructor(e){super(),this.config=e}start(e){let{sender:r}=e;this.account=r,this.transactionWorker=new Tft(this.config,r),this.transactionWorker.start(),this.registerToEvents()}push(e){let{data:r,options:n}=e;for(let s of r)this.transactionWorker.push(s,n)}registerToEvents(){this.transactionWorker.on("transactionSent",async e=>{this.emit("transactionSent",e)}),this.transactionWorker.on("transactionSendFailed",async e=>{this.emit("transactionSendFailed",e)}),this.transactionWorker.on("transactionExecuted",async e=>{this.emit("transactionExecuted",e)}),this.transactionWorker.on("transactionExecutionFailed",async e=>{this.emit("transactionExecutionFailed",e)}),this.transactionWorker.on("executionFinish",async e=>{this.emit("executionFinish",e)})}forSingleAccount(e){try{let{sender:r,data:n,options:s}=e;this.start({sender:r}),this.push({data:n,options:s})}catch(r){throw new Error(`failed to submit transactions with error: ${r}`)}}},vie=class{constructor(e){this.config=e,this.build=new Mft(this.config),this.simulate=new wI(this.config),this.submit=new _I(this.config),this.batch=new $ft(this.config)}async getTransactions(e){return hat({aptosConfig:this.config,...e})}async getTransactionByVersion(e){return dat({aptosConfig:this.config,...e})}async getTransactionByHash(e){return KC({aptosConfig:this.config,...e})}async isPendingTransaction(e){return pat({aptosConfig:this.config,...e})}async waitForTransaction(e){return GC({aptosConfig:this.config,...e})}async getGasPriceEstimation(){return mre({aptosConfig:this.config})}getSigningMessage(e){return yft(e)}async publishPackageTransaction(e){return mft({aptosConfig:this.config,...e})}async rotateAuthKey(e){return bft({aptosConfig:this.config,...e})}sign(e){return mI({...e})}signAsFeePayer(e){let{signer:r,transaction:n}=e;if(!n.feePayerAddress)throw new Error(`Transaction ${n} is not a Fee Payer transaction`);return n.feePayerAddress=r.accountAddress,mI({signer:r,transaction:n})}async batchTransactionsForSingleAccount(e){try{let{sender:r,data:n,options:s}=e;this.batch.forSingleAccount({sender:r,data:n,options:s})}catch(r){throw new Error(`failed to submit transactions with error: ${r}`)}}async signAndSubmitTransaction(e){let{signer:r,transaction:n}=e;return oO({aptosConfig:this.config,signer:r,transaction:n})}},yie=class{constructor(e){this.config=e}async getAccountInfo(e){return Yp({aptosConfig:this.config,...e})}async getAccountModules(e){return Uct({aptosConfig:this.config,...e})}async getAccountModule(e){return Cne({aptosConfig:this.config,...e})}async getAccountTransactions(e){return Fct({aptosConfig:this.config,...e})}async getAccountResources(e){return jct({aptosConfig:this.config,...e})}async getAccountResource(e){return One({aptosConfig:this.config,...e})}async lookupOriginalAccountAddress(e){return Bne({aptosConfig:this.config,...e})}async getAccountTokensCount(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),qct({aptosConfig:this.config,...e})}async getAccountOwnedTokens(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),zct({aptosConfig:this.config,...e})}async getAccountOwnedTokensFromCollectionAddress(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Hct({aptosConfig:this.config,...e})}async getAccountCollectionsWithOwnedTokens(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Vct({aptosConfig:this.config,...e})}async getAccountTransactionsCount(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),Kct({aptosConfig:this.config,...e})}async getAccountCoinsData(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Pne({aptosConfig:this.config,...e})}async getAccountCoinsCount(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Wct({aptosConfig:this.config,...e})}async getAccountAPTAmount(e){return this.getAccountCoinAmount({coinType:yre,...e})}async getAccountCoinAmount(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Gct({aptosConfig:this.config,...e})}async getAccountOwnedObjects(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"default_processor"}),Jct({aptosConfig:this.config,...e})}async deriveAccountFromPrivateKey(e){return Qct({aptosConfig:this.config,...e})}},Pq=["A name must be between 3 and 63 characters long,","and can only contain lowercase a-z, 0-9, and hyphens.","A name may not start or end with a hyphen."].join(" ");function Nq(t){return!(!t||t.length<3||t.length>63||!/^[a-z\d][a-z\d-]{1,61}[a-z\d]$/.test(t))}function ph(t){let[e,r,...n]=t.replace(/\.apt$/,"").split(".");if(n.length>0)throw new Error(`${t} is invalid. A name can only have two parts, a domain and a subdomain separated by a "."`);if(!Nq(e))throw new Error(`${e} is not valid. ${Pq}`);if(r&&!Nq(r))throw new Error(`${r} is not valid. ${Pq}`);return{domainName:r||e,subdomainName:r?e:void 0}}var Cft="0x585fc9f0f0c54183b039ffc770ca282ebd87307916c215a3e692f2f8e4305e82",Oft={testnet:"0x5f8fd2347449685cf41d4db97926ec3a096eaf381332be4f1318ad4d16a8497c",mainnet:"0x867ed1f6bf916171b1de3ee92849b8978b7d1b9e0a8cc982a3d19d535dfd9c0c",local:Cft,custom:null,devnet:null,randomnet:null};function Wu(t){let e=Oft[t.network];if(!e)throw new Error(`The ANS contract is not deployed to ${t.network}`);return e}var Bft=t=>({vec:[t]}),Pft=()=>({vec:[]}),aO=t=>t!=null?Bft(t):Pft(),C2=t=>{if(t&&typeof t=="object"&&"vec"in t&&Array.isArray(t.vec))return t.vec[0]};async function Nft(t){let{aptosConfig:e,name:r}=t,n=Wu(e),{domainName:s,subdomainName:i}=ph(r),o=await Wg({aptosConfig:e,payload:{function:`${n}::router::get_owner_addr`,functionArguments:[s,aO(i)]}}),c=C2(o[0]);return c?Jt.from(c).toString():void 0}async function kft(t){let{aptosConfig:e,expiration:r,name:n,sender:s,targetAddress:i,toAddress:o,options:c,transferable:l}=t,d=Wu(e),{domainName:v,subdomainName:b}=ph(n),A=r.policy==="subdomain:independent"||r.policy==="subdomain:follow-domain";if(b&&!A)throw new Error("Subdomains must have an expiration policy of either 'subdomain:independent' or 'subdomain:follow-domain'");if(A&&!b)throw new Error(`Policy is set to ${r.policy} but no subdomain was provided`);if(r.policy==="domain"){let C=r.years??1;if(C!==1)throw new Error("For now, names can only be registered for 1 year at a time");let T=C*31536e3;return await _n({aptosConfig:e,sender:s.accountAddress.toString(),data:{function:`${d}::router::register_domain`,functionArguments:[v,T,i,o]},options:c})}if(!b)throw new Error(`${r.policy} requires a subdomain to be provided.`);let x=await mie({aptosConfig:e,name:v});if(!x)throw new Error("The domain does not exist");let R=r.policy==="subdomain:independent"?r.expirationDate:x;if(R>x)throw new Error("The subdomain expiration time cannot be greater than the domain expiration time");return await _n({aptosConfig:e,sender:s.accountAddress.toString(),data:{function:`${d}::router::register_subdomain`,functionArguments:[v,b,Math.round(R/1e3),r.policy==="subdomain:follow-domain"?1:0,!!l,i,o]},options:c})}async function mie(t){let{aptosConfig:e,name:r}=t,n=Wu(e),{domainName:s,subdomainName:i}=ph(r);try{let o=await Wg({aptosConfig:e,payload:{function:`${n}::router::get_expiration`,functionArguments:[s,aO(i)]}});return Number(o[0])*1e3}catch{return}}async function Lft(t){let{aptosConfig:e,address:r}=t,n=Wu(e),s=await Wg({aptosConfig:e,payload:{function:`${n}::router::get_primary_name`,functionArguments:[Jt.from(r).toString()]}}),i=C2(s[1]),o=C2(s[0]);if(i)return[o,i].filter(Boolean).join(".")}async function Dft(t){let{aptosConfig:e,sender:r,name:n,options:s}=t,i=Wu(e);if(!n)return await _n({aptosConfig:e,sender:r.accountAddress.toString(),data:{function:`${i}::router::clear_primary_name`,functionArguments:[]},options:s});let{domainName:o,subdomainName:c}=ph(n);return await _n({aptosConfig:e,sender:r.accountAddress.toString(),data:{function:`${i}::router::set_primary_name`,functionArguments:[o,c]},options:s})}async function Uft(t){let{aptosConfig:e,name:r}=t,n=Wu(e),{domainName:s,subdomainName:i}=ph(r),o=await Wg({aptosConfig:e,payload:{function:`${n}::router::get_target_addr`,functionArguments:[s,aO(i)]}}),c=C2(o[0]);return c?Jt.from(c).toString():void 0}async function Fft(t){let{aptosConfig:e,sender:r,name:n,address:s,options:i}=t,o=Wu(e),{domainName:c,subdomainName:l}=ph(n);return await _n({aptosConfig:e,sender:r.accountAddress.toString(),data:{function:`${o}::router::set_target_addr`,functionArguments:[c,l,s]},options:i})}async function jft(t){let{aptosConfig:e,name:r}=t,{domainName:n,subdomainName:s=""}=ph(r),i=(await wn({aptosConfig:e,query:{query:d1,variables:{where_condition:{domain:{_eq:n},subdomain:{_eq:s}},limit:1}},originMethod:"getName"})).current_aptos_names[0];return i&&(i=b1(i)),i}async function qft(t){var i;let{aptosConfig:e,options:r,accountAddress:n}=t,s=await cO({aptosConfig:e});return(await wn({aptosConfig:e,originMethod:"getAccountNames",query:{query:d1,variables:{limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset,order_by:r==null?void 0:r.orderBy,where_condition:{...((i=t.options)==null?void 0:i.where)??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:s}}}}})).current_aptos_names.map(b1)}async function zft(t){var i;let{aptosConfig:e,options:r,accountAddress:n}=t,s=await cO({aptosConfig:e});return(await wn({aptosConfig:e,originMethod:"getAccountDomains",query:{query:d1,variables:{limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset,order_by:r==null?void 0:r.orderBy,where_condition:{...((i=t.options)==null?void 0:i.where)??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:s},subdomain:{_eq:""}}}}})).current_aptos_names.map(b1)}async function Hft(t){var i;let{aptosConfig:e,options:r,accountAddress:n}=t,s=await cO({aptosConfig:e});return(await wn({aptosConfig:e,originMethod:"getAccountSubdomains",query:{query:d1,variables:{limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset,order_by:r==null?void 0:r.orderBy,where_condition:{...((i=t.options)==null?void 0:i.where)??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:s},subdomain:{_neq:""}}}}})).current_aptos_names.map(b1)}async function Vft(t){var s;let{aptosConfig:e,options:r,domain:n}=t;return(await wn({aptosConfig:e,originMethod:"getDomainSubdomains",query:{query:d1,variables:{limit:r==null?void 0:r.limit,offset:r==null?void 0:r.offset,order_by:r==null?void 0:r.orderBy,where_condition:{...((s=t.options)==null?void 0:s.where)??{},domain:{_eq:n},subdomain:{_neq:""}}}}})).current_aptos_names.map(b1)}async function cO(t){let{aptosConfig:e}=t,r=Wu(e),[n]=await Wg({aptosConfig:e,payload:{function:`${r}::config::reregistration_grace_sec`,functionArguments:[]}}),s=n/60/60/24,i=()=>new Date;return new Date(i().setDate(i().getDate()-s)).toISOString()}async function Kft(t){let{aptosConfig:e,sender:r,name:n,years:s=1,options:i}=t,o=Wu(e),c=s*31536e3,{domainName:l,subdomainName:d}=ph(n);if(d)throw new Error("Subdomains cannot be renewed");if(s!==1)throw new Error("Currently, only 1 year renewals are supported");return await _n({aptosConfig:e,sender:r.accountAddress.toString(),data:{function:`${o}::router::renew_domain`,functionArguments:[l,c]},options:i})}function b1(t){return{...t,expiration_timestamp:new Date(t.expiration_timestamp).valueOf()}}var bie=class{constructor(e){this.config=e}async getOwnerAddress(e){return Nft({aptosConfig:this.config,...e})}async getExpiration(e){return mie({aptosConfig:this.config,...e})}async getTargetAddress(e){return Uft({aptosConfig:this.config,...e})}async setTargetAddress(e){return Fft({aptosConfig:this.config,...e})}async getPrimaryName(e){return Lft({aptosConfig:this.config,...e})}async setPrimaryName(e){return Dft({aptosConfig:this.config,...e})}async registerName(e){return kft({aptosConfig:this.config,...e})}async renewDomain(e){return Kft({aptosConfig:this.config,...e})}async getName(e){return jft({aptosConfig:this.config,...e})}async getAccountNames(e){return qft({aptosConfig:this.config,...e})}async getAccountDomains(e){return zft({aptosConfig:this.config,...e})}async getAccountSubdomains(e){return Hft({aptosConfig:this.config,...e})}async getDomainSubdomains(e){return Vft({aptosConfig:this.config,...e})}};function wie(t,e){return function(){return t.apply(e,arguments)}}const{toString:Gft}=Object.prototype,{getPrototypeOf:fO}=Object,CA=(t=>e=>{const r=Gft.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jf=t=>(t=t.toLowerCase(),e=>CA(e)===t),OA=t=>e=>typeof e===t,{isArray:Yg}=Array,vm=OA("undefined");function Wft(t){return t!==null&&!vm(t)&&t.constructor!==null&&!vm(t.constructor)&&Ra(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _ie=jf("ArrayBuffer");function Jft(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_ie(t.buffer),e}const Qft=OA("string"),Ra=OA("function"),Eie=OA("number"),BA=t=>t!==null&&typeof t=="object",Zft=t=>t===!0||t===!1,p_=t=>{if(CA(t)!=="object")return!1;const e=fO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xft=jf("Date"),Yft=jf("File"),eut=jf("Blob"),tut=jf("FileList"),rut=t=>BA(t)&&Ra(t.pipe),nut=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ra(t.append)&&((e=CA(t))==="formdata"||e==="object"&&Ra(t.toString)&&t.toString()==="[object FormData]"))},iut=jf("URLSearchParams"),sut=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function w1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Yg(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,t[c],c,t)}}function Sie(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Aie=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hd)(),xie=t=>!vm(t)&&t!==Aie;function SI(){const{caseless:t}=xie(this)&&this||{},e={},r=(n,s)=>{const i=t&&Sie(e,s)||s;p_(e[i])&&p_(n)?e[i]=SI(e[i],n):p_(n)?e[i]=SI({},n):Yg(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&w1(arguments[n],r);return e}const out=(t,e,r,{allOwnKeys:n}={})=>(w1(e,(s,i)=>{r&&Ra(s)?t[i]=wie(s,r):t[i]=s},{allOwnKeys:n}),t),aut=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cut=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},fut=(t,e,r,n)=>{let s,i,o;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&fO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},uut=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},lut=t=>{if(!t)return null;if(Yg(t))return t;let e=t.length;if(!Eie(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},hut=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fO(Uint8Array)),dut=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},put=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},gut=jf("HTMLFormElement"),vut=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),kq=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yut=jf("RegExp"),Mie=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};w1(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},mut=t=>{Mie(t,(e,r)=>{if(Ra(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ra(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},but=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Yg(t)?n(t):n(String(t).split(e)),r},wut=()=>{},_ut=(t,e)=>(t=+t,Number.isFinite(t)?t:e),rM="abcdefghijklmnopqrstuvwxyz",Lq="0123456789",Iie={DIGIT:Lq,ALPHA:rM,ALPHA_DIGIT:rM+rM.toUpperCase()+Lq},Eut=(t=16,e=Iie.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Sut(t){return!!(t&&Ra(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Aut=t=>{const e=new Array(10),r=(n,s)=>{if(BA(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=Yg(n)?[]:{};return w1(n,(o,c)=>{const l=r(o,s+1);!vm(l)&&(i[c]=l)}),e[s]=void 0,i}}return n};return r(t,0)},xut=jf("AsyncFunction"),Mut=t=>t&&(BA(t)||Ra(t))&&Ra(t.then)&&Ra(t.catch),ht={isArray:Yg,isArrayBuffer:_ie,isBuffer:Wft,isFormData:nut,isArrayBufferView:Jft,isString:Qft,isNumber:Eie,isBoolean:Zft,isObject:BA,isPlainObject:p_,isUndefined:vm,isDate:Xft,isFile:Yft,isBlob:eut,isRegExp:yut,isFunction:Ra,isStream:rut,isURLSearchParams:iut,isTypedArray:hut,isFileList:tut,forEach:w1,merge:SI,extend:out,trim:sut,stripBOM:aut,inherits:cut,toFlatObject:fut,kindOf:CA,kindOfTest:jf,endsWith:uut,toArray:lut,forEachEntry:dut,matchAll:put,isHTMLForm:gut,hasOwnProperty:kq,hasOwnProp:kq,reduceDescriptors:Mie,freezeMethods:mut,toObjectSet:but,toCamelCase:vut,noop:wut,toFiniteNumber:_ut,findKey:Sie,global:Aie,isContextDefined:xie,ALPHABET:Iie,generateString:Eut,isSpecCompliantForm:Sut,toJSONObject:Aut,isAsyncFn:xut,isThenable:Mut};function Yr(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}ht.inherits(Yr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rie=Yr.prototype,Tie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Tie[t]={value:t}});Object.defineProperties(Yr,Tie);Object.defineProperty(Rie,"isAxiosError",{value:!0});Yr.from=(t,e,r,n,s,i)=>{const o=Object.create(Rie);return ht.toFlatObject(t,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Yr.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Iut=null;function AI(t){return ht.isPlainObject(t)||ht.isArray(t)}function $ie(t){return ht.endsWith(t,"[]")?t.slice(0,-2):t}function Dq(t,e,r){return t?t.concat(e).map(function(s,i){return s=$ie(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Rut(t){return ht.isArray(t)&&!t.some(AI)}const Tut=ht.toFlatObject(ht,{},null,function(e){return/^is[A-Z]/.test(e)});function PA(t,e,r){if(!ht.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ht.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!ht.isUndefined(T[C])});const n=r.metaTokens,s=r.visitor||v,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ht.isSpecCompliantForm(e);if(!ht.isFunction(s))throw new TypeError("visitor must be a function");function d(R){if(R===null)return"";if(ht.isDate(R))return R.toISOString();if(!l&&ht.isBlob(R))throw new Yr("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(R)||ht.isTypedArray(R)?l&&typeof Blob=="function"?new Blob([R]):Re.Buffer.from(R):R}function v(R,C,T){let $=R;if(R&&!T&&typeof R=="object"){if(ht.endsWith(C,"{}"))C=n?C:C.slice(0,-2),R=JSON.stringify(R);else if(ht.isArray(R)&&Rut(R)||(ht.isFileList(R)||ht.endsWith(C,"[]"))&&($=ht.toArray(R)))return C=$ie(C),$.forEach(function(D,L){!(ht.isUndefined(D)||D===null)&&e.append(o===!0?Dq([C],L,i):o===null?C:C+"[]",d(D))}),!1}return AI(R)?!0:(e.append(Dq(T,C,i),d(R)),!1)}const b=[],A=Object.assign(Tut,{defaultVisitor:v,convertValue:d,isVisitable:AI});function x(R,C){if(!ht.isUndefined(R)){if(b.indexOf(R)!==-1)throw Error("Circular reference detected in "+C.join("."));b.push(R),ht.forEach(R,function($,O){(!(ht.isUndefined($)||$===null)&&s.call(e,$,ht.isString(O)?O.trim():O,C,A))===!0&&x($,C?C.concat(O):[O])}),b.pop()}}if(!ht.isObject(t))throw new TypeError("data must be an object");return x(t),e}function Uq(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function uO(t,e){this._pairs=[],t&&PA(t,this,e)}const Cie=uO.prototype;Cie.append=function(e,r){this._pairs.push([e,r])};Cie.toString=function(e){const r=e?function(n){return e.call(this,n,Uq)}:Uq;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function $ut(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Oie(t,e,r){if(!e)return t;const n=r&&r.encode||$ut,s=r&&r.serialize;let i;if(s?i=s(e,r):i=ht.isURLSearchParams(e)?e.toString():new uO(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Cut{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ht.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Fq=Cut,Bie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Out=typeof URLSearchParams<"u"?URLSearchParams:uO,But=typeof FormData<"u"?FormData:null,Put=typeof Blob<"u"?Blob:null,Nut={isBrowser:!0,classes:{URLSearchParams:Out,FormData:But,Blob:Put},protocols:["http","https","file","blob","url","data"]},Pie=typeof window<"u"&&typeof document<"u",kut=(t=>Pie&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Lut=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Dut=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pie,hasStandardBrowserEnv:kut,hasStandardBrowserWebWorkerEnv:Lut},Symbol.toStringTag,{value:"Module"})),df={...Dut,...Nut};function Uut(t,e){return PA(t,new df.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return df.isNode&&ht.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Fut(t){return ht.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jut(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function Nie(t){function e(r,n,s,i){let o=r[i++];const c=Number.isFinite(+o),l=i>=r.length;return o=!o&&ht.isArray(s)?s.length:o,l?(ht.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!ht.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&ht.isArray(s[o])&&(s[o]=jut(s[o])),!c)}if(ht.isFormData(t)&&ht.isFunction(t.entries)){const r={};return ht.forEachEntry(t,(n,s)=>{e(Fut(n),s,r,0)}),r}return null}function qut(t,e,r){if(ht.isString(t))try{return(e||JSON.parse)(t),ht.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const lO={transitional:Bie,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=ht.isObject(e);if(i&&ht.isHTMLForm(e)&&(e=new FormData(e)),ht.isFormData(e))return s&&s?JSON.stringify(Nie(e)):e;if(ht.isArrayBuffer(e)||ht.isBuffer(e)||ht.isStream(e)||ht.isFile(e)||ht.isBlob(e))return e;if(ht.isArrayBufferView(e))return e.buffer;if(ht.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Uut(e,this.formSerializer).toString();if((c=ht.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return PA(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),qut(e)):e}],transformResponse:[function(e){const r=this.transitional||lO.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(e&&ht.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Yr.from(c,Yr.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:df.classes.FormData,Blob:df.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],t=>{lO.headers[t]={}});const hO=lO,zut=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hut=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&zut[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},jq=Symbol("internals");function Yv(t){return t&&String(t).trim().toLowerCase()}function g_(t){return t===!1||t==null?t:ht.isArray(t)?t.map(g_):String(t)}function Vut(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Kut=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nM(t,e,r,n,s){if(ht.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!ht.isString(e)){if(ht.isString(n))return e.indexOf(n)!==-1;if(ht.isRegExp(n))return n.test(e)}}function Gut(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Wut(t,e){const r=ht.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}class NA{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(c,l,d){const v=Yv(l);if(!v)throw new Error("header name must be a non-empty string");const b=ht.findKey(s,v);(!b||s[b]===void 0||d===!0||d===void 0&&s[b]!==!1)&&(s[b||l]=g_(c))}const o=(c,l)=>ht.forEach(c,(d,v)=>i(d,v,l));return ht.isPlainObject(e)||e instanceof this.constructor?o(e,r):ht.isString(e)&&(e=e.trim())&&!Kut(e)?o(Hut(e),r):e!=null&&i(r,e,n),this}get(e,r){if(e=Yv(e),e){const n=ht.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Vut(s);if(ht.isFunction(r))return r.call(this,s,n);if(ht.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Yv(e),e){const n=ht.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||nM(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Yv(o),o){const c=ht.findKey(n,o);c&&(!r||nM(n,n[c],c,r))&&(delete n[c],s=!0)}}return ht.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||nM(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return ht.forEach(this,(s,i)=>{const o=ht.findKey(n,i);if(o){r[o]=g_(s),delete r[i];return}const c=e?Gut(i):String(i).trim();c!==i&&delete r[i],r[c]=g_(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ht.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&ht.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[jq]=this[jq]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Yv(o);n[c]||(Wut(s,o),n[c]=!0)}return ht.isArray(e)?e.forEach(i):i(e),this}}NA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ht.reduceDescriptors(NA.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ht.freezeMethods(NA);const $u=NA;function iM(t,e){const r=this||hO,n=e||r,s=$u.from(n.headers);let i=n.data;return ht.forEach(t,function(c){i=c.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function kie(t){return!!(t&&t.__CANCEL__)}function _1(t,e,r){Yr.call(this,t??"canceled",Yr.ERR_CANCELED,e,r),this.name="CanceledError"}ht.inherits(_1,Yr,{__CANCEL__:!0});function Jut(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Yr("Request failed with status code "+r.status,[Yr.ERR_BAD_REQUEST,Yr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Qut=df.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];ht.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ht.isString(n)&&o.push("path="+n),ht.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zut(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Xut(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Lie(t,e){return t&&!Zut(e)?Xut(t,e):e}const Yut=df.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function s(i){let o=i;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(o){const c=ht.isString(o)?s(o):o;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}();function elt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tlt(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),v=n[i];o||(o=d),r[s]=l,n[s]=d;let b=i,A=0;for(;b!==s;)A+=r[b++],b=b%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-o<e)return;const x=v&&d-v;return x?Math.round(A*1e3/x):void 0}}function qq(t,e){let r=0;const n=tlt(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,c=i-r,l=n(c),d=i<=o;r=i;const v={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:l||void 0,estimated:l&&o&&d?(o-i)/l:void 0,event:s};v[e?"download":"upload"]=!0,t(v)}}const rlt=typeof XMLHttpRequest<"u",nlt=rlt&&function(t){return new Promise(function(r,n){let s=t.data;const i=$u.from(t.headers).normalize();let{responseType:o,withXSRFToken:c}=t,l;function d(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let v;if(ht.isFormData(s)){if(df.hasStandardBrowserEnv||df.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((v=i.getContentType())!==!1){const[C,...T]=v?v.split(";").map($=>$.trim()).filter(Boolean):[];i.setContentType([C||"multipart/form-data",...T].join("; "))}}let b=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(C+":"+T))}const A=Lie(t.baseURL,t.url);b.open(t.method.toUpperCase(),Oie(A,t.params,t.paramsSerializer),!0),b.timeout=t.timeout;function x(){if(!b)return;const C=$u.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),$={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};Jut(function(D){r(D),d()},function(D){n(D),d()},$),b=null}if("onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(n(new Yr("Request aborted",Yr.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new Yr("Network Error",Yr.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const $=t.transitional||Bie;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),n(new Yr(T,$.clarifyTimeoutError?Yr.ETIMEDOUT:Yr.ECONNABORTED,t,b)),b=null},df.hasStandardBrowserEnv&&(c&&ht.isFunction(c)&&(c=c(t)),c||c!==!1&&Yut(A))){const C=t.xsrfHeaderName&&t.xsrfCookieName&&Qut.read(t.xsrfCookieName);C&&i.set(t.xsrfHeaderName,C)}s===void 0&&i.setContentType(null),"setRequestHeader"in b&&ht.forEach(i.toJSON(),function(T,$){b.setRequestHeader($,T)}),ht.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),o&&o!=="json"&&(b.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&b.addEventListener("progress",qq(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",qq(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=C=>{b&&(n(!C||C.type?new _1(null,t,b):C),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const R=elt(A);if(R&&df.protocols.indexOf(R)===-1){n(new Yr("Unsupported protocol "+R+":",Yr.ERR_BAD_REQUEST,t));return}b.send(s||null)})},xI={http:Iut,xhr:nlt};ht.forEach(xI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zq=t=>`- ${t}`,ilt=t=>ht.isFunction(t)||t===null||t===!1,Die={getAdapter:t=>{t=ht.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!ilt(r)&&(n=xI[(o=String(r)).toLowerCase()],n===void 0))throw new Yr(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(zq).join(`
`):" "+zq(i[0]):"as no adapter specified";throw new Yr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:xI};function sM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _1(null,t)}function Hq(t){return sM(t),t.headers=$u.from(t.headers),t.data=iM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Die.getAdapter(t.adapter||hO.adapter)(t).then(function(n){return sM(t),n.data=iM.call(t,t.transformResponse,n),n.headers=$u.from(n.headers),n},function(n){return kie(n)||(sM(t),n&&n.response&&(n.response.data=iM.call(t,t.transformResponse,n.response),n.response.headers=$u.from(n.response.headers))),Promise.reject(n)})}const Vq=t=>t instanceof $u?t.toJSON():t;function tg(t,e){e=e||{};const r={};function n(d,v,b){return ht.isPlainObject(d)&&ht.isPlainObject(v)?ht.merge.call({caseless:b},d,v):ht.isPlainObject(v)?ht.merge({},v):ht.isArray(v)?v.slice():v}function s(d,v,b){if(ht.isUndefined(v)){if(!ht.isUndefined(d))return n(void 0,d,b)}else return n(d,v,b)}function i(d,v){if(!ht.isUndefined(v))return n(void 0,v)}function o(d,v){if(ht.isUndefined(v)){if(!ht.isUndefined(d))return n(void 0,d)}else return n(void 0,v)}function c(d,v,b){if(b in e)return n(d,v);if(b in t)return n(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,v)=>s(Vq(d),Vq(v),!0)};return ht.forEach(Object.keys(Object.assign({},t,e)),function(v){const b=l[v]||s,A=b(t[v],e[v],v);ht.isUndefined(A)&&b!==c||(r[v]=A)}),r}const Uie="1.6.2",dO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{dO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Kq={};dO.transitional=function(e,r,n){function s(i,o){return"[Axios v"+Uie+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new Yr(s(o," has been removed"+(r?" in "+r:"")),Yr.ERR_DEPRECATED);return r&&!Kq[o]&&(Kq[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};function slt(t,e,r){if(typeof t!="object")throw new Yr("options must be an object",Yr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const c=t[i],l=c===void 0||o(c,i,t);if(l!==!0)throw new Yr("option "+i+" must be "+l,Yr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Yr("Unknown option "+i,Yr.ERR_BAD_OPTION)}}const MI={assertOptions:slt,validators:dO},yl=MI.validators;class O2{constructor(e){this.defaults=e,this.interceptors={request:new Fq,response:new Fq}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=tg(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&MI.assertOptions(n,{silentJSONParsing:yl.transitional(yl.boolean),forcedJSONParsing:yl.transitional(yl.boolean),clarifyTimeoutError:yl.transitional(yl.boolean)},!1),s!=null&&(ht.isFunction(s)?r.paramsSerializer={serialize:s}:MI.assertOptions(s,{encode:yl.function,serialize:yl.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ht.merge(i.common,i[r.method]);i&&ht.forEach(["delete","get","head","post","put","patch","common"],R=>{delete i[R]}),r.headers=$u.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(l=l&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const d=[];this.interceptors.response.forEach(function(C){d.push(C.fulfilled,C.rejected)});let v,b=0,A;if(!l){const R=[Hq.bind(this),void 0];for(R.unshift.apply(R,c),R.push.apply(R,d),A=R.length,v=Promise.resolve(r);b<A;)v=v.then(R[b++],R[b++]);return v}A=c.length;let x=r;for(b=0;b<A;){const R=c[b++],C=c[b++];try{x=R(x)}catch(T){C.call(this,T);break}}try{v=Hq.call(this,x)}catch(R){return Promise.reject(R)}for(b=0,A=d.length;b<A;)v=v.then(d[b++],d[b++]);return v}getUri(e){e=tg(this.defaults,e);const r=Lie(e.baseURL,e.url);return Oie(r,e.params,e.paramsSerializer)}}ht.forEach(["delete","get","head","options"],function(e){O2.prototype[e]=function(r,n){return this.request(tg(n||{},{method:e,url:r,data:(n||{}).data}))}});ht.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(tg(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}O2.prototype[e]=r(),O2.prototype[e+"Form"]=r(!0)});const v_=O2;class pO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new _1(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new pO(function(s){e=s}),cancel:e}}}const olt=pO;function alt(t){return function(r){return t.apply(null,r)}}function clt(t){return ht.isObject(t)&&t.isAxiosError===!0}const II={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(II).forEach(([t,e])=>{II[e]=t});const flt=II;function Fie(t){const e=new v_(t),r=wie(v_.prototype.request,e);return ht.extend(r,v_.prototype,e,{allOwnKeys:!0}),ht.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Fie(tg(t,s))},r}const _i=Fie(hO);_i.Axios=v_;_i.CanceledError=_1;_i.CancelToken=olt;_i.isCancel=kie;_i.VERSION=Uie;_i.toFormData=PA;_i.AxiosError=Yr;_i.Cancel=_i.CanceledError;_i.all=function(e){return Promise.all(e)};_i.spread=alt;_i.isAxiosError=clt;_i.mergeConfig=tg;_i.AxiosHeaders=$u;_i.formToJSON=t=>Nie(ht.isHTMLForm(t)?new FormData(t):t);_i.getAdapter=Die.getAdapter;_i.HttpStatusCode=flt;_i.default=_i;const ult=_i;async function llt(t){var e,r;const{params:n,method:s,url:i,headers:o,body:c,overrides:l}=t,d={headers:o,method:s,url:i,params:n,data:c,withCredentials:(e=l==null?void 0:l.WITH_CREDENTIALS)!=null?e:!0,adapter:(r=l==null?void 0:l.ADAPTER)!=null?r:void 0};try{const v=await ult(d);return{status:v.status,statusText:v.statusText,data:v.data,headers:v.headers,config:v.config}}catch(v){const b=v;if(b.response)return b.response;throw v}}var hlt=class{constructor(e){this.network=(e==null?void 0:e.network)??aat,this.fullnode=e==null?void 0:e.fullnode,this.faucet=e==null?void 0:e.faucet,this.indexer=e==null?void 0:e.indexer,this.client=(e==null?void 0:e.client)??{provider:llt},this.clientConfig=(e==null?void 0:e.clientConfig)??{}}getRequestUrl(e){switch(e){case 0:if(this.fullnode!==void 0)return this.fullnode;if(this.network==="custom")throw new Error("Please provide a custom full node url");return xq[this.network];case 2:if(this.faucet!==void 0)return this.faucet;if(this.network==="custom")throw new Error("Please provide a custom faucet url");return Mq[this.network];case 1:if(this.indexer!==void 0)return this.indexer;if(this.network==="custom")throw new Error("Please provide a custom indexer url");return Aq[this.network];default:throw Error(`apiType ${e} is not supported`)}}isIndexerRequest(e){return Aq[this.network]===e}isFullnodeRequest(e){return xq[this.network]===e}isFaucetRequest(e){return Mq[this.network]===e}};async function dlt(t){let{aptosConfig:e,sender:r,recipient:n,amount:s,coinType:i,options:o}=t;return await _n({aptosConfig:e,sender:r,data:{function:"0x1::aptos_account::transfer_coins",typeArguments:[i??yre],functionArguments:[n,s]},options:o})}var jie=class{constructor(e){this.config=e}async transferCoinTransaction(e){return dlt({aptosConfig:this.config,...e})}},Yl={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",STRING:"0x1::string::String",ARRAY:"vector<u8>"},Ka="0x4::token::Token";async function plt(t){let{aptosConfig:e,digitalAssetAddress:r}=t,n={token_data_id:{_eq:Jt.from(r).toStringLong()}};return(await wn({aptosConfig:e,query:{query:Jot,variables:{where_condition:n}},originMethod:"getDigitalAssetData"})).current_token_datas_v2[0]}async function glt(t){let{aptosConfig:e,digitalAssetAddress:r}=t,n={token_data_id:{_eq:Jt.from(r).toStringLong()}};return(await wn({aptosConfig:e,query:{query:fre,variables:{where_condition:n}},originMethod:"getCurrentDigitalAssetOwnership"})).current_token_ownerships_v2[0]}async function vlt(t){let{aptosConfig:e,ownerAddress:r,options:n}=t,s={owner_address:{_eq:Jt.from(r).toStringLong()},amount:{_gt:0}},i={query:fre,variables:{where_condition:s,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:i,originMethod:"getOwnedDigitalAssets"})).current_token_ownerships_v2}async function ylt(t){let{aptosConfig:e,digitalAssetAddress:r,options:n}=t,s={token_data_id:{_eq:Jt.from(r).toStringLong()}},i={query:Wot,variables:{where_condition:s,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit,order_by:n==null?void 0:n.orderBy}};return(await wn({aptosConfig:e,query:i,originMethod:"getDigitalAssetActivity"})).token_activities_v2}async function mlt(t){let{aptosConfig:e,options:r,creator:n}=t;return await _n({aptosConfig:e,sender:n.accountAddress,data:{function:"0x4::aptos_token::create_collection",functionArguments:[new Tu(t.description),new Ru(t.maxSupply??AA),new Tu(t.name),new Tu(t.uri),new go(t.mutableDescription??!0),new go(t.mutableRoyalty??!0),new go(t.mutableURI??!0),new go(t.mutableTokenDescription??!0),new go(t.mutableTokenName??!0),new go(t.mutableTokenProperties??!0),new go(t.mutableTokenURI??!0),new go(t.tokensBurnableByCreator??!0),new go(t.tokensFreezableByCreator??!0),new Ru(t.royaltyNumerator??0),new Ru(t.royaltyDenominator??1)]},options:r})}async function qie(t){let{aptosConfig:e,creatorAddress:r,collectionName:n,options:s}=t,i=Jt.from(r),o={collection_name:{_eq:n},creator_address:{_eq:i.toStringLong()}};return s!=null&&s.tokenStandard&&(o.token_standard={_eq:(s==null?void 0:s.tokenStandard)??"v2"}),(await wn({aptosConfig:e,query:{query:qot,variables:{where_condition:o}},originMethod:"getCollectionData"})).current_collections_v2[0]}async function blt(t){return(await qie(t)).collection_id}async function wlt(t){let{aptosConfig:e,options:r,creator:n,collection:s,description:i,name:o,uri:c,propertyKeys:l,propertyTypes:d,propertyValues:v}=t,b=d==null?void 0:d.map(A=>Yl[A]);return await _n({aptosConfig:e,sender:n.accountAddress,data:{function:"0x4::aptos_token::mint",functionArguments:[s,i,o,c,l??[],b??[],zie(v??[],b??[])]},options:r})}async function _lt(t){let{aptosConfig:e,sender:r,digitalAssetAddress:n,recipient:s,digitalAssetType:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x1::object::transfer",typeArguments:[i??Ka],functionArguments:[n,s]},options:o})}async function Elt(t){let{aptosConfig:e,account:r,collection:n,description:s,name:i,uri:o,recipient:c,propertyKeys:l,propertyTypes:d,propertyValues:v,options:b}=t;if((l==null?void 0:l.length)!==(v==null?void 0:v.length))throw new Error("Property keys and property values counts do not match");if((d==null?void 0:d.length)!==(v==null?void 0:v.length))throw new Error("Property types and property values counts do not match");let A=d==null?void 0:d.map(x=>Yl[x]);return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::mint_soul_bound",functionArguments:[n,s,i,o,l??[],A??[],zie(v??[],A??[]),c]},options:b})}async function Slt(t){let{aptosConfig:e,creator:r,digitalAssetAddress:n,digitalAssetType:s,options:i}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::burn",typeArguments:[s??Ka],functionArguments:[n]},options:i})}async function Alt(t){let{aptosConfig:e,creator:r,digitalAssetAddress:n,digitalAssetType:s,options:i}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::freeze_transfer",typeArguments:[s??Ka],functionArguments:[n]},options:i})}async function xlt(t){let{aptosConfig:e,creator:r,digitalAssetAddress:n,digitalAssetType:s,options:i}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::unfreeze_transfer",typeArguments:[s??Ka],functionArguments:[n]},options:i})}async function Mlt(t){let{aptosConfig:e,creator:r,description:n,digitalAssetAddress:s,digitalAssetType:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_description",typeArguments:[i??Ka],functionArguments:[s,n]},options:o})}async function Ilt(t){let{aptosConfig:e,creator:r,name:n,digitalAssetAddress:s,digitalAssetType:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_name",typeArguments:[i??Ka],functionArguments:[s,n]},options:o})}async function Rlt(t){let{aptosConfig:e,creator:r,uri:n,digitalAssetAddress:s,digitalAssetType:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_uri",typeArguments:[i??Ka],functionArguments:[s,n]},options:o})}async function Tlt(t){let{aptosConfig:e,creator:r,propertyKey:n,propertyType:s,propertyValue:i,digitalAssetAddress:o,digitalAssetType:c,options:l}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::add_property",typeArguments:[c??Ka],functionArguments:[o,n,Yl[s],gO(i,Yl[s])]},options:l})}async function $lt(t){let{aptosConfig:e,creator:r,propertyKey:n,digitalAssetAddress:s,digitalAssetType:i,options:o}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::remove_property",typeArguments:[i??Ka],functionArguments:[s,n]},options:o})}async function Clt(t){let{aptosConfig:e,creator:r,propertyKey:n,propertyType:s,propertyValue:i,digitalAssetAddress:o,digitalAssetType:c,options:l}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::update_property",typeArguments:[c??Ka],functionArguments:[o,n,Yl[s],gO(i,Yl[s])]},options:l})}async function Olt(t){let{aptosConfig:e,creator:r,propertyKey:n,propertyType:s,propertyValue:i,digitalAssetAddress:o,digitalAssetType:c,options:l}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::add_typed_property",typeArguments:[c??Ka,Yl[s]],functionArguments:[o,n,i]},options:l})}async function Blt(t){let{aptosConfig:e,creator:r,propertyKey:n,propertyType:s,propertyValue:i,digitalAssetAddress:o,digitalAssetType:c,options:l}=t;return await _n({aptosConfig:e,sender:r.accountAddress,data:{function:"0x4::aptos_token::update_typed_property",typeArguments:[c??Ka,Yl[s]],functionArguments:[o,n,i]},options:l})}function zie(t,e){let r=new Array;return e.forEach((n,s)=>{r.push(gO(t[s],n))}),r}function gO(t,e){let r=WC(e);return Cy(t,r,0,[]).bcsToBytes()}var Hie=class{constructor(e){this.config=e}async getCollectionData(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),qie({aptosConfig:this.config,...e})}async getCollectionId(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),blt({aptosConfig:this.config,...e})}async getDigitalAssetData(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),plt({aptosConfig:this.config,...e})}async getCurrentDigitalAssetOwnership(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),glt({aptosConfig:this.config,...e})}async getOwnedDigitalAssets(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),vlt({aptosConfig:this.config,...e})}async getDigitalAssetActivity(e){return await jn({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),ylt({aptosConfig:this.config,...e})}async createCollectionTransaction(e){return mlt({aptosConfig:this.config,...e})}async mintDigitalAssetTransaction(e){return wlt({aptosConfig:this.config,...e})}async transferDigitalAssetTransaction(e){return _lt({aptosConfig:this.config,...e})}async mintSoulBoundTransaction(e){return Elt({aptosConfig:this.config,...e})}async burnDigitalAssetTransaction(e){return Slt({aptosConfig:this.config,...e})}async freezeDigitalAssetTransaferTransaction(e){return Alt({aptosConfig:this.config,...e})}async unfreezeDigitalAssetTransaferTransaction(e){return xlt({aptosConfig:this.config,...e})}async setDigitalAssetDescriptionTransaction(e){return Mlt({aptosConfig:this.config,...e})}async setDigitalAssetNameTransaction(e){return Ilt({aptosConfig:this.config,...e})}async setDigitalAssetURITransaction(e){return Rlt({aptosConfig:this.config,...e})}async addDigitalAssetPropertyTransaction(e){return Tlt({aptosConfig:this.config,...e})}async removeDigitalAssetPropertyTransaction(e){return $lt({aptosConfig:this.config,...e})}async updateDigitalAssetPropertyTransaction(e){return Clt({aptosConfig:this.config,...e})}async addDigitalAssetTypedPropertyTransaction(e){return Olt({aptosConfig:this.config,...e})}async updateDigitalAssetTypedPropertyTransaction(e){return Blt({aptosConfig:this.config,...e})}},qf=class{constructor(e){this.config=new hlt(e),this.account=new yie(this.config),this.ans=new bie(this.config),this.coin=new jie(this.config),this.digitalAsset=new Hie(this.config),this.event=new wre(this.config),this.faucet=new _re(this.config),this.fungibleAsset=new die(this.config),this.general=new pie(this.config),this.staking=new gie(this.config),this.transaction=new vie(this.config)}};function zf(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach(n=>{let s=Object.getOwnPropertyDescriptor(e.prototype,n);s&&(s.value=function(...i){return this[r][n](...i)},Object.defineProperty(t.prototype,n,s))})}zf(qf,yie,"account");zf(qf,bie,"ans");zf(qf,jie,"coin");zf(qf,Hie,"digitalAsset");zf(qf,wre,"event");zf(qf,_re,"faucet");zf(qf,die,"fungibleAsset");zf(qf,pie,"general");zf(qf,gie,"staking");zf(qf,vie,"transaction");var Qxt=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}deserializeStr(){let e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){let e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){let e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let e=this.deserializeU32(),r=this.deserializeU32();return BigInt(BigInt(r)<<BigInt(32)|BigInt(e))}deserializeU128(){let e=this.deserializeU64(),r=this.deserializeU64();return BigInt(r<<BigInt(64)|e)}deserializeU256(){let e=this.deserializeU128(),r=this.deserializeU128();return BigInt(r<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),r=0;for(;e<Wp;){let n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(r),!(n&128))break;r+=7}if(e>Wp)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}deserialize(e){return e.deserialize(this)}deserializeVector(e){let r=this.deserializeUleb128AsU32(),n=new Array;for(let s=0;s<r;s+=1)n.push(this.deserialize(e));return n}},Plt=(t=>(t.JSON="application/json",t.BCS="application/x-bcs",t.BCS_SIGNED_TRANSACTION="application/x.aptos.signed_transaction+bcs",t))(Plt||{}),Nlt=(t=>(t[t.Bool=0]="Bool",t[t.U8=1]="U8",t[t.U64=2]="U64",t[t.U128=3]="U128",t[t.Address=4]="Address",t[t.Signer=5]="Signer",t[t.Vector=6]="Vector",t[t.Struct=7]="Struct",t[t.U16=8]="U16",t[t.U32=9]="U32",t[t.U256=10]="U256",t[t.Reference=254]="Reference",t[t.Generic=255]="Generic",t))(Nlt||{}),klt=(t=>(t[t.U8=0]="U8",t[t.U64=1]="U64",t[t.U128=2]="U128",t[t.Address=3]="Address",t[t.U8Vector=4]="U8Vector",t[t.Bool=5]="Bool",t[t.U16=6]="U16",t[t.U32=7]="U32",t[t.U256=8]="U256",t))(klt||{}),Llt=(t=>(t[t.Script=0]="Script",t[t.EntryFunction=2]="EntryFunction",t[t.Multisig=3]="Multisig",t))(Llt||{}),Dlt=(t=>(t[t.MultiAgentTransaction=0]="MultiAgentTransaction",t[t.FeePayerTransaction=1]="FeePayerTransaction",t))(Dlt||{}),Ult=(t=>(t[t.Ed25519=0]="Ed25519",t[t.MultiEd25519=1]="MultiEd25519",t[t.MultiAgent=2]="MultiAgent",t[t.FeePayer=3]="FeePayer",t[t.SingleSender=4]="SingleSender",t))(Ult||{}),Flt=(t=>(t[t.Ed25519=0]="Ed25519",t[t.MultiEd25519=1]="MultiEd25519",t[t.SingleKey=2]="SingleKey",t[t.MultiKey=3]="MultiKey",t))(Flt||{}),jlt=(t=>(t[t.Ed25519=0]="Ed25519",t[t.Secp256k1=1]="Secp256k1",t))(jlt||{}),qlt=(t=>(t[t.Ed25519=0]="Ed25519",t[t.Secp256k1=1]="Secp256k1",t))(qlt||{}),zlt=(t=>(t.Pending="pending_transaction",t.User="user_transaction",t.Genesis="genesis_transaction",t.BlockMetadata="block_metadata_transaction",t.StateCheckpoint="state_checkpoint_transaction",t))(zlt||{}),Hlt=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(Hlt||{}),Vlt=(t=>(t.STORE="store",t.DROP="drop",t.KEY="key",t.COPY="copy",t))(Vlt||{}),Klt=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(Klt||{}),Glt=(t=>(t[t.Ed25519=0]="Ed25519",t[t.MultiEd25519=1]="MultiEd25519",t[t.SingleKey=2]="SingleKey",t[t.MultiKey=3]="MultiKey",t))(Glt||{}),Wlt=(t=>(t[t.Ed25519=0]="Ed25519",t[t.Secp256k1Ecdsa=2]="Secp256k1Ecdsa",t))(Wlt||{}),Jlt=(t=>(t[t.DeriveAuid=251]="DeriveAuid",t[t.DeriveObjectAddressFromObject=252]="DeriveObjectAddressFromObject",t[t.DeriveObjectAddressFromGuid=253]="DeriveObjectAddressFromGuid",t[t.DeriveObjectAddressFromSeed=254]="DeriveObjectAddressFromSeed",t[t.DeriveResourceAccountAddress=255]="DeriveResourceAccountAddress",t))(Jlt||{});const Qlt=Vu(DZe),Xxt=[{inputs:[],name:"name",outputs:[{name:"",type:"string"}],type:"function",stateMutability:"view"},{inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],type:"function",stateMutability:"nonpayable"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],type:"function",stateMutability:"view"},{inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],type:"function",stateMutability:"nonpayable"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],type:"function",stateMutability:"view"},{inputs:[],name:"version",outputs:[{name:"",type:"string"}],type:"function",stateMutability:"view"},{inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function",stateMutability:"view"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],type:"function",stateMutability:"view"},{inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],type:"function",stateMutability:"nonpayable"},{inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],type:"function",stateMutability:"nonpayable"},{inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],type:"function",stateMutability:"view"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor",stateMutability:"nonpayable"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}];var Zlt=Dg;function Xlt(t,e,r){for(var n=-1,s=t.length;++n<s;){var i=t[n],o=e(i);if(o!=null&&(c===void 0?o===o&&!Zlt(o):r(o,c)))var c=o,l=i}return l}var Vie=Xlt;function Ylt(t,e){return t>e}var eht=Ylt,tht=Vie,rht=eht,nht=$g;function iht(t){return t&&t.length?tht(t,nht,rht):void 0}var sht=iht;const Yxt=Mr(sht);function oht(t,e){return t<e}var aht=oht,cht=Vie,fht=aht,uht=$g;function lht(t){return t&&t.length?cht(t,uht,fht):void 0}var hht=lht;const e3t=Mr(hht);var oM="Invariant Violation",Gq=Object.setPrototypeOf,dht=Gq===void 0?function(t,e){return t.__proto__=e,t}:Gq,un=function(t){$c(e,t);function e(r){r===void 0&&(r=oM);var n=t.call(this,typeof r=="number"?oM+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=oM,dht(n,e.prototype),n}return e}(Error);function It(t,e){if(!t)throw new un(e)}var B2=["debug","log","warn","error","silent"],RI=B2.indexOf("log");function ww(t){return function(){if(B2.indexOf(t)>=RI){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=ww("debug"),t.log=ww("log"),t.warn=ww("warn"),t.error=ww("error")})(It||(It={}));function t3t(t){var e=B2[RI];return RI=Math.max(0,B2.indexOf(t)),e}function wa(t){try{return t()}catch{}}const Wq=wa(function(){return globalThis})||wa(function(){return window})||wa(function(){return self})||wa(function(){return hd})||wa(function(){return wa.constructor("return this")()});var Jq="__",Qq=[Jq,Jq].join("DEV");function pht(){try{return!!__DEV__}catch{return Object.defineProperty(Wq,Qq,{value:wa(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Wq[Qq]}}const aM=pht();function Cl(t){try{return t()}catch{}}var TI=Cl(function(){return globalThis})||Cl(function(){return window})||Cl(function(){return self})||Cl(function(){return hd})||Cl(function(){return Cl.constructor("return this")()}),$I=!1;function ght(){TI&&!Cl(function(){return"production"})&&!Cl(function(){return mt})&&(Object.defineProperty(TI,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),$I=!0)}ght();function Zq(){$I&&(delete TI.process,$I=!1)}function vht(){return Zq()}function yht(){__DEV__?It(typeof aM=="boolean",aM):It(typeof aM=="boolean",39)}vht();yht();function kA(t,e){var r=t.directives;return!r||!r.length?!0:wht(r).every(function(n){var s=n.directive,i=n.ifArgument,o=!1;return i.value.kind==="Variable"?(o=e&&e[i.value.name.value],__DEV__?It(o!==void 0,"Invalid variable referenced in @".concat(s.name.value," directive.")):It(o!==void 0,40)):o=i.value.value,s.name.value==="skip"?!o:o})}function r3t(t){var e=[];return Pa(t,{Directive:function(r){e.push(r.name.value)}}),e}var n3t=function(t,e){return E1(t,e,!1)},i3t=function(t,e){return E1(t,e,!0)};function E1(t,e,r){var n=new Set(t),s=n.size;return Pa(e,{Directive:function(i){if(n.delete(i.name.value)&&(!r||!n.size))return Qh}}),r?!n.size:n.size<s}function mht(t){return t&&E1(["client","export"],t,!0)}function bht(t){var e=t.name.value;return e==="skip"||e==="include"}function wht(t){var e=[];return t&&t.length&&t.forEach(function(r){if(bht(r)){var n=r.arguments,s=r.name.value;__DEV__?It(n&&n.length===1,"Incorrect number of arguments for the @".concat(s," directive.")):It(n&&n.length===1,41);var i=n[0];__DEV__?It(i.name&&i.name.value==="if","Invalid argument for the @".concat(s," directive.")):It(i.name&&i.name.value==="if",42);var o=i.value;__DEV__?It(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),"Argument for the @".concat(s," directive must be a variable or a boolean value.")):It(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),43),e.push({directive:r,ifArgument:i})}}),e}function _ht(t,e){var r=e,n=[];t.definitions.forEach(function(i){if(i.kind==="OperationDefinition")throw __DEV__?new un("Found a ".concat(i.operation," operation").concat(i.name?" named '".concat(i.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new un(44);i.kind==="FragmentDefinition"&&n.push(i)}),typeof r>"u"&&(__DEV__?It(n.length===1,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):It(n.length===1,45),r=n[0].name.value);var s=Qe(Qe({},t),{definitions:Zy([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return s}function vO(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function yO(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return __DEV__?It(n,"No fragment named ".concat(r)):It(n,46),n||null}default:return null}}function ui(t){return t!==null&&typeof t=="object"}function sp(t){return{__ref:String(t)}}function yn(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function Eht(t){return ui(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function Sht(t){return t.kind==="StringValue"}function Aht(t){return t.kind==="BooleanValue"}function xht(t){return t.kind==="IntValue"}function Mht(t){return t.kind==="FloatValue"}function Iht(t){return t.kind==="Variable"}function Rht(t){return t.kind==="ObjectValue"}function Tht(t){return t.kind==="ListValue"}function $ht(t){return t.kind==="EnumValue"}function Cht(t){return t.kind==="NullValue"}function rg(t,e,r,n){if(xht(r)||Mht(r))t[e.value]=Number(r.value);else if(Aht(r)||Sht(r))t[e.value]=r.value;else if(Rht(r)){var s={};r.fields.map(function(o){return rg(s,o.name,o.value,n)}),t[e.value]=s}else if(Iht(r)){var i=(n||{})[r.name.value];t[e.value]=i}else if(Tht(r))t[e.value]=r.values.map(function(o){var c={};return rg(c,e,o,n),c[e.value]});else if($ht(r))t[e.value]=r.value;else if(Cht(r))t[e.value]=null;else throw __DEV__?new un('The inline argument "'.concat(e.value,'" of kind "').concat(r.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new un(55)}function Oht(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(s){r[s.name.value]={},s.arguments&&s.arguments.forEach(function(i){var o=i.name,c=i.value;return rg(r[s.name.value],o,c,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(s){var i=s.name,o=s.value;return rg(n,i,o,e)})),mO(t.name.value,n,r)}var Bht=["connection","include","skip","client","rest","export"],mO=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var s={};return n.forEach(function(c){s[c]=e[c]}),"".concat(r.connection.key,"(").concat(ey(s),")")}else return r.connection.key;var i=t;if(e){var o=ey(e);i+="(".concat(o,")")}return r&&Object.keys(r).forEach(function(c){Bht.indexOf(c)===-1&&(r[c]&&Object.keys(r[c]).length?i+="@".concat(c,"(").concat(ey(r[c]),")"):i+="@".concat(c))}),i},{setStringify:function(t){var e=ey;return ey=t,e}}),ey=function(e){return JSON.stringify(e,Pht)};function Pht(t,e){return ui(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function LA(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var s=n.name,i=n.value;return rg(r,s,i,e)}),r}return null}function Rd(t){return t.alias?t.alias.value:t.name.value}function CI(t,e,r){if(typeof t.__typename=="string")return t.__typename;for(var n=0,s=e.selections;n<s.length;n++){var i=s[n];if(Td(i)){if(i.name.value==="__typename")return t[Rd(i)]}else{var o=CI(t,yO(i,r).selectionSet,r);if(typeof o=="string")return o}}}function Td(t){return t.kind==="Field"}function Nht(t){return t.kind==="InlineFragment"}function DA(t){__DEV__?It(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):It(t&&t.kind==="Document",47);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw __DEV__?new un('Schema type definitions not allowed in queries. Found: "'.concat(r.kind,'"')):new un(48);return r});return __DEV__?It(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):It(e.length<=1,49),t}function S1(t){return DA(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function OI(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function bO(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Kie(t){var e=S1(t);return __DEV__?It(e&&e.operation==="query","Must contain a query definition."):It(e&&e.operation==="query",50),e}function kht(t){__DEV__?It(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):It(t.kind==="Document",51),__DEV__?It(t.definitions.length<=1,"Fragment must have exactly one definition."):It(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?It(e.kind==="FragmentDefinition","Must be a fragment definition."):It(e.kind==="FragmentDefinition",53),e}function wO(t){DA(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var s=n[r];if(s.kind==="OperationDefinition"){var i=s.operation;if(i==="query"||i==="mutation"||i==="subscription")return s}s.kind==="FragmentDefinition"&&!e&&(e=s)}if(e)return e;throw __DEV__?new un("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new un(54)}function _O(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&rg(e,n.variable.name,n.defaultValue)}),e}var li=Array.isArray;function Io(t){return Array.isArray(t)&&t.length>0}var Xq={kind:St.FIELD,name:{kind:St.NAME,value:"__typename"}};function Gie(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind===St.FRAGMENT_SPREAD&&Gie(e[r.name.value],e)})}function EO(t){return Gie(S1(t)||kht(t),vO(bO(t)))?null:t}function Lht(t){var e=new Set,r=[];return t.forEach(function(n){n.name?e.add(n.name):n.test&&r.push(n.test)}),function(n){return e.has(n.name.value)||r.some(function(s){return s(n)})}}function Yq(t){var e=new Map;return function(n){n===void 0&&(n=t);var s=e.get(n);return s||e.set(n,s={variables:new Set,fragmentSpreads:new Set}),s}}function Wie(t,e){for(var r=Yq(""),n=Yq(""),s=function(O){for(var D=0,L=void 0;D<O.length&&(L=O[D]);++D)if(!li(L)){if(L.kind===St.OPERATION_DEFINITION)return r(L.name&&L.name.value);if(L.kind===St.FRAGMENT_DEFINITION)return n(L.name.value)}return __DEV__&&It.error("Could not find operation or fragment"),null},i=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===St.OPERATION_DEFINITION&&++i;var c=Lht(t),l=t.some(function(O){return O.remove}),d=function(O){return l&&O&&O.some(c)},v=new Map,b=!1,A={enter:function(O){if(d(O.directives))return b=!0,null}},x=Pa(e,{Field:A,InlineFragment:A,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(O,D,L,F,H){var V=s(H);V&&V.variables.add(O.name.value)}},FragmentSpread:{enter:function(O,D,L,F,H){if(d(O.directives))return b=!0,null;var V=s(H);V&&V.fragmentSpreads.add(O.name.value)}},FragmentDefinition:{enter:function(O,D,L,F){v.set(JSON.stringify(F),O)},leave:function(O,D,L,F){var H=v.get(JSON.stringify(F));if(O===H)return O;if(i>0&&O.selectionSet.selections.every(function(V){return V.kind===St.FIELD&&V.name.value==="__typename"}))return n(O.name.value).removed=!0,b=!0,null}},Directive:{leave:function(O){if(c(O))return b=!0,null}}});if(!b)return e;var R=function(O){return O.transitiveVars||(O.transitiveVars=new Set(O.variables),O.removed||O.fragmentSpreads.forEach(function(D){R(n(D)).transitiveVars.forEach(function(L){O.transitiveVars.add(L)})})),O},C=new Set;x.definitions.forEach(function(O){O.kind===St.OPERATION_DEFINITION?R(r(O.name&&O.name.value)).fragmentSpreads.forEach(function(D){C.add(D)}):O.kind===St.FRAGMENT_DEFINITION&&i===0&&!n(O.name.value).removed&&C.add(O.name.value)}),C.forEach(function(O){R(n(O)).fragmentSpreads.forEach(function(D){C.add(D)})});var T=function(O){return!!(!C.has(O)||n(O).removed)},$={enter:function(O){if(T(O.name.value))return null}};return EO(Pa(x,{FragmentSpread:$,FragmentDefinition:$,OperationDefinition:{leave:function(O){if(O.variableDefinitions){var D=R(r(O.name&&O.name.value)).transitiveVars;if(D.size<O.variableDefinitions.length)return Qe(Qe({},O),{variableDefinitions:O.variableDefinitions.filter(function(L){return D.has(L.variable.name.value)})})}}}}))}var SO=Object.assign(function(t){return Pa(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind===St.OPERATION_DEFINITION)){var s=e.selections;if(s){var i=s.some(function(c){return Td(c)&&(c.name.value==="__typename"||c.name.value.lastIndexOf("__",0)===0)});if(!i){var o=n;if(!(Td(o)&&o.directives&&o.directives.some(function(c){return c.name.value==="export"})))return Qe(Qe({},e),{selections:Zy(Zy([],s,!0),[Xq],!1)})}}}}}})},{added:function(t){return t===Xq}}),Dht={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"}))&&__DEV__&&It.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function Uht(t){return Wie([Dht],DA(t))}function Fht(t){return function(r){return t.some(function(n){return r.value&&r.value.kind===St.VARIABLE&&r.value.name&&(n.name===r.value.name.value||n.test&&n.test(r))})}}function s3t(t,e){var r=Fht(t);return EO(Pa(e,{OperationDefinition:{enter:function(n){return Qe(Qe({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(s){return!t.some(function(i){return i.name===s.variable.name.value})}):[]})}},Field:{enter:function(n){var s=t.some(function(o){return o.remove});if(s){var i=0;if(n.arguments&&n.arguments.forEach(function(o){r(o)&&(i+=1)}),i===1)return null}}},Argument:{enter:function(n){if(r(n))return null}}}))}function o3t(t,e){function r(n){if(t.some(function(s){return s.name===n.name.value}))return null}return EO(Pa(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function jht(t){var e=wO(t),r=e.operation;if(r==="query")return t;var n=Pa(t,{OperationDefinition:{enter:function(s){return Qe(Qe({},s),{operation:"query"})}}});return n}function qht(t){DA(t);var e=Wie([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e}var zht=Object.prototype.hasOwnProperty;function ez(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return AO(t)}function AO(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new eh,s=1;s<r;++s)e=n.merge(e,t[s]);return e}var Hht=function(t,e,r){return this.merge(t[r],e[r])},eh=function(){function t(e){e===void 0&&(e=Hht),this.reconciler=e,this.isObject=ui,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,s=[],i=2;i<arguments.length;i++)s[i-2]=arguments[i];return ui(r)&&ui(e)?(Object.keys(r).forEach(function(o){if(zht.call(e,o)){var c=e[o];if(r[o]!==c){var l=n.reconciler.apply(n,Zy([e,r,o],s,!1));l!==c&&(e=n.shallowCopyForMerge(e),e[o]=l)}}else e=n.shallowCopyForMerge(e),e[o]=r[o]}),e):r},t.prototype.shallowCopyForMerge=function(e){return ui(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=Qe({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function Vht(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Kht(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kht(t,e){if(t){if(typeof t=="string")return tz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xO(t,e,r){return e&&rz(t.prototype,e),r&&rz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var MO=function(){return typeof Symbol=="function"},IO=function(t){return MO()&&!!Symbol[t]},RO=function(t){return IO(t)?Symbol[t]:"@@"+t};MO()&&!IO("observable")&&(Symbol.observable=Symbol("observable"));var Ght=RO("iterator"),BI=RO("observable"),Jie=RO("species");function P2(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function ty(t){var e=t.constructor;return e!==void 0&&(e=e[Jie],e===null&&(e=void 0)),e!==void 0?e:Dn}function Wht(t){return t instanceof Dn}function ng(t){ng.log?ng.log(t):setTimeout(function(){throw t})}function y_(t){Promise.resolve().then(function(){try{t()}catch(e){ng(e)}})}function Qie(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=P2(e,"unsubscribe");r&&r.call(e)}}catch(n){ng(n)}}function PI(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function Jht(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(Zie(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function Zie(t,e,r){t._state="running";var n=t._observer;try{var s=P2(n,e);switch(e){case"next":s&&s.call(n,r);break;case"error":if(PI(t),s)s.call(n,r);else throw r;break;case"complete":PI(t),s&&s.call(n);break}}catch(i){ng(i)}t._state==="closed"?Qie(t):t._state==="running"&&(t._state="ready")}function cM(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],y_(function(){return Jht(t)});return}Zie(t,e,r)}}var Qht=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var s=new Zht(this);try{this._cleanup=n.call(void 0,s)}catch(i){s.error(i)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(PI(this),Qie(this))},xO(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),Zht=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){cM(this._subscription,"next",n)},e.error=function(n){cM(this._subscription,"error",n)},e.complete=function(){cM(this._subscription,"complete")},xO(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Dn=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Qht(n,this._subscriber)},e.forEach=function(n){var s=this;return new Promise(function(i,o){if(typeof n!="function"){o(new TypeError(n+" is not a function"));return}function c(){l.unsubscribe(),i()}var l=s.subscribe({next:function(d){try{n(d,c)}catch(v){o(v),l.unsubscribe()}},error:o,complete:i})})},e.map=function(n){var s=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=ty(this);return new i(function(o){return s.subscribe({next:function(c){try{c=n(c)}catch(l){return o.error(l)}o.next(c)},error:function(c){o.error(c)},complete:function(){o.complete()}})})},e.filter=function(n){var s=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=ty(this);return new i(function(o){return s.subscribe({next:function(c){try{if(!n(c))return}catch(l){return o.error(l)}o.next(c)},error:function(c){o.error(c)},complete:function(){o.complete()}})})},e.reduce=function(n){var s=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=ty(this),o=arguments.length>1,c=!1,l=arguments[1],d=l;return new i(function(v){return s.subscribe({next:function(b){var A=!c;if(c=!0,!A||o)try{d=n(d,b)}catch(x){return v.error(x)}else d=b},error:function(b){v.error(b)},complete:function(){if(!c&&!o)return v.error(new TypeError("Cannot reduce an empty sequence"));v.next(d),v.complete()}})})},e.concat=function(){for(var n=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];var c=ty(this);return new c(function(l){var d,v=0;function b(A){d=A.subscribe({next:function(x){l.next(x)},error:function(x){l.error(x)},complete:function(){v===i.length?(d=void 0,l.complete()):b(c.from(i[v++]))}})}return b(n),function(){d&&(d.unsubscribe(),d=void 0)}})},e.flatMap=function(n){var s=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=ty(this);return new i(function(o){var c=[],l=s.subscribe({next:function(v){if(n)try{v=n(v)}catch(A){return o.error(A)}var b=i.from(v).subscribe({next:function(A){o.next(A)},error:function(A){o.error(A)},complete:function(){var A=c.indexOf(b);A>=0&&c.splice(A,1),d()}});c.push(b)},error:function(v){o.error(v)},complete:function(){d()}});function d(){l.closed&&c.length===0&&o.complete()}return function(){c.forEach(function(v){return v.unsubscribe()}),l.unsubscribe()}})},e[BI]=function(){return this},t.from=function(n){var s=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var i=P2(n,BI);if(i){var o=i.call(n);if(Object(o)!==o)throw new TypeError(o+" is not an object");return Wht(o)&&o.constructor===s?o:new s(function(c){return o.subscribe(c)})}if(IO("iterator")&&(i=P2(n,Ght),i))return new s(function(c){y_(function(){if(!c.closed){for(var l=Vht(i.call(n)),d;!(d=l()).done;){var v=d.value;if(c.next(v),c.closed)return}c.complete()}})});if(Array.isArray(n))return new s(function(c){y_(function(){if(!c.closed){for(var l=0;l<n.length;++l)if(c.next(n[l]),c.closed)return;c.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=typeof this=="function"?this:t;return new o(function(c){y_(function(){if(!c.closed){for(var l=0;l<s.length;++l)if(c.next(s[l]),c.closed)return;c.complete()}})})},xO(t,null,[{key:Jie,get:function(){return this}}]),t}();MO()&&Object.defineProperty(Dn,Symbol("extensions"),{value:{symbol:BI,hostReportError:ng},configurable:!0});function Xht(t){var e,r=t.Symbol;if(typeof r=="function")if(r.observable)e=r.observable;else{typeof r.for=="function"?e=r.for("https://github.com/benlesh/symbol-observable"):e=r("https://github.com/benlesh/symbol-observable");try{r.observable=e}catch{}}else e="@@observable";return e}var C0;typeof self<"u"?C0=self:typeof window<"u"?C0=window:typeof hd<"u"?C0=hd:typeof module<"u"?C0=module:C0=Function("return this")();Xht(C0);var nz=Dn.prototype,iz="@@observable";nz[iz]||(nz[iz]=function(){return this});var Yht=Object.prototype.toString;function Xie(t){return NI(t)}function NI(t,e){switch(Yht.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(s,i){r[i]=NI(s,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(s){n[s]=NI(t[s],e)}),n}default:return t}}function edt(t){var e=new Set([t]);return e.forEach(function(r){ui(r)&&tdt(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){ui(r[n])&&e.add(r[n])})}),t}function tdt(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function ym(t){return __DEV__&&edt(t),t}function Oy(t,e,r){var n=[];t.forEach(function(s){return s[e]&&n.push(s)}),n.forEach(function(s){return s[e](r)})}function fM(t,e,r){return new Dn(function(n){var s=n.next,i=n.error,o=n.complete,c=0,l=!1,d={then:function(x){return new Promise(function(R){return R(x())})}};function v(x,R){return x?function(C){++c;var T=function(){return x(C)};d=d.then(T,T).then(function($){--c,s&&s.call(n,$),l&&b.complete()},function($){throw--c,$}).catch(function($){i&&i.call(n,$)})}:function(C){return R&&R.call(n,C)}}var b={next:v(e,s),error:v(r,i),complete:function(){l=!0,c||o&&o.call(n)}},A=t.subscribe(b);return function(){return A.unsubscribe()}})}var gh=typeof WeakMap=="function"&&wa(function(){return navigator.product})!=="ReactNative",Yie=typeof WeakSet=="function",TO=typeof Symbol=="function"&&typeof Symbol.for=="function",UA=TO&&Symbol.asyncIterator,rdt=typeof wa(function(){return window.document.createElement})=="function",ndt=wa(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,idt=rdt&&!ndt;function ese(t){function e(r){Object.defineProperty(t,r,{value:Dn})}return TO&&Symbol.species&&e(Symbol.species),e("@@species"),t}function sz(t){return t&&typeof t.then=="function"}var yy=function(t){$c(e,t);function e(r){var n=t.call(this,function(s){return n.addObserver(s),function(){return n.removeObserver(s)}})||this;return n.observers=new Set,n.promise=new Promise(function(s,i){n.resolve=s,n.reject=i}),n.handlers={next:function(s){n.sub!==null&&(n.latest=["next",s],n.notify("next",s),Oy(n.observers,"next",s))},error:function(s){var i=n.sub;i!==null&&(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest=["error",s],n.reject(s),n.notify("error",s),Oy(n.observers,"error",s))},complete:function(){var s=n,i=s.sub,o=s.sources,c=o===void 0?[]:o;if(i!==null){var l=c.shift();l?sz(l)?l.then(function(d){return n.sub=d.subscribe(n.handlers)}):n.sub=l.subscribe(n.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Oy(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(s){n.reject(s),n.sources=[],n.handlers.complete()},n.promise.catch(function(s){}),typeof r=="function"&&(r=[new Dn(r)]),sz(r)?r.then(function(s){return n.start(s)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],s=r[n];s&&s.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},e.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(r,n){var s=this.nextResultListeners;s.size&&(this.nextResultListeners=new Set,s.forEach(function(i){return i(r,n)}))},e.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(s,i){n||(n=!0,r(s,i))})},e}(Dn);ese(yy);function op(t){return"incremental"in t}function sdt(t){return"hasNext"in t&&"data"in t}function odt(t){return op(t)||sdt(t)}function tse(t,e){var r=t,n=new eh;return op(e)&&Io(e.incremental)&&e.incremental.forEach(function(s){for(var i=s.data,o=s.path,c=o.length-1;c>=0;--c){var l=o[c],d=!isNaN(+l),v=d?[]:{};v[l]=i,i=v}r=n.merge(r,i)}),r}function m_(t){var e=kI(t);return Io(e)}function kI(t){var e=Io(t.errors)?t.errors.slice(0):[];return op(t)&&Io(t.incremental)&&t.incremental.forEach(function(r){r.errors&&e.push.apply(e,r.errors)}),e}function A1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){n&&Object.keys(n).forEach(function(s){var i=n[s];i!==void 0&&(r[s]=i)})}),r}var oz=new Map;function LI(t){var e=oz.get(t)||1;return oz.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function adt(t){var e=LI("stringifyForDisplay");return JSON.stringify(t,function(r,n){return n===void 0?e:n}).split(JSON.stringify(e)).join("<undefined>")}function b_(t,e){return A1(t,e,e.variables&&{variables:Qe(Qe({},t&&t.variables),e.variables)})}function az(t){return new Dn(function(e){e.error(t)})}var DI=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};function cdt(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var s=n[r];if(e.indexOf(s)<0)throw __DEV__?new un("illegal argument: ".concat(s)):new un(27)}return t}function fdt(t,e){var r=Qe({},t),n=function(i){typeof i=="function"?r=Qe(Qe({},r),i(r)):r=Qe(Qe({},r),i)},s=function(){return Qe({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:s}),e}function udt(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?OI(e.query)||void 0:""),e}function cz(t,e){return e?e(t):Dn.of()}function ry(t){return typeof t=="function"?new x1(t):t}function _w(t){return t.request.length<=1}var ldt=function(t){$c(e,t);function e(r,n){var s=t.call(this,r)||this;return s.link=n,s}return e}(Error),x1=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Dn.of()})},t.from=function(e){return e.length===0?t.empty():e.map(ry).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var s=ry(r),i=ry(n||new t(cz));return _w(s)&&_w(i)?new t(function(o){return e(o)?s.request(o)||Dn.of():i.request(o)||Dn.of()}):new t(function(o,c){return e(o)?s.request(o,c)||Dn.of():i.request(o,c)||Dn.of()})},t.execute=function(e,r){return e.request(fdt(r.context,udt(cdt(r))))||Dn.of()},t.concat=function(e,r){var n=ry(e);if(_w(n))return __DEV__&&It.warn(new ldt("You are calling concat on a terminating link, which will have no effect",n)),n;var s=ry(r);return _w(s)?new t(function(i){return n.request(i,function(o){return s.request(o)||Dn.of()})||Dn.of()}):new t(function(i,o){return n.request(i,function(c){return s.request(c,o)||Dn.of()})||Dn.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(cz)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw __DEV__?new un("request is not implemented"):new un(22)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),UI=x1.execute,hdt="3.7.10";function ddt(t){return!!t.body}function pdt(t){return!!t.getReader}function gdt(t){return!!(UA&&t[Symbol.asyncIterator])}function vdt(t){return!!t.stream}function ydt(t){return!!t.arrayBuffer}function mdt(t){return!!t.pipe}function bdt(t){var e,r=t[Symbol.asyncIterator]();return e={next:function(){return r.next()}},e[Symbol.asyncIterator]=function(){return this},e}function wdt(t){var e=null,r=null,n=!1,s=[],i=[];function o(b){if(!r){if(i.length){var A=i.shift();if(Array.isArray(A)&&A[0])return A[0]({value:b,done:!1})}s.push(b)}}function c(b){r=b;var A=i.slice();A.forEach(function(x){x[1](b)}),!e||e()}function l(){n=!0;var b=i.slice();b.forEach(function(A){A[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",o),t.removeListener("error",c),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",o),t.on("error",c),t.on("end",l),t.on("finish",l),t.on("close",l);function d(){return new Promise(function(b,A){if(r)return A(r);if(s.length)return b({value:s.shift(),done:!1});if(n)return b({value:void 0,done:!0});i.push([b,A])})}var v={next:function(){return d()}};return UA&&(v[Symbol.asyncIterator]=function(){return this}),v}function _dt(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,s){t.then(function(i){n({value:i,done:!1})}).catch(s)}))}};return UA&&(r[Symbol.asyncIterator]=function(){return this}),r}function fz(t){var e={next:function(){return t.read()}};return UA&&(e[Symbol.asyncIterator]=function(){return this}),e}function Edt(t){var e=t;if(ddt(t)&&(e=t.body),gdt(e))return bdt(e);if(pdt(e))return fz(e.getReader());if(vdt(e))return fz(e.stream().getReader());if(ydt(e))return _dt(e.arrayBuffer());if(mdt(e))return wdt(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var uz=Object.prototype.hasOwnProperty;function Sdt(t,e){var r,n,s;return xl(this,void 0,void 0,function(){var i,o,c,l,d,v,b,A,x,R,C,T,$,O,D,L,F,H,V,J;return Ml(this,function(Z){switch(Z.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");i=new TextDecoder("utf-8"),o=(r=t.headers)===null||r===void 0?void 0:r.get("content-type"),c="boundary=",l=o!=null&&o.includes(c)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(c))+c.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",d="--".concat(l),v="",b=Edt(t),A=!0,Z.label=1;case 1:return A?[4,b.next()]:[3,3];case 2:for(x=Z.sent(),R=x.value,C=x.done,T=typeof R=="string"?R:i.decode(R),A=!C,v+=T,$=v.indexOf(d);$>-1;){if(O=void 0,J=[v.slice(0,$),v.slice($+d.length)],O=J[0],v=J[1],O.trim()){if(D=O.indexOf(`\r
\r
`),L=Adt(O.slice(0,D)),F=L["content-type"],F&&F.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");H=O.slice(D);try{V=rse(t,H.replace(`\r
`,"")),(Object.keys(V).length>1||"data"in V||"incremental"in V||"errors"in V)&&((n=e.next)===null||n===void 0||n.call(e,V))}catch(se){$O(se,e)}}$=v.indexOf(d)}return[3,1];case 3:return(s=e.complete)===null||s===void 0||s.call(e),[2]}})})}function Adt(t){var e={};return t.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var s=r.slice(0,n).trim().toLowerCase(),i=r.slice(n+1).trim();e[s]=i}}),e}function rse(t,e){if(t.status>=300){var r=function(){try{return JSON.parse(e)}catch{return e}};DI(t,r(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(s){var n=s;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}function $O(t,e){var r,n;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((r=e.next)===null||r===void 0||r.call(e,t.result)),(n=e.error)===null||n===void 0||n.call(e,t))}function xdt(t,e,r){Mdt(e)(t).then(function(n){var s,i;(s=r.next)===null||s===void 0||s.call(r,n),(i=r.complete)===null||i===void 0||i.call(r)}).catch(function(n){return $O(n,r)})}function Mdt(t){return function(e){return e.text().then(function(r){return rse(e,r)}).then(function(r){return e.status>=300&&DI(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!uz.call(r,"data")&&!uz.call(r,"errors")&&DI(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}var FI=function(t,e){var r;try{r=JSON.stringify(t)}catch(s){var n=__DEV__?new un("Network request failed. ".concat(e," is not serializable: ").concat(s.message)):new un(24);throw n.parseError=s,n}return r},Idt={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},Rdt={accept:"*/*","content-type":"application/json"},Tdt={method:"POST"},$dt={http:Idt,headers:Rdt,options:Tdt},nse=function(t,e){return e(t)};function a3t(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return r.unshift(e),ise.apply(void 0,Zy([t,nse],r,!1))}function ise(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var s={},i={};r.forEach(function(b){s=Qe(Qe(Qe({},s),b.options),{headers:Qe(Qe({},s.headers),b.headers)}),b.credentials&&(s.credentials=b.credentials),i=Qe(Qe({},i),b.http)}),s.headers&&(s.headers=Cdt(s.headers,i.preserveHeaderCase));var o=t.operationName,c=t.extensions,l=t.variables,d=t.query,v={operationName:o,variables:l};return i.includeExtensions&&(v.extensions=c),i.includeQuery&&(v.query=e(d,VOe)),{options:s,body:v}}function Cdt(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach(function(i){r[i.toLowerCase()]=t[i]}),r}var n=Object.create(null);Object.keys(Object(t)).forEach(function(i){n[i.toLowerCase()]={originalName:i,value:t[i]}});var s=Object.create(null);return Object.keys(n).forEach(function(i){s[n[i].originalName]=n[i].value}),s}var Odt=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new un(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new un(23)},Bdt=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},Pdt=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};function Ndt(t,e){var r=[],n=function(b,A){r.push("".concat(b,"=").concat(encodeURIComponent(A)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var s=void 0;try{s=FI(e.variables,"Variables map")}catch(b){return{parseError:b}}n("variables",s)}if(e.extensions){var i=void 0;try{i=FI(e.extensions,"Extensions map")}catch(b){return{parseError:b}}n("extensions",i)}var o="",c=t,l=t.indexOf("#");l!==-1&&(o=t.substr(l),c=t.substr(0,l));var d=c.indexOf("?")===-1?"?":"&",v=c+d+r.join("&")+o;return{newURI:v}}var lz=wa(function(){return fetch}),kdt=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,s=t.print,i=s===void 0?nse:s,o=t.includeExtensions,c=t.preserveHeaderCase,l=t.useGETForQueries,d=t.includeUnusedVariables,v=d===void 0?!1:d,b=Ql(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&Odt(n||lz);var A={http:{includeExtensions:o,preserveHeaderCase:c},options:b.fetchOptions,credentials:b.credentials,headers:b.headers};return new x1(function(x){var R=Pdt(x,r),C=x.getContext(),T={};if(C.clientAwareness){var $=C.clientAwareness,O=$.name,D=$.version;O&&(T["apollographql-client-name"]=O),D&&(T["apollographql-client-version"]=D)}var L=Qe(Qe({},T),C.headers),F={http:C.http,options:C.fetchOptions,credentials:C.credentials,headers:L},H=ise(x,i,$dt,A,F),V=H.options,J=H.body;if(J.variables&&!v){var Z=new Set(Object.keys(J.variables));Pa(x.query,{Variable:function(_,g,f){f&&f.kind!=="VariableDefinition"&&Z.delete(_.name.value)}}),Z.size&&(J.variables=Qe({},J.variables),Z.forEach(function(_){delete J.variables[_]}))}var se;if(!V.signal){var S=Bdt(),a=S.controller,u=S.signal;se=a,se&&(V.signal=u)}var h=function(_){return _.kind==="OperationDefinition"&&_.operation==="mutation"};if(l&&!x.query.definitions.some(h)&&(V.method="GET"),E1(["defer"],x.query)&&(V.headers=V.headers||{},V.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),V.method==="GET"){var p=Ndt(R,J),y=p.newURI,w=p.parseError;if(w)return az(w);R=y}else try{V.body=FI(J,"Payload")}catch(_){return az(_)}return new Dn(function(_){var g=n||wa(function(){return fetch})||lz;return g(R,V).then(function(f){var m;x.setContext({response:f});var I=(m=f.headers)===null||m===void 0?void 0:m.get("content-type");return I!==null&&/^multipart\/mixed/i.test(I)?Sdt(f,_):xdt(f,x,_)}).catch(function(f){return $O(f,_)}),function(){se&&se.abort()}})})},Ldt=function(t){$c(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,kdt(r).request)||this;return n.options=r,n}return e}(x1);const{toString:hz,hasOwnProperty:Ddt}=Object.prototype,dz=Function.prototype.toString,jI=new Map;function Gn(t,e){try{return qI(t,e)}finally{jI.clear()}}function qI(t,e){if(t===e)return!0;const r=hz.call(t),n=hz.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(gz(t,e))return!0;const s=pz(t),i=pz(e),o=s.length;if(o!==i.length)return!1;for(let c=0;c<o;++c)if(!Ddt.call(e,s[c]))return!1;for(let c=0;c<o;++c){const l=s[c];if(!qI(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(gz(t,e))return!0;const s=t.entries(),i=r==="[object Map]";for(;;){const o=s.next();if(o.done)break;const[c,l]=o.value;if(!e.has(c)||i&&!qI(l,e.get(c)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let s=t.byteLength;if(s===e.byteLength)for(;s--&&t[s]===e[s];);return s===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const s=dz.call(t);return s!==dz.call(e)?!1:!jdt(s,Fdt)}}return!1}function pz(t){return Object.keys(t).filter(Udt,t)}function Udt(t){return this[t]!==void 0}const Fdt="{ [native code] }";function jdt(t,e){const r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function gz(t,e){let r=jI.get(t);if(r){if(r.has(e))return!0}else jI.set(t,r=new Set);return r.add(e),!1}const c3t=Object.freeze(Object.defineProperty({__proto__:null,default:Gn,equal:Gn},Symbol.toStringTag,{value:"Module"}));var qdt=function(){return Object.create(null)},sse=Array.prototype,zdt=sse.forEach,Hdt=sse.slice,M1=function(){function t(e,r){e===void 0&&(e=!0),r===void 0&&(r=qdt),this.weakness=e,this.makeData=r}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return zdt.call(e,function(n){return r=r.getChildTrie(n)}),r.data||(r.data=this.makeData(Hdt.call(e)))},t.prototype.getChildTrie=function(e){var r=this.weakness&&Vdt(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n},t}();function Vdt(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let is=null;const vz={};let Kdt=1;const Gdt=()=>class{constructor(){this.id=["slot",Kdt++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=is;e;e=e.parent)if(this.id in e.slots){const r=e.slots[this.id];if(r===vz)break;return e!==is&&(is.slots[this.id]=r),!0}return is&&(is.slots[this.id]=vz),!1}getValue(){if(this.hasValue())return is.slots[this.id]}withValue(e,r,n,s){const i={__proto__:null,[this.id]:e},o=is;is={parent:o,slots:i};try{return r.apply(s,n)}finally{is=o}}static bind(e){const r=is;return function(){const n=is;try{return is=r,e.apply(this,arguments)}finally{is=n}}}static noContext(e,r,n){if(is){const s=is;try{return is=null,e.apply(n,r)}finally{is=s}}else return e.apply(n,r)}};function yz(t){try{return t()}catch{}}const uM="@wry/context:Slot",Wdt=yz(()=>globalThis)||yz(()=>hd)||Object.create(null),mz=Wdt,ose=mz[uM]||Array[uM]||function(t){try{Object.defineProperty(mz,uM,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(Gdt());function Jdt(){}var Qdt=function(){function t(e,r){e===void 0&&(e=1/0),r===void 0&&(r=Jdt),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getNode(e);return r&&r.value},t.prototype.getNode=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var n=r.older,s=r.newer;s&&(s.older=n),n&&(n.newer=s),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=s)}return r},t.prototype.set=function(e,r){var n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),FA=new ose,lM,Zdt=Object.prototype.hasOwnProperty,CO=(lM=Array.from,lM===void 0?function(t){var e=[];return t.forEach(function(r){return e.push(r)}),e}:lM);function N2(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var mm=[],Xdt=100;function ig(t,e){if(!t)throw new Error(e||"assertion failure")}function Ydt(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function ase(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function e0t(t){return t.slice(0)}var t0t=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!th(this))return bz(this),this.value[0]},t.prototype.recompute=function(e){return ig(!this.recomputing,"already recomputing"),bz(this),th(this)?r0t(this,e):ase(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,cse(this),N2(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),dse(this),OO(this,function(r,n){r.setDirty(),pse(r,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=mm.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(CO(this.deps).forEach(function(r){return r.delete(e)}),this.deps.clear(),mm.push(this.deps),this.deps=null)},t.count=0,t}();function bz(t){var e=FA.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),th(t)?use(e,t):lse(e,t),e}function r0t(t,e){return dse(t),FA.withValue(t,n0t,[t,e]),s0t(t,e)&&i0t(t),ase(t.value)}function n0t(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(r){t.value[1]=r}t.recomputing=!1}function th(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function i0t(t){t.dirty=!1,!th(t)&&fse(t)}function cse(t){OO(t,use)}function fse(t){OO(t,lse)}function OO(t,e){var r=t.parents.size;if(r)for(var n=CO(t.parents),s=0;s<r;++s)e(n[s],t)}function use(t,e){ig(t.childValues.has(e)),ig(th(e));var r=!th(t);if(!t.dirtyChildren)t.dirtyChildren=mm.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&cse(t)}function lse(t,e){ig(t.childValues.has(e)),ig(!th(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,e0t(e.value)):Ydt(r,e.value)||t.setDirty(),hse(t,e),!th(t)&&fse(t)}function hse(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(mm.length<Xdt&&mm.push(r),t.dirtyChildren=null))}function dse(t){t.childValues.size>0&&t.childValues.forEach(function(e,r){pse(t,r)}),t.forgetDeps(),ig(t.dirtyChildren===null)}function pse(t,e){e.parents.delete(t),t.childValues.delete(e),hse(t,e)}function s0t(t,e){if(typeof t.subscribe=="function")try{N2(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var o0t={setDirty:!0,dispose:!0,forget:!0};function gse(t){var e=new Map,r=t&&t.subscribe;function n(s){var i=FA.getValue();if(i){var o=e.get(s);o||e.set(s,o=new Set),i.dependOn(o),typeof r=="function"&&(N2(o),o.unsubscribe=r(s))}}return n.dirty=function(i,o){var c=e.get(i);if(c){var l=o&&Zdt.call(o0t,o)?o:"setDirty";CO(c).forEach(function(d){return d[l]()}),e.delete(i),N2(c)}},n}function vse(){var t=new M1(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}vse();var hM=new Set;function k2(t,e){e===void 0&&(e=Object.create(null));var r=new Qdt(e.max||Math.pow(2,16),function(d){return d.dispose()}),n=e.keyArgs,s=e.makeCacheKey||vse(),i=function(){var d=s.apply(null,n?n.apply(null,arguments):arguments);if(d===void 0)return t.apply(null,arguments);var v=r.get(d);v||(r.set(d,v=new t0t(t)),v.subscribe=e.subscribe,v.forget=function(){return r.delete(d)});var b=v.recompute(Array.prototype.slice.call(arguments));return r.set(d,v),hM.add(r),FA.hasValue()||(hM.forEach(function(A){return A.clean()}),hM.clear()),b};Object.defineProperty(i,"size",{get:function(){return r.map.size},configurable:!1,enumerable:!1});function o(d){var v=r.get(d);v&&v.setDirty()}i.dirtyKey=o,i.dirty=function(){o(s.apply(null,arguments))};function c(d){var v=r.get(d);if(v)return v.peek()}i.peekKey=c,i.peek=function(){return c(s.apply(null,arguments))};function l(d){return r.delete(d)}return i.forgetKey=l,i.forget=function(){return l(s.apply(null,arguments))},i.makeCacheKey=s,i.getKey=n?function(){return s.apply(null,n.apply(null,arguments))}:s,Object.freeze(i)}var a0t=function(){function t(){this.getFragmentDoc=k2(_ht)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,s;return this.performTransaction(function(){return s=e.update(r)},n),s},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(Qe(Qe({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(Qe(Qe({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,s=Ql(e,["id","data"]);return this.write(Object.assign(s,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,s=e.fragment,i=e.fragmentName,o=Ql(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(s,i),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var s=n.readQuery(e),i=r(s);return i==null?s:(n.writeQuery(Qe(Qe({},e),{data:i})),i)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var s=n.readFragment(e),i=r(s);return i==null?s:(n.writeFragment(Qe(Qe({},e),{data:i})),i)}})},t}(),yse=function(t){$c(e,t);function e(r,n,s,i){var o,c=t.call(this,r)||this;if(c.message=r,c.path=n,c.query=s,c.variables=i,Array.isArray(c.path)){c.missing=c.message;for(var l=c.path.length-1;l>=0;--l)c.missing=(o={},o[c.path[l]]=c.missing,o)}else c.missing=c.path;return c.__proto__=e.prototype,c}return e}(Error),zi=Object.prototype.hasOwnProperty;function ny(t){return t==null}function mse(t,e){var r=t.__typename,n=t.id,s=t._id;if(typeof r=="string"&&(e&&(e.keyObject=ny(n)?ny(s)?void 0:{_id:s}:{id:n}),ny(n)&&!ny(s)&&(n=s),!ny(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var bse={dataIdFromObject:mse,addTypename:!0,resultCaching:!0,canonizeResults:!1};function c0t(t){return A1(bse,t)}function wse(t){var e=t.canonizeResults;return e===void 0?bse.canonizeResults:e}function f0t(t,e){return yn(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var _se=/^[_a-z][_0-9a-z]*/i;function rh(t){var e=t.match(_se);return e?e[0]:t}function zI(t,e,r){return ui(e)?li(e)?e.every(function(n){return zI(t,n,r)}):t.selections.every(function(n){if(Td(n)&&kA(n,r)){var s=Rd(n);return zi.call(e,s)&&(!n.selectionSet||zI(n.selectionSet,e[s],r))}return!0}):!1}function H0(t){return ui(t)&&!yn(t)&&!li(t)}function u0t(){return new eh}function Ese(t,e){var r=vO(bO(t));return{fragmentMap:r,lookupFragment:function(n){var s=r[n];return!s&&e&&(s=e.lookup(n)),s||null}}}var w_=Object.create(null),dM=function(){return w_},wz=Object.create(null),bm=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(s,i){return ym(yn(s)?n.get(s.__ref,i):s&&s[i])},this.canRead=function(s){return yn(s)?n.has(s.__ref):typeof s=="object"},this.toReference=function(s,i){if(typeof s=="string")return sp(s);if(yn(s))return s;var o=n.policies.identify(s)[0];if(o){var c=sp(o);return i&&n.merge(o,s),c}}}return t.prototype.toObject=function(){return Qe({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),zi.call(this.data,e)){var n=this.data[e];if(n&&zi.call(n,r))return n[r]}if(r==="__typename"&&zi.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof El)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),zi.call(this.data,e))return this.data[e];if(this instanceof El)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,s;yn(e)&&(e=e.__ref),yn(r)&&(r=r.__ref);var i=typeof e=="string"?this.lookup(s=e):e,o=typeof r=="string"?this.lookup(s=r):r;if(o){__DEV__?It(typeof s=="string","store.merge expects a string ID"):It(typeof s=="string",1);var c=new eh(h0t).merge(i,o);if(this.data[s]=c,c!==i&&(delete this.refs[s],this.group.caching)){var l=Object.create(null);i||(l.__exists=1),Object.keys(o).forEach(function(d){if(!i||i[d]!==c[d]){l[d]=1;var v=rh(d);v!==d&&!n.policies.hasKeyArgs(c.__typename,v)&&(l[v]=1),c[d]===void 0&&!(n instanceof El)&&delete c[d]}}),l.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[s]===c.__typename&&delete l.__typename,Object.keys(l).forEach(function(d){return n.group.dirty(s,d)})}}},t.prototype.modify=function(e,r){var n=this,s=this.lookup(e);if(s){var i=Object.create(null),o=!1,c=!0,l={DELETE:w_,INVALIDATE:wz,isReference:yn,toReference:this.toReference,canRead:this.canRead,readField:function(d,v){return n.policies.readField(typeof d=="string"?{fieldName:d,from:v||sp(e)}:d,{store:n})}};if(Object.keys(s).forEach(function(d){var v=rh(d),b=s[d];if(b!==void 0){var A=typeof r=="function"?r:r[d]||r[v];if(A){var x=A===dM?w_:A(ym(b),Qe(Qe({},l),{fieldName:v,storeFieldName:d,storage:n.getStorage(e,d)}));x===wz?n.group.dirty(e,d):(x===w_&&(x=void 0),x!==b&&(i[d]=x,o=!0,b=x))}b!==void 0&&(c=!1)}}),o)return this.merge(e,i),c&&(this instanceof El?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var s,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),c=r&&n?this.policies.getStoreFieldName({typename:o,fieldName:r,args:n}):r;return this.modify(e,c?(s={},s[c]=dM,s):dM)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(zi.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof El&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(s){zi.call(e.policies.rootTypenamesById,s)||n.push(s)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(i){e&&zi.call(e,i)||r.delete(i)}),e){var n=e.__META,s=Ql(e,["__META"]);Object.keys(s).forEach(function(i){r.merge(i,s[i])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof El?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(o){zi.call(n,o)&&(Object.keys(e.findChildRefIds(o)).forEach(r.add,r),delete n[o])});var s=Object.keys(n);if(s.length){for(var i=this;i instanceof El;)i=i.parent;s.forEach(function(o){return i.delete(o)})}return s},t.prototype.findChildRefIds=function(e){if(!zi.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var s=new Set([n]);s.forEach(function(i){yn(i)&&(r[i.__ref]=!0),ui(i)&&Object.keys(i).forEach(function(o){var c=i[o];ui(c)&&s.add(c)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),Sse=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?gse():null,this.keyMaker=new M1(gh)},t.prototype.depend=function(e,r){if(this.d){this.d(pM(e,r));var n=rh(r);n!==r&&this.d(pM(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(pM(e,r),r==="__exists"?"forget":"setDirty")},t}();function pM(t,e){return e+"#"+t}function _z(t,e){By(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){$c(n,r);function n(s){var i=s.policies,o=s.resultCaching,c=o===void 0?!0:o,l=s.seed,d=r.call(this,i,new Sse(c))||this;return d.stump=new l0t(d),d.storageTrie=new M1(gh),l&&d.replace(l),d}return n.prototype.addLayer=function(s,i){return this.stump.addLayer(s,i)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(bm||(bm={}));var El=function(t){$c(e,t);function e(r,n,s,i){var o=t.call(this,n.policies,i)||this;return o.id=r,o.parent=n,o.replay=s,o.group=i,s(o),o}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,s=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(i){var o=n.data[i],c=s.lookup(i);c?o?o!==c&&Object.keys(o).forEach(function(l){Gn(o[l],c[l])||n.group.dirty(i,l)}):(n.group.dirty(i,"__exists"),Object.keys(c).forEach(function(l){n.group.dirty(i,l)})):n.delete(i)}),s):s===this.parent?this:s.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return Qe(Qe({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return zi.call(this.data,r)?Qe(Qe({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(bm),l0t=function(t){$c(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new Sse(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(El);function h0t(t,e,r){var n=t[r],s=e[r];return Gn(n,s)?n:s}function By(t){return!!(t instanceof bm&&t.group.caching)}function d0t(t){return ui(t)?li(t)?t.slice(0):Qe({__proto__:Object.getPrototypeOf(t)},t):t}var HI=function(){function t(){this.known=new(Yie?WeakSet:Set),this.pool=new M1(gh),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return ui(e)&&this.known.has(e)},t.prototype.pass=function(e){if(ui(e)){var r=d0t(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(ui(e)){var n=this.passes.get(e);if(n)return n;var s=Object.getPrototypeOf(e);switch(s){case Array.prototype:{if(this.known.has(e))return e;var i=e.map(this.admit,this),o=this.pool.lookupArray(i);return o.array||(this.known.add(o.array=i),__DEV__&&Object.freeze(i)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var c=Object.getPrototypeOf(e),l=[c],d=this.sortedKeys(e);l.push(d.json);var v=l.length;d.sorted.forEach(function(x){l.push(r.admit(e[x]))});var o=this.pool.lookupArray(l);if(!o.object){var b=o.object=Object.create(c);this.known.add(b),d.sorted.forEach(function(x,R){b[x]=l[v+R]}),__DEV__&&Object.freeze(b)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var s=JSON.stringify(r);(n.keys=this.keysByJSON.get(s))||this.keysByJSON.set(s,n.keys={sorted:r,json:s})}return n.keys},t}(),ud=Object.assign(function(t){if(ui(t)){VI===void 0&&Ez();var e=VI.admit(t),r=KI.get(e);return r===void 0&&KI.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:Ez}),VI,KI;function Ez(){VI=new HI,KI=new(gh?WeakMap:Map)}function Sz(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var p0t=function(){function t(e){var r=this;this.knownResults=new(gh?WeakMap:Map),this.config=A1(e,{addTypename:e.addTypename!==!1,canonizeResults:wse(e)}),this.canon=e.canon||new HI,this.executeSelectionSet=k2(function(n){var s,i=n.context.canonizeResults,o=Sz(n);o[3]=!i;var c=(s=r.executeSelectionSet).peek.apply(s,o);return c?i?Qe(Qe({},c),{result:r.canon.admit(c.result)}):c:(_z(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:Sz,makeCacheKey:function(n,s,i,o){if(By(i.store))return i.store.makeCacheKey(n,yn(s)?s.__ref:s,i.varString,o)}}),this.executeSubSelectedArray=k2(function(n){return _z(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var s=n.field,i=n.array,o=n.context;if(By(o.store))return o.store.makeCacheKey(s,i,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new HI},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,s=e.rootId,i=s===void 0?"ROOT_QUERY":s,o=e.variables,c=e.returnPartialData,l=c===void 0?!0:c,d=e.canonizeResults,v=d===void 0?this.config.canonizeResults:d,b=this.config.cache.policies;o=Qe(Qe({},_O(Kie(n))),o);var A=sp(i),x=this.executeSelectionSet({selectionSet:wO(n).selectionSet,objectOrReference:A,enclosingRef:A,context:Qe({store:r,query:n,policies:b,variables:o,varString:ud(o),canonizeResults:v},Ese(n,this.config.fragments))}),R;if(x.missing&&(R=[new yse(g0t(x.missing),x.missing,n,o)],!l))throw R[0];return{result:x.result,complete:!R,missing:R}},t.prototype.isFresh=function(e,r,n,s){if(By(s.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,r,s,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,s=e.objectOrReference,i=e.enclosingRef,o=e.context;if(yn(s)&&!o.policies.rootTypenamesById[s.__ref]&&!o.store.has(s.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(s.__ref," object")};var c=o.variables,l=o.policies,d=o.store,v=d.getFieldValue(s,"__typename"),b=[],A,x=new eh;this.config.addTypename&&typeof v=="string"&&!l.rootIdsByTypename[v]&&b.push({__typename:v});function R(D,L){var F;return D.missing&&(A=x.merge(A,(F={},F[L]=D.missing,F))),D.result}var C=new Set(n.selections);C.forEach(function(D){var L,F;if(kA(D,c))if(Td(D)){var H=l.readField({fieldName:D.name.value,field:D,variables:o.variables,from:s},o),V=Rd(D);H===void 0?SO.added(D)||(A=x.merge(A,(L={},L[V]="Can't find field '".concat(D.name.value,"' on ").concat(yn(s)?s.__ref+" object":"object "+JSON.stringify(s,null,2)),L))):li(H)?H=R(r.executeSubSelectedArray({field:D,array:H,enclosingRef:i,context:o}),V):D.selectionSet?H!=null&&(H=R(r.executeSelectionSet({selectionSet:D.selectionSet,objectOrReference:H,enclosingRef:yn(H)?H:i,context:o}),V)):o.canonizeResults&&(H=r.canon.pass(H)),H!==void 0&&b.push((F={},F[V]=H,F))}else{var J=yO(D,o.lookupFragment);if(!J&&D.kind===St.FRAGMENT_SPREAD)throw __DEV__?new un("No fragment named ".concat(D.name.value)):new un(5);J&&l.fragmentMatches(J,v)&&J.selectionSet.selections.forEach(C.add,C)}});var T=AO(b),$={result:T,missing:A},O=o.canonizeResults?this.canon.admit($):ym($);return O.result&&this.knownResults.set(O.result,n),O},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,s=e.array,i=e.enclosingRef,o=e.context,c,l=new eh;function d(v,b){var A;return v.missing&&(c=l.merge(c,(A={},A[b]=v.missing,A))),v.result}return n.selectionSet&&(s=s.filter(o.store.canRead)),s=s.map(function(v,b){return v===null?null:li(v)?d(r.executeSubSelectedArray({field:n,array:v,enclosingRef:i,context:o}),b):n.selectionSet?d(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:v,enclosingRef:yn(v)?v:i,context:o}),b):(__DEV__&&v0t(o.store,n,v),v)}),{result:o.canonizeResults?this.canon.admit(s):s,missing:c}},t}();function g0t(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function v0t(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(s){ui(s)&&(__DEV__?It(!yn(s),"Missing selection set for object of type ".concat(f0t(t,s)," returned for query field ").concat(e.name.value)):It(!yn(s),6),Object.values(s).forEach(n.add,n))})}}var BO=new ose,Az=new WeakMap;function Py(t){var e=Az.get(t);return e||Az.set(t,e={vars:new Set,dep:gse()}),e}function xz(t){Py(t).vars.forEach(function(e){return e.forgetCache(t)})}function y0t(t){Py(t).vars.forEach(function(e){return e.attachCache(t)})}function m0t(t){var e=new Set,r=new Set,n=function(i){if(arguments.length>0){if(t!==i){t=i,e.forEach(function(l){Py(l).dep.dirty(n),b0t(l)});var o=Array.from(r);r.clear(),o.forEach(function(l){return l(t)})}}else{var c=BO.getValue();c&&(s(c),Py(c).dep(n))}return t};n.onNextChange=function(i){return r.add(i),function(){r.delete(i)}};var s=n.attachCache=function(i){return e.add(i),Py(i).vars.add(n),n};return n.forgetCache=function(i){return e.delete(i)},n}function b0t(t){t.broadcastWatches&&t.broadcastWatches()}var Mz=Object.create(null);function PO(t){var e=JSON.stringify(t);return Mz[e]||(Mz[e]=Object.create(null))}function Iz(t){var e=PO(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var s=function(o,c){return n.readField(c,o)},i=n.keyObject=NO(t,function(o){var c=ap(n.storeObject,o,s);return c===void 0&&r!==n.storeObject&&zi.call(r,o[0])&&(c=ap(r,o,xse)),__DEV__?It(c!==void 0,"Missing field '".concat(o.join("."),"' while extracting keyFields from ").concat(JSON.stringify(r))):It(c!==void 0,2),c});return"".concat(n.typename,":").concat(JSON.stringify(i))})}function Rz(t){var e=PO(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var s=n.field,i=n.variables,o=n.fieldName,c=NO(t,function(d){var v=d[0],b=v.charAt(0);if(b==="@"){if(s&&Io(s.directives)){var A=v.slice(1),x=s.directives.find(function($){return $.name.value===A}),R=x&&LA(x,i);return R&&ap(R,d.slice(1))}return}if(b==="$"){var C=v.slice(1);if(i&&zi.call(i,C)){var T=d.slice(0);return T[0]=C,ap(i,T)}return}if(r)return ap(r,d)}),l=JSON.stringify(c);return(r||l!=="{}")&&(o+=":"+l),o})}function NO(t,e){var r=new eh;return Ase(t).reduce(function(n,s){var i,o=e(s);if(o!==void 0){for(var c=s.length-1;c>=0;--c)o=(i={},i[s[c]]=o,i);n=r.merge(n,o)}return n},Object.create(null))}function Ase(t){var e=PO(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(s,i){li(s)?(Ase(s).forEach(function(o){return r.push(n.concat(o))}),n.length=0):(n.push(s),li(t[i+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function xse(t,e){return t[e]}function ap(t,e,r){return r=r||xse,Mse(e.reduce(function n(s,i){return li(s)?s.map(function(o){return n(o,i)}):s&&r(s,i)},t))}function Mse(t){return ui(t)?li(t)?t.map(Mse):NO(Object.keys(t).sort(),function(e){return ap(t,e)}):t}mO.setStringify(ud);function GI(t){return t.args!==void 0?t.args:t.field?LA(t.field,t.variables):null}var w0t=function(){},Tz=function(t,e){return e.fieldName},$z=function(t,e,r){var n=r.mergeObjects;return n(t,e)},Cz=function(t,e){return e},_0t=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Qe({dataIdFromObject:mse},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,s=this,i=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=r&&r.storeObject||e,c=Qe(Qe({},r),{typename:i,storeObject:o,readField:r&&r.readField||function(){var A=kO(arguments,o);return s.readField(A,{store:s.cache.data,variables:A.variables})}}),l,d=i&&this.getTypePolicy(i),v=d&&d.keyFn||this.config.dataIdFromObject;v;){var b=v(e,c);if(li(b))v=Iz(b);else{l=b;break}}return l=l?String(l):void 0,c.keyObject?[l,c.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var s=e[n],i=s.queryType,o=s.mutationType,c=s.subscriptionType,l=Ql(s,["queryType","mutationType","subscriptionType"]);i&&r.setRootTypename("Query",n),o&&r.setRootTypename("Mutation",n),c&&r.setRootTypename("Subscription",n),zi.call(r.toBeAdded,n)?r.toBeAdded[n].push(l):r.toBeAdded[n]=[l]})},t.prototype.updateTypePolicy=function(e,r){var n=this,s=this.getTypePolicy(e),i=r.keyFields,o=r.fields;function c(l,d){l.merge=typeof d=="function"?d:d===!0?$z:d===!1?Cz:l.merge}c(s,r.merge),s.keyFn=i===!1?w0t:li(i)?Iz(i):typeof i=="function"?i:s.keyFn,o&&Object.keys(o).forEach(function(l){var d=n.getFieldPolicy(e,l,!0),v=o[l];if(typeof v=="function")d.read=v;else{var b=v.keyArgs,A=v.read,x=v.merge;d.keyFn=b===!1?Tz:li(b)?Rz(b):typeof b=="function"?b:d.keyFn,typeof A=="function"&&(d.read=A),c(d,x)}d.read&&d.merge&&(d.keyFn=d.keyFn||Tz)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),s=this.rootTypenamesById[n];r!==s&&(__DEV__?It(!s||s===e,"Cannot change root ".concat(e," __typename more than once")):It(!s||s===e,3),s&&delete this.rootIdsByTypename[s],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(s){r.getSupertypeSet(s,!0).add(n);var i=s.match(_se);(!i||i[0]!==s)&&r.fuzzySubtypes.set(s,new RegExp(s))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!zi.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var s=this.supertypeMap.get(e);s&&s.size&&s.forEach(function(o){var c=r.getTypePolicy(o),l=c.fields,d=Ql(c,["fields"]);Object.assign(n,d),Object.assign(n.fields,l)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(o){r.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var s=this.getTypePolicy(e).fields;return s[r]||n&&(s[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,s){var i=this;if(!e.typeCondition)return!0;if(!r)return!1;var o=e.typeCondition.name.value;if(r===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var c=this.getSupertypeSet(r,!0),l=[c],d=function(R){var C=i.getSupertypeSet(R,!1);C&&C.size&&l.indexOf(C)<0&&l.push(C)},v=!!(n&&this.fuzzySubtypes.size),b=!1,A=0;A<l.length;++A){var x=l[A];if(x.has(o))return c.has(o)||(b&&__DEV__&&It.warn("Inferring subtype ".concat(r," of supertype ").concat(o)),c.add(o)),!0;x.forEach(d),v&&A===l.length-1&&zI(e.selectionSet,n,s)&&(v=!1,b=!0,this.fuzzySubtypes.forEach(function(R,C){var T=r.match(R);T&&T[0]===r&&d(C)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,s=this.getFieldPolicy(r,n,!1),i,o=s&&s.keyFn;if(o&&r)for(var c={typename:r,fieldName:n,field:e.field||null,variables:e.variables},l=GI(e);o;){var d=o(l,c);if(li(d))o=Rz(d);else{i=d||n;break}}return i===void 0&&(i=e.field?Oht(e.field,e.variables):mO(n,GI(e))),i===!1?n:n===rh(i)?i:n+":"+i},t.prototype.readField=function(e,r){var n=e.from;if(n){var s=e.field||e.fieldName;if(s){if(e.typename===void 0){var i=r.store.getFieldValue(n,"__typename");i&&(e.typename=i)}var o=this.getStoreFieldName(e),c=rh(o),l=r.store.getFieldValue(n,o),d=this.getFieldPolicy(e.typename,c,!1),v=d&&d.read;if(v){var b=Oz(this,n,e,r,r.store.getStorage(yn(n)?n.__ref:n,o));return BO.withValue(this.cache,v,[l,b])}return l}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var s=this.getFieldPolicy(e,r,!1),i=s&&s.merge;return!i&&n&&(s=this.getTypePolicy(n),i=s&&s.merge),i},t.prototype.runMergeFunction=function(e,r,n,s,i){var o=n.field,c=n.typename,l=n.merge;return l===$z?Ise(s.store)(e,r):l===Cz?r:(s.overwrite&&(e=void 0),l(e,r,Oz(this,void 0,{typename:c,fieldName:o.name.value,field:o,variables:s.variables},s,i||Object.create(null))))},t}();function Oz(t,e,r,n,s){var i=t.getStoreFieldName(r),o=rh(i),c=r.variables||n.variables,l=n.store,d=l.toReference,v=l.canRead;return{args:GI(r),field:r.field||null,fieldName:o,storeFieldName:i,variables:c,isReference:yn,toReference:d,storage:s,cache:t.cache,canRead:v,readField:function(){return t.readField(kO(arguments,e,c),n)},mergeObjects:Ise(n.store)}}function kO(t,e,r){var n=t[0],s=t[1],i=t.length,o;return typeof n=="string"?o={fieldName:n,from:i>1?s:e}:(o=Qe({},n),zi.call(o,"from")||(o.from=e)),__DEV__&&o.from===void 0&&__DEV__&&It.warn("Undefined 'from' passed to readField with arguments ".concat(adt(Array.from(t)))),o.variables===void 0&&(o.variables=r),o}function Ise(t){return function(r,n){if(li(r)||li(n))throw __DEV__?new un("Cannot automatically merge arrays"):new un(4);if(ui(r)&&ui(n)){var s=t.getFieldValue(r,"__typename"),i=t.getFieldValue(n,"__typename"),o=s&&i&&s!==i;if(o)return n;if(yn(r)&&H0(n))return t.merge(r.__ref,n),r;if(H0(r)&&yn(n))return t.merge(r,n.__ref),n;if(H0(r)&&H0(n))return Qe(Qe({},r),n)}return n}}function gM(t,e,r){var n="".concat(e).concat(r),s=t.flavors.get(n);return s||t.flavors.set(n,s=t.clientOnly===e&&t.deferred===r?t:Qe(Qe({},t),{clientOnly:e,deferred:r})),s}var E0t=function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,s=r.query,i=r.result,o=r.dataId,c=r.variables,l=r.overwrite,d=S1(s),v=u0t();c=Qe(Qe({},_O(d)),c);var b=Qe(Qe({store:e,written:Object.create(null),merge:function(x,R){return v.merge(x,R)},variables:c,varString:ud(c)},Ese(s,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),A=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:d.selectionSet,mergeTree:{map:new Map},context:b});if(!yn(A))throw __DEV__?new un("Could not identify object ".concat(JSON.stringify(i))):new un(7);return b.incomingById.forEach(function(x,R){var C=x.storeObject,T=x.mergeTree,$=x.fieldNodeSet,O=sp(R);if(T&&T.map.size){var D=n.applyMerges(T,O,C,b);if(yn(D))return;C=D}if(__DEV__&&!b.overwrite){var L=Object.create(null);$.forEach(function(V){V.selectionSet&&(L[V.name.value]=!0)});var F=function(V){return L[rh(V)]===!0},H=function(V){var J=T&&T.map.get(V);return!!(J&&J.info&&J.info.merge)};Object.keys(C).forEach(function(V){F(V)&&!H(V)&&S0t(O,C,V,b.store)})}e.merge(R,C)}),e.retain(A.__ref),A},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,s=e.result,i=e.selectionSet,o=e.context,c=e.mergeTree,l=this.cache.policies,d=Object.create(null),v=n&&l.rootTypenamesById[n]||CI(s,i,o.fragmentMap)||n&&o.store.get(n,"__typename");typeof v=="string"&&(d.__typename=v);var b=function(){var D=kO(arguments,d,o.variables);if(yn(D.from)){var L=o.incomingById.get(D.from.__ref);if(L){var F=l.readField(Qe(Qe({},D),{from:L.storeObject}),o);if(F!==void 0)return F}}return l.readField(D,o)},A=new Set;this.flattenFields(i,s,o,v).forEach(function(D,L){var F,H=Rd(L),V=s[H];if(A.add(L),V!==void 0){var J=l.getStoreFieldName({typename:v,fieldName:L.name.value,field:L,variables:D.variables}),Z=Bz(c,J),se=r.processFieldValue(V,L,L.selectionSet?gM(D,!1,!1):D,Z),S=void 0;L.selectionSet&&(yn(se)||H0(se))&&(S=b("__typename",se));var a=l.getMergeFunction(v,L.name.value,S);a?Z.info={field:L,typename:v,merge:a}:Pz(c,J),d=D.merge(d,(F={},F[J]=se,F))}else __DEV__&&!D.clientOnly&&!D.deferred&&!SO.added(L)&&!l.getReadFunction(v,L.name.value)&&__DEV__&&It.error("Missing field '".concat(Rd(L),"' while writing result ").concat(JSON.stringify(s,null,2)).substring(0,1e3))});try{var x=l.identify(s,{typename:v,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:d,readField:b}),R=x[0],C=x[1];n=n||R,C&&(d=o.merge(d,C))}catch(D){if(!n)throw D}if(typeof n=="string"){var T=sp(n),$=o.written[n]||(o.written[n]=[]);if($.indexOf(i)>=0||($.push(i),this.reader&&this.reader.isFresh(s,T,i,o)))return T;var O=o.incomingById.get(n);return O?(O.storeObject=o.merge(O.storeObject,d),O.mergeTree=WI(O.mergeTree,c),A.forEach(function(D){return O.fieldNodeSet.add(D)})):o.incomingById.set(n,{storeObject:d,mergeTree:L2(c)?void 0:c,fieldNodeSet:A}),T}return d},t.prototype.processFieldValue=function(e,r,n,s){var i=this;return!r.selectionSet||e===null?__DEV__?Xie(e):e:li(e)?e.map(function(o,c){var l=i.processFieldValue(o,r,n,Bz(s,c));return Pz(s,c),l}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:s})},t.prototype.flattenFields=function(e,r,n,s){s===void 0&&(s=CI(r,e,n.fragmentMap));var i=new Map,o=this.cache.policies,c=new M1(!1);return function l(d,v){var b=c.lookup(d,v.clientOnly,v.deferred);b.visited||(b.visited=!0,d.selections.forEach(function(A){if(kA(A,n.variables)){var x=v.clientOnly,R=v.deferred;if(!(x&&R)&&Io(A.directives)&&A.directives.forEach(function($){var O=$.name.value;if(O==="client"&&(x=!0),O==="defer"){var D=LA($,n.variables);(!D||D.if!==!1)&&(R=!0)}}),Td(A)){var C=i.get(A);C&&(x=x&&C.clientOnly,R=R&&C.deferred),i.set(A,gM(n,x,R))}else{var T=yO(A,n.lookupFragment);if(!T&&A.kind===St.FRAGMENT_SPREAD)throw __DEV__?new un("No fragment named ".concat(A.name.value)):new un(8);T&&o.fragmentMatches(T,s,r,n.variables)&&l(T.selectionSet,gM(n,x,R))}}}))}(e,n),i},t.prototype.applyMerges=function(e,r,n,s,i){var o,c=this;if(e.map.size&&!yn(n)){var l=!li(n)&&(yn(r)||H0(r))?r:void 0,d=n;l&&!i&&(i=[yn(l)?l.__ref:l]);var v,b=function(A,x){return li(A)?typeof x=="number"?A[x]:void 0:s.store.getFieldValue(A,String(x))};e.map.forEach(function(A,x){var R=b(l,x),C=b(d,x);if(C!==void 0){i&&i.push(x);var T=c.applyMerges(A,R,C,s,i);T!==C&&(v=v||new Map,v.set(x,T)),i&&It(i.pop()===x)}}),v&&(n=li(d)?d.slice(0):Qe({},d),v.forEach(function(A,x){n[x]=A}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,s,i&&(o=s.store).getStorage.apply(o,i)):n},t}(),Rse=[];function Bz(t,e){var r=t.map;return r.has(e)||r.set(e,Rse.pop()||{map:new Map}),r.get(e)}function WI(t,e){if(t===e||!e||L2(e))return t;if(!t||L2(t))return e;var r=t.info&&e.info?Qe(Qe({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,s=n?new Map:t.map.size?t.map:e.map,i={info:r,map:s};if(n){var o=new Set(e.map.keys());t.map.forEach(function(c,l){i.map.set(l,WI(c,e.map.get(l))),o.delete(l)}),o.forEach(function(c){i.map.set(c,WI(e.map.get(c),t.map.get(c)))})}return i}function L2(t){return!t||!(t.info||t.map.size)}function Pz(t,e){var r=t.map,n=r.get(e);n&&L2(n)&&(Rse.push(n),r.delete(e))}var Nz=new Set;function S0t(t,e,r,n){var s=function(b){var A=n.getFieldValue(b,r);return typeof A=="object"&&A},i=s(t);if(i){var o=s(e);if(o&&!yn(i)&&!Gn(i,o)&&!Object.keys(i).every(function(b){return n.getFieldValue(o,b)!==void 0})){var c=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),l=rh(r),d="".concat(c,".").concat(l);if(!Nz.has(d)){Nz.add(d);var v=[];!li(i)&&!li(o)&&[i,o].forEach(function(b){var A=n.getFieldValue(b,"__typename");typeof A=="string"&&!v.includes(A)&&v.push(A)}),__DEV__&&It.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(c,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(v.length?"either ensure all objects of type "+v.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(d,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(i).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(o).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var u3t=function(t){$c(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=m0t,n.txCount=0,n.config=c0t(r),n.addTypename=!!n.config.addTypename,n.policies=new _0t({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new bm.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,s=this.storeReader,i=this.config.fragments;this.storeWriter=new E0t(this,this.storeReader=new p0t({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:wse(this.config),canon:r?void 0:s&&s.canon,fragments:i}),i),this.maybeBroadcastWatch=k2(function(o,c){return n.broadcastWatch(o,c)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var c=o.optimistic?n.optimisticData:n.data;if(By(c)){var l=o.optimistic,d=o.id,v=o.variables;return c.makeCacheKey(o.query,o.callback,ud({optimistic:l,id:d,variables:v}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,s=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(Qe(Qe({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:s})).result||null}catch(i){if(i instanceof yse)return null;throw i}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(zi.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(Qe(Qe({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||y0t(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&xz(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){ud.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(yn(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){__DEV__&&It.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(zi.call(r,"id"))return!1;r=Qe(Qe({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),ud.reset(),r&&r.discardWatches?(this.watches.forEach(function(s){return n.maybeBroadcastWatch.forget(s)}),this.watches.clear(),xz(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,s=r.update,i=r.optimistic,o=i===void 0?!0:i,c=r.removeOptimistic,l=r.onWatchUpdated,d,v=function(A){var x=n,R=x.data,C=x.optimisticData;++n.txCount,A&&(n.data=n.optimisticData=A);try{return d=s(n)}finally{--n.txCount,n.data=R,n.optimisticData=C}},b=new Set;return l&&!this.txCount&&this.broadcastWatches(Qe(Qe({},r),{onWatchUpdated:function(A){return b.add(A),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,v):o===!1?v(this.data):v(),typeof c=="string"&&(this.optimisticData=this.optimisticData.removeLayer(c)),l&&b.size?(this.broadcastWatches(Qe(Qe({},r),{onWatchUpdated:function(A,x){var R=l.call(this,A,x);return R!==!1&&b.delete(A),R}})),b.size&&b.forEach(function(A){return n.maybeBroadcastWatch.dirty(A)})):this.broadcastWatches(r),d},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){if(this.addTypename){var n=this.typenameDocumentCache.get(r);return n||(n=SO(r),this.typenameDocumentCache.set(r,n),this.typenameDocumentCache.set(n,n)),n}return r},e.prototype.transformForLink=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(s){return n.maybeBroadcastWatch(s,r)})},e.prototype.broadcastWatch=function(r,n){var s=r.lastDiff,i=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(i.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,i,s)===!1)||(!s||!Gn(s.result,i.result))&&r.callback(r.lastDiff=i,s)},e}(a0t);function A0t(t){return t.hasOwnProperty("graphQLErrors")}var x0t=function(t){var e="";if(Io(t.graphQLErrors)||Io(t.clientErrors)){var r=(t.graphQLErrors||[]).concat(t.clientErrors||[]);r.forEach(function(n){var s=n?n.message:"Error message not found.";e+="".concat(s,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},Ol=function(t){$c(e,t);function e(r){var n=r.graphQLErrors,s=r.clientErrors,i=r.networkError,o=r.errorMessage,c=r.extraInfo,l=t.call(this,o)||this;return l.name="ApolloError",l.graphQLErrors=n||[],l.clientErrors=s||[],l.networkError=i||null,l.message=o||x0t(l),l.extraInfo=c,l.__proto__=e.prototype,l}return e}(Error),sn;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(sn||(sn={}));function wm(t){return t?t<7:!1}var M0t=Object.assign,I0t=Object.hasOwnProperty,JI=function(t){$c(e,t);function e(r){var n=r.queryManager,s=r.queryInfo,i=r.options,o=t.call(this,function(T){try{var $=T._subscription._observer;$&&!$.error&&($.error=R0t)}catch{}var O=!o.observers.size;o.observers.add(T);var D=o.last;return D&&D.error?T.error&&T.error(D.error):D&&D.result&&T.next&&T.next(D.result),O&&o.reobserve().catch(function(){}),function(){o.observers.delete(T)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=s,o.queryManager=n,o.isTornDown=!1;var c=n.defaultOptions.watchQuery,l=c===void 0?{}:c,d=l.fetchPolicy,v=d===void 0?"cache-first":d,b=i.fetchPolicy,A=b===void 0?v:b,x=i.initialFetchPolicy,R=x===void 0?A==="standby"?v:A:x;o.options=Qe(Qe({},i),{initialFetchPolicy:R,fetchPolicy:A}),o.queryId=s.queryId||n.generateQueryId();var C=S1(o.query);return o.queryName=C&&C.name&&C.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,s){var i={next:function(c){n(c),r.observers.delete(i),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){o.unsubscribe()},0)},error:s},o=r.subscribe(i)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),s=this.queryInfo.networkStatus||n&&n.networkStatus||sn.ready,i=Qe(Qe({},n),{loading:wm(s),networkStatus:s}),o=this.options.fetchPolicy,c=o===void 0?"cache-first":o;if(!(c==="network-only"||c==="no-cache"||c==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(i.data=l.result),Gn(i.data,{})&&(i.data=void 0),l.complete?(delete i.partial,l.complete&&i.networkStatus===sn.loading&&(c==="cache-first"||c==="cache-only")&&(i.networkStatus=sn.ready,i.loading=!1)):i.partial=!0,__DEV__&&!l.complete&&!this.options.partialRefetch&&!i.loading&&!i.data&&!i.error&&$se(l.missing)}return r&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(r,n){return!this.last||!Gn(this.last.result,r)||n&&!Gn(this.last.variables,n)},e.prototype.getLast=function(r,n){var s=this.last;if(s&&s[r]&&(!n||Gn(s.variables,this.variables)))return s[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,s={pollInterval:0},i=this.options.fetchPolicy;if(i==="cache-and-network"?s.fetchPolicy=i:i==="no-cache"?s.fetchPolicy="no-cache":s.fetchPolicy="network-only",__DEV__&&r&&I0t.call(r,"variables")){var o=Kie(this.query),c=o.variableDefinitions;(!c||!c.some(function(l){return l.variable.name.value==="variables"}))&&__DEV__&&It.warn("Called refetch(".concat(JSON.stringify(r),") for query ").concat(((n=o.name)===null||n===void 0?void 0:n.value)||JSON.stringify(o),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return r&&!Gn(this.options.variables,r)&&(s.variables=this.options.variables=Qe(Qe({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(s,sn.refetch)},e.prototype.fetchMore=function(r){var n=this,s=Qe(Qe({},r.query?r:Qe(Qe(Qe(Qe({},this.options),{query:this.query}),r),{variables:Qe(Qe({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"}),i=this.queryManager.generateQueryId(),o=this.queryInfo,c=o.networkStatus;o.networkStatus=sn.fetchMore,s.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(i,s,sn.fetchMore).then(function(d){return n.queryManager.removeQuery(i),o.networkStatus===sn.fetchMore&&(o.networkStatus=c),n.queryManager.cache.batch({update:function(v){var b=r.updateQuery;b?v.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(A){return b(A,{fetchMoreResult:d.data,variables:s.variables})}):v.writeQuery({query:s.query,variables:s.variables,data:d.data})},onWatchUpdated:function(v){l.add(v.query)}}),d}).finally(function(){l.has(n.query)||Tse(n)})},e.prototype.subscribeToMore=function(r){var n=this,s=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(i){var o=r.updateQuery;o&&n.updateQuery(function(c,l){var d=l.variables;return o(c,{subscriptionData:i,variables:d})})},error:function(i){if(r.onError){r.onError(i);return}__DEV__&&It.error("Unhandled GraphQL subscription error",i)}});return this.subscriptions.add(s),function(){n.subscriptions.delete(s)&&s.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.setVariables=function(r){return Gn(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},sn.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,s=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,i=r(s,{variables:this.variables});i&&(n.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var s=n.fetchPolicy,i=s===void 0?"cache-first":s,o=n.initialFetchPolicy,c=o===void 0?i:o;i==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(i,{reason:r,options:n,observable:this,initialFetchPolicy:c}):r==="variables-changed"?n.fetchPolicy=c:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,r,n)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,s=n.pollingInfo,i=n.options.pollInterval;if(!i){s&&(clearTimeout(s.timeout),delete this.pollingInfo);return}if(!(s&&s.interval===i)){__DEV__?It(i,"Attempted to start a polling query without a polling interval."):It(i,13);var o=s||(this.pollingInfo={});o.interval=i;var c=function(){r.pollingInfo&&(wm(r.queryInfo.networkStatus)?l():r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},sn.poll).then(l,l))},l=function(){var d=r.pollingInfo;d&&(clearTimeout(d.timeout),d.timeout=setTimeout(c,d.interval))};l()}}},e.prototype.updateLastResult=function(r,n){return n===void 0&&(n=this.variables),this.last=Qe(Qe({},this.last),{result:this.queryManager.assumeImmutableResults?r:Xie(r),variables:n}),Io(r.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(r,n){var s=this;this.isTornDown=!1;var i=n===sn.refetch||n===sn.fetchMore||n===sn.poll,o=this.options.variables,c=this.options.fetchPolicy,l=A1(this.options,r||{}),d=i?l:M0t(this.options,l);i||(this.updatePolling(),r&&r.variables&&!Gn(r.variables,o)&&d.fetchPolicy!=="standby"&&d.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",d),n===void 0&&(n=sn.setVariables)));var v=d.variables&&Qe({},d.variables),b=this.fetch(d,n),A={next:function(x){s.reportResult(x,v)},error:function(x){s.reportError(x,v)}};return i||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=b,this.observer=A),b.addObserver(A),b.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var s=this.getLastError();(s||this.isDifferentFromLastResult(r,n))&&((s||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),Oy(this.observers,"next",r))},e.prototype.reportError=function(r,n){var s=Qe(Qe({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:sn.error,loading:!1});this.updateLastResult(s,n),Oy(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Dn);ese(JI);function Tse(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,typeof n=="function"?n.apply(this,arguments):r}}):t.reobserve()}function R0t(t){__DEV__&&It.error("Unhandled error",t.message,t.stack)}function $se(t){__DEV__&&t&&__DEV__&&It.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var Cse=function(){function t(e){var r=e.cache,n=e.client,s=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,n&&(this.client=n),s&&this.addResolvers(s),i&&this.setFragmentMatcher(i)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=ez(r.resolvers,n)}):this.resolvers=ez(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,s=e.context,i=e.variables,o=e.onlyRunForcedResolvers,c=o===void 0?!1:o;return xl(this,void 0,void 0,function(){return Ml(this,function(l){return r?[2,this.resolveDocument(r,n.data,s,i,this.fragmentMatcher,c).then(function(d){return Qe(Qe({},n),{data:d.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return E1(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return qht(e)},t.prototype.prepareContext=function(e){var r=this.cache;return Qe(Qe({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),xl(this,void 0,void 0,function(){return Ml(this,function(s){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(i){return Qe(Qe({},r),i.exportedVariables)})]:[2,Qe({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return Pa(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(s){return s.name.value==="always"&&s.value.kind==="BooleanValue"&&s.value.value===!0}),r))return Qh}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:jht(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,s,i,o){return n===void 0&&(n={}),s===void 0&&(s={}),i===void 0&&(i=function(){return!0}),o===void 0&&(o=!1),xl(this,void 0,void 0,function(){var c,l,d,v,b,A,x,R,C,T,$;return Ml(this,function(O){return c=wO(e),l=bO(e),d=vO(l),v=this.collectSelectionsToResolve(c,d),b=c.operation,A=b?b.charAt(0).toUpperCase()+b.slice(1):"Query",x=this,R=x.cache,C=x.client,T={fragmentMap:d,context:Qe(Qe({},n),{cache:R,client:C}),variables:s,fragmentMatcher:i,defaultOperationType:A,exportedVariables:{},selectionsToResolve:v,onlyRunForcedResolvers:o},$=!1,[2,this.resolveSelectionSet(c.selectionSet,$,r,T).then(function(D){return{result:D,exportedVariables:T.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n,s){return xl(this,void 0,void 0,function(){var i,o,c,l,d,v=this;return Ml(this,function(b){return i=s.fragmentMap,o=s.context,c=s.variables,l=[n],d=function(A){return xl(v,void 0,void 0,function(){var x,R;return Ml(this,function(C){return!r&&!s.selectionsToResolve.has(A)?[2]:kA(A,c)?Td(A)?[2,this.resolveField(A,r,n,s).then(function(T){var $;typeof T<"u"&&l.push(($={},$[Rd(A)]=T,$))})]:(Nht(A)?x=A:(x=i[A.name.value],__DEV__?It(x,"No fragment named ".concat(A.name.value)):It(x,11)),x&&x.typeCondition&&(R=x.typeCondition.name.value,s.fragmentMatcher(n,R,o))?[2,this.resolveSelectionSet(x.selectionSet,r,n,s).then(function(T){l.push(T)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(d)).then(function(){return AO(l)})]})})},t.prototype.resolveField=function(e,r,n,s){return xl(this,void 0,void 0,function(){var i,o,c,l,d,v,b,A,x,R=this;return Ml(this,function(C){return n?(i=s.variables,o=e.name.value,c=Rd(e),l=o!==c,d=n[c]||n[o],v=Promise.resolve(d),(!s.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(b=n.__typename||s.defaultOperationType,A=this.resolvers&&this.resolvers[b],A&&(x=A[l?o:c],x&&(v=Promise.resolve(BO.withValue(this.cache,x,[n,LA(e,i),s.context,{field:e,fragmentMap:s.fragmentMap}]))))),[2,v.then(function(T){var $,O;if(T===void 0&&(T=d),e.directives&&e.directives.forEach(function(L){L.name.value==="export"&&L.arguments&&L.arguments.forEach(function(F){F.name.value==="as"&&F.value.kind==="StringValue"&&(s.exportedVariables[F.value.value]=T)})}),!e.selectionSet||T==null)return T;var D=(O=($=e.directives)===null||$===void 0?void 0:$.some(function(L){return L.name.value==="client"}))!==null&&O!==void 0?O:!1;if(Array.isArray(T))return R.resolveSubSelectedArray(e,r||D,T,s);if(e.selectionSet)return R.resolveSelectionSet(e.selectionSet,r||D,T,s)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,r,n,s){var i=this;return Promise.all(n.map(function(o){if(o===null)return null;if(Array.isArray(o))return i.resolveSubSelectedArray(e,r,o,s);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,r,o,s)}))},t.prototype.collectSelectionsToResolve=function(e,r){var n=function(o){return!Array.isArray(o)},s=this.selectionsToResolveCache;function i(o){if(!s.has(o)){var c=new Set;s.set(o,c),Pa(o,{Directive:function(l,d,v,b,A){l.name.value==="client"&&A.forEach(function(x){n(x)&&_L(x)&&c.add(x)})},FragmentSpread:function(l,d,v,b,A){var x=r[l.name.value];__DEV__?It(x,"No fragment named ".concat(l.name.value)):It(x,12);var R=i(x);R.size>0&&(A.forEach(function(C){n(C)&&_L(C)&&c.add(C)}),c.add(l),R.forEach(function(C){c.add(C)}))}})}return s.get(o)}return i(e)},t}(),V0=new(gh?WeakMap:Map);function vM(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return V0.set(t,(V0.get(t)+1)%1e15),r.apply(this,arguments)})}function kz(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var yM=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;V0.has(n)||(V0.set(n,0),vM(n,"evict"),vM(n,"modify"),vM(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||sn.loading;return this.variables&&this.networkStatus!==sn.loading&&!Gn(this.variables,e.variables)&&(r=sn.setVariables),Gn(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){kz(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var r=this.getDiffOptions(e);if(this.lastDiff&&Gn(r,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var s=this.cache.diff(r);return this.updateLastDiff(s,r),s},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Gn(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():Tse(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;kz(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(wm(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(r){return r.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var s=Qe(Qe({},this.getDiffOptions(e)),{watcher:this,callback:function(i){return r.setDiff(i)}});(!this.lastWatch||!Gn(s,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=s))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===V0.get(this.cache)&&Gn(r,n.variables)&&Gn(e.data,n.result.data))},t.prototype.markResult=function(e,r,n,s){var i=this,o=new eh,c=Io(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Io(e.incremental)){var l=tse(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var d=this.getDiff();e.data=o.merge(d.result,e.data)}this.graphQLErrors=c,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):s!==0&&(QI(e,n.errorPolicy)?this.cache.performTransaction(function(v){if(i.shouldWrite(e,n.variables))v.writeQuery({query:r,data:e.data,variables:n.variables,overwrite:s===1}),i.lastWrite={result:e,variables:n.variables,dmCount:V0.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var b=i.getDiffOptions(n.variables),A=v.diff(b);i.stopped||i.updateWatch(n.variables),i.updateLastDiff(A,b),A.complete&&(e.data=A.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=sn.ready},t.prototype.markError=function(e){return this.networkStatus=sn.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function QI(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!m_(t);return!n&&r&&t.data&&(n=!0),n}var T0t=Object.prototype.hasOwnProperty,$0t=function(){function t(e){var r=e.cache,n=e.link,s=e.defaultOptions,i=e.queryDeduplication,o=i===void 0?!1:i,c=e.onBroadcast,l=e.ssrMode,d=l===void 0?!1:l,v=e.clientAwareness,b=v===void 0?{}:v,A=e.localState,x=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(gh?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=r,this.link=n,this.defaultOptions=s||Object.create(null),this.queryDeduplication=o,this.clientAwareness=b,this.localState=A||new Cse({cache:r}),this.ssrMode=d,this.assumeImmutableResults=!!x,(this.onBroadcast=c)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new un("QueryManager stopped while query was in flight"):new un(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,s=e.mutation,i=e.variables,o=e.optimisticResponse,c=e.updateQueries,l=e.refetchQueries,d=l===void 0?[]:l,v=e.awaitRefetchQueries,b=v===void 0?!1:v,A=e.update,x=e.onQueryUpdated,R=e.fetchPolicy,C=R===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":R,T=e.errorPolicy,$=T===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":T,O=e.keepRootFields,D=e.context;return xl(this,void 0,void 0,function(){var L,F,H,V,J,Z;return Ml(this,function(se){switch(se.label){case 0:return __DEV__?It(s,"mutation option is required. You must specify your GraphQL document in the mutation option."):It(s,15),__DEV__?It(C==="network-only"||C==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):It(C==="network-only"||C==="no-cache",16),L=this.generateMutationId(),F=this.transform(s),H=F.document,V=F.hasClientExports,s=this.cache.transformForLink(H),i=this.getVariables(s,i),V?[4,this.localState.addExportedVariables(s,i,D)]:[3,2];case 1:i=se.sent(),se.label=2;case 2:return J=this.mutationStore&&(this.mutationStore[L]={mutation:s,variables:i,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:L,document:s,variables:i,fetchPolicy:C,errorPolicy:$,context:D,updateQueries:c,update:A,keepRootFields:O}),this.broadcastQueries(),Z=this,[2,new Promise(function(S,a){return fM(Z.getObservableFromLink(s,Qe(Qe({},D),{optimisticResponse:o}),i,!1),function(u){if(m_(u)&&$==="none")throw new Ol({graphQLErrors:kI(u)});J&&(J.loading=!1,J.error=null);var h=Qe({},u);return typeof d=="function"&&(d=d(h)),$==="ignore"&&m_(h)&&delete h.errors,Z.markMutationResult({mutationId:L,result:h,document:s,variables:i,fetchPolicy:C,errorPolicy:$,context:D,update:A,updateQueries:c,awaitRefetchQueries:b,refetchQueries:d,removeOptimistic:o?L:void 0,onQueryUpdated:x,keepRootFields:O})}).subscribe({next:function(u){Z.broadcastQueries(),(!("hasNext"in u)||u.hasNext===!1)&&S(u)},error:function(u){J&&(J.loading=!1,J.error=u),o&&Z.cache.removeOptimistic(L),Z.broadcastQueries(),a(u instanceof Ol?u:new Ol({networkError:u}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var s=e.result,i=[],o=e.fetchPolicy==="no-cache";if(!o&&QI(s,e.errorPolicy)){if(op(s)||i.push({result:s.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),op(s)&&Io(s.incremental)){var c=r.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;c.result&&(l=tse(c.result,s)),typeof l<"u"&&(s.data=l,i.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var d=e.updateQueries;d&&this.queries.forEach(function(b,A){var x=b.observableQuery,R=x&&x.queryName;if(!(!R||!T0t.call(d,R))){var C=d[R],T=n.queries.get(A),$=T.document,O=T.variables,D=r.diff({query:$,variables:O,returnPartialData:!0,optimistic:!1}),L=D.result,F=D.complete;if(F&&L){var H=C(L,{mutationResult:s,queryName:$&&OI($)||void 0,queryVariables:O});H&&i.push({result:H,dataId:"ROOT_QUERY",query:$,variables:O})}}})}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var v=[];if(this.refetchQueries({updateCache:function(b){o||i.forEach(function(C){return b.write(C)});var A=e.update,x=!odt(s)||op(s)&&!s.hasNext;if(A){if(!o){var R=b.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});R.complete&&(s=Qe(Qe({},s),{data:R.result}),"incremental"in s&&delete s.incremental,"hasNext"in s&&delete s.hasNext)}x&&A(b,s,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&x&&b.modify({id:"ROOT_MUTATION",fields:function(C,T){var $=T.fieldName,O=T.DELETE;return $==="__typename"?C:O}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(b){return v.push(b)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(v).then(function(){return s})}return Promise.resolve(s)},t.prototype.markMutationOptimistic=function(e,r){var n=this,s=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(i){try{n.markMutationResult(Qe(Qe({},r),{result:{data:s}}),i)}catch(o){__DEV__&&It.error(o)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchQueryObservable(e,r,n).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var n=this.cache.transformDocument(e),s=Uht(n),i=this.localState.clientQuery(n),o=s&&this.localState.serverQuery(s),c={document:n,hasClientExports:mht(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:i,serverQuery:o,defaultVars:_O(S1(n)),asQuery:Qe(Qe({},n),{definitions:n.definitions.map(function(d){return d.kind==="OperationDefinition"&&d.operation!=="query"?Qe(Qe({},d),{operation:"query"}):d})})},l=function(d){d&&!r.has(d)&&r.set(d,c)};l(e),l(n),l(i),l(o)}return r.get(e)},t.prototype.getVariables=function(e,r){return Qe(Qe({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e){e=Qe(Qe({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new yM(this),n=new JI({queryManager:this,queryInfo:r,options:e});return this.queries.set(n.queryId,r),r.init({document:n.query,observableQuery:n,variables:n.variables}),n},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),__DEV__?It(e.query,"query option is required. You must specify your GraphQL document in the query option."):It(e.query,17),__DEV__?It(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):It(e.query.kind==="Document",18),__DEV__?It(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):It(!e.returnPartialData,19),__DEV__?It(!e.pollInterval,"pollInterval option only supported on watchQuery."):It(!e.pollInterval,20),this.fetchQuery(r,e).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new un("Store reset while query was in flight (not completed in link chain)"):new un(21)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=sn.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,s=new Map,i=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?s.set(o,!1):Eht(o)?s.set(r.transform(o).document,!1):ui(o)&&o.query&&i.add(o)}),this.queries.forEach(function(o,c){var l=o.observableQuery,d=o.document;if(l){if(e==="all"){n.set(c,l);return}var v=l.queryName,b=l.options.fetchPolicy;if(b==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||v&&s.has(v)||d&&s.has(d))&&(n.set(c,l),v&&s.set(v,!0),d&&s.set(d,!0))}}),i.size&&i.forEach(function(o){var c=LI("legacyOneTimeQuery"),l=r.getQuery(c).init({document:o.query,variables:o.variables}),d=new JI({queryManager:r,queryInfo:l,options:Qe(Qe({},o),{fetchPolicy:"network-only"})});It(d.queryId===c),l.setObservableQuery(d),n.set(c,d)}),__DEV__&&s.size&&s.forEach(function(o,c){o||__DEV__&&It.warn("Unknown query ".concat(typeof c=="string"?"named ":"").concat(JSON.stringify(c,null,2)," requested in refetchQueries options.include array"))}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(s,i){var o=s.options.fetchPolicy;s.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&n.push(s.refetch()),r.getQuery(i).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,s=e.fetchPolicy,i=e.errorPolicy,o=e.variables,c=e.context,l=c===void 0?{}:c;n=this.transform(n).document,o=this.getVariables(n,o);var d=function(b){return r.getObservableFromLink(n,l,b).map(function(A){if(s!=="no-cache"&&(QI(A,i)&&r.cache.write({query:n,result:A.data,dataId:"ROOT_SUBSCRIPTION",variables:b}),r.broadcastQueries()),m_(A))throw new Ol({graphQLErrors:A.errors});return A})};if(this.transform(n).hasClientExports){var v=this.localState.addExportedVariables(n,o,l).then(d);return new Dn(function(b){var A=null;return v.then(function(x){return A=x.subscribe(b)},b.error),function(){return A&&A.unsubscribe()}})}return d(o)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,s){var i=this,o;s===void 0&&(s=(o=r==null?void 0:r.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var c,l=this.transform(e).serverQuery;if(l){var d=this,v=d.inFlightLinkObservables,b=d.link,A={query:l,variables:n,operationName:OI(l)||void 0,context:this.prepareContext(Qe(Qe({},r),{forceFetch:!s}))};if(r=A.context,s){var x=v.get(l)||new Map;v.set(l,x);var R=ud(n);if(c=x.get(R),!c){var C=new yy([UI(b,A)]);x.set(R,c=C),C.beforeNext(function(){x.delete(R)&&x.size<1&&v.delete(l)})}}else c=new yy([UI(b,A)])}else c=new yy([Dn.of({data:{}})]),r=this.prepareContext(r);var T=this.transform(e).clientQuery;return T&&(c=fM(c,function($){return i.localState.runResolvers({document:T,remoteResult:$,context:r,variables:n})})),c},t.prototype.getResultsFromLink=function(e,r,n){var s=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(this.transform(e.document).document);return fM(this.getObservableFromLink(i,n.context,n.variables),function(o){var c=kI(o),l=c.length>0;if(s>=e.lastRequestId){if(l&&n.errorPolicy==="none")throw e.markError(new Ol({graphQLErrors:c}));e.markResult(o,i,n,r),e.markReady()}var d={data:o.data,loading:!1,networkStatus:sn.ready};return l&&n.errorPolicy!=="ignore"&&(d.errors=c,d.networkStatus=sn.error),d},function(o){var c=A0t(o)?o:new Ol({networkError:o});throw s>=e.lastRequestId&&e.markError(c),c})},t.prototype.fetchQueryObservable=function(e,r,n){var s=this;n===void 0&&(n=sn.loading);var i=this.transform(r.query).document,o=this.getVariables(i,r.variables),c=this.getQuery(e),l=this.defaultOptions.watchQuery,d=r.fetchPolicy,v=d===void 0?l&&l.fetchPolicy||"cache-first":d,b=r.errorPolicy,A=b===void 0?l&&l.errorPolicy||"none":b,x=r.returnPartialData,R=x===void 0?!1:x,C=r.notifyOnNetworkStatusChange,T=C===void 0?!1:C,$=r.context,O=$===void 0?{}:$,D=Object.assign({},r,{query:i,variables:o,fetchPolicy:v,errorPolicy:A,returnPartialData:R,notifyOnNetworkStatusChange:T,context:O}),L=function(V){D.variables=V;var J=s.fetchQueryByPolicy(c,D,n);return D.fetchPolicy!=="standby"&&J.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",r),J},F=function(){return s.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(V){F(),setTimeout(function(){return H.cancel(V)})});var H=new yy(this.transform(D.query).hasClientExports?this.localState.addExportedVariables(D.query,D.variables,D.context).then(L):L(D.variables));return H.promise.then(F,F),H},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,s=e.include,i=e.optimistic,o=i===void 0?!1:i,c=e.removeOptimistic,l=c===void 0?o?LI("refetchQueries"):void 0:c,d=e.onQueryUpdated,v=new Map;s&&this.getObservableQueries(s).forEach(function(A,x){v.set(x,{oq:A,lastDiff:r.getQuery(x).getDiff()})});var b=new Map;return n&&this.cache.batch({update:n,optimistic:o&&l||!1,removeOptimistic:l,onWatchUpdated:function(A,x,R){var C=A.watcher instanceof yM&&A.watcher.observableQuery;if(C){if(d){v.delete(C.queryId);var T=d(C,x,R);return T===!0&&(T=C.refetch()),T!==!1&&b.set(C,T),T}d!==null&&v.set(C.queryId,{oq:C,lastDiff:R,diff:x})}}}),v.size&&v.forEach(function(A,x){var R=A.oq,C=A.lastDiff,T=A.diff,$;if(d){if(!T){var O=R.queryInfo;O.reset(),T=O.getDiff()}$=d(R,T,C)}(!d||$===!0)&&($=R.refetch()),$!==!1&&b.set(R,$),x.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(x)}),l&&this.cache.removeOptimistic(l),b},t.prototype.fetchQueryByPolicy=function(e,r,n){var s=this,i=r.query,o=r.variables,c=r.fetchPolicy,l=r.refetchWritePolicy,d=r.errorPolicy,v=r.returnPartialData,b=r.context,A=r.notifyOnNetworkStatusChange,x=e.networkStatus;e.init({document:this.transform(i).document,variables:o,networkStatus:n});var R=function(){return e.getDiff(o)},C=function(L,F){F===void 0&&(F=e.networkStatus||sn.loading);var H=L.result;__DEV__&&!v&&!Gn(H,{})&&$se(L.missing);var V=function(J){return Dn.of(Qe({data:J,loading:wm(F),networkStatus:F},L.complete?null:{partial:!0}))};return H&&s.transform(i).hasForcedResolvers?s.localState.runResolvers({document:i,remoteResult:{data:H},context:b,variables:o,onlyRunForcedResolvers:!0}).then(function(J){return V(J.data||void 0)}):d==="none"&&F===sn.refetch&&Array.isArray(L.missing)?V(void 0):V(H)},T=c==="no-cache"?0:n===sn.refetch&&l!=="merge"?1:2,$=function(){return s.getResultsFromLink(e,T,{variables:o,context:b,fetchPolicy:c,errorPolicy:d})},O=A&&typeof x=="number"&&x!==n&&wm(n);switch(c){default:case"cache-first":{var D=R();return D.complete?[C(D,e.markReady())]:v||O?[C(D),$()]:[$()]}case"cache-and-network":{var D=R();return D.complete||v||O?[C(D),$()]:[$()]}case"cache-only":return[C(R(),e.markReady())];case"network-only":return O?[C(R()),$()]:[$()];case"no-cache":return O?[C(e.getDiff()),$()]:[$()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new yM(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return Qe(Qe({},r),{clientAwareness:this.clientAwareness})},t}(),Lz=!1,l3t=function(){function t(e){var r=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,s=e.credentials,i=e.headers,o=e.cache,c=e.ssrMode,l=c===void 0?!1:c,d=e.ssrForceFetchDelay,v=d===void 0?0:d,b=e.connectToDevTools,A=b===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:b,x=e.queryDeduplication,R=x===void 0?!0:x,C=e.defaultOptions,T=e.assumeImmutableResults,$=T===void 0?!1:T,O=e.resolvers,D=e.typeDefs,L=e.fragmentMatcher,F=e.name,H=e.version,V=e.link;if(V||(V=n?new Ldt({uri:n,credentials:s,headers:i}):x1.empty()),!o)throw __DEV__?new un(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new un(9);if(this.link=V,this.cache=o,this.disableNetworkFetches=l||v>0,this.queryDeduplication=R,this.defaultOptions=C||Object.create(null),this.typeDefs=D,v&&setTimeout(function(){return r.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),A&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Lz&&A&&__DEV__&&(Lz=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var J=window.navigator,Z=J&&J.userAgent,se=void 0;typeof Z=="string"&&(Z.indexOf("Chrome/")>-1?se="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Z.indexOf("Firefox/")>-1&&(se="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),se&&__DEV__&&It.log("Download the Apollo DevTools for a better development experience: "+se)}this.version=hdt,this.localState=new Cse({cache:o,client:this,resolvers:O,fragmentMatcher:L}),this.queryManager=new $0t({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:R,ssrMode:l,clientAwareness:{name:F,version:H},localState:this.localState,assumeImmutableResults:$,onBroadcast:A?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=b_(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Qe(Qe({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=b_(this.defaultOptions.query,e)),__DEV__?It(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):It(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Qe(Qe({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=b_(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return UI(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],s=[];r.forEach(function(o,c){n.push(c),s.push(o)});var i=Promise.all(s);return i.queries=n,i.results=s,i.catch(function(o){__DEV__&&It.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(o))}),i},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),Ose={exports:{}},Jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),C0t=Symbol.for("react.portal"),O0t=Symbol.for("react.fragment"),B0t=Symbol.for("react.strict_mode"),P0t=Symbol.for("react.profiler"),N0t=Symbol.for("react.provider"),k0t=Symbol.for("react.context"),L0t=Symbol.for("react.forward_ref"),D0t=Symbol.for("react.suspense"),U0t=Symbol.for("react.memo"),F0t=Symbol.for("react.lazy"),Dz=Symbol.iterator;function j0t(t){return t===null||typeof t!="object"?null:(t=Dz&&t[Dz]||t["@@iterator"],typeof t=="function"?t:null)}var Bse={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pse=Object.assign,Nse={};function ev(t,e,r){this.props=t,this.context=e,this.refs=Nse,this.updater=r||Bse}ev.prototype.isReactComponent={};ev.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ev.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kse(){}kse.prototype=ev.prototype;function LO(t,e,r){this.props=t,this.context=e,this.refs=Nse,this.updater=r||Bse}var DO=LO.prototype=new kse;DO.constructor=LO;Pse(DO,ev.prototype);DO.isPureReactComponent=!0;var Uz=Array.isArray,Lse=Object.prototype.hasOwnProperty,UO={current:null},Dse={key:!0,ref:!0,__self:!0,__source:!0};function Use(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lse.call(e,n)&&!Dse.hasOwnProperty(n)&&(s[n]=e[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:I1,type:t,key:i,ref:o,props:s,_owner:UO.current}}function q0t(t,e){return{$$typeof:I1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function FO(t){return typeof t=="object"&&t!==null&&t.$$typeof===I1}function z0t(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Fz=/\/+/g;function mM(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z0t(""+t.key):e.toString(36)}function __(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case I1:case C0t:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+mM(o,0):n,Uz(s)?(r="",t!=null&&(r=t.replace(Fz,"$&/")+"/"),__(s,e,r,"",function(d){return d})):s!=null&&(FO(s)&&(s=q0t(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fz,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Uz(t))for(var c=0;c<t.length;c++){i=t[c];var l=n+mM(i,c);o+=__(i,e,r,l,s)}else if(l=j0t(t),typeof l=="function")for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=n+mM(i,c++),o+=__(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ew(t,e,r){if(t==null)return t;var n=[],s=0;return __(t,n,"","",function(i){return e.call(r,i,s++)}),n}function H0t(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var so={current:null},E_={transition:null},V0t={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:E_,ReactCurrentOwner:UO};Jr.Children={map:Ew,forEach:function(t,e,r){Ew(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ew(t,function(){e++}),e},toArray:function(t){return Ew(t,function(e){return e})||[]},only:function(t){if(!FO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Jr.Component=ev;Jr.Fragment=O0t;Jr.Profiler=P0t;Jr.PureComponent=LO;Jr.StrictMode=B0t;Jr.Suspense=D0t;Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0t;Jr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Pse({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=UO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)Lse.call(e,l)&&!Dse.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:I1,type:t.type,key:s,ref:i,props:n,_owner:o}};Jr.createContext=function(t){return t={$$typeof:k0t,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:N0t,_context:t},t.Consumer=t};Jr.createElement=Use;Jr.createFactory=function(t){var e=Use.bind(null,t);return e.type=t,e};Jr.createRef=function(){return{current:null}};Jr.forwardRef=function(t){return{$$typeof:L0t,render:t}};Jr.isValidElement=FO;Jr.lazy=function(t){return{$$typeof:F0t,_payload:{_status:-1,_result:t},_init:H0t}};Jr.memo=function(t,e){return{$$typeof:U0t,type:t,compare:e===void 0?null:e}};Jr.startTransition=function(t){var e=E_.transition;E_.transition={};try{t()}finally{E_.transition=e}};Jr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Jr.useCallback=function(t,e){return so.current.useCallback(t,e)};Jr.useContext=function(t){return so.current.useContext(t)};Jr.useDebugValue=function(){};Jr.useDeferredValue=function(t){return so.current.useDeferredValue(t)};Jr.useEffect=function(t,e){return so.current.useEffect(t,e)};Jr.useId=function(){return so.current.useId()};Jr.useImperativeHandle=function(t,e,r){return so.current.useImperativeHandle(t,e,r)};Jr.useInsertionEffect=function(t,e){return so.current.useInsertionEffect(t,e)};Jr.useLayoutEffect=function(t,e){return so.current.useLayoutEffect(t,e)};Jr.useMemo=function(t,e){return so.current.useMemo(t,e)};Jr.useReducer=function(t,e,r){return so.current.useReducer(t,e,r)};Jr.useRef=function(t){return so.current.useRef(t)};Jr.useState=function(t){return so.current.useState(t)};Jr.useSyncExternalStore=function(t,e,r){return so.current.useSyncExternalStore(t,e,r)};Jr.useTransition=function(){return so.current.useTransition()};Jr.version="18.2.0";Ose.exports=Jr;var js=Ose.exports;const K0t=Mr(js),G0t=Bpe({__proto__:null,default:K0t},[js]);var jz=TO?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function jO(){var t=js.createContext[jz];return t||(Object.defineProperty(js.createContext,jz,{value:t=js.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var h3t=function(t){var e=t.client,r=t.children,n=jO();return js.createElement(n.Consumer,null,function(s){return s===void 0&&(s={}),e&&s.client!==e&&(s=Object.assign({},s,{client:e})),__DEV__?It(s.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):It(s.client,29),js.createElement(n.Provider,{value:s},r)})};function W0t(t){var e=js.useContext(jO()),r=t||e.client;return __DEV__?It(!!r,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):It(!!r,32),r}var qz=!1,J0t="useSyncExternalStore",Q0t=G0t[J0t],Z0t=Q0t||function(t,e,r){var n=e();__DEV__&&!qz&&n!==e()&&(qz=!0,__DEV__&&It.error("The result of getSnapshot should be cached to avoid an infinite loop"));var s=js.useState({inst:{value:n,getSnapshot:e}}),i=s[0].inst,o=s[1];return idt?js.useLayoutEffect(function(){Object.assign(i,{value:n,getSnapshot:e}),bM(i)&&o({inst:i})},[t,n,e]):Object.assign(i,{value:n,getSnapshot:e}),js.useEffect(function(){return bM(i)&&o({inst:i}),t(function(){bM(i)&&o({inst:i})})},[t]),n};function bM(t){var e=t.value,r=t.getSnapshot;try{return e!==r()}catch{return!0}}var Cu;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Cu||(Cu={}));var zz=new Map;function Hz(t){var e;switch(t){case Cu.Query:e="Query";break;case Cu.Mutation:e="Mutation";break;case Cu.Subscription:e="Subscription";break}return e}function X0t(t){var e=zz.get(t);if(e)return e;var r,n,s;__DEV__?It(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):It(!!t&&!!t.kind,33);for(var i=[],o=[],c=[],l=[],d=0,v=t.definitions;d<v.length;d++){var b=v[d];if(b.kind==="FragmentDefinition"){i.push(b);continue}if(b.kind==="OperationDefinition")switch(b.operation){case"query":o.push(b);break;case"mutation":c.push(b);break;case"subscription":l.push(b);break}}__DEV__?It(!i.length||o.length||c.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):It(!i.length||o.length||c.length||l.length,34),__DEV__?It(o.length+c.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(o.length," queries, ").concat(l.length," ")+"subscriptions and ".concat(c.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):It(o.length+c.length+l.length<=1,35),n=o.length?Cu.Query:Cu.Mutation,!o.length&&!c.length&&(n=Cu.Subscription);var A=o.length?o:c.length?c:l;__DEV__?It(A.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(A.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):It(A.length===1,36);var x=A[0];r=x.variableDefinitions||[],x.name&&x.name.kind==="Name"?s=x.name.value:s="data";var R={name:s,type:n,variables:r};return zz.set(t,R),R}function Y0t(t,e){var r=X0t(t),n=Hz(e),s=Hz(r.type);__DEV__?It(r.type===e,"Running a ".concat(n," requires a graphql ")+"".concat(n,", but a ").concat(s," was used instead.")):It(r.type===e,37)}var ept=Object.prototype.hasOwnProperty;function d3t(t,e){return e===void 0&&(e=Object.create(null)),tpt(W0t(e.client),t).useQuery(e)}function tpt(t,e){var r=js.useRef();(!r.current||t!==r.current.client||e!==r.current.query)&&(r.current=new rpt(t,e,r.current));var n=r.current,s=js.useState(0);s[0];var i=s[1];return n.forceUpdate=function(){i(function(o){return o+1})},n}var rpt=function(){function t(e,r,n){this.client=e,this.query=r,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(Yie?WeakSet:Set),this.ssrDisabledResult=ym({loading:!0,data:void 0,error:void 0,networkStatus:sn.loading}),this.skipStandbyResult=ym({loading:!1,data:void 0,error:void 0,networkStatus:sn.ready}),this.toQueryResultCache=new(gh?WeakMap:Map),Y0t(r,Cu.Query);var s=n&&n.result,i=s&&s.data;i&&(this.previousData=i)}return t.prototype.forceUpdate=function(){__DEV__&&It.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.asyncUpdate=function(e){var r=this;return new Promise(function(n,s){var i=r.watchQueryOptions,o=function(){r.asyncResolveFns.delete(n),r.optionsToIgnoreOnce.delete(i),e.removeEventListener("abort",o),s(e.reason)};r.asyncResolveFns.add(n),r.optionsToIgnoreOnce.add(i),e.addEventListener("abort",o),r.forceUpdate()})},t.prototype.useQuery=function(e){var r=this;this.renderPromises=js.useContext(jO()).renderPromises,this.useOptions(e);var n=this.useObservableQuery(),s=Z0t(js.useCallback(function(){if(r.renderPromises)return function(){};var o=function(){var d=r.result,v=n.getCurrentResult();d&&d.loading===v.loading&&d.networkStatus===v.networkStatus&&Gn(d.data,v.data)||r.setResult(v)},c=function(d){var v=n.last;l.unsubscribe();try{n.resetLastResults(),l=n.subscribe(o,c)}finally{n.last=v}if(!ept.call(d,"graphQLErrors"))throw d;var b=r.result;(!b||b&&b.loading||!Gn(d,b.error))&&r.setResult({data:b&&b.data,error:d,loading:!1,networkStatus:sn.error})},l=n.subscribe(o,c);return function(){return l.unsubscribe()}},[n,this.renderPromises,this.client.disableNetworkFetches]),function(){return r.getCurrentResult()},function(){return r.getCurrentResult()});this.unsafeHandlePartialRefetch(s);var i=this.toQueryResult(s);return!i.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach(function(o){return o(i)}),this.asyncResolveFns.clear()),i},t.prototype.useOptions=function(e){var r,n=this.createWatchQueryOptions(this.queryHookOptions=e),s=this.watchQueryOptions;(this.optionsToIgnoreOnce.has(s)||!Gn(n,s))&&(this.watchQueryOptions=n,s&&this.observable&&(this.optionsToIgnoreOnce.delete(s),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],r=this.client.defaultOptions.watchQuery;return r&&e.push(r),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(A1(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(b_)},t.prototype.createWatchQueryOptions=function(e){var r;e===void 0&&(e={});var n=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var s=Ql(e,["skip","ssr","onCompleted","onError","defaultOptions"]),i=Object.assign(s,{query:this.query});if(this.renderPromises&&(i.fetchPolicy==="network-only"||i.fetchPolicy==="cache-and-network")&&(i.fetchPolicy="cache-first"),i.variables||(i.variables={}),n){var o=i.fetchPolicy,c=o===void 0?this.getDefaultFetchPolicy():o,l=i.initialFetchPolicy,d=l===void 0?c:l;Object.assign(i,{initialFetchPolicy:d,fetchPolicy:"standby"})}else i.fetchPolicy||(i.fetchPolicy=((r=this.observable)===null||r===void 0?void 0:r.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return i},t.prototype.getDefaultFetchPolicy=function(){var e,r;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((r=this.client.defaultOptions.watchQuery)===null||r===void 0?void 0:r.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=js.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var r=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&r&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var r=this.result;r&&r.data&&(this.previousData=r.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var r=this;if(!e.loading){var n=this.toApolloError(e);Promise.resolve().then(function(){n?r.onError(n):e.data&&r.onCompleted(e.data)}).catch(function(s){__DEV__&&It.warn(s)})}},t.prototype.toApolloError=function(e){return Io(e.errors)?new Ol({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var r=this.toQueryResultCache.get(e);if(r)return r;var n=e.data;e.partial;var s=Ql(e,["data","partial"]);return this.toQueryResultCache.set(e,r=Qe(Qe(Qe({data:n},s),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!r.error&&Io(e.errors)&&(r.error=new Ol({graphQLErrors:e.errors})),r},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:sn.refetch}),this.observable.refetch())},t}();function npt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ipt=npt,spt=b$;function opt(t,e){var r=!0;return spt(t,function(n,s,i){return r=!!e(n,s,i),r}),r}var apt=opt,cpt=ipt,fpt=apt,upt=PS,lpt=ms,hpt=ST;function dpt(t,e,r){var n=lpt(t)?cpt:fpt;return r&&hpt(t,e,r)&&(e=void 0),n(t,upt(e))}var ppt=dpt;const p3t=Mr(ppt);var gpt=/\s/;function vpt(t){for(var e=t.length;e--&&gpt.test(t.charAt(e)););return e}var ypt=vpt,mpt=ypt,bpt=/^\s+/;function wpt(t){return t&&t.slice(0,mpt(t)+1).replace(bpt,"")}var _pt=wpt,Ept=_pt,Vz=Ic,Spt=Dg,Kz=0/0,Apt=/^[-+]0x[0-9a-f]+$/i,xpt=/^0b[01]+$/i,Mpt=/^0o[0-7]+$/i,Ipt=parseInt;function Rpt(t){if(typeof t=="number")return t;if(Spt(t))return Kz;if(Vz(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vz(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ept(t);var r=xpt.test(t);return r||Mpt.test(t)?Ipt(t.slice(2),r?2:8):Apt.test(t)?Kz:+t}var Tpt=Rpt,$pt=Tpt,Gz=1/0,Cpt=17976931348623157e292;function Opt(t){if(!t)return t===0?t:0;if(t=$pt(t),t===Gz||t===-Gz){var e=t<0?-1:1;return e*Cpt}return t===t?t:0}var Bpt=Opt,Ppt=Bpt;function Npt(t){var e=Ppt(t),r=e%1;return e===e?r?e-r:e:0}var g3t=Npt;function kpt(t){return t==null}var Lpt=kpt;const v3t=Mr(Lpt);var Dpt=jte,Wz=ms;function Upt(t,e,r,n){return t==null?[]:(Wz(e)||(e=e==null?[]:[e]),r=n?void 0:r,Wz(r)||(r=r==null?[]:[r]),Dpt(t,e,r))}var Fpt=Upt;const y3t=Mr(Fpt);var jpt=Ld,qpt=Df,zpt="[object Number]";function Hpt(t){return typeof t=="number"||qpt(t)&&jpt(t)==zpt}var Vpt=Hpt;const m3t=Mr(Vpt),Kpt=/^m(\/[0-9]+'?)+$/,Gpt=t=>t.replace("'",""),Wpt=t=>Kpt.test(t)?!t.split("/").slice(1).map(Gpt).some(Number.isNaN):!1,b3t=t=>{const e=t.replace("x","0");return t.indexOf("x")!==-1&&Wpt(e)},w3t=(t,e)=>t.replace("x",e.toString());var Jpt={},ql={},ls={};const Fse=Vu(Ftt);Object.defineProperty(ls,"__esModule",{value:!0});ls.normalize=ls.recoverPublicKey=ls.concatSig=ls.legacyToBuffer=ls.isNullish=ls.padWithZeroes=void 0;const yu=dc,cp=Fse;function ZI(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}ls.padWithZeroes=ZI;function jse(t){return t==null}ls.isNullish=jse;function Qpt(t){return typeof t=="string"&&!(0,yu.isHexString)(t)?Re.Buffer.from(t):(0,yu.toBuffer)(t)}ls.legacyToBuffer=Qpt;function Zpt(t,e,r){const n=(0,yu.fromSigned)(e),s=(0,yu.fromSigned)(r),i=(0,yu.bufferToInt)(t),o=ZI((0,yu.toUnsigned)(n).toString("hex"),64),c=ZI((0,yu.toUnsigned)(s).toString("hex"),64),l=(0,cp.remove0x)((0,cp.numberToHex)(i));return(0,cp.add0x)(o.concat(c,l))}ls.concatSig=Zpt;function Xpt(t,e){const r=(0,yu.fromRpcSig)(e);return(0,yu.ecrecover)(t,r.v,r.r,r.s)}ls.recoverPublicKey=Xpt;function Ypt(t){if(!jse(t)){if(typeof t=="number"){if(t<0)return"0x";const e=(0,cp.numberToBytes)(t);t=(0,cp.bytesToHex)(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return(0,cp.add0x)(t.toLowerCase())}}ls.normalize=Ypt;Object.defineProperty(ql,"__esModule",{value:!0});ql.extractPublicKey=ql.recoverPersonalSignature=ql.personalSign=void 0;const fp=dc,pf=ls;function egt({privateKey:t,data:e}){if((0,pf.isNullish)(e))throw new Error("Missing data parameter");if((0,pf.isNullish)(t))throw new Error("Missing privateKey parameter");const r=(0,pf.legacyToBuffer)(e),n=(0,fp.hashPersonalMessage)(r),s=(0,fp.ecsign)(n,t);return(0,pf.concatSig)((0,fp.toBuffer)(s.v),s.r,s.s)}ql.personalSign=egt;function tgt({data:t,signature:e}){if((0,pf.isNullish)(t))throw new Error("Missing data parameter");if((0,pf.isNullish)(e))throw new Error("Missing signature parameter");const r=qse(t,e),n=(0,fp.publicToAddress)(r);return(0,fp.bufferToHex)(n)}ql.recoverPersonalSignature=tgt;function rgt({data:t,signature:e}){if((0,pf.isNullish)(t))throw new Error("Missing data parameter");if((0,pf.isNullish)(e))throw new Error("Missing signature parameter");return`0x${qse(t,e).toString("hex")}`}ql.extractPublicKey=rgt;function qse(t,e){const r=(0,fp.hashPersonalMessage)((0,pf.legacyToBuffer)(t));return(0,pf.recoverPublicKey)(r,e)}var zse={},Hse={},Vse={},We={},tv={},en={},Ga={},vh={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});function ngt(t,e){return t??e()}function igt(t){return Array.isArray(t)&&t.length>0}function sgt(t){return t==null}function ogt(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var agt=(t,e)=>Object.hasOwnProperty.call(t,e);function cgt(t){return Object.getOwnPropertyNames(t)}var Kse=(t=>(t[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date",t))(Kse||{}),Gse=/"|\\|\n|\r|\t/gu;function fgt(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function Wse(t){return t.charCodeAt(0)<=127}function ugt(t){return t.split("").reduce((r,n)=>Wse(n)?r+1:r+2,0)+ngt(t.match(Gse),()=>[]).length}function lgt(t){return t.toString().length}oo.isNonEmptyArray=igt;oo.isNullOrUndefined=sgt;oo.isObject=ogt;oo.hasProperty=agt;oo.getKnownPropertyNames=cgt;oo.JsonSize=Kse;oo.ESCAPE_CHARACTERS_REGEXP=Gse;oo.isPlainObject=fgt;oo.isASCII=Wse;oo.calculateStringSize=ugt;oo.calculateNumberSize=lgt;const hgt=Vu(BQe);Object.defineProperty(vh,"__esModule",{value:!0});var Jse=oo,dgt=hgt;function pgt(t){return t instanceof Error||Jse.isObject.call(void 0,t)&&t.constructor.name==="Error"}function Qse(t){return typeof t=="object"&&t!==null&&"code"in t}function Zse(t){return typeof t=="object"&&t!==null&&"message"in t}function ggt(t){return typeof t=="object"&&t!==null&&"stack"in t}function vgt(t){return Zse(t)&&typeof t.message=="string"?t.message:Jse.isNullOrUndefined.call(void 0,t)?"":String(t)}function ygt(t,e){if(pgt(t)){let r;return Error.length===2?r=new Error(e,{cause:t}):r=new dgt.ErrorWithCause(e,{cause:t}),Qse(t)&&(r.code=t.code),r}return e.length>0?new Error(`${String(t)}: ${e}`):new Error(String(t))}vh.isErrorWithCode=Qse;vh.isErrorWithMessage=Zse;vh.isErrorWithStack=ggt;vh.getErrorMessage=vgt;vh.wrapError=ygt;Object.defineProperty(Ga,"__esModule",{value:!0});function mgt(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...o)=>r.call(e,...o)),e=void 0)}return r}var bgt=vh,wgt=vs;function _gt(t){return typeof mgt([t,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.constructor,"optionalAccess",e=>e.name])=="string"}function Egt(t){return bgt.getErrorMessage.call(void 0,t).replace(/\.$/u,"")}function Xse(t,e){return _gt(t)?new t({message:e}):t({message:e})}var qO=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function Sgt(t,e="Assertion failed.",r=qO){if(!t)throw e instanceof Error?e:Xse(r,e)}function Agt(t,e,r="Assertion failed",n=qO){try{wgt.assert.call(void 0,t,e)}catch(s){throw Xse(n,`${r}: ${Egt(s)}.`)}}function xgt(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Ga.AssertionError=qO;Ga.assert=Sgt;Ga.assertStruct=Agt;Ga.assertExhaustive=xgt;const Mgt=Vu(xZe);Object.defineProperty(en,"__esModule",{value:!0});function Igt(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...o)=>r.call(e,...o)),e=void 0)}return r}var Qi=Ga,Rgt=Mgt,Ys=vs,Yse=Qlt,Jz=48,Qz=58,Zz=87;function Tgt(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}var $gt=Tgt();function zO(t){return t instanceof Uint8Array}function Gd(t){Qi.assert.call(void 0,zO(t),"Value must be a Uint8Array.")}function HO(t){if(Gd(t),t.length===0)return"0x";const e=$gt(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return doe(r.join(""))}function eoe(t){Gd(t);const e=HO(t);return BigInt(e)}function Cgt(t){Gd(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}function Ogt(t){Gd(t);const e=eoe(t);return Qi.assert.call(void 0,e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}function Bgt(t){return Gd(t),new TextDecoder().decode(t)}function Pgt(t){return Gd(t),Yse.base64.encode(t)}function jA(t){if(Igt([t,"optionalAccess",s=>s.toLowerCase,"optionalCall",s=>s()])==="0x")return new Uint8Array;uoe(t);const e=D2(t).toLowerCase(),r=e.length%2===0?e:`0${e}`,n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=r.charCodeAt(s*2),o=r.charCodeAt(s*2+1),c=i-(i<Qz?Jz:Zz),l=o-(o<Qz?Jz:Zz);n[s]=c*16+l}return n}function toe(t){Qi.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),Qi.assert.call(void 0,t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return jA(e)}function Ngt(t,e){Qi.assert.call(void 0,e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function kgt(t,e){Qi.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),Qi.assert.call(void 0,typeof e=="number","Byte length must be a number."),Qi.assert.call(void 0,e>0,"Byte length must be greater than 0."),Qi.assert.call(void 0,Ngt(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function roe(t){Qi.assert.call(void 0,typeof t=="number","Value must be a number."),Qi.assert.call(void 0,t>=0,"Value must be a non-negative number."),Qi.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return jA(e)}function noe(t){return Qi.assert.call(void 0,typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}function Lgt(t){return Qi.assert.call(void 0,typeof t=="string","Value must be a string."),Yse.base64.decode(t)}function ioe(t){if(typeof t=="bigint")return toe(t);if(typeof t=="number")return roe(t);if(typeof t=="string")return t.startsWith("0x")?jA(t):noe(t);if(zO(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}function Dgt(t){const e=new Array(t.length);let r=0;for(let s=0;s<t.length;s++){const i=ioe(t[s]);e[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<e.length;s++)n.set(e[s],i),i+=e[s].length;return n}function Ugt(t){if(typeof Re.Buffer<"u"&&t instanceof Re.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}var soe=Ys.pattern.call(void 0,Ys.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),ooe=Ys.pattern.call(void 0,Ys.string.call(void 0),/^0x[0-9a-f]+$/iu),aoe=Ys.pattern.call(void 0,Ys.string.call(void 0),/^0x[0-9a-f]{40}$/u),VO=Ys.pattern.call(void 0,Ys.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function coe(t){return Ys.is.call(void 0,t,soe)}function foe(t){return Ys.is.call(void 0,t,ooe)}function uoe(t){Qi.assert.call(void 0,coe(t),"Value must be a hexadecimal string.")}function Fgt(t){Qi.assert.call(void 0,foe(t),'Value must be a hexadecimal string, starting with "0x".')}function jgt(t){return Ys.is.call(void 0,t,aoe)||hoe(t)}function loe(t){Qi.assert.call(void 0,Ys.is.call(void 0,t,VO),"Invalid hex address.");const e=D2(t.toLowerCase()),r=D2(HO(Rgt.keccak_256.call(void 0,e)));return`0x${e.split("").map((n,s)=>{const i=r[s];return Qi.assert.call(void 0,Ys.is.call(void 0,i,Ys.string.call(void 0)),"Hash shorter than address."),parseInt(i,16)>7?n.toUpperCase():n}).join("")}`}function hoe(t){return Ys.is.call(void 0,t,VO)?loe(t)===t:!1}function doe(t){return t.startsWith("0x")?t:t.startsWith("0X")?`0x${t.substring(2)}`:`0x${t}`}function D2(t){return t.startsWith("0x")||t.startsWith("0X")?t.substring(2):t}en.HexStruct=soe;en.StrictHexStruct=ooe;en.HexAddressStruct=aoe;en.HexChecksumAddressStruct=VO;en.isHexString=coe;en.isStrictHexString=foe;en.assertIsHexString=uoe;en.assertIsStrictHexString=Fgt;en.isValidHexAddress=jgt;en.getChecksumAddress=loe;en.isValidChecksumAddress=hoe;en.add0x=doe;en.remove0x=D2;en.isBytes=zO;en.assertIsBytes=Gd;en.bytesToHex=HO;en.bytesToBigInt=eoe;en.bytesToSignedBigInt=Cgt;en.bytesToNumber=Ogt;en.bytesToString=Bgt;en.bytesToBase64=Pgt;en.hexToBytes=jA;en.bigIntToBytes=toe;en.signedBigIntToBytes=kgt;en.numberToBytes=roe;en.stringToBytes=noe;en.base64ToBytes=Lgt;en.valueToBytes=ioe;en.concatBytes=Dgt;en.createDataView=Ugt;Object.defineProperty(tv,"__esModule",{value:!0});var _m=en,up=Ga,qgt=t=>(up.assert.call(void 0,typeof t=="number","Value must be a number."),up.assert.call(void 0,t>=0,"Value must be a non-negative number."),up.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),_m.add0x.call(void 0,t.toString(16))),zgt=t=>(up.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),up.assert.call(void 0,t>=0,"Value must be a non-negative bigint."),_m.add0x.call(void 0,t.toString(16))),Hgt=t=>{_m.assertIsHexString.call(void 0,t);const e=parseInt(t,16);return up.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e},Vgt=t=>(_m.assertIsHexString.call(void 0,t),BigInt(_m.add0x.call(void 0,t)));tv.numberToHex=qgt;tv.bigIntToHex=zgt;tv.hexToNumber=Hgt;tv.hexToBigInt=Vgt;var KO={};Object.defineProperty(KO,"__esModule",{value:!0});function Kgt({suppressUnhandledRejection:t=!1}={}){let e,r;const n=new Promise((s,i)=>{e=s,r=i});return t&&n.catch(s=>{}),{promise:n,resolve:e,reject:r}}KO.createDeferredPromise=Kgt;var R1={};Object.defineProperty(R1,"__esModule",{value:!0});var poe=(t=>(t[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Year=31536e6]="Year",t))(poe||{}),Ggt=t=>Number.isInteger(t)&&t>=0,goe=(t,e)=>{if(!Ggt(t))throw new Error(`"${e}" must be a non-negative integer. Received: "${t}".`)};function Wgt(t,e){return goe(t,"count"),t*e}function Jgt(t){return goe(t,"timestamp"),Date.now()-t}R1.Duration=poe;R1.inMilliseconds=Wgt;R1.timeSince=Jgt;var Lc={},XI={exports:{}};const Qgt="2.0.0",voe=256,Zgt=Number.MAX_SAFE_INTEGER||9007199254740991,Xgt=16,Ygt=voe-6,evt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var qA={MAX_LENGTH:voe,MAX_SAFE_COMPONENT_LENGTH:Xgt,MAX_SAFE_BUILD_LENGTH:Ygt,MAX_SAFE_INTEGER:Zgt,RELEASE_TYPES:evt,SEMVER_SPEC_VERSION:Qgt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const tvt=typeof mt=="object"&&mt.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var zA=tvt;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=qA,i=zA;e=t.exports={};const o=e.re=[],c=e.safeRe=[],l=e.src=[],d=e.t={};let v=0;const b="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",s],[b,n]],x=C=>{for(const[T,$]of A)C=C.split(`${T}*`).join(`${T}{0,${$}}`).split(`${T}+`).join(`${T}{1,${$}}`);return C},R=(C,T,$)=>{const O=x(T),D=v++;i(C,D,T),d[C]=D,l[D]=T,o[D]=new RegExp(T,$?"g":void 0),c[D]=new RegExp(O,$?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${b}*`),R("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${b}+`),R("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),R("FULL",`^${l[d.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),R("LOOSE",`^${l[d.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),R("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),R("COERCERTL",l[d.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",R("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",R("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(XI,XI.exports);var T1=XI.exports;const rvt=Object.freeze({loose:!0}),nvt=Object.freeze({}),ivt=t=>t?typeof t!="object"?rvt:t:nvt;var GO=ivt;const Xz=/^[0-9]+$/,yoe=(t,e)=>{const r=Xz.test(t),n=Xz.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},svt=(t,e)=>yoe(e,t);var moe={compareIdentifiers:yoe,rcompareIdentifiers:svt};const Sw=zA,{MAX_LENGTH:Yz,MAX_SAFE_INTEGER:Aw}=qA,{safeRe:eH,t:tH}=T1,ovt=GO,{compareIdentifiers:S0}=moe;let avt=class rf{constructor(e,r){if(r=ovt(r),e instanceof rf){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Yz)throw new TypeError(`version is longer than ${Yz} characters`);Sw("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?eH[tH.LOOSE]:eH[tH.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Aw||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Aw||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Aw||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Aw)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Sw("SemVer.compare",this.version,this.options,e),!(e instanceof rf)){if(typeof e=="string"&&e===this.version)return 0;e=new rf(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof rf||(e=new rf(e,this.options)),S0(this.major,e.major)||S0(this.minor,e.minor)||S0(this.patch,e.patch)}comparePre(e){if(e instanceof rf||(e=new rf(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(Sw("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return S0(n,s)}while(++r)}compareBuild(e){e instanceof rf||(e=new rf(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(Sw("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return S0(n,s)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),S0(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ao=avt;const rH=ao,cvt=(t,e,r=!1)=>{if(t instanceof rH)return t;try{return new rH(t,e)}catch(n){if(!r)return null;throw n}};var rv=cvt;const fvt=rv,uvt=(t,e)=>{const r=fvt(t,e);return r?r.version:null};var lvt=uvt;const hvt=rv,dvt=(t,e)=>{const r=hvt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var pvt=dvt;const nH=ao,gvt=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new nH(t instanceof nH?t.version:t,r).inc(e,n,s).version}catch{return null}};var vvt=gvt;const iH=rv,yvt=(t,e)=>{const r=iH(t,null,!0),n=iH(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,c=i?n:r,l=!!o.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";const v=l?"pre":"";return r.major!==n.major?v+"major":r.minor!==n.minor?v+"minor":r.patch!==n.patch?v+"patch":"prerelease"};var mvt=yvt;const bvt=ao,wvt=(t,e)=>new bvt(t,e).major;var _vt=wvt;const Evt=ao,Svt=(t,e)=>new Evt(t,e).minor;var Avt=Svt;const xvt=ao,Mvt=(t,e)=>new xvt(t,e).patch;var Ivt=Mvt;const Rvt=rv,Tvt=(t,e)=>{const r=Rvt(t,e);return r&&r.prerelease.length?r.prerelease:null};var $vt=Tvt;const sH=ao,Cvt=(t,e,r)=>new sH(t,r).compare(new sH(e,r));var Dc=Cvt;const Ovt=Dc,Bvt=(t,e,r)=>Ovt(e,t,r);var Pvt=Bvt;const Nvt=Dc,kvt=(t,e)=>Nvt(t,e,!0);var Lvt=kvt;const oH=ao,Dvt=(t,e,r)=>{const n=new oH(t,r),s=new oH(e,r);return n.compare(s)||n.compareBuild(s)};var WO=Dvt;const Uvt=WO,Fvt=(t,e)=>t.sort((r,n)=>Uvt(r,n,e));var jvt=Fvt;const qvt=WO,zvt=(t,e)=>t.sort((r,n)=>qvt(n,r,e));var Hvt=zvt;const Vvt=Dc,Kvt=(t,e,r)=>Vvt(t,e,r)>0;var HA=Kvt;const Gvt=Dc,Wvt=(t,e,r)=>Gvt(t,e,r)<0;var JO=Wvt;const Jvt=Dc,Qvt=(t,e,r)=>Jvt(t,e,r)===0;var boe=Qvt;const Zvt=Dc,Xvt=(t,e,r)=>Zvt(t,e,r)!==0;var woe=Xvt;const Yvt=Dc,eyt=(t,e,r)=>Yvt(t,e,r)>=0;var QO=eyt;const tyt=Dc,ryt=(t,e,r)=>tyt(t,e,r)<=0;var ZO=ryt;const nyt=boe,iyt=woe,syt=HA,oyt=QO,ayt=JO,cyt=ZO,fyt=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return nyt(t,r,n);case"!=":return iyt(t,r,n);case">":return syt(t,r,n);case">=":return oyt(t,r,n);case"<":return ayt(t,r,n);case"<=":return cyt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var _oe=fyt;const uyt=ao,lyt=rv,{safeRe:xw,t:Mw}=T1,hyt=(t,e)=>{if(t instanceof uyt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(xw[Mw.COERCE]);else{let n;for(;(n=xw[Mw.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),xw[Mw.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;xw[Mw.COERCERTL].lastIndex=-1}return r===null?null:lyt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var dyt=hyt,wM,aH;function Uc(){if(aH)return wM;aH=1;class t{constructor(h,p){if(p=n(p),h instanceof t)return h.loose===!!p.loose&&h.includePrerelease===!!p.includePrerelease?h:new t(h.raw,p);if(h instanceof s)return this.raw=h.value,this.set=[[h]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(y=>this.parseRange(y.trim())).filter(y=>y.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const y=this.set[0];if(this.set=this.set.filter(w=>!R(w[0])),this.set.length===0)this.set=[y];else if(this.set.length>1){for(const w of this.set)if(w.length===1&&C(w[0])){this.set=[w];break}}}this.format()}format(){return this.range=this.set.map(h=>h.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(h){const y=((this.options.includePrerelease&&A)|(this.options.loose&&x))+":"+h,w=r.get(y);if(w)return w;const _=this.options.loose,g=_?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];h=h.replace(g,S(this.options.includePrerelease)),i("hyphen replace",h),h=h.replace(c[l.COMPARATORTRIM],d),i("comparator trim",h),h=h.replace(c[l.TILDETRIM],v),i("tilde trim",h),h=h.replace(c[l.CARETTRIM],b),i("caret trim",h);let f=h.split(" ").map(j=>$(j,this.options)).join(" ").split(/\s+/).map(j=>se(j,this.options));_&&(f=f.filter(j=>(i("loose invalid filter",j,this.options),!!j.match(c[l.COMPARATORLOOSE])))),i("range list",f);const m=new Map,I=f.map(j=>new s(j,this.options));for(const j of I){if(R(j))return[j];m.set(j.value,j)}m.size>1&&m.has("")&&m.delete("");const P=[...m.values()];return r.set(y,P),P}intersects(h,p){if(!(h instanceof t))throw new TypeError("a Range is required");return this.set.some(y=>T(y,p)&&h.set.some(w=>T(w,p)&&y.every(_=>w.every(g=>_.intersects(g,p)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new o(h,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(a(this.set[p],h,this.options))return!0;return!1}}wM=t;const e=X2,r=new e({max:1e3}),n=GO,s=VA(),i=zA,o=ao,{safeRe:c,t:l,comparatorTrimReplace:d,tildeTrimReplace:v,caretTrimReplace:b}=T1,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:x}=qA,R=u=>u.value==="<0.0.0-0",C=u=>u.value==="",T=(u,h)=>{let p=!0;const y=u.slice();let w=y.pop();for(;p&&y.length;)p=y.every(_=>w.intersects(_,h)),w=y.pop();return p},$=(u,h)=>(i("comp",u,h),u=F(u,h),i("caret",u),u=D(u,h),i("tildes",u),u=V(u,h),i("xrange",u),u=Z(u,h),i("stars",u),u),O=u=>!u||u.toLowerCase()==="x"||u==="*",D=(u,h)=>u.trim().split(/\s+/).map(p=>L(p,h)).join(" "),L=(u,h)=>{const p=h.loose?c[l.TILDELOOSE]:c[l.TILDE];return u.replace(p,(y,w,_,g,f)=>{i("tilde",u,y,w,_,g,f);let m;return O(w)?m="":O(_)?m=`>=${w}.0.0 <${+w+1}.0.0-0`:O(g)?m=`>=${w}.${_}.0 <${w}.${+_+1}.0-0`:f?(i("replaceTilde pr",f),m=`>=${w}.${_}.${g}-${f} <${w}.${+_+1}.0-0`):m=`>=${w}.${_}.${g} <${w}.${+_+1}.0-0`,i("tilde return",m),m})},F=(u,h)=>u.trim().split(/\s+/).map(p=>H(p,h)).join(" "),H=(u,h)=>{i("caret",u,h);const p=h.loose?c[l.CARETLOOSE]:c[l.CARET],y=h.includePrerelease?"-0":"";return u.replace(p,(w,_,g,f,m)=>{i("caret",u,w,_,g,f,m);let I;return O(_)?I="":O(g)?I=`>=${_}.0.0${y} <${+_+1}.0.0-0`:O(f)?_==="0"?I=`>=${_}.${g}.0${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.0${y} <${+_+1}.0.0-0`:m?(i("replaceCaret pr",m),_==="0"?g==="0"?I=`>=${_}.${g}.${f}-${m} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}-${m} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f}-${m} <${+_+1}.0.0-0`):(i("no pr"),_==="0"?g==="0"?I=`>=${_}.${g}.${f}${y} <${_}.${g}.${+f+1}-0`:I=`>=${_}.${g}.${f}${y} <${_}.${+g+1}.0-0`:I=`>=${_}.${g}.${f} <${+_+1}.0.0-0`),i("caret return",I),I})},V=(u,h)=>(i("replaceXRanges",u,h),u.split(/\s+/).map(p=>J(p,h)).join(" ")),J=(u,h)=>{u=u.trim();const p=h.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return u.replace(p,(y,w,_,g,f,m)=>{i("xRange",u,y,w,_,g,f,m);const I=O(_),P=I||O(g),j=P||O(f),k=j;return w==="="&&k&&(w=""),m=h.includePrerelease?"-0":"",I?w===">"||w==="<"?y="<0.0.0-0":y="*":w&&k?(P&&(g=0),f=0,w===">"?(w=">=",P?(_=+_+1,g=0,f=0):(g=+g+1,f=0)):w==="<="&&(w="<",P?_=+_+1:g=+g+1),w==="<"&&(m="-0"),y=`${w+_}.${g}.${f}${m}`):P?y=`>=${_}.0.0${m} <${+_+1}.0.0-0`:j&&(y=`>=${_}.${g}.0${m} <${_}.${+g+1}.0-0`),i("xRange return",y),y})},Z=(u,h)=>(i("replaceStars",u,h),u.trim().replace(c[l.STAR],"")),se=(u,h)=>(i("replaceGTE0",u,h),u.trim().replace(c[h.includePrerelease?l.GTE0PRE:l.GTE0],"")),S=u=>(h,p,y,w,_,g,f,m,I,P,j,k,z)=>(O(y)?p="":O(w)?p=`>=${y}.0.0${u?"-0":""}`:O(_)?p=`>=${y}.${w}.0${u?"-0":""}`:g?p=`>=${p}`:p=`>=${p}${u?"-0":""}`,O(I)?m="":O(P)?m=`<${+I+1}.0.0-0`:O(j)?m=`<${I}.${+P+1}.0-0`:k?m=`<=${I}.${P}.${j}-${k}`:u?m=`<${I}.${P}.${+j+1}-0`:m=`<=${m}`,`${p} ${m}`.trim()),a=(u,h,p)=>{for(let y=0;y<u.length;y++)if(!u[y].test(h))return!1;if(h.prerelease.length&&!p.includePrerelease){for(let y=0;y<u.length;y++)if(i(u[y].semver),u[y].semver!==s.ANY&&u[y].semver.prerelease.length>0){const w=u[y].semver;if(w.major===h.major&&w.minor===h.minor&&w.patch===h.patch)return!0}return!1}return!0};return wM}var _M,cH;function VA(){if(cH)return _M;cH=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(v,b){if(b=r(b),v instanceof e){if(v.loose===!!b.loose)return v;v=v.value}v=v.trim().split(/\s+/).join(" "),o("comparator",v,b),this.options=b,this.loose=!!b.loose,this.parse(v),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(v){const b=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],A=v.match(b);if(!A)throw new TypeError(`Invalid comparator: ${v}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new c(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(v){if(o("Comparator.test",v,this.options.loose),this.semver===t||v===t)return!0;if(typeof v=="string")try{v=new c(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,b){if(!(v instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(v.value,b).test(this.value):v.operator===""?v.value===""?!0:new l(this.value,b).test(v.semver):(b=r(b),b.includePrerelease&&(this.value==="<0.0.0-0"||v.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||v.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&v.operator.startsWith(">")||this.operator.startsWith("<")&&v.operator.startsWith("<")||this.semver.version===v.semver.version&&this.operator.includes("=")&&v.operator.includes("=")||i(this.semver,"<",v.semver,b)&&this.operator.startsWith(">")&&v.operator.startsWith("<")||i(this.semver,">",v.semver,b)&&this.operator.startsWith("<")&&v.operator.startsWith(">")))}}_M=e;const r=GO,{safeRe:n,t:s}=T1,i=_oe,o=zA,c=ao,l=Uc();return _M}const pyt=Uc(),gyt=(t,e,r)=>{try{e=new pyt(e,r)}catch{return!1}return e.test(t)};var KA=gyt;const vyt=Uc(),yyt=(t,e)=>new vyt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var myt=yyt;const byt=ao,wyt=Uc(),_yt=(t,e,r)=>{let n=null,s=null,i=null;try{i=new wyt(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new byt(n,r))}),n};var Eyt=_yt;const Syt=ao,Ayt=Uc(),xyt=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Ayt(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new Syt(n,r))}),n};var Myt=xyt;const EM=ao,Iyt=Uc(),fH=HA,Ryt=(t,e)=>{t=new Iyt(t,e);let r=new EM("0.0.0");if(t.test(r)||(r=new EM("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(o=>{const c=new EM(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||fH(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||fH(r,i))&&(r=i)}return r&&t.test(r)?r:null};var Tyt=Ryt;const $yt=Uc(),Cyt=(t,e)=>{try{return new $yt(t,e).range||"*"}catch{return null}};var Oyt=Cyt;const Byt=ao,Eoe=VA(),{ANY:Pyt}=Eoe,Nyt=Uc(),kyt=KA,uH=HA,lH=JO,Lyt=ZO,Dyt=QO,Uyt=(t,e,r,n)=>{t=new Byt(t,n),e=new Nyt(e,n);let s,i,o,c,l;switch(r){case">":s=uH,i=Lyt,o=lH,c=">",l=">=";break;case"<":s=lH,i=Dyt,o=uH,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kyt(t,e,n))return!1;for(let d=0;d<e.set.length;++d){const v=e.set[d];let b=null,A=null;if(v.forEach(x=>{x.semver===Pyt&&(x=new Eoe(">=0.0.0")),b=b||x,A=A||x,s(x.semver,b.semver,n)?b=x:o(x.semver,A.semver,n)&&(A=x)}),b.operator===c||b.operator===l||(!A.operator||A.operator===c)&&i(t,A.semver))return!1;if(A.operator===l&&o(t,A.semver))return!1}return!0};var XO=Uyt;const Fyt=XO,jyt=(t,e,r)=>Fyt(t,e,">",r);var qyt=jyt;const zyt=XO,Hyt=(t,e,r)=>zyt(t,e,"<",r);var Vyt=Hyt;const hH=Uc(),Kyt=(t,e,r)=>(t=new hH(t,r),e=new hH(e,r),t.intersects(e,r));var Gyt=Kyt;const Wyt=KA,Jyt=Dc;var Qyt=(t,e,r)=>{const n=[];let s=null,i=null;const o=t.sort((v,b)=>Jyt(v,b,r));for(const v of o)Wyt(v,e,r)?(i=v,s||(s=v)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[v,b]of n)v===b?c.push(v):!b&&v===o[0]?c.push("*"):b?v===o[0]?c.push(`<=${b}`):c.push(`${v} - ${b}`):c.push(`>=${v}`);const l=c.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e};const dH=Uc(),YO=VA(),{ANY:SM}=YO,iy=KA,eB=Dc,Zyt=(t,e,r={})=>{if(t===e)return!0;t=new dH(t,r),e=new dH(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const o=Yyt(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Xyt=[new YO(">=0.0.0-0")],pH=[new YO(">=0.0.0")],Yyt=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===SM){if(e.length===1&&e[0].semver===SM)return!0;r.includePrerelease?t=Xyt:t=pH}if(e.length===1&&e[0].semver===SM){if(r.includePrerelease)return!0;e=pH}const n=new Set;let s,i;for(const x of t)x.operator===">"||x.operator===">="?s=gH(s,x,r):x.operator==="<"||x.operator==="<="?i=vH(i,x,r):n.add(x.semver);if(n.size>1)return null;let o;if(s&&i){if(o=eB(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const x of n){if(s&&!iy(x,String(s),r)||i&&!iy(x,String(i),r))return null;for(const R of e)if(!iy(x,String(R),r))return!1;return!0}let c,l,d,v,b=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,A=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;b&&b.prerelease.length===1&&i.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const x of e){if(v=v||x.operator===">"||x.operator===">=",d=d||x.operator==="<"||x.operator==="<=",s){if(A&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===A.major&&x.semver.minor===A.minor&&x.semver.patch===A.patch&&(A=!1),x.operator===">"||x.operator===">="){if(c=gH(s,x,r),c===x&&c!==s)return!1}else if(s.operator===">="&&!iy(s.semver,String(x),r))return!1}if(i){if(b&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===b.major&&x.semver.minor===b.minor&&x.semver.patch===b.patch&&(b=!1),x.operator==="<"||x.operator==="<="){if(l=vH(i,x,r),l===x&&l!==i)return!1}else if(i.operator==="<="&&!iy(i.semver,String(x),r))return!1}if(!x.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&v&&!s&&o!==0||A||b)},gH=(t,e,r)=>{if(!t)return e;const n=eB(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},vH=(t,e,r)=>{if(!t)return e;const n=eB(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var emt=Zyt;const AM=T1,yH=qA,tmt=ao,mH=moe,rmt=rv,nmt=lvt,imt=pvt,smt=vvt,omt=mvt,amt=_vt,cmt=Avt,fmt=Ivt,umt=$vt,lmt=Dc,hmt=Pvt,dmt=Lvt,pmt=WO,gmt=jvt,vmt=Hvt,ymt=HA,mmt=JO,bmt=boe,wmt=woe,_mt=QO,Emt=ZO,Smt=_oe,Amt=dyt,xmt=VA(),Mmt=Uc(),Imt=KA,Rmt=myt,Tmt=Eyt,$mt=Myt,Cmt=Tyt,Omt=Oyt,Bmt=XO,Pmt=qyt,Nmt=Vyt,kmt=Gyt,Lmt=Qyt,Dmt=emt;var Umt={parse:rmt,valid:nmt,clean:imt,inc:smt,diff:omt,major:amt,minor:cmt,patch:fmt,prerelease:umt,compare:lmt,rcompare:hmt,compareLoose:dmt,compareBuild:pmt,sort:gmt,rsort:vmt,gt:ymt,lt:mmt,eq:bmt,neq:wmt,gte:_mt,lte:Emt,cmp:Smt,coerce:Amt,Comparator:xmt,Range:Mmt,satisfies:Imt,toComparators:Rmt,maxSatisfying:Tmt,minSatisfying:$mt,minVersion:Cmt,validRange:Omt,outside:Bmt,gtr:Pmt,ltr:Nmt,intersects:kmt,simplifyRange:Lmt,subset:Dmt,SemVer:tmt,re:AM.re,src:AM.src,tokens:AM.t,SEMVER_SPEC_VERSION:yH.SEMVER_SPEC_VERSION,RELEASE_TYPES:yH.RELEASE_TYPES,compareIdentifiers:mH.compareIdentifiers,rcompareIdentifiers:mH.rcompareIdentifiers};Object.defineProperty(Lc,"__esModule",{value:!0});var Soe=Ga,$1=Umt,sg=vs,tB=sg.refine.call(void 0,sg.string.call(void 0),"Version",t=>$1.valid.call(void 0,t)===null?`Expected SemVer version, got "${t}"`:!0),rB=sg.refine.call(void 0,sg.string.call(void 0),"Version range",t=>$1.validRange.call(void 0,t)===null?`Expected SemVer range, got "${t}"`:!0);function Fmt(t){return sg.is.call(void 0,t,tB)}function jmt(t){return sg.is.call(void 0,t,rB)}function qmt(t){Soe.assertStruct.call(void 0,t,tB)}function zmt(t){Soe.assertStruct.call(void 0,t,rB)}function Hmt(t,e){return $1.gt.call(void 0,t,e)}function Vmt(t,e){return $1.gtr.call(void 0,t,e)}function Kmt(t,e){return $1.satisfies.call(void 0,t,e,{includePrerelease:!0})}Lc.VersionStruct=tB;Lc.VersionRangeStruct=rB;Lc.isValidSemVerVersion=Fmt;Lc.isValidSemVerRange=jmt;Lc.assertIsSemVerVersion=qmt;Lc.assertIsSemVerRange=zmt;Lc.gtVersion=Hmt;Lc.gtRange=Vmt;Lc.satisfiesVersionRange=Kmt;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});var Ju=Ga,Gmt=oo,xr=vs,nv=t=>xr.object.call(void 0,t);function bH({path:t,branch:e}){const r=t[t.length-1];return Gmt.hasProperty.call(void 0,e[e.length-2],r)}function Em(t){return new xr.Struct({...t,type:`optional ${t.type}`,validator:(e,r)=>!bH(r)||t.validator(e,r),refiner:(e,r)=>!bH(r)||t.refiner(e,r)})}var Wmt=()=>xr.define.call(void 0,"finite number",t=>xr.is.call(void 0,t,xr.number.call(void 0))&&Number.isFinite(t)),Sm=xr.union.call(void 0,[xr.literal.call(void 0,null),xr.boolean.call(void 0),Wmt(),xr.string.call(void 0),xr.array.call(void 0,xr.lazy.call(void 0,()=>Sm)),xr.record.call(void 0,xr.string.call(void 0),xr.lazy.call(void 0,()=>Sm))]),$d=xr.coerce.call(void 0,Sm,xr.any.call(void 0),t=>(Ju.assertStruct.call(void 0,t,Sm),JSON.parse(JSON.stringify(t,(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r}))));function Jmt(t){try{return Aoe(t),!0}catch{return!1}}function Aoe(t){return xr.create.call(void 0,t,$d)}function Qmt(t){Ju.assertStruct.call(void 0,t,$d,"Invalid JSON value");const e=JSON.stringify(t);return new TextEncoder().encode(e).byteLength}var xoe="2.0",iv=xr.literal.call(void 0,xoe),C1=xr.nullable.call(void 0,xr.union.call(void 0,[xr.number.call(void 0),xr.string.call(void 0)])),O1=nv({code:xr.integer.call(void 0),message:xr.string.call(void 0),data:Em($d),stack:Em(xr.string.call(void 0))}),nB=xr.union.call(void 0,[xr.record.call(void 0,xr.string.call(void 0),$d),xr.array.call(void 0,$d)]),iB=nv({id:C1,jsonrpc:iv,method:xr.string.call(void 0),params:Em(nB)}),sB=nv({jsonrpc:iv,method:xr.string.call(void 0),params:Em(nB)});function Zmt(t){return xr.is.call(void 0,t,sB)}function Xmt(t,e){Ju.assertStruct.call(void 0,t,sB,"Invalid JSON-RPC notification",e)}function Ymt(t){return xr.is.call(void 0,t,iB)}function e1t(t,e){Ju.assertStruct.call(void 0,t,iB,"Invalid JSON-RPC request",e)}var oB=xr.object.call(void 0,{id:C1,jsonrpc:iv,result:xr.optional.call(void 0,xr.unknown.call(void 0)),error:xr.optional.call(void 0,O1)}),GA=nv({id:C1,jsonrpc:iv,result:$d}),WA=nv({id:C1,jsonrpc:iv,error:O1}),aB=xr.union.call(void 0,[GA,WA]);function t1t(t){return xr.is.call(void 0,t,oB)}function r1t(t,e){Ju.assertStruct.call(void 0,t,oB,"Invalid pending JSON-RPC response",e)}function n1t(t){return xr.is.call(void 0,t,aB)}function i1t(t,e){Ju.assertStruct.call(void 0,t,aB,"Invalid JSON-RPC response",e)}function s1t(t){return xr.is.call(void 0,t,GA)}function o1t(t,e){Ju.assertStruct.call(void 0,t,GA,"Invalid JSON-RPC success response",e)}function a1t(t){return xr.is.call(void 0,t,WA)}function c1t(t,e){Ju.assertStruct.call(void 0,t,WA,"Invalid JSON-RPC failure response",e)}function f1t(t){return xr.is.call(void 0,t,O1)}function u1t(t,e){Ju.assertStruct.call(void 0,t,O1,"Invalid JSON-RPC error",e)}function l1t(t){const{permitEmptyString:e,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...t};return i=>!!(typeof i=="number"&&(r||Number.isInteger(i))||typeof i=="string"&&(e||i.length>0)||n&&i===null)}Xr.object=nv;Xr.exactOptional=Em;Xr.UnsafeJsonStruct=Sm;Xr.JsonStruct=$d;Xr.isValidJson=Jmt;Xr.getSafeJson=Aoe;Xr.getJsonSize=Qmt;Xr.jsonrpc2=xoe;Xr.JsonRpcVersionStruct=iv;Xr.JsonRpcIdStruct=C1;Xr.JsonRpcErrorStruct=O1;Xr.JsonRpcParamsStruct=nB;Xr.JsonRpcRequestStruct=iB;Xr.JsonRpcNotificationStruct=sB;Xr.isJsonRpcNotification=Zmt;Xr.assertIsJsonRpcNotification=Xmt;Xr.isJsonRpcRequest=Ymt;Xr.assertIsJsonRpcRequest=e1t;Xr.PendingJsonRpcResponseStruct=oB;Xr.JsonRpcSuccessStruct=GA;Xr.JsonRpcFailureStruct=WA;Xr.JsonRpcResponseStruct=aB;Xr.isPendingJsonRpcResponse=t1t;Xr.assertIsPendingJsonRpcResponse=r1t;Xr.isJsonRpcResponse=n1t;Xr.assertIsJsonRpcResponse=i1t;Xr.isJsonRpcSuccess=s1t;Xr.assertIsJsonRpcSuccess=o1t;Xr.isJsonRpcFailure=a1t;Xr.assertIsJsonRpcFailure=c1t;Xr.isJsonRpcError=f1t;Xr.assertIsJsonRpcError=u1t;Xr.getJsonRpcIdValidator=l1t;var JA={};Object.defineProperty(JA,"__esModule",{value:!0});function h1t(t){return t&&t.__esModule?t:{default:t}}var d1t=wV,p1t=h1t(d1t),g1t=p1t.default.call(void 0,"metamask");function v1t(t){return g1t.extend(t)}function y1t(t,e){return t.extend(e)}JA.createProjectLogger=v1t;JA.createModuleLogger=y1t;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});function Moe(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...o)=>r.call(e,...o)),e=void 0)}return r}var to=vs,cB=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Ioe=/^[-a-z0-9]{3,8}$/u,Roe=/^[-_a-zA-Z0-9]{1,32}$/u,fB=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Toe=/^[-.%a-zA-Z0-9]{1,128}$/u,$oe=to.pattern.call(void 0,to.string.call(void 0),cB),Coe=to.pattern.call(void 0,to.string.call(void 0),Ioe),Ooe=to.pattern.call(void 0,to.string.call(void 0),Roe),Boe=to.pattern.call(void 0,to.string.call(void 0),fB),Poe=to.pattern.call(void 0,to.string.call(void 0),Toe);function m1t(t){return to.is.call(void 0,t,$oe)}function b1t(t){return to.is.call(void 0,t,Coe)}function w1t(t){return to.is.call(void 0,t,Ooe)}function _1t(t){return to.is.call(void 0,t,Boe)}function E1t(t){return to.is.call(void 0,t,Poe)}function S1t(t){const e=cB.exec(t);if(!Moe([e,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:e.groups.namespace,reference:e.groups.reference}}function A1t(t){const e=fB.exec(t);if(!Moe([e,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:e.groups.accountAddress,chainId:e.groups.chainId,chain:{namespace:e.groups.namespace,reference:e.groups.reference}}}ki.CAIP_CHAIN_ID_REGEX=cB;ki.CAIP_NAMESPACE_REGEX=Ioe;ki.CAIP_REFERENCE_REGEX=Roe;ki.CAIP_ACCOUNT_ID_REGEX=fB;ki.CAIP_ACCOUNT_ADDRESS_REGEX=Toe;ki.CaipChainIdStruct=$oe;ki.CaipNamespaceStruct=Coe;ki.CaipReferenceStruct=Ooe;ki.CaipAccountIdStruct=Boe;ki.CaipAccountAddressStruct=Poe;ki.isCaipChainId=m1t;ki.isCaipNamespace=b1t;ki.isCaipReference=w1t;ki.isCaipAccountId=_1t;ki.isCaipAccountAddress=E1t;ki.parseCaipChainId=S1t;ki.parseCaipAccountId=A1t;var uB={},QA={};Object.defineProperty(QA,"__esModule",{value:!0});function wH(t,e){return t??e()}var x1t=Ga,M1t=vs,I1t=(t,e={})=>{const r=wH(e.paddingRequired,()=>!1),n=wH(e.characterSet,()=>"base64");let s;n==="base64"?s=String.raw`[A-Za-z0-9+\/]`:(x1t.assert.call(void 0,n==="base64url"),s=String.raw`[-_A-Za-z0-9]`);let i;return r?i=new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):i=new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),M1t.pattern.call(void 0,t,i)};QA.base64=I1t;Object.defineProperty(uB,"__esModule",{value:!0});var R1t=QA,_H=vs,T1t=_H.size.call(void 0,R1t.base64.call(void 0,_H.string.call(void 0),{paddingRequired:!0}),44,44);uB.ChecksumStruct=T1t;var sv={};Object.defineProperty(sv,"__esModule",{value:!0});var og=en,$1t=Ga,ti=vs,Noe=ti.union.call(void 0,[ti.number.call(void 0),ti.bigint.call(void 0),ti.string.call(void 0),og.StrictHexStruct]),C1t=ti.coerce.call(void 0,ti.number.call(void 0),Noe,Number),O1t=ti.coerce.call(void 0,ti.bigint.call(void 0),Noe,BigInt);ti.union.call(void 0,[og.StrictHexStruct,ti.instance.call(void 0,Uint8Array)]);var B1t=ti.coerce.call(void 0,ti.instance.call(void 0,Uint8Array),ti.union.call(void 0,[og.StrictHexStruct]),og.hexToBytes),P1t=ti.coerce.call(void 0,og.StrictHexStruct,ti.instance.call(void 0,Uint8Array),og.bytesToHex);function N1t(t){try{const e=ti.create.call(void 0,t,C1t);return $1t.assert.call(void 0,Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof ti.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}function k1t(t){try{return ti.create.call(void 0,t,O1t)}catch(e){throw e instanceof ti.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}function L1t(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return ti.create.call(void 0,t,B1t)}catch(e){throw e instanceof ti.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}function D1t(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return ti.create.call(void 0,t,P1t)}catch(e){throw e instanceof ti.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}sv.createNumber=N1t;sv.createBigInt=k1t;sv.createBytes=L1t;sv.createHex=D1t;var ZA={},B1={};Object.defineProperty(B1,"__esModule",{value:!0});var koe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},U1t=(t,e,r)=>(koe(t,e,"read from private field"),r?r.call(t):e.get(t)),F1t=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},j1t=(t,e,r,n)=>(koe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);B1.__privateGet=U1t;B1.__privateAdd=F1t;B1.__privateSet=j1t;Object.defineProperty(ZA,"__esModule",{value:!0});var $i=B1,ac,lB=class{constructor(t){$i.__privateAdd.call(void 0,this,ac,void 0),$i.__privateSet.call(void 0,this,ac,new Map(t)),Object.freeze(this)}get size(){return $i.__privateGet.call(void 0,this,ac).size}[Symbol.iterator](){return $i.__privateGet.call(void 0,this,ac)[Symbol.iterator]()}entries(){return $i.__privateGet.call(void 0,this,ac).entries()}forEach(t,e){return $i.__privateGet.call(void 0,this,ac).forEach((r,n,s)=>t.call(e,r,n,this))}get(t){return $i.__privateGet.call(void 0,this,ac).get(t)}has(t){return $i.__privateGet.call(void 0,this,ac).has(t)}keys(){return $i.__privateGet.call(void 0,this,ac).keys()}values(){return $i.__privateGet.call(void 0,this,ac).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,e])=>`${String(t)} => ${String(e)}`).join(", ")} `:""}}`}};ac=new WeakMap;var nf,hB=class{constructor(t){$i.__privateAdd.call(void 0,this,nf,void 0),$i.__privateSet.call(void 0,this,nf,new Set(t)),Object.freeze(this)}get size(){return $i.__privateGet.call(void 0,this,nf).size}[Symbol.iterator](){return $i.__privateGet.call(void 0,this,nf)[Symbol.iterator]()}entries(){return $i.__privateGet.call(void 0,this,nf).entries()}forEach(t,e){return $i.__privateGet.call(void 0,this,nf).forEach((r,n,s)=>t.call(e,r,n,this))}has(t){return $i.__privateGet.call(void 0,this,nf).has(t)}keys(){return $i.__privateGet.call(void 0,this,nf).keys()}values(){return $i.__privateGet.call(void 0,this,nf).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}};nf=new WeakMap;Object.freeze(lB);Object.freeze(lB.prototype);Object.freeze(hB);Object.freeze(hB.prototype);ZA.FrozenMap=lB;ZA.FrozenSet=hB;Object.defineProperty(We,"__esModule",{value:!0});var XA=tv,q1t=KO,dB=R1,Qu=Lc,nn=Xr,Loe=JA,ws=ki,z1t=uB,H1t=QA,YA=sv,dn=en,ex=Ga,P1=vh,Fc=oo,Doe=ZA;We.AssertionError=ex.AssertionError;We.CAIP_ACCOUNT_ADDRESS_REGEX=ws.CAIP_ACCOUNT_ADDRESS_REGEX;We.CAIP_ACCOUNT_ID_REGEX=ws.CAIP_ACCOUNT_ID_REGEX;We.CAIP_CHAIN_ID_REGEX=ws.CAIP_CHAIN_ID_REGEX;We.CAIP_NAMESPACE_REGEX=ws.CAIP_NAMESPACE_REGEX;We.CAIP_REFERENCE_REGEX=ws.CAIP_REFERENCE_REGEX;We.CaipAccountAddressStruct=ws.CaipAccountAddressStruct;We.CaipAccountIdStruct=ws.CaipAccountIdStruct;We.CaipChainIdStruct=ws.CaipChainIdStruct;We.CaipNamespaceStruct=ws.CaipNamespaceStruct;We.CaipReferenceStruct=ws.CaipReferenceStruct;We.ChecksumStruct=z1t.ChecksumStruct;We.Duration=dB.Duration;We.ESCAPE_CHARACTERS_REGEXP=Fc.ESCAPE_CHARACTERS_REGEXP;We.FrozenMap=Doe.FrozenMap;We.FrozenSet=Doe.FrozenSet;We.HexAddressStruct=dn.HexAddressStruct;We.HexChecksumAddressStruct=dn.HexChecksumAddressStruct;We.HexStruct=dn.HexStruct;We.JsonRpcErrorStruct=nn.JsonRpcErrorStruct;We.JsonRpcFailureStruct=nn.JsonRpcFailureStruct;We.JsonRpcIdStruct=nn.JsonRpcIdStruct;We.JsonRpcNotificationStruct=nn.JsonRpcNotificationStruct;We.JsonRpcParamsStruct=nn.JsonRpcParamsStruct;We.JsonRpcRequestStruct=nn.JsonRpcRequestStruct;We.JsonRpcResponseStruct=nn.JsonRpcResponseStruct;We.JsonRpcSuccessStruct=nn.JsonRpcSuccessStruct;We.JsonRpcVersionStruct=nn.JsonRpcVersionStruct;We.JsonSize=Fc.JsonSize;We.JsonStruct=nn.JsonStruct;We.PendingJsonRpcResponseStruct=nn.PendingJsonRpcResponseStruct;We.StrictHexStruct=dn.StrictHexStruct;We.UnsafeJsonStruct=nn.UnsafeJsonStruct;We.VersionRangeStruct=Qu.VersionRangeStruct;We.VersionStruct=Qu.VersionStruct;We.add0x=dn.add0x;We.assert=ex.assert;We.assertExhaustive=ex.assertExhaustive;We.assertIsBytes=dn.assertIsBytes;We.assertIsHexString=dn.assertIsHexString;We.assertIsJsonRpcError=nn.assertIsJsonRpcError;We.assertIsJsonRpcFailure=nn.assertIsJsonRpcFailure;We.assertIsJsonRpcNotification=nn.assertIsJsonRpcNotification;We.assertIsJsonRpcRequest=nn.assertIsJsonRpcRequest;We.assertIsJsonRpcResponse=nn.assertIsJsonRpcResponse;We.assertIsJsonRpcSuccess=nn.assertIsJsonRpcSuccess;We.assertIsPendingJsonRpcResponse=nn.assertIsPendingJsonRpcResponse;We.assertIsSemVerRange=Qu.assertIsSemVerRange;We.assertIsSemVerVersion=Qu.assertIsSemVerVersion;We.assertIsStrictHexString=dn.assertIsStrictHexString;We.assertStruct=ex.assertStruct;We.base64=H1t.base64;We.base64ToBytes=dn.base64ToBytes;We.bigIntToBytes=dn.bigIntToBytes;We.bigIntToHex=XA.bigIntToHex;We.bytesToBase64=dn.bytesToBase64;We.bytesToBigInt=dn.bytesToBigInt;We.bytesToHex=dn.bytesToHex;We.bytesToNumber=dn.bytesToNumber;We.bytesToSignedBigInt=dn.bytesToSignedBigInt;We.bytesToString=dn.bytesToString;We.calculateNumberSize=Fc.calculateNumberSize;We.calculateStringSize=Fc.calculateStringSize;We.concatBytes=dn.concatBytes;We.createBigInt=YA.createBigInt;We.createBytes=YA.createBytes;We.createDataView=dn.createDataView;We.createDeferredPromise=q1t.createDeferredPromise;We.createHex=YA.createHex;We.createModuleLogger=Loe.createModuleLogger;We.createNumber=YA.createNumber;We.createProjectLogger=Loe.createProjectLogger;We.exactOptional=nn.exactOptional;We.getChecksumAddress=dn.getChecksumAddress;We.getErrorMessage=P1.getErrorMessage;We.getJsonRpcIdValidator=nn.getJsonRpcIdValidator;We.getJsonSize=nn.getJsonSize;We.getKnownPropertyNames=Fc.getKnownPropertyNames;We.getSafeJson=nn.getSafeJson;We.gtRange=Qu.gtRange;We.gtVersion=Qu.gtVersion;We.hasProperty=Fc.hasProperty;We.hexToBigInt=XA.hexToBigInt;We.hexToBytes=dn.hexToBytes;We.hexToNumber=XA.hexToNumber;We.inMilliseconds=dB.inMilliseconds;We.isASCII=Fc.isASCII;We.isBytes=dn.isBytes;We.isCaipAccountAddress=ws.isCaipAccountAddress;We.isCaipAccountId=ws.isCaipAccountId;We.isCaipChainId=ws.isCaipChainId;We.isCaipNamespace=ws.isCaipNamespace;We.isCaipReference=ws.isCaipReference;We.isErrorWithCode=P1.isErrorWithCode;We.isErrorWithMessage=P1.isErrorWithMessage;We.isErrorWithStack=P1.isErrorWithStack;We.isHexString=dn.isHexString;We.isJsonRpcError=nn.isJsonRpcError;We.isJsonRpcFailure=nn.isJsonRpcFailure;We.isJsonRpcNotification=nn.isJsonRpcNotification;We.isJsonRpcRequest=nn.isJsonRpcRequest;We.isJsonRpcResponse=nn.isJsonRpcResponse;We.isJsonRpcSuccess=nn.isJsonRpcSuccess;We.isNonEmptyArray=Fc.isNonEmptyArray;We.isNullOrUndefined=Fc.isNullOrUndefined;We.isObject=Fc.isObject;We.isPendingJsonRpcResponse=nn.isPendingJsonRpcResponse;We.isPlainObject=Fc.isPlainObject;We.isStrictHexString=dn.isStrictHexString;We.isValidChecksumAddress=dn.isValidChecksumAddress;We.isValidHexAddress=dn.isValidHexAddress;We.isValidJson=nn.isValidJson;We.isValidSemVerRange=Qu.isValidSemVerRange;We.isValidSemVerVersion=Qu.isValidSemVerVersion;We.jsonrpc2=nn.jsonrpc2;We.numberToBytes=dn.numberToBytes;We.numberToHex=XA.numberToHex;We.object=nn.object;We.parseCaipAccountId=ws.parseCaipAccountId;We.parseCaipChainId=ws.parseCaipChainId;We.remove0x=dn.remove0x;We.satisfiesVersionRange=Qu.satisfiesVersionRange;We.signedBigIntToBytes=dn.signedBigIntToBytes;We.stringToBytes=dn.stringToBytes;We.timeSince=dB.timeSince;We.valueToBytes=dn.valueToBytes;We.wrapError=P1.wrapError;var jc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;const e=We,r=i=>typeof i=="string"?i:i instanceof Error||(0,e.isObject)(i)&&(0,e.hasProperty)(i,"message")&&typeof i.message=="string"?i.message:"Unknown error.";t.getErrorMessage=r;const n=i=>{if(i instanceof Error)return i.stack};t.getErrorStack=n;class s extends Error{constructor(o,c){super(o),this.name="ParserError";const l=(0,t.getErrorStack)(c);l&&(this.stack=l)}}t.ParserError=s})(jc);var xM={},tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.iterate=void 0;const EH=We,V1t=function*(t,e=32){for(let r=0;r<t.length;r+=e){const n=i=>{(0,EH.assert)(i>=0,"Cannot skip a negative number of bytes."),(0,EH.assert)(i%e===0,"Length must be a multiple of the size."),r+=i},s=t.subarray(r);yield{skip:n,value:s}}return{skip:()=>{},value:new Uint8Array}};tx.iterate=V1t;var MM={},Uoe={},yh={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.padEnd=zl.padStart=zl.set=void 0;const pB=We,Foe=32,K1t=(t,e,r)=>(0,pB.concatBytes)([t.subarray(0,r),e,t.subarray(r+e.length)]);zl.set=K1t;const G1t=(t,e=Foe)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,pB.concatBytes)([r,t])};zl.padStart=G1t;const W1t=(t,e=Foe)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,pB.concatBytes)([t,r])};zl.padEnd=W1t;(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(zl,t)})(yh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;const e=We,r=jc,n=yh,s=i=>{const o=(0,e.createBytes)(i);return(0,e.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};t.getAddress=s,t.address={isDynamic:!1,isType:i=>i==="address",getByteLength(){return 32},encode({buffer:i,value:o,packed:c}){const l=(0,t.getAddress)(o);if(c)return(0,e.concatBytes)([i,l]);const d=(0,n.padStart)(l);return(0,e.concatBytes)([i,d])},decode({value:i}){return(0,e.add0x)((0,e.bytesToHex)(i.slice(12,32)))}}})(Uoe);var IM={},rx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;const e=We,r=jc,n=yh,s=/^bytes([0-9]{1,2})$/u,i=o=>{var d;const c=(d=o.match(s))==null?void 0:d[1];(0,e.assert)(c,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const l=Number(c);return(0,e.assert)(l>0&&l<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),l};t.getByteLength=i,t.fixedBytes={isDynamic:!1,isType(o){return s.test(o)},getByteLength(){return 32},encode({type:o,buffer:c,value:l,packed:d}){const v=(0,t.getByteLength)(o),b=(0,e.createBytes)(l);return(0,e.assert)(b.length<=v,new r.ParserError(`Expected a value of length ${v}, but received a value of length ${b.length}.`)),d?(0,e.concatBytes)([c,(0,n.padEnd)(b,v)]):(0,e.concatBytes)([c,(0,n.padEnd)(b)])},decode({type:o,value:c}){const l=(0,t.getByteLength)(o);return c.slice(0,l)}}})(rx);var RM={},SH;function joe(){return SH||(SH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;const e=We,r=jc,n=vB(),s=/^\((.+)\)$/u,i=c=>s.test(c),o=c=>{(0,e.assert)(c.startsWith("(")&&c.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${c}".`));const l=[];let d="",v=0;for(let b=1;b<c.length-1;b++){const A=c[b];A===","&&v===0?(l.push(d.trim()),d=""):(d+=A,A==="("?v+=1:A===")"&&(v-=1))}return d.trim()&&l.push(d.trim()),l};t.getTupleElements=o,t.tuple={isDynamic(c){return(0,t.getTupleElements)(c).some(d=>{const v=(0,n.getParser)(d);return(0,n.isDynamicParser)(v,d)})},isType(c){return i(c)},getByteLength(c){return(0,n.isDynamicParser)(this,c)?32:(0,t.getTupleElements)(c).reduce((d,v)=>d+(0,n.getParser)(v).getByteLength(v),0)},encode({type:c,buffer:l,value:d,packed:v,tight:b}){const A=(0,t.getTupleElements)(c);return(0,n.pack)({types:A,values:d,byteArray:l,packed:v,tight:b})},decode({type:c,value:l,skip:d}){const v=(0,t.getTupleElements)(c),b=this.getByteLength(c)-32;return d(b),(0,n.unpack)(v,l)}}}(RM)),RM}var AH;function J1t(){return AH||(AH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;const e=We,r=jc,n=vB(),s=yh,i=rx,o=joe(),c=/^(?<type>.*)\[(?<length>\d*?)\]$/u,l=b=>c.test(b);t.isArrayType=l;const d=b=>{var x;const A=b.match(c);return(0,e.assert)((x=A==null?void 0:A.groups)==null?void 0:x.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${b}".`)),[A.groups.type,A.groups.length?parseInt(A.groups.length,10):void 0]};t.getArrayType=d;const v=(b,A)=>`(${new Array(A).fill(b).join(",")})`;t.getTupleType=v,t.array={isDynamic(b){const[A,x]=(0,t.getArrayType)(b);return x===void 0||(0,n.isDynamicParser)((0,n.getParser)(A),A)},isType(b){return(0,t.isArrayType)(b)},getByteLength(b){(0,e.assert)((0,t.isArrayType)(b),new r.ParserError(`Expected an array type, but received "${b}".`));const[A,x]=(0,t.getArrayType)(b);return!(0,n.isDynamicParser)(this,b)&&x!==void 0?o.tuple.getByteLength((0,t.getTupleType)(A,x)):32},encode({type:b,buffer:A,value:x,packed:R,tight:C}){const[T,$]=(0,t.getArrayType)(b);if((0,e.assert)(!R||!(0,t.isArrayType)(T),new r.ParserError("Cannot pack nested arrays.")),R&&(0,n.isDynamicParser)((0,n.getParser)(T),T))return(0,n.pack)({types:new Array(x.length).fill(T),values:x,byteArray:A,packed:R,arrayPacked:!0,tight:C});if($)return(0,e.assert)($===x.length,new r.ParserError(`Array length does not match type length. Expected a length of ${$}, but received ${x.length}.`)),o.tuple.encode({type:(0,t.getTupleType)(T,$),buffer:A,value:x,packed:i.fixedBytes.isType(T)&&C,tight:C});if(R)return(0,n.pack)({types:new Array(x.length).fill(T),values:x,byteArray:A,packed:i.fixedBytes.isType(T)&&C,arrayPacked:!0,tight:C});const O=(0,s.padStart)((0,e.numberToBytes)(x.length));return(0,n.pack)({types:new Array(x.length).fill(T),values:x,byteArray:(0,e.concatBytes)([A,O]),packed:R,tight:C})},decode({type:b,value:A,...x}){const[R,C]=(0,t.getArrayType)(b);if(C){const $=o.tuple.decode({type:(0,t.getTupleType)(R,C),value:A,...x});return(0,e.assert)($.length===C,new r.ParserError(`Array length does not match type length. Expected a length of ${C}, but received ${$.length}.`)),$}const T=(0,e.bytesToNumber)(A.subarray(0,32));return(0,n.unpack)(new Array(T).fill(R),A.subarray(32))}}}(IM)),IM}var qoe={},gB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;const e=We,r=jc,n=yh,s=/^u?int(?<length>[0-9]*)?$/u,i=d=>!d.startsWith("u");t.isSigned=i;const o=d=>{var A;if(d==="int"||d==="uint")return 256;const v=d.match(s);(0,e.assert)((A=v==null?void 0:v.groups)==null?void 0:A.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${d}".`));const b=parseInt(v.groups.length,10);return(0,e.assert)(b>=8&&b<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${d}".`)),(0,e.assert)(b%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${d}".`)),b};t.getLength=o;const c=(d,v)=>{const b=(0,t.getLength)(v),A=BigInt(2)**BigInt(b-((0,t.isSigned)(v)?1:0))-BigInt(1);if((0,t.isSigned)(v)){(0,e.assert)(d>=-(A+BigInt(1))&&d<=A,new r.ParserError(`Number "${d}" is out of range for type "${v}".`));return}(0,e.assert)(d<=A,new r.ParserError(`Number "${d}" is out of range for type "${v}".`))};t.assertNumberLength=c;const l=d=>{try{return(0,e.createBigInt)(d)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${d}".`)}};t.getBigInt=l,t.number={isDynamic:!1,isType(d){return s.test(d)},getByteLength(){return 32},encode({type:d,buffer:v,value:b,packed:A}){const x=(0,t.getBigInt)(b);if((0,t.assertNumberLength)(x,d),(0,t.isSigned)(d)){if(A){const R=(0,t.getLength)(d)/8;return(0,e.concatBytes)([v,(0,e.signedBigIntToBytes)(x,R)])}return(0,e.concatBytes)([v,(0,n.padStart)((0,e.signedBigIntToBytes)(x,32))])}if(A){const R=(0,t.getLength)(d)/8;return(0,e.concatBytes)([v,(0,n.padStart)((0,e.bigIntToBytes)(x),R)])}return(0,e.concatBytes)([v,(0,n.padStart)((0,e.bigIntToBytes)(x))])},decode({type:d,value:v}){const b=v.subarray(0,32);if((0,t.isSigned)(d)){const x=(0,e.bytesToSignedBigInt)(b);return(0,t.assertNumberLength)(x,d),x}const A=(0,e.bytesToBigInt)(b);return(0,t.assertNumberLength)(A,d),A}}})(gB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;const e=We,r=vs,n=jc,s=gB,i=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),c=>c==="true"),o=c=>{try{return(0,r.create)(c,i)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${c}".`)}};t.getBooleanValue=o,t.bool={isDynamic:!1,isType:c=>c==="bool",getByteLength(){return 32},encode({buffer:c,value:l,packed:d,tight:v}){const b=(0,t.getBooleanValue)(l);return d?(0,e.concatBytes)([c,(0,e.bigIntToBytes)(b)]):s.number.encode({type:"uint256",buffer:c,value:b,packed:d,tight:v})},decode(c){return s.number.decode({...c,type:"uint256"})===BigInt(1)}}})(qoe);var N1={};Object.defineProperty(N1,"__esModule",{value:!0});N1.bytes=void 0;const sy=We,xH=yh;N1.bytes={isDynamic:!0,isType:t=>t==="bytes",getByteLength(){return 32},encode({buffer:t,value:e,packed:r}){const n=(0,sy.createBytes)(e);if(r)return(0,sy.concatBytes)([t,n]);const s=Math.ceil(n.byteLength/32)*32;return(0,sy.concatBytes)([t,(0,xH.padStart)((0,sy.numberToBytes)(n.byteLength)),(0,xH.padEnd)(n,s)])},decode({value:t}){const e=t.subarray(0,32),r=(0,sy.bytesToNumber)(e);return t.slice(32,32+r)}};var zoe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;const e=We,r=vs,n=jc,s=rx,i=(0,r.coerce)((0,r.object)({address:e.StrictHexStruct,selector:e.StrictHexStruct}),(0,r.union)([e.StrictHexStruct,(0,r.instance)(Uint8Array)]),c=>{const l=(0,e.createBytes)(c);return(0,e.assert)(l.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${l.length} bytes.`)),{address:(0,e.bytesToHex)(l.subarray(0,20)),selector:(0,e.bytesToHex)(l.subarray(20,24))}}),o=c=>{const l=(0,r.create)(c,i);return(0,e.concatBytes)([(0,e.hexToBytes)(l.address),(0,e.hexToBytes)(l.selector)])};t.getFunction=o,t.fn={isDynamic:!1,isType:c=>c==="function",getByteLength(){return 32},encode({buffer:c,value:l,packed:d,tight:v}){const b=(0,t.getFunction)(l);return s.fixedBytes.encode({type:"bytes24",buffer:c,value:b,packed:d,tight:v})},decode({value:c}){return{address:(0,e.bytesToHex)(c.slice(0,20)),selector:(0,e.bytesToHex)(c.slice(20,24))}}}})(zoe);var Hoe={};Object.defineProperty(Hoe,"__esModule",{value:!0});var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.string=void 0;const MH=We,IH=N1;nx.string={isDynamic:!0,isType:t=>t==="string",getByteLength(){return 32},encode({buffer:t,value:e,packed:r,tight:n}){return IH.bytes.encode({type:"bytes",buffer:t,value:(0,MH.stringToBytes)(e),packed:r,tight:n})},decode(t){return(0,MH.bytesToString)(IH.bytes.decode(t))}};var RH;function Voe(){return RH||(RH=1,function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Uoe,t),r(J1t(),t),r(qoe,t),r(N1,t),r(rx,t),r(zoe,t),r(gB,t),r(Hoe,t),r(nx,t),r(joe(),t)}(MM)),MM}var TH;function vB(){return TH||(TH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;const e=We,r=jc,n=tx,s=Voe(),i=yh,o=v=>{const b={address:s.address,array:s.array,bool:s.bool,bytes:s.bytes,fixedBytes:s.fixedBytes,function:s.fn,number:s.number,string:s.string,tuple:s.tuple},A=b[v];if(A)return A;const x=Object.values(b).find(R=>R.isType(v));if(x)return x;throw new r.ParserError(`The type "${v}" is not supported.`)};t.getParser=o;const c=(v,b)=>{const{isDynamic:A}=v;return typeof A=="function"?A(b):A};t.isDynamicParser=c;const l=({types:v,values:b,packed:A=!1,tight:x=!1,arrayPacked:R=!1,byteArray:C=new Uint8Array})=>{(0,e.assert)(v.length===b.length,new r.ParserError(`The number of types (${v.length}) does not match the number of values (${b.length}).`));const{staticBuffer:T,dynamicBuffer:$,pointers:O}=v.reduce(({staticBuffer:F,dynamicBuffer:H,pointers:V},J,Z)=>{const se=(0,t.getParser)(J),S=b[Z];if(A||R||!(0,t.isDynamicParser)(se,J))return{staticBuffer:se.encode({buffer:F,value:S,type:J,packed:A,tight:x}),dynamicBuffer:H,pointers:V};const a=(0,e.concatBytes)([F,new Uint8Array(32)]),u=se.encode({buffer:H,value:S,type:J,packed:A,tight:x});return{staticBuffer:a,dynamicBuffer:u,pointers:[...V,{position:F.length,pointer:H.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,e.assert)(!A&&!R||$.length===0,new r.ParserError("Invalid pack state."));const D=T.length,L=O.reduce((F,{pointer:H,position:V})=>{const J=(0,i.padStart)((0,e.numberToBytes)(D+H));return(0,i.set)(F,J,V)},T);return(0,e.concatBytes)([C,L,$])};t.pack=l;const d=(v,b)=>{const A=(0,n.iterate)(b);return v.map(x=>{const{value:{value:R,skip:C},done:T}=A.next();(0,e.assert)(!T,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${x}".`));const $=(0,t.getParser)(x);if((0,t.isDynamicParser)($,x)){const D=(0,e.bytesToNumber)(R.subarray(0,32)),L=b.subarray(D);return $.decode({type:x,value:L,skip:C})}return $.decode({type:x,value:R,skip:C})})};t.unpack=d}(xM)),xM}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;const e=We,r=jc,n=vB(),s=(d,v,b,A)=>{try{return(0,n.pack)({types:d,values:v,packed:b,tight:A})}catch(x){throw x instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${x.message}`,x):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(x)}`,x)}};t.encode=s;const i=(d,v)=>(0,t.encode)([d],[v]);t.encodeSingle=i;const o=(d,v,b)=>(0,t.encode)(d,v,!0,b);t.encodePacked=o;const c=(d,v)=>{const b=(0,e.createBytes)(v);try{return(0,n.unpack)(d,b)}catch(A){throw A instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${A.message}`,A):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(A)}`,A)}};t.decode=c;const l=(d,v)=>{const b=(0,t.decode)([d],v);return(0,e.assert)(b.length===1,new r.ParserError("Decoded value array has unexpected length.")),b[0]};t.decodeSingle=l})(Vse);var Koe={},Goe={};Object.defineProperty(Goe,"__esModule",{value:!0});(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Goe,t)})(Koe);(function(t){var e=He&&He.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,c)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=He&&He.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vse,t),r(jc,t),r(Koe,t)})(Hse);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const e=dc,r=Hse,n=Voe(),s=yh,i=Fse,o=Aa,c=ls;var l;(function(a){a.V1="V1",a.V3="V3",a.V4="V4"})(l=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function d(a,u){if(Object.keys(l).includes(a)){if(u&&!u.includes(a))throw new Error(`SignTypedDataVersion not allowed: '${a}'. Allowed versions are: ${u.join(", ")}`)}else throw new Error(`Invalid version: '${a}'`)}function v(a,u){(0,i.assert)(u!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${u}".`);const h=BigInt(u),p=(0,n.getLength)(a),y=BigInt(2)**BigInt(p)-BigInt(1);return(0,i.assert)(h>=-y&&h<=y,`Unable to encode value: Number "${u}" is out of range for type "${a}".`),h}function b(a){let u=BigInt(0);for(let h=0;h<a.length;h++){const p=BigInt(a.charCodeAt(h)-48);u*=BigInt(10),p>=49?u+=p-BigInt(49)+BigInt(10):p>=17?u+=p-BigInt(17)+BigInt(10):u+=p}return(0,s.padStart)((0,i.bigIntToBytes)(u),20)}function A(a,u,h,p,y){if(d(y,[l.V3,l.V4]),a[h]!==void 0)return["bytes32",y===l.V4&&p==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,e.arrToBufArr)((0,o.keccak256)(x(h,p,a,y)))];if(h==="function")throw new Error('Unsupported or invalid type: "function"');if(p===void 0)throw new Error(`missing value for field ${u} of type ${h}`);if(h==="address"){if(typeof p=="number")return["address",(0,s.padStart)((0,i.numberToBytes)(p),20)];if((0,i.isStrictHexString)(p))return["address",(0,i.add0x)(p)];if(typeof p=="string")return["address",b(p).subarray(0,20)]}if(h==="bool")return["bool",!!p];if(h==="bytes")return typeof p=="number"?p=(0,i.numberToBytes)(p):(0,i.isStrictHexString)(p)||p==="0x"?p=(0,i.hexToBytes)(p):typeof p=="string"&&(p=(0,i.stringToBytes)(p)),["bytes32",(0,e.arrToBufArr)((0,o.keccak256)(p))];if(h.startsWith("bytes")&&h!=="bytes"&&!h.includes("["))return typeof p=="number"?p<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,i.bigIntToBytes)(BigInt(p))]:(0,i.isStrictHexString)(p)?["bytes32",(0,i.hexToBytes)(p)]:["bytes32",p];if(h.startsWith("int")&&!h.includes("[")){const w=v(h,p);return w>=BigInt(0)?["uint256",w]:["int256",w]}if(h==="string")return typeof p=="number"?p=(0,i.numberToBytes)(p):p=(0,i.stringToBytes)(p??""),["bytes32",(0,e.arrToBufArr)((0,o.keccak256)(p))];if(h.endsWith("]")){if(y===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const w=h.slice(0,h.lastIndexOf("[")),_=p.map(g=>A(a,u,w,g,y));return["bytes32",(0,e.arrToBufArr)((0,o.keccak256)((0,r.encode)(_.map(([g])=>g),_.map(([,g])=>g))))]}return[h,p]}function x(a,u,h,p){d(p,[l.V3,l.V4]);const y=["bytes32"],w=[$(a,h)];for(const _ of h[a]){if(p===l.V3&&u[_.name]===void 0)continue;const[g,f]=A(h,_.name,_.type,u[_.name],p);y.push(g),w.push(f)}return(0,e.arrToBufArr)((0,r.encode)(y,w))}function R(a,u){let h="";const p=C(a,u);p.delete(a);const y=[a,...Array.from(p).sort()];for(const w of y){if(!u[w])throw new Error(`No type definition specified: ${w}`);h+=`${w}(${u[w].map(({name:g,type:f})=>`${f} ${g}`).join(",")})`}return h}function C(a,u,h=new Set){if(typeof a!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(a)}`);if([a]=a.match(/^\w*/u),h.has(a)||u[a]===void 0)return h;h.add(a);for(const y of u[a])C(y.type,u,h);return h}function T(a,u,h,p){d(p,[l.V3,l.V4]);const y=x(a,u,h,p),w=(0,o.keccak256)(y);return(0,e.arrToBufArr)(w)}function $(a,u){const h=(0,i.stringToBytes)(R(a,u));return(0,e.arrToBufArr)((0,o.keccak256)(h))}function O(a){const u={};for(const h in t.TYPED_MESSAGE_SCHEMA.properties)a[h]&&(u[h]=a[h]);return"types"in u&&(u.types=Object.assign({EIP712Domain:[]},u.types)),u}function D(a,u){d(u,[l.V3,l.V4]);const h=O(a),{domain:p}=h,y={EIP712Domain:h.types.EIP712Domain};return T("EIP712Domain",p,y,u)}function L(a,u){d(u,[l.V3,l.V4]);const h=O(a),p=[(0,i.hexToBytes)("1901")];return p.push(D(a,u)),h.primaryType!=="EIP712Domain"&&p.push(T(h.primaryType,h.message,h.types,u)),(0,e.arrToBufArr)((0,o.keccak256)((0,i.concatBytes)(p)))}t.TypedDataUtils={encodeData:x,encodeType:R,findTypeDependencies:C,hashStruct:T,hashType:$,sanitizeData:O,eip712Hash:L,eip712DomainHash:D};function F(a){const u=Z(a);return(0,i.bytesToHex)(u)}t.typedSignatureHash=F;function H(a,u){if((0,n.isArrayType)(a)&&Array.isArray(u)){const[h]=(0,n.getArrayType)(a);return u.map(p=>H(h,p))}if(a==="address"){if(typeof u=="number")return(0,s.padStart)((0,i.numberToBytes)(u),20);if((0,i.isStrictHexString)(u))return(0,s.padStart)((0,i.hexToBytes)(u).subarray(0,20),20);if(u instanceof Uint8Array)return(0,s.padStart)(u.subarray(0,20),20)}if(a==="bool")return!!u;if(a.startsWith("bytes")&&a!=="bytes"){const h=(0,n.getByteLength)(a);if(typeof u=="number")return u<0?new Uint8Array:(0,i.numberToBytes)(u).subarray(0,h);if((0,i.isStrictHexString)(u))return(0,i.hexToBytes)(u).subarray(0,h);if(u instanceof Uint8Array)return u.subarray(0,h)}if(a.startsWith("uint")&&typeof u=="number")return Math.abs(u);if(a.startsWith("int")&&typeof u=="number"){const h=(0,n.getLength)(a);return BigInt.asIntN(h,BigInt(u))}return u}function V(a){return a.map(u=>typeof u=="number"?(0,s.padStart)((0,i.numberToBytes)(u),32):(0,i.isStrictHexString)(u)?(0,s.padStart)((0,i.hexToBytes)(u).subarray(0,32),32):u instanceof Uint8Array?(0,s.padStart)(u.subarray(0,32),32):u)}function J(a,u){return u.map(h=>{if(typeof h=="string"||typeof h=="number"||typeof h=="bigint"){const p=v(a,h);if(p>=BigInt(0))return(0,s.padStart)((0,i.bigIntToBytes)(p),32);const y=(0,n.getLength)(a),w=BigInt.asIntN(y,p);return(0,i.signedBigIntToBytes)(w,32)}return h})}function Z(a){const u=new Error("Expect argument to be non-empty array");if(typeof a!="object"||!("length"in a)||!a.length)throw u;const h=a.map(({name:_,type:g,value:f})=>{if(g==="address[]")return{name:_,type:"bytes32[]",value:V(f)};if(g.startsWith("int")&&(0,n.isArrayType)(g)){const[m,I]=(0,n.getArrayType)(g);return{name:_,type:`bytes32[${I??""}]`,value:J(m,f)}}return{name:_,type:g,value:H(g,f)}}),p=h.map(_=>_.type!=="bytes"?_.value:(0,c.legacyToBuffer)(_.value)),y=h.map(_=>{if(_.type==="function")throw new Error('Unsupported or invalid type: "function"');return _.type}),w=a.map(_=>{if(!_.name)throw u;return`${_.type} ${_.name}`});return(0,e.arrToBufArr)((0,o.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,r.encodePacked)(["string[]"],[w],!0)),(0,o.keccak256)((0,r.encodePacked)(y,p,!0))])))}function se({privateKey:a,data:u,version:h}){if(d(h),(0,c.isNullish)(u))throw new Error("Missing data parameter");if((0,c.isNullish)(a))throw new Error("Missing private key parameter");const p=h===l.V1?Z(u):t.TypedDataUtils.eip712Hash(u,h),y=(0,e.ecsign)(p,a);return(0,c.concatSig)((0,e.arrToBufArr)((0,i.bigIntToBytes)(y.v)),y.r,y.s)}t.signTypedData=se;function S({data:a,signature:u,version:h}){if(d(h),(0,c.isNullish)(a))throw new Error("Missing data parameter");if((0,c.isNullish)(u))throw new Error("Missing signature parameter");const p=h===l.V1?Z(a):t.TypedDataUtils.eip712Hash(a,h),y=(0,c.recoverPublicKey)(p,u),w=(0,e.publicToAddress)(y);return(0,i.bytesToHex)(w)}t.recoverTypedSignature=S})(zse);var Ea={},Woe={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())})(He,function(){var e={};function r(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var s,i=unescape(encodeURIComponent(n)),o=new Uint8Array(i.length);for(s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return o},e.encodeUTF8=function(n){var s,i=[];for(s=0;s<n.length;s++)i.push(String.fromCharCode(n[s]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Re.Buffer.from<"u"?(e.encodeBase64=function(n){return Re.Buffer.from(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(Re.Buffer.from(n,"base64"),0))}):(e.encodeBase64=function(n){return new Re.Buffer(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(new Re.Buffer(n,"base64"),0))}):(e.encodeBase64=function(n){var s,i=[],o=n.length;for(s=0;s<o;s++)i.push(String.fromCharCode(n[s]));return btoa(i.join(""))},e.decodeBase64=function(n){r(n);var s,i=atob(n),o=new Uint8Array(i.length);for(s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return o}),e})})(Woe);var Q1t=Woe.exports,Z1t=He&&He.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X1t=He&&He.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Joe=He&&He.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z1t(e,t,r);return X1t(e,t),e};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.getEncryptionPublicKey=Ea.decryptSafely=Ea.decrypt=Ea.encryptSafely=Ea.encrypt=void 0;const Yh=Joe(une),pc=Joe(Q1t),Ef=ls;function Qoe({publicKey:t,data:e,version:r}){if((0,Ef.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,Ef.isNullish)(e))throw new Error("Missing data parameter");if((0,Ef.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const n=Yh.box.keyPair();let s;try{s=pc.decodeBase64(t)}catch{throw new Error("Bad public key")}const i=pc.decodeUTF8(e),o=Yh.randomBytes(Yh.box.nonceLength),c=Yh.box(i,o,s,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:pc.encodeBase64(o),ephemPublicKey:pc.encodeBase64(n.publicKey),ciphertext:pc.encodeBase64(c)}}default:throw new Error("Encryption type/version not supported")}}Ea.encrypt=Qoe;function Y1t({publicKey:t,data:e,version:r}){if((0,Ef.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,Ef.isNullish)(e))throw new Error("Missing data parameter");if((0,Ef.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,s=16;if(typeof e=="object"&&e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:e,padding:""},c=Re.Buffer.byteLength(JSON.stringify(i),"utf-8")%n;let l=0;c>0&&(l=n-c-s),i.padding="0".repeat(l);const d=JSON.stringify(i);return Qoe({publicKey:t,data:d,version:r})}Ea.encryptSafely=Y1t;function Zoe({encryptedData:t,privateKey:e}){if((0,Ef.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,Ef.isNullish)(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{const r=Xoe(e),n=Yh.box.keyPair.fromSecretKey(r).secretKey,s=pc.decodeBase64(t.nonce),i=pc.decodeBase64(t.ciphertext),o=pc.decodeBase64(t.ephemPublicKey),c=Yh.box.open(i,s,o,n);try{if(!c)throw new Error;const l=pc.encodeUTF8(c);if(!l)throw new Error;return l}catch(l){throw l&&typeof l.message=="string"&&l.message.length?new Error(`Decryption failed: ${l.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Ea.decrypt=Zoe;function ebt({encryptedData:t,privateKey:e}){if((0,Ef.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,Ef.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(Zoe({encryptedData:t,privateKey:e})).data}Ea.decryptSafely=ebt;function tbt(t){const e=Xoe(t),r=Yh.box.keyPair.fromSecretKey(e).publicKey;return pc.encodeBase64(r)}Ea.getEncryptionPublicKey=tbt;function Xoe(t){const e=Re.Buffer.from(t,"hex").toString("base64");return pc.decodeBase64(e)}(function(t){var e=He&&He.__createBinding||(Object.create?function(s,i,o,c){c===void 0&&(c=o);var l=Object.getOwnPropertyDescriptor(i,o);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,c,l)}:function(s,i,o,c){c===void 0&&(c=o),s[c]=i[o]}),r=He&&He.__exportStar||function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,s,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,r(ql,t),r(zse,t),r(Ea,t);var n=ls;Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Jpt);var Yoe={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",s=n?window:{};s.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!s.JS_SHA3_NO_NODE_JS&&typeof mt=="object"&&mt.versions&&mt.versions.node;o?s=He:i&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),v=[31,7936,2031616,520093696],b=[4,1024,262144,67108864],A=[1,256,65536,16777216],x=[6,1536,393216,100663296],R=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],$=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],D={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(k){return Object.prototype.toString.call(k)==="[object Array]"}),l&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(k){return typeof k=="object"&&k.buffer&&k.buffer.constructor===ArrayBuffer});for(var L=function(k,z,B){return function(U){return new I(k,z,k).update(U)[B]()}},F=function(k,z,B){return function(U,K){return new I(k,z,K).update(U)[B]()}},H=function(k,z,B){return function(U,K,Y,X){return h["cshake"+k].update(U,K,Y,X)[B]()}},V=function(k,z,B){return function(U,K,Y,X){return h["kmac"+k].update(U,K,Y,X)[B]()}},J=function(k,z,B,U){for(var K=0;K<O.length;++K){var Y=O[K];k[Y]=z(B,U,Y)}return k},Z=function(k,z){var B=L(k,z,"hex");return B.create=function(){return new I(k,z,k)},B.update=function(U){return B.create().update(U)},J(B,L,k,z)},se=function(k,z){var B=F(k,z,"hex");return B.create=function(U){return new I(k,z,U)},B.update=function(U,K){return B.create(K).update(U)},J(B,F,k,z)},S=function(k,z){var B=D[k],U=H(k,z,"hex");return U.create=function(K,Y,X){return!Y&&!X?h["shake"+k].create(K):new I(k,z,K).bytepad([Y,X],B)},U.update=function(K,Y,X,G){return U.create(Y,X,G).update(K)},J(U,H,k,z)},a=function(k,z){var B=D[k],U=V(k,z,"hex");return U.create=function(K,Y,X){return new P(k,z,Y).bytepad(["KMAC",X],B).bytepad([K],B)},U.update=function(K,Y,X,G){return U.create(K,X,G).update(Y)},J(U,V,k,z)},u=[{name:"keccak",padding:A,bits:T,createMethod:Z},{name:"sha3",padding:x,bits:T,createMethod:Z},{name:"shake",padding:v,bits:$,createMethod:se},{name:"cshake",padding:b,bits:$,createMethod:S},{name:"kmac",padding:b,bits:$,createMethod:a}],h={},p=[],y=0;y<u.length;++y)for(var w=u[y],_=w.bits,g=0;g<_.length;++g){var f=w.name+"_"+_[g];if(p.push(f),h[f]=w.createMethod(_[g],w.padding),w.name!=="sha3"){var m=w.name+_[g];p.push(m),h[m]=h[f]}}function I(k,z,B){this.blocks=[],this.s=[],this.padding=z,this.outputBits=B,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(k<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=B>>5,this.extraBytes=(B&31)>>3;for(var U=0;U<50;++U)this.s[U]=0}I.prototype.update=function(k){if(this.finalized)throw new Error(r);var z,B=typeof k;if(B!=="string"){if(B==="object"){if(k===null)throw new Error(e);if(l&&k.constructor===ArrayBuffer)k=new Uint8Array(k);else if(!Array.isArray(k)&&(!l||!ArrayBuffer.isView(k)))throw new Error(e)}else throw new Error(e);z=!0}for(var U=this.blocks,K=this.byteCount,Y=k.length,X=this.blockCount,G=0,ne=this.s,le,de;G<Y;){if(this.reset)for(this.reset=!1,U[0]=this.block,le=1;le<X+1;++le)U[le]=0;if(z)for(le=this.start;G<Y&&le<K;++G)U[le>>2]|=k[G]<<R[le++&3];else for(le=this.start;G<Y&&le<K;++G)de=k.charCodeAt(G),de<128?U[le>>2]|=de<<R[le++&3]:de<2048?(U[le>>2]|=(192|de>>6)<<R[le++&3],U[le>>2]|=(128|de&63)<<R[le++&3]):de<55296||de>=57344?(U[le>>2]|=(224|de>>12)<<R[le++&3],U[le>>2]|=(128|de>>6&63)<<R[le++&3],U[le>>2]|=(128|de&63)<<R[le++&3]):(de=65536+((de&1023)<<10|k.charCodeAt(++G)&1023),U[le>>2]|=(240|de>>18)<<R[le++&3],U[le>>2]|=(128|de>>12&63)<<R[le++&3],U[le>>2]|=(128|de>>6&63)<<R[le++&3],U[le>>2]|=(128|de&63)<<R[le++&3]);if(this.lastByteIndex=le,le>=K){for(this.start=le-K,this.block=U[X],le=0;le<X;++le)ne[le]^=U[le];j(ne),this.reset=!0}else this.start=le}return this},I.prototype.encode=function(k,z){var B=k&255,U=1,K=[B];for(k=k>>8,B=k&255;B>0;)K.unshift(B),k=k>>8,B=k&255,++U;return z?K.push(U):K.unshift(U),this.update(K),K.length},I.prototype.encodeString=function(k){var z,B=typeof k;if(B!=="string"){if(B==="object"){if(k===null)throw new Error(e);if(l&&k.constructor===ArrayBuffer)k=new Uint8Array(k);else if(!Array.isArray(k)&&(!l||!ArrayBuffer.isView(k)))throw new Error(e)}else throw new Error(e);z=!0}var U=0,K=k.length;if(z)U=K;else for(var Y=0;Y<k.length;++Y){var X=k.charCodeAt(Y);X<128?U+=1:X<2048?U+=2:X<55296||X>=57344?U+=3:(X=65536+((X&1023)<<10|k.charCodeAt(++Y)&1023),U+=4)}return U+=this.encode(U*8),this.update(k),U},I.prototype.bytepad=function(k,z){for(var B=this.encode(z),U=0;U<k.length;++U)B+=this.encodeString(k[U]);var K=z-B%z,Y=[];return Y.length=K,this.update(Y),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var k=this.blocks,z=this.lastByteIndex,B=this.blockCount,U=this.s;if(k[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(k[0]=k[B],z=1;z<B+1;++z)k[z]=0;for(k[B-1]|=2147483648,z=0;z<B;++z)U[z]^=k[z];j(U)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var k=this.blockCount,z=this.s,B=this.outputBlocks,U=this.extraBytes,K=0,Y=0,X="",G;Y<B;){for(K=0;K<k&&Y<B;++K,++Y)G=z[K],X+=d[G>>4&15]+d[G&15]+d[G>>12&15]+d[G>>8&15]+d[G>>20&15]+d[G>>16&15]+d[G>>28&15]+d[G>>24&15];Y%k===0&&(j(z),K=0)}return U&&(G=z[K],X+=d[G>>4&15]+d[G&15],U>1&&(X+=d[G>>12&15]+d[G>>8&15]),U>2&&(X+=d[G>>20&15]+d[G>>16&15])),X},I.prototype.arrayBuffer=function(){this.finalize();var k=this.blockCount,z=this.s,B=this.outputBlocks,U=this.extraBytes,K=0,Y=0,X=this.outputBits>>3,G;U?G=new ArrayBuffer(B+1<<2):G=new ArrayBuffer(X);for(var ne=new Uint32Array(G);Y<B;){for(K=0;K<k&&Y<B;++K,++Y)ne[Y]=z[K];Y%k===0&&j(z)}return U&&(ne[K]=z[K],G=G.slice(0,X)),G},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var k=this.blockCount,z=this.s,B=this.outputBlocks,U=this.extraBytes,K=0,Y=0,X=[],G,ne;Y<B;){for(K=0;K<k&&Y<B;++K,++Y)G=Y<<2,ne=z[K],X[G]=ne&255,X[G+1]=ne>>8&255,X[G+2]=ne>>16&255,X[G+3]=ne>>24&255;Y%k===0&&j(z)}return U&&(G=Y<<2,ne=z[K],X[G]=ne&255,U>1&&(X[G+1]=ne>>8&255),U>2&&(X[G+2]=ne>>16&255)),X};function P(k,z,B){I.call(this,k,z,B)}P.prototype=new I,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var j=function(k){var z,B,U,K,Y,X,G,ne,le,de,me,rt,Ae,he,Rt,Ie,ke,$t,ae,ue,je,ge,we,jt,Ee,Me,dt,xe,$e,Gt,Le,Ke,sr,Ue,Ze,hr,ze,et,rr,De,Ge,cr,qe,Xe,gr,Pe,Ye,Q,ee,te,q,re,fe,Se,pe,be,ut,nt,Vt,bt,Ct,Bt,kt;for(U=0;U<48;U+=2)K=k[0]^k[10]^k[20]^k[30]^k[40],Y=k[1]^k[11]^k[21]^k[31]^k[41],X=k[2]^k[12]^k[22]^k[32]^k[42],G=k[3]^k[13]^k[23]^k[33]^k[43],ne=k[4]^k[14]^k[24]^k[34]^k[44],le=k[5]^k[15]^k[25]^k[35]^k[45],de=k[6]^k[16]^k[26]^k[36]^k[46],me=k[7]^k[17]^k[27]^k[37]^k[47],rt=k[8]^k[18]^k[28]^k[38]^k[48],Ae=k[9]^k[19]^k[29]^k[39]^k[49],z=rt^(X<<1|G>>>31),B=Ae^(G<<1|X>>>31),k[0]^=z,k[1]^=B,k[10]^=z,k[11]^=B,k[20]^=z,k[21]^=B,k[30]^=z,k[31]^=B,k[40]^=z,k[41]^=B,z=K^(ne<<1|le>>>31),B=Y^(le<<1|ne>>>31),k[2]^=z,k[3]^=B,k[12]^=z,k[13]^=B,k[22]^=z,k[23]^=B,k[32]^=z,k[33]^=B,k[42]^=z,k[43]^=B,z=X^(de<<1|me>>>31),B=G^(me<<1|de>>>31),k[4]^=z,k[5]^=B,k[14]^=z,k[15]^=B,k[24]^=z,k[25]^=B,k[34]^=z,k[35]^=B,k[44]^=z,k[45]^=B,z=ne^(rt<<1|Ae>>>31),B=le^(Ae<<1|rt>>>31),k[6]^=z,k[7]^=B,k[16]^=z,k[17]^=B,k[26]^=z,k[27]^=B,k[36]^=z,k[37]^=B,k[46]^=z,k[47]^=B,z=de^(K<<1|Y>>>31),B=me^(Y<<1|K>>>31),k[8]^=z,k[9]^=B,k[18]^=z,k[19]^=B,k[28]^=z,k[29]^=B,k[38]^=z,k[39]^=B,k[48]^=z,k[49]^=B,he=k[0],Rt=k[1],Pe=k[11]<<4|k[10]>>>28,Ye=k[10]<<4|k[11]>>>28,xe=k[20]<<3|k[21]>>>29,$e=k[21]<<3|k[20]>>>29,bt=k[31]<<9|k[30]>>>23,Ct=k[30]<<9|k[31]>>>23,cr=k[40]<<18|k[41]>>>14,qe=k[41]<<18|k[40]>>>14,Ue=k[2]<<1|k[3]>>>31,Ze=k[3]<<1|k[2]>>>31,Ie=k[13]<<12|k[12]>>>20,ke=k[12]<<12|k[13]>>>20,Q=k[22]<<10|k[23]>>>22,ee=k[23]<<10|k[22]>>>22,Gt=k[33]<<13|k[32]>>>19,Le=k[32]<<13|k[33]>>>19,Bt=k[42]<<2|k[43]>>>30,kt=k[43]<<2|k[42]>>>30,Se=k[5]<<30|k[4]>>>2,pe=k[4]<<30|k[5]>>>2,hr=k[14]<<6|k[15]>>>26,ze=k[15]<<6|k[14]>>>26,$t=k[25]<<11|k[24]>>>21,ae=k[24]<<11|k[25]>>>21,te=k[34]<<15|k[35]>>>17,q=k[35]<<15|k[34]>>>17,Ke=k[45]<<29|k[44]>>>3,sr=k[44]<<29|k[45]>>>3,jt=k[6]<<28|k[7]>>>4,Ee=k[7]<<28|k[6]>>>4,be=k[17]<<23|k[16]>>>9,ut=k[16]<<23|k[17]>>>9,et=k[26]<<25|k[27]>>>7,rr=k[27]<<25|k[26]>>>7,ue=k[36]<<21|k[37]>>>11,je=k[37]<<21|k[36]>>>11,re=k[47]<<24|k[46]>>>8,fe=k[46]<<24|k[47]>>>8,Xe=k[8]<<27|k[9]>>>5,gr=k[9]<<27|k[8]>>>5,Me=k[18]<<20|k[19]>>>12,dt=k[19]<<20|k[18]>>>12,nt=k[29]<<7|k[28]>>>25,Vt=k[28]<<7|k[29]>>>25,De=k[38]<<8|k[39]>>>24,Ge=k[39]<<8|k[38]>>>24,ge=k[48]<<14|k[49]>>>18,we=k[49]<<14|k[48]>>>18,k[0]=he^~Ie&$t,k[1]=Rt^~ke&ae,k[10]=jt^~Me&xe,k[11]=Ee^~dt&$e,k[20]=Ue^~hr&et,k[21]=Ze^~ze&rr,k[30]=Xe^~Pe&Q,k[31]=gr^~Ye&ee,k[40]=Se^~be&nt,k[41]=pe^~ut&Vt,k[2]=Ie^~$t&ue,k[3]=ke^~ae&je,k[12]=Me^~xe&Gt,k[13]=dt^~$e&Le,k[22]=hr^~et&De,k[23]=ze^~rr&Ge,k[32]=Pe^~Q&te,k[33]=Ye^~ee&q,k[42]=be^~nt&bt,k[43]=ut^~Vt&Ct,k[4]=$t^~ue&ge,k[5]=ae^~je&we,k[14]=xe^~Gt&Ke,k[15]=$e^~Le&sr,k[24]=et^~De&cr,k[25]=rr^~Ge&qe,k[34]=Q^~te&re,k[35]=ee^~q&fe,k[44]=nt^~bt&Bt,k[45]=Vt^~Ct&kt,k[6]=ue^~ge&he,k[7]=je^~we&Rt,k[16]=Gt^~Ke&jt,k[17]=Le^~sr&Ee,k[26]=De^~cr&Ue,k[27]=Ge^~qe&Ze,k[36]=te^~re&Xe,k[37]=q^~fe&gr,k[46]=bt^~Bt&Se,k[47]=Ct^~kt&pe,k[8]=ge^~he&Ie,k[9]=we^~Rt&ke,k[18]=Ke^~jt&Me,k[19]=sr^~Ee&dt,k[28]=cr^~Ue&hr,k[29]=qe^~Ze&ze,k[38]=re^~Xe&Pe,k[39]=fe^~gr&Ye,k[48]=Bt^~Se&be,k[49]=kt^~pe&ut,k[0]^=C[U],k[1]^=C[U+1]};if(c)t.exports=h;else for(y=0;y<p.length;++y)s[p[y]]=h[p[y]]})()})(Yoe);var rbt=Yoe.exports;const nbt=Mr(rbt),ibt="logger/5.7.0";let $H=!1,CH=!1;const S_={debug:1,default:2,info:2,warning:3,error:4,off:5};let OH=S_.default,TM=null;function sbt(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const BH=sbt();var YI;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(YI||(YI={}));var fc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(fc||(fc={}));const PH="0123456789abcdef";class lr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();S_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(OH>S_[n])&&console.log.apply(console,r)}debug(...e){this._log(lr.levels.DEBUG,e)}info(...e){this._log(lr.levels.INFO,e)}warn(...e){this._log(lr.levels.WARNING,e)}makeError(e,r,n){if(CH)return this.makeError("censored error",r,{});r||(r=lr.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(l=>{const d=n[l];try{if(d instanceof Uint8Array){let v="";for(let b=0;b<d.length;b++)v+=PH[d[b]>>4],v+=PH[d[b]&15];s.push(l+"=Uint8Array(0x"+v+")")}else s.push(l+"="+JSON.stringify(d))}catch{s.push(l+"="+JSON.stringify(n[l].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const i=e;let o="";switch(r){case fc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case fc.CALL_EXCEPTION:case fc.INSUFFICIENT_FUNDS:case fc.MISSING_NEW:case fc.NONCE_EXPIRED:case fc.REPLACEMENT_UNDERPRICED:case fc.TRANSACTION_REPLACED:case fc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const c=new Error(e);return c.reason=i,c.code=r,Object.keys(n).forEach(function(l){c[l]=n[l]}),c}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,lr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,s){e||this.throwError(r,n,s)}assertArgument(e,r,n,s){e||this.throwArgumentError(r,n,s)}checkNormalize(e){BH&&this.throwError("platform missing String.prototype.normalize",lr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:BH})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,lr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,lr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,lr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,lr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",lr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",lr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",lr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return TM||(TM=new lr(ibt)),TM}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",lr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$H){if(!e)return;this.globalLogger().throwError("error censorship permanent",lr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}CH=!!e,$H=!!r}static setLogLevel(e){const r=S_[e.toLowerCase()];if(r==null){lr.globalLogger().warn("invalid log level - "+e);return}OH=r}static from(e){return new lr(e)}}lr.errors=fc;lr.levels=YI;const obt="bytes/5.7.0",Ou=new lr(obt);function eae(t){return!!t.toHexString}function Ny(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ny(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function _3t(t){return Ma(t)&&!(t.length%2)||ix(t)}function NH(t){return typeof t=="number"&&t==t&&t%1===0}function ix(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!NH(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!NH(r)||r<0||r>=256)return!1}return!0}function Eo(t,e){if(e||(e={}),typeof t=="number"){Ou.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ny(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),eae(t)&&(t=t.toHexString()),Ma(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Ou.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let s=0;s<r.length;s+=2)n.push(parseInt(r.substring(s,s+2),16));return Ny(new Uint8Array(n))}return ix(t)?Ny(new Uint8Array(t)):Ou.throwArgumentError("invalid arrayify value","value",t)}function lp(t){const e=t.map(s=>Eo(s)),r=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(r);return e.reduce((s,i)=>(n.set(i,s),s+i.length),0),Ny(n)}function Ma(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const $M="0123456789abcdef";function Ri(t,e){if(e||(e={}),typeof t=="number"){Ou.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=$M[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),eae(t))return t.toHexString();if(Ma(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ou.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ix(t)){let r="0x";for(let n=0;n<t.length;n++){let s=t[n];r+=$M[(s&240)>>4]+$M[s&15]}return r}return Ou.throwArgumentError("invalid hexlify value","value",t)}function abt(t,e,r){return typeof t!="string"?t=Ri(t):(!Ma(t)||t.length%2)&&Ou.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function cbt(t){let e="0x";return t.forEach(r=>{e+=Ri(r).substring(2)}),e}function tae(t,e){for(typeof t!="string"?t=Ri(t):Ma(t)||Ou.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ou.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const fbt="bignumber/5.7.0";var U2=c8.BN;const uu=new lr(fbt),CM={},kH=9007199254740991;let LH=!1;class Un{constructor(e,r){e!==CM&&uu.throwError("cannot call constructor directly; use BigNumber.from",lr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ho(Vr(this).fromTwos(e))}toTwos(e){return ho(Vr(this).toTwos(e))}abs(){return this._hex[0]==="-"?Un.from(this._hex.substring(1)):this}add(e){return ho(Vr(this).add(Vr(e)))}sub(e){return ho(Vr(this).sub(Vr(e)))}div(e){return Un.from(e).isZero()&&fa("division-by-zero","div"),ho(Vr(this).div(Vr(e)))}mul(e){return ho(Vr(this).mul(Vr(e)))}mod(e){const r=Vr(e);return r.isNeg()&&fa("division-by-zero","mod"),ho(Vr(this).umod(r))}pow(e){const r=Vr(e);return r.isNeg()&&fa("negative-power","pow"),ho(Vr(this).pow(r))}and(e){const r=Vr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","and"),ho(Vr(this).and(r))}or(e){const r=Vr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","or"),ho(Vr(this).or(r))}xor(e){const r=Vr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","xor"),ho(Vr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&fa("negative-width","mask"),ho(Vr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fa("negative-width","shl"),ho(Vr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fa("negative-width","shr"),ho(Vr(this).shrn(e))}eq(e){return Vr(this).eq(Vr(e))}lt(e){return Vr(this).lt(Vr(e))}lte(e){return Vr(this).lte(Vr(e))}gt(e){return Vr(this).gt(Vr(e))}gte(e){return Vr(this).gte(Vr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vr(this).isZero()}toNumber(){try{return Vr(this).toNumber()}catch{fa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return uu.throwError("this platform does not support BigInt",lr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?LH||(LH=!0,uu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?uu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",lr.errors.UNEXPECTED_ARGUMENT,{}):uu.throwError("BigNumber.toString does not accept parameters",lr.errors.UNEXPECTED_ARGUMENT,{})),Vr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Un)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Un(CM,Am(e)):e.match(/^-?[0-9]+$/)?new Un(CM,Am(new U2(e))):uu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&fa("underflow","BigNumber.from",e),(e>=kH||e<=-kH)&&fa("overflow","BigNumber.from",e),Un.from(String(e));const r=e;if(typeof r=="bigint")return Un.from(r.toString());if(ix(r))return Un.from(Ri(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Un.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ma(n)||n[0]==="-"&&Ma(n.substring(1))))return Un.from(n)}return uu.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Am(t){if(typeof t!="string")return Am(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&uu.throwArgumentError("invalid hex","value",t),t=Am(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ho(t){return Un.from(Am(t))}function Vr(t){const e=Un.from(t).toHexString();return e[0]==="-"?new U2("-"+e.substring(3),16):new U2(e.substring(2),16)}function fa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),uu.throwError(t,lr.errors.NUMERIC_FAULT,n)}function ubt(t){return new U2(t,36).toString(16)}const lbt="properties/5.7.0";globalThis&&globalThis.__awaiter;const rae=new lr(lbt);function cs(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Iw(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const hbt={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function nae(t){if(t==null||hbt[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!nae(n))return!1}return!0}return rae.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function dbt(t){if(nae(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>eR(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&cs(e,r,eR(n))}return e}return rae.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function eR(t){return dbt(t)}class sx{constructor(e){for(const r in e)this[r]=eR(e[r])}}const k1="abi/5.7.0",Zr=new lr(k1),Cd={};let DH={calldata:!0,memory:!0,storage:!0},pbt={calldata:!0,memory:!0};function Rw(t,e){if(t==="bytes"||t==="string"){if(DH[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&pbt[e])return!0;return(DH[e]||e==="payable")&&Zr.throwArgumentError("invalid modifier","name",e),!1}function gbt(t,e){let r=t;function n(c){Zr.throwArgumentError(`unexpected character at position ${c}`,"param",t)}t=t.replace(/\s/g," ");function s(c){let l={type:"",name:"",parent:c,state:{allowType:!0}};return e&&(l.indexed=!1),l}let i={type:"",name:"",state:{allowType:!0}},o=i;for(let c=0;c<t.length;c++){let l=t[c];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(c),o.state.allowType=!1,o.type=O0(o.type),o.components=[s(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(c),o.indexed=!0,o.name=""),Rw(o.type,o.name)&&(o.name=""),o.type=O0(o.type);let d=o;o=o.parent,o||n(c),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(c),o.indexed=!0,o.name=""),Rw(o.type,o.name)&&(o.name=""),o.type=O0(o.type);let v=s(o.parent);o.parent.components.push(v),delete o.parent,o=v;break;case" ":o.state.allowType&&o.type!==""&&(o.type=O0(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(c),o.indexed&&n(c),o.indexed=!0,o.name=""):Rw(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(c),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(c),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:n(c)}}return o.parent&&Zr.throwArgumentError("unexpected eof","param",t),delete i.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Rw(o.type,o.name)&&(o.name=""),i.type=O0(i.type),i}function A_(t,e){for(let r in e)cs(t,r,e[r])}const an=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),vbt=new RegExp(/^(.*)\[([0-9]*)\]$/);class Vi{constructor(e,r){e!==Cd&&Zr.throwError("use fromString",lr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),A_(this,r);let n=this.type.match(vbt);n?A_(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Vi.fromObject({type:n[1],components:this.components}),baseType:"array"}):A_(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=an.sighash),an[e]||Zr.throwArgumentError("invalid format type","format",e),e===an.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==an.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===an.full?", ":",")+")"):r+=this.type,e!==an.sighash&&(this.indexed===!0&&(r+=" indexed"),e===an.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Vi.fromString(e,r):Vi.fromObject(e)}static fromObject(e){return Vi.isParamType(e)?e:new Vi(Cd,{name:e.name||null,type:O0(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Vi.fromObject):null})}static fromString(e,r){function n(s){return Vi.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return n(gbt(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function xm(t,e){return mbt(t).map(r=>Vi.fromString(r,e))}class Mu{constructor(e,r){e!==Cd&&Zr.throwError("use a static from method",lr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),A_(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Mu.isFragment(e)?e:typeof e=="string"?Mu.fromString(e):Mu.fromObject(e)}static fromObject(e){if(Mu.isFragment(e))return e;switch(e.type){case"function":return cf.fromObject(e);case"event":return mu.fromObject(e);case"constructor":return af.fromObject(e);case"error":return Nl.fromObject(e);case"fallback":case"receive":return null}return Zr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?mu.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?cf.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?af.fromString(e.trim()):e.split(" ")[0]==="error"?Nl.fromString(e.substring(5).trim()):Zr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class mu extends Mu{format(e){if(e||(e=an.sighash),an[e]||Zr.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==an.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===an.full?", ":",")+") ",e!==an.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?mu.fromString(e):mu.fromObject(e)}static fromObject(e){if(mu.isEventFragment(e))return e;e.type!=="event"&&Zr.throwArgumentError("invalid event object","value",e);const r={name:Mm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Vi.fromObject):[],type:"event"};return new mu(Cd,r)}static fromString(e){let r=e.match(Im);r||Zr.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":n=!0;break;case"":break;default:Zr.warn("unknown modifier: "+s)}}),mu.fromObject({name:r[1].trim(),anonymous:n,inputs:xm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function iae(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Zr.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Zr.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Un.from(r[1]),r[0]):t}function sae(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function oae(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Zr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Zr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Zr.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Zr.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Zr.throwArgumentError("unable to determine stateMutability","value",t),e}class af extends Mu{format(e){if(e||(e=an.sighash),an[e]||Zr.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===an.sighash&&Zr.throwError("cannot format a constructor for sighash",lr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===an.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?af.fromString(e):af.fromObject(e)}static fromObject(e){if(af.isConstructorFragment(e))return e;e.type!=="constructor"&&Zr.throwArgumentError("invalid constructor object","value",e);let r=oae(e);r.constant&&Zr.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Vi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Un.from(e.gas):null};return new af(Cd,n)}static fromString(e){let r={type:"constructor"};e=iae(e,r);let n=e.match(Im);return(!n||n[1].trim()!=="constructor")&&Zr.throwArgumentError("invalid constructor string","value",e),r.inputs=xm(n[2].trim(),!1),sae(n[3].trim(),r),af.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class cf extends af{format(e){if(e||(e=an.sighash),an[e]||Zr.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==an.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===an.full?", ":",")+") ",e!==an.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?cf.fromString(e):cf.fromObject(e)}static fromObject(e){if(cf.isFunctionFragment(e))return e;e.type!=="function"&&Zr.throwArgumentError("invalid function object","value",e);let r=oae(e);const n={type:e.type,name:Mm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Vi.fromObject):[],outputs:e.outputs?e.outputs.map(Vi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Un.from(e.gas):null};return new cf(Cd,n)}static fromString(e){let r={type:"function"};e=iae(e,r);let n=e.split(" returns ");n.length>2&&Zr.throwArgumentError("invalid function string","value",e);let s=n[0].match(Im);if(s||Zr.throwArgumentError("invalid function signature","value",e),r.name=s[1].trim(),r.name&&Mm(r.name),r.inputs=xm(s[2],!1),sae(s[3].trim(),r),n.length>1){let i=n[1].match(Im);(i[1].trim()!=""||i[3].trim()!="")&&Zr.throwArgumentError("unexpected tokens","value",e),r.outputs=xm(i[2],!1)}else r.outputs=[];return cf.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function UH(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Zr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Nl extends Mu{format(e){if(e||(e=an.sighash),an[e]||Zr.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==an.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===an.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Nl.fromString(e):Nl.fromObject(e)}static fromObject(e){if(Nl.isErrorFragment(e))return e;e.type!=="error"&&Zr.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Mm(e.name),inputs:e.inputs?e.inputs.map(Vi.fromObject):[]};return UH(new Nl(Cd,r))}static fromString(e){let r={type:"error"},n=e.match(Im);return n||Zr.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Mm(r.name),r.inputs=xm(n[2],!1),UH(Nl.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function O0(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ybt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Mm(t){return(!t||!t.match(ybt))&&Zr.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Im=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function mbt(t){t=t.trim();let e=[],r="",n=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&n===0?(e.push(r),r=""):(r+=i,i==="("?n++:i===")"&&(n--,n===-1&&Zr.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const yB=new lr(k1);function E3t(t){const e=[],r=function(n,s){if(Array.isArray(s))for(let i in s){const o=n.slice();o.push(i);try{r(o,s[i])}catch(c){e.push({path:o,error:c})}}};return r([],t),e}class Zu{constructor(e,r,n,s){this.name=e,this.type=r,this.localName=n,this.dynamic=s}_throwError(e,r){yB.throwArgumentError(e,this.localName,r)}}class tR{constructor(e){cs(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return cbt(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(lp(e._data))}writeBytes(e){let r=Eo(e);const n=r.length%this.wordSize;return n&&(r=lp([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Eo(Un.from(e));return r.length>this.wordSize&&yB.throwError("value out-of-bounds",lr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=lp([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class F2{constructor(e,r,n,s){cs(this,"_data",Eo(e)),cs(this,"wordSize",r||32),cs(this,"_coerceFunc",n),cs(this,"allowLoose",s),this._offset=0}get data(){return Ri(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):F2.coerce(e,r)}_peekBytes(e,r,n){let s=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?s=r:yB.throwError("data out-of-bounds",lr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new F2(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Un.from(this.readBytes(this.wordSize))}}function j2(t){return"0x"+nbt.keccak_256(Eo(t))}const bbt="address/5.7.0",my=new lr(bbt);function FH(t){Ma(t,20)||my.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Eo(j2(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const wbt=9007199254740991;function _bt(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const mB={};for(let t=0;t<10;t++)mB[String(t)]=String(t);for(let t=0;t<26;t++)mB[String.fromCharCode(65+t)]=String(10+t);const jH=Math.floor(_bt(wbt));function Ebt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>mB[n]).join("");for(;e.length>=jH;){let n=e.substring(0,jH);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function rR(t){let e=null;if(typeof t!="string"&&my.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=FH(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&my.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Ebt(t)&&my.throwArgumentError("bad icap checksum","address",t),e=ubt(t.substring(4));e.length<40;)e="0"+e;e=FH("0x"+e)}else my.throwArgumentError("invalid address","address",t);return e}class Sbt extends Zu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=rR(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return rR(tae(e.readValue().toHexString(),20))}}class Abt extends Zu{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const K0=new lr(k1);function aae(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(d=>{const v=d.localName;return v||K0.throwError("cannot encode object for signature with missing names",lr.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),l[v]&&K0.throwError("cannot encode object for signature with duplicate names",lr.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),l[v]=!0,r[v]})}else K0.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&K0.throwArgumentError("types/value length mismatch","tuple",r);let s=new tR(t.wordSize),i=new tR(t.wordSize),o=[];e.forEach((l,d)=>{let v=n[d];if(l.dynamic){let b=i.length;l.encode(i,v);let A=s.writeUpdatableValue();o.push(x=>{A(x+b)})}else l.encode(s,v)}),o.forEach(l=>{l(s.length)});let c=t.appendWriter(s);return c+=t.appendWriter(i),c}function cae(t,e){let r=[],n=t.subReader(0);e.forEach(i=>{let o=null;if(i.dynamic){let c=t.readValue(),l=n.subReader(c.toNumber());try{o=i.decode(l)}catch(d){if(d.code===lr.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(c){if(c.code===lr.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}o!=null&&r.push(o)});const s=e.reduce((i,o)=>{const c=o.localName;return c&&(i[c]||(i[c]=0),i[c]++),i},{});e.forEach((i,o)=>{let c=i.localName;if(!c||s[c]!==1||(c==="length"&&(c="_length"),r[c]!=null))return;const l=r[o];l instanceof Error?Object.defineProperty(r,c,{enumerable:!0,get:()=>{throw l}}):r[c]=l});for(let i=0;i<r.length;i++){const o=r[i];o instanceof Error&&Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class xbt extends Zu{constructor(e,r,n){const s=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",s,n,i),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),K0.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<r.length;i++)s.push(this.coder);return aae(e,s,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&K0.throwError("insufficient data length",lr.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let s=0;s<r;s++)n.push(new Abt(this.coder));return e.coerce(this.name,cae(e,n))}}class Mbt extends Zu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class fae extends Zu{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Eo(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Ibt extends fae{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ri(super.decode(e)))}}class Rbt extends Zu{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Eo(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Ri(e.readBytes(this.size)))}}class Tbt extends Zu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const $bt=Un.from(-1),Cbt=Un.from(0),Obt=Un.from(1),Bbt=Un.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Pbt extends Zu{constructor(e,r,n){const s=(r?"int":"uint")+e*8;super(s,s,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Un.from(r),s=Bbt.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(Obt).mul($bt)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Cbt)||n.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const Nbt="strings/5.7.0",uae=new lr(Nbt);var q2;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(q2||(q2={}));var Do;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Do||(Do={}));function kbt(t,e,r,n,s){return uae.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function lae(t,e,r,n,s){if(t===Do.BAD_PREFIX||t===Do.UNEXPECTED_CONTINUE){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t===Do.OVERRUN?r.length-e-1:0}function Lbt(t,e,r,n,s){return t===Do.OVERLONG?(n.push(s),0):(n.push(65533),lae(t,e,r))}const Dbt=Object.freeze({error:kbt,ignore:lae,replace:Lbt});function Ubt(t,e){e==null&&(e=Dbt.error),t=Eo(t);const r=[];let n=0;for(;n<t.length;){const s=t[n++];if(!(s>>7)){r.push(s);continue}let i=null,o=null;if((s&224)===192)i=1,o=127;else if((s&240)===224)i=2,o=2047;else if((s&248)===240)i=3,o=65535;else{(s&192)===128?n+=e(Do.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Do.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(Do.OVERRUN,n-1,t,r);continue}let c=s&(1<<8-i-1)-1;for(let l=0;l<i;l++){let d=t[n];if((d&192)!=128){n+=e(Do.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|d&63,n++}if(c!==null){if(c>1114111){n+=e(Do.OUT_OF_RANGE,n-1-i,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(Do.UTF16_SURROGATE,n-1-i,t,r,c);continue}if(c<=o){n+=e(Do.OVERLONG,n-1-i,t,r,c);continue}r.push(c)}}return r}function hae(t,e=q2.current){e!=q2.current&&(uae.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return Eo(r)}function Fbt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function jbt(t,e){return Fbt(Ubt(t,e))}class qbt extends fae{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,hae(r))}decode(e){return jbt(super.decode(e))}}class Tw extends Zu{constructor(e,r){let n=!1;const s=[];e.forEach(o=>{o.dynamic&&(n=!0),s.push(o.type)});const i="tuple("+s.join(",")+")";super("tuple",i,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,r){return aae(e,this.coders,r)}decode(e){return e.coerce(this.name,cae(e,this.coders))}}const $w=new lr(k1),zbt=new RegExp(/^bytes([0-9]*)$/),Hbt=new RegExp(/^(u?int)([0-9]*)$/);class Vbt{constructor(e){cs(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Sbt(e.name);case"bool":return new Mbt(e.name);case"string":return new qbt(e.name);case"bytes":return new Ibt(e.name);case"array":return new xbt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Tw((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Tbt(e.name)}let r=e.type.match(Hbt);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&$w.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Pbt(n/8,r[1]==="int",e.name)}if(r=e.type.match(zbt),r){let n=parseInt(r[1]);return(n===0||n>32)&&$w.throwArgumentError("invalid bytes length","param",e),new Rbt(n,e.name)}return $w.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new F2(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new tR(this._getWordSize())}getDefaultValue(e){const r=e.map(s=>this._getCoder(Vi.from(s)));return new Tw(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&$w.throwError("types/values length mismatch",lr.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Vi.from(o))),s=new Tw(n,"_"),i=this._getWriter();return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(o=>this._getCoder(Vi.from(o)));return new Tw(s,"_").decode(this._getReader(Eo(r),n))}}const Kbt=new Vbt;function Cw(t){return j2(hae(t))}const Qn=new lr(k1);class Gbt extends sx{}class Wbt extends sx{}class Jbt extends sx{}class qH extends sx{static isIndexed(e){return!!(e&&e._isIndexed)}}const Qbt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function zH(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class S3t{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,cs(this,"fragments",r.map(n=>Mu.from(n)).filter(n=>n!=null)),cs(this,"_abiCoder",Iw(new.target,"getAbiCoder")()),cs(this,"functions",{}),cs(this,"errors",{}),cs(this,"events",{}),cs(this,"structs",{}),this.fragments.forEach(n=>{let s=null;switch(n.type){case"constructor":if(this.deploy){Qn.warn("duplicate definition - constructor");return}cs(this,"deploy",n);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=n.format();if(s[i]){Qn.warn("duplicate definition - "+i);return}s[i]=n}),this.deploy||cs(this,"deploy",af.from({payable:!1,type:"constructor"})),cs(this,"_isInterface",!0)}format(e){e||(e=an.full),e===an.sighash&&Qn.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===an.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Kbt}static getAddress(e){return rR(e)}static getSighash(e){return abt(Cw(e.format()),0,4)}static getEventTopic(e){return Cw(e.format())}getFunction(e){if(Ma(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Qn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return s.length===0?Qn.throwArgumentError("no matching function","name",n):s.length>1&&Qn.throwArgumentError("multiple matching functions","name",n),this.functions[s[0]]}const r=this.functions[cf.fromString(e).format()];return r||Qn.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Ma(e)){const n=e.toLowerCase();for(const s in this.events)if(n===this.getEventTopic(s))return this.events[s];Qn.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return s.length===0?Qn.throwArgumentError("no matching event","name",n):s.length>1&&Qn.throwArgumentError("multiple matching events","name",n),this.events[s[0]]}const r=this.events[mu.fromString(e).format()];return r||Qn.throwArgumentError("no matching event","signature",e),r}getError(e){if(Ma(e)){const n=Iw(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===n(i))return this.errors[s]}Qn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return s.length===0?Qn.throwArgumentError("no matching error","name",n):s.length>1&&Qn.throwArgumentError("multiple matching errors","name",n),this.errors[s[0]]}const r=this.errors[cf.fromString(e).format()];return r||Qn.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Iw(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Iw(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Eo(r);return Ri(n.slice(0,4))!==this.getSighash(e)&&Qn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Ri(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Ri(lp([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Eo(r);return Ri(n.slice(0,4))!==this.getSighash(e)&&Qn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Ri(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Ri(lp([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Eo(r),s=null,i="",o=null,c=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=Ri(n.slice(0,4)),v=Qbt[d];if(v)o=this._abiCoder.decode(v.inputs,n.slice(4)),c=v.name,l=v.signature,v.reason&&(s=o[0]),c==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:c==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const b=this.getError(d);o=this._abiCoder.decode(b.inputs,n.slice(4)),c=b.name,l=b.format()}catch{}break}}return Qn.throwError("call revert exception"+i,lr.errors.CALL_EXCEPTION,{method:e.format(),data:Ri(r),errorArgs:o,errorName:c,errorSignature:l,reason:s})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Ri(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Qn.throwError("too many arguments for "+e.format(),lr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const s=(i,o)=>i.type==="string"?Cw(o):i.type==="bytes"?j2(Ri(o)):(i.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),i.type.match(/^u?int/)&&(o=Un.from(o).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[o]),tae(Ri(o),32));for(r.forEach((i,o)=>{let c=e.inputs[o];if(!c.indexed){i!=null&&Qn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+c.name,i);return}i==null?n.push(null):c.baseType==="array"||c.baseType==="tuple"?Qn.throwArgumentError("filtering with tuples or arrays not supported","contract."+c.name,i):Array.isArray(i)?n.push(i.map(l=>s(c,l))):n.push(s(c,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],s=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Qn.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,c)=>{const l=r[c];if(o.indexed)if(o.type==="string")n.push(Cw(l));else if(o.type==="bytes")n.push(j2(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[l]))}else s.push(o),i.push(l)}),{data:this._abiCoder.encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let A=this.getEventTopic(e);(!Ma(n[0],32)||n[0].toLowerCase()!==A)&&Qn.throwError("fragment/topic mismatch",lr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:A,value:n[0]}),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((A,x)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(s.push(Vi.fromObject({type:"bytes32",name:A.name})),o.push(!0)):(s.push(A),o.push(!1)):(i.push(A),o.push(!1))});let c=n!=null?this._abiCoder.decode(s,lp(n)):null,l=this._abiCoder.decode(i,r,!0),d=[],v=0,b=0;e.inputs.forEach((A,x)=>{if(A.indexed)if(c==null)d[x]=new qH({_isIndexed:!0,hash:null});else if(o[x])d[x]=new qH({_isIndexed:!0,hash:c[b++]});else try{d[x]=c[b++]}catch(R){d[x]=R}else try{d[x]=l[v++]}catch(R){d[x]=R}if(A.name&&d[A.name]==null){const R=d[x];R instanceof Error?Object.defineProperty(d,A.name,{enumerable:!0,get:()=>{throw zH(`property ${JSON.stringify(A.name)}`,R)}}):d[A.name]=R}});for(let A=0;A<d.length;A++){const x=d[A];x instanceof Error&&Object.defineProperty(d,A,{enumerable:!0,get:()=>{throw zH(`index ${A}`,x)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Wbt({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Un.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Gbt({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Ri(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Jbt({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}function Zbt(t){if(typeof t=="string"){if(!Ko(t,{strict:!1}))throw new If({address:t});return{address:t,type:"json-rpc"}}if(!Ko(t.address,{strict:!1}))throw new If({address:t.address});return{address:t.address,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}async function bB({hash:t,privateKey:e}){const{r,s:n,recovery:s}=bA.sign(t.slice(2),e.slice(2));return{r:vn(r),s:vn(n),v:s?28n:27n}}async function Xbt({message:t,privateKey:e}){const r=await bB({hash:frt(t),privateKey:e});return Lte(r)}async function Ybt({privateKey:t,transaction:e,serializer:r=prt}){const n=await bB({hash:Sa(r(e)),privateKey:t});return r(e,n)}async function ewt(t){const{privateKey:e,...r}=t,n=await bB({hash:Vtt(r),privateKey:e});return Lte(n)}function A3t(t){const e=vn(bA.getPublicKey(t.slice(2),!1)),r=qtt(e);return{...Zbt({address:r,async signMessage({message:s}){return Xbt({message:s,privateKey:t})},async signTransaction(s,{serializer:i}={}){return Ybt({privateKey:t,transaction:s,serializer:i})},async signTypedData(s){return ewt({...s,privateKey:t})}}),publicKey:e,source:"privateKey"}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nc=BigInt(0),ko=BigInt(1),Ow=BigInt(2),twt=BigInt(8),rwt={zip215:!0};function nwt(t){const e=XC(t);return Jg(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function wB(t){const e=nwt(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:c,h:l}=e,d=Ow<<BigInt(c*8)-ko,v=r.create,b=e.uvRatio||((_,g)=>{try{return{isValid:!0,value:r.sqrt(_*r.inv(g))}}catch{return{isValid:!1,value:nc}}}),A=e.adjustScalarBytes||(_=>_),x=e.domain||((_,g,f)=>{if(g.length||f)throw new Error("Contexts/pre-hash are not supported");return _}),R=_=>typeof _=="bigint"&&nc<_,C=(_,g)=>R(_)&&R(g)&&_<g,T=_=>_===nc||C(_,d);function $(_,g){if(C(_,g))return _;throw new Error(`Expected valid scalar < ${g}, got ${typeof _} ${_}`)}function O(_){return _===nc?_:$(_,n)}const D=new Map;function L(_){if(!(_ instanceof F))throw new Error("ExtendedPoint expected")}class F{constructor(g,f,m,I){if(this.ex=g,this.ey=f,this.ez=m,this.et=I,!T(g))throw new Error("x required");if(!T(f))throw new Error("y required");if(!T(m))throw new Error("z required");if(!T(I))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof F)throw new Error("extended point not allowed");const{x:f,y:m}=g||{};if(!T(f)||!T(m))throw new Error("invalid affine point");return new F(f,m,ko,v(f*m))}static normalizeZ(g){const f=r.invertBatch(g.map(m=>m.ez));return g.map((m,I)=>m.toAffine(f[I])).map(F.fromAffine)}_setWindowSize(g){this._WINDOW_SIZE=g,D.delete(this)}assertValidity(){const{a:g,d:f}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:m,ey:I,ez:P,et:j}=this,k=v(m*m),z=v(I*I),B=v(P*P),U=v(B*B),K=v(k*g),Y=v(B*v(K+z)),X=v(U+v(f*v(k*z)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const G=v(m*I),ne=v(P*j);if(G!==ne)throw new Error("bad point: equation left != right (2)")}equals(g){L(g);const{ex:f,ey:m,ez:I}=this,{ex:P,ey:j,ez:k}=g,z=v(f*k),B=v(P*I),U=v(m*k),K=v(j*I);return z===B&&U===K}is0(){return this.equals(F.ZERO)}negate(){return new F(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:g}=e,{ex:f,ey:m,ez:I}=this,P=v(f*f),j=v(m*m),k=v(Ow*v(I*I)),z=v(g*P),B=f+m,U=v(v(B*B)-P-j),K=z+j,Y=K-k,X=z-j,G=v(U*Y),ne=v(K*X),le=v(U*X),de=v(Y*K);return new F(G,ne,de,le)}add(g){L(g);const{a:f,d:m}=e,{ex:I,ey:P,ez:j,et:k}=this,{ex:z,ey:B,ez:U,et:K}=g;if(f===BigInt(-1)){const ke=v((P-I)*(B+z)),$t=v((P+I)*(B-z)),ae=v($t-ke);if(ae===nc)return this.double();const ue=v(j*Ow*K),je=v(k*Ow*U),ge=je+ue,we=$t+ke,jt=je-ue,Ee=v(ge*ae),Me=v(we*jt),dt=v(ge*jt),xe=v(ae*we);return new F(Ee,Me,xe,dt)}const Y=v(I*z),X=v(P*B),G=v(k*m*K),ne=v(j*U),le=v((I+P)*(z+B)-Y-X),de=ne-G,me=ne+G,rt=v(X-f*Y),Ae=v(le*de),he=v(me*rt),Rt=v(le*rt),Ie=v(de*me);return new F(Ae,he,Ie,Rt)}subtract(g){return this.add(g.negate())}wNAF(g){return J.wNAFCached(this,D,g,F.normalizeZ)}multiply(g){const{p:f,f:m}=this.wNAF($(g,n));return F.normalizeZ([f,m])[0]}multiplyUnsafe(g){let f=O(g);return f===nc?V:this.equals(V)||f===ko?this:this.equals(H)?this.wNAF(f).p:J.unsafeLadder(this,f)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return J.unsafeLadder(this,n).is0()}toAffine(g){const{ex:f,ey:m,ez:I}=this,P=this.is0();g==null&&(g=P?twt:r.inv(I));const j=v(f*g),k=v(m*g),z=v(I*g);if(P)return{x:nc,y:ko};if(z!==ko)throw new Error("invZ was invalid");return{x:j,y:k}}clearCofactor(){const{h:g}=e;return g===ko?this:this.multiplyUnsafe(g)}static fromHex(g,f=!1){const{d:m,a:I}=e,P=r.BYTES;g=Oi("pointHex",g,P);const j=g.slice(),k=g[P-1];j[P-1]=k&-129;const z=rp(j);z===nc||(f?$(z,d):$(z,r.ORDER));const B=v(z*z),U=v(B-ko),K=v(m*B-I);let{isValid:Y,value:X}=b(U,K);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const G=(X&ko)===ko,ne=(k&128)!==0;if(!f&&X===nc&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==G&&(X=v(-X)),F.fromAffine({x:X,y:z})}static fromPrivateKey(g){return S(g).point}toRawBytes(){const{x:g,y:f}=this.toAffine(),m=pm(f,r.BYTES);return m[m.length-1]|=g&ko?128:0,m}toHex(){return Ad(this.toRawBytes())}}F.BASE=new F(e.Gx,e.Gy,ko,v(e.Gx*e.Gy)),F.ZERO=new F(nc,ko,ko,nc);const{BASE:H,ZERO:V}=F,J=_ne(F,c*8);function Z(_){return qn(_,n)}function se(_){return Z(rp(_))}function S(_){const g=c;_=Oi("private key",_,g);const f=Oi("hashed private key",i(_),2*g),m=A(f.slice(0,g)),I=f.slice(g,2*g),P=se(m),j=H.multiply(P),k=j.toRawBytes();return{head:m,prefix:I,scalar:P,point:j,pointBytes:k}}function a(_){return S(_).pointBytes}function u(_=new Uint8Array,...g){const f=xd(...g);return se(i(x(f,Oi("context",_),!!s)))}function h(_,g,f={}){_=Oi("message",_),s&&(_=s(_));const{prefix:m,scalar:I,pointBytes:P}=S(g),j=u(f.context,m,_),k=H.multiply(j).toRawBytes(),z=u(f.context,k,P,_),B=Z(j+z*I);O(B);const U=xd(k,pm(B,r.BYTES));return Oi("result",U,c*2)}const p=rwt;function y(_,g,f,m=p){const{context:I,zip215:P}=m,j=r.BYTES;_=Oi("signature",_,2*j),g=Oi("message",g),s&&(g=s(g));const k=rp(_.slice(j,2*j));let z,B,U;try{z=F.fromHex(f,P),B=F.fromHex(_.slice(0,j),P),U=H.multiplyUnsafe(k)}catch{return!1}if(!P&&z.isSmallOrder())return!1;const K=u(I,B.toRawBytes(),z.toRawBytes(),g);return B.add(z.multiplyUnsafe(K)).subtract(U).clearCofactor().equals(F.ZERO)}return H._setWindowSize(8),{CURVE:e,getPublicKey:a,sign:h,verify:y,ExtendedPoint:F,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(r.BYTES),precompute(_=8,g=F.BASE){return g._setWindowSize(_),g.multiply(BigInt(3)),g}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _B=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),HH=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const iwt=BigInt(1),nR=BigInt(2),swt=BigInt(5),VH=BigInt(10),owt=BigInt(20),awt=BigInt(40),KH=BigInt(80);function cwt(t){const e=_B,n=t*t%e*t%e,s=oi(n,nR,e)*n%e,i=oi(s,iwt,e)*t%e,o=oi(i,swt,e)*i%e,c=oi(o,VH,e)*o%e,l=oi(c,owt,e)*c%e,d=oi(l,awt,e)*l%e,v=oi(d,KH,e)*d%e,b=oi(v,KH,e)*d%e,A=oi(b,VH,e)*o%e;return{pow_p_5_8:oi(A,nR,e)*t%e,b2:n}}function fwt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uwt(t,e){const r=_B,n=qn(e*e*e,r),s=qn(n*n*e,r),i=cwt(t*s).pow_p_5_8;let o=qn(t*n*i,r);const c=qn(e*o*o,r),l=o,d=qn(o*HH,r),v=c===t,b=c===qn(-t,r),A=c===qn(-t*HH,r);return v&&(o=l),(b||A)&&(o=d),fct(o,r)&&(o=qn(-o,r)),{isValid:v||b,value:o}}const Bu=mne(_B,void 0,!0),EB={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Bu,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Qp,randomBytes:uee,adjustScalarBytes:fwt,uvRatio:uwt},ov=wB(EB);function dae(t,e,r){if(e.length>255)throw new Error("Context is too big");return j0(tC("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}({...EB});({...EB});const lwt=(Bu.ORDER+BigInt(3))/BigInt(8);Bu.pow(nR,lwt);Bu.sqrt(Bu.neg(Bu.ONE));(Bu.ORDER-BigInt(5))/BigInt(8);BigInt(486662);pct(Bu,Bu.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Bw=kr.Buffer;function hwt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function v(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=Bw.from(x)),!Bw.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var R=0,C=0,T=0,$=x.length;T!==$&&x[T]===0;)T++,R++;for(var O=($-T)*d+1>>>0,D=new Uint8Array(O);T!==$;){for(var L=x[T],F=0,H=O-1;(L!==0||F<C)&&H!==-1;H--,F++)L+=256*D[H]>>>0,D[H]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");C=F,T++}for(var V=O-C;V!==O&&D[V]===0;)V++;for(var J=c.repeat(R);V<O;++V)J+=t.charAt(D[V]);return J}function b(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return Bw.alloc(0);for(var R=0,C=0,T=0;x[R]===c;)C++,R++;for(var $=(x.length-R)*l+1>>>0,O=new Uint8Array($);x[R];){var D=e[x.charCodeAt(R)];if(D===255)return;for(var L=0,F=$-1;(D!==0||L<T)&&F!==-1;F--,L++)D+=o*O[F]>>>0,O[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");T=L,R++}for(var H=$-T;H!==$&&O[H]===0;)H++;var V=Bw.allocUnsafe(C+($-H));V.fill(0,0,C);for(var J=C;H!==$;)V[J++]=O[H++];return V}function A(x){var R=b(x);if(R)return R;throw new Error("Non-base"+o+" character")}return{encode:v,decodeUnsafe:b,decode:A}}var dwt=hwt,pwt=dwt,gwt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pae=pwt(gwt);const hs=Mr(pae);var fs={};function bu(t,e,r){return e<=t&&t<=r}function ox(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function vwt(t){for(var e=String(t),r=e.length,n=0,s=[];n<r;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)s.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var c=i&1023,l=o&1023;s.push(65536+(c<<10)+l),n+=1}else s.push(65533)}n+=1}return s}function ywt(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var z2=-1;function SB(t){this.tokens=[].slice.call(t)}SB.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():z2},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var ag=-1;function OM(t,e){if(t)throw TypeError("Decoder error");return e||65533}var H2="utf-8";function V2(t,e){if(!(this instanceof V2))return new V2(t,e);if(t=t!==void 0?String(t).toLowerCase():H2,t!==H2)throw new Error("Encoding not supported. Only utf-8 is supported");e=ox(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}V2.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ox(r),this._streaming||(this._decoder=new mwt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var s=new SB(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==ag);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===ag)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),ywt(i)}};function K2(t,e){if(!(this instanceof K2))return new K2(t,e);if(t=t!==void 0?String(t).toLowerCase():H2,t!==H2)throw new Error("Encoding not supported. Only utf-8 is supported");e=ox(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}K2.prototype={encode:function(e,r){e=e?String(e):"",r=ox(r),this._streaming||(this._encoder=new bwt(this._options)),this._streaming=!!r.stream;for(var n=[],s=new SB(vwt(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==ag);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==ag;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function mwt(t){var e=t.fatal,r=0,n=0,s=0,i=128,o=191;this.handler=function(c,l){if(l===z2&&s!==0)return s=0,OM(e);if(l===z2)return ag;if(s===0){if(bu(l,0,127))return l;if(bu(l,194,223))s=1,r=l-192;else if(bu(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,r=l-224;else if(bu(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,r=l-240;else return OM(e);return r=r<<6*s,null}if(!bu(l,i,o))return r=s=n=0,i=128,o=191,c.prepend(l),OM(e);if(i=128,o=191,n+=1,r+=l-128<<6*(s-n),n!==s)return null;var d=r;return r=s=n=0,d}}function bwt(t){t.fatal,this.handler=function(e,r){if(r===z2)return ag;if(bu(r,0,127))return r;var n,s;bu(r,128,2047)?(n=1,s=192):bu(r,2048,65535)?(n=2,s=224):bu(r,65536,1114111)&&(n=3,s=240);for(var i=[(r>>6*n)+s];n>0;){var o=r>>6*(n-1);i.push(128|o&63),n-=1}return i}}const wwt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:V2,TextEncoder:K2},Symbol.toStringTag,{value:"Module"})),_wt=Vu(wwt);var Ewt=He&&He.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Swt=He&&He.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hf=He&&He.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Awt=He&&He.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ewt(e,t,r);return Swt(e,t),e},gae=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});var vae=fs.deserializeUnchecked=Eae=fs.deserialize=_ae=fs.serialize=fs.BinaryReader=fs.BinaryWriter=fs.BorshError=fs.baseDecode=fs.baseEncode=void 0;const Dl=gae(qm),yae=gae(pae),xwt=Awt(_wt),Mwt=typeof TextDecoder!="function"?xwt.TextDecoder:TextDecoder,Iwt=new Mwt("utf-8",{fatal:!0});function Rwt(t){return typeof t=="string"&&(t=Re.Buffer.from(t,"utf8")),yae.default.encode(Re.Buffer.from(t))}fs.baseEncode=Rwt;function Twt(t){return Re.Buffer.from(yae.default.decode(t))}fs.baseDecode=Twt;const BM=1024;class Xs extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}fs.BorshError=Xs;class mae{constructor(){this.buf=Re.Buffer.alloc(BM),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Re.Buffer.concat([this.buf,Re.Buffer.alloc(BM)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Re.Buffer.from(new Dl.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Re.Buffer.from(new Dl.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Re.Buffer.from(new Dl.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Re.Buffer.from(new Dl.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Re.Buffer.concat([Re.Buffer.from(this.buf.subarray(0,this.length)),e,Re.Buffer.alloc(BM)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Re.Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Re.Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}fs.BinaryWriter=mae;function Vf(t,e,r){const n=r.value;r.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Xs("Reached the end of buffer when deserializing")}throw i}}}class Qo{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Dl.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Dl.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Dl.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Dl.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Xs(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return Iwt.decode(r)}catch(n){throw new Xs(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let s=0;s<r;++s)n.push(e());return n}}Hf([Vf],Qo.prototype,"readU8",null);Hf([Vf],Qo.prototype,"readU16",null);Hf([Vf],Qo.prototype,"readU32",null);Hf([Vf],Qo.prototype,"readU64",null);Hf([Vf],Qo.prototype,"readU128",null);Hf([Vf],Qo.prototype,"readU256",null);Hf([Vf],Qo.prototype,"readU512",null);Hf([Vf],Qo.prototype,"readString",null);Hf([Vf],Qo.prototype,"readFixedArray",null);Hf([Vf],Qo.prototype,"readArray",null);fs.BinaryReader=Qo;function bae(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Hh(t,e,r,n,s){try{if(typeof n=="string")s[`write${bae(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Xs(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);s.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Xs(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let i=0;i<n[1];i++)Hh(t,null,r[i],n[0],s)}else s.writeArray(r,i=>{Hh(t,e,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?s.writeU8(0):(s.writeU8(1),Hh(t,e,r,n.type,s));break}case"map":{s.writeU32(r.size),r.forEach((i,o)=>{Hh(t,e,o,n.key,s),Hh(t,e,i,n.value,s)});break}default:throw new Xs(`FieldType ${n} unrecognized`)}else wae(t,r,s)}catch(i){throw i instanceof Xs&&i.addToFieldPath(e),i}}function wae(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new Xs(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Hh(t,s,e[s],i,r)});else if(n.kind==="enum"){const s=e[n.field];for(let i=0;i<n.values.length;++i){const[o,c]=n.values[i];if(o===s){r.writeU8(i),Hh(t,o,e[o],c,r);break}}}else throw new Xs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function $wt(t,e,r=mae){const n=new r;return wae(t,e,n),n.toArray()}var _ae=fs.serialize=$wt;function Vh(t,e,r,n){try{if(typeof r=="string")return n[`read${bae(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const s=[];for(let i=0;i<r[1];i++)s.push(Vh(t,null,r[0],n));return s}else return n.readArray(()=>Vh(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Vh(t,e,r.type,n):void 0;if(r.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const c=Vh(t,e,r.key,n),l=Vh(t,e,r.value,n);s.set(c,l)}return s}return AB(t,r,n)}catch(s){throw s instanceof Xs&&s.addToFieldPath(e),s}}function AB(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new Xs(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Vh(t,i,o,r);return new e(s)}if(n.kind==="enum"){const s=r.readU8();if(s>=n.values.length)throw new Xs(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],c=Vh(t,i,o,r);return new e({[i]:c})}throw new Xs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Cwt(t,e,r,n=Qo){const s=new n(r),i=AB(t,e,s);if(s.offset<r.length)throw new Xs(`Unexpected ${r.length-s.offset} bytes after deserialized data`);return i}var Eae=fs.deserialize=Cwt;function Owt(t,e,r,n=Qo){const s=new n(r);return AB(t,e,s)}vae=fs.deserializeUnchecked=Owt;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.s16=Ve.s8=Ve.nu64be=Ve.u48be=Ve.u40be=Ve.u32be=Ve.u24be=Ve.u16be=os=Ve.nu64=Ve.u48=Ve.u40=nr=Ve.u32=Ve.u24=ya=Ve.u16=on=Ve.u8=ld=Ve.offset=Ve.greedy=Ve.Constant=Ve.UTF8=Ve.CString=Ve.Blob=Ve.Boolean=Ve.BitField=Ve.BitStructure=Ve.VariantLayout=Ve.Union=Ve.UnionLayoutDiscriminator=Ve.UnionDiscriminator=Ve.Structure=Ve.Sequence=Ve.DoubleBE=Ve.Double=Ve.FloatBE=Ve.Float=Ve.NearInt64BE=Ve.NearInt64=Ve.NearUInt64BE=Ve.NearUInt64=Ve.IntBE=Ve.Int=Ve.UIntBE=Ve.UInt=Ve.OffsetLayout=Ve.GreedyCount=Ve.ExternalLayout=Ve.bindConstructorLayout=Ve.nameWithProperty=Ve.Layout=Ve.uint8ArrayToBuffer=Ve.checkUint8Array=void 0;Ve.constant=Ve.utf8=Ve.cstr=Fn=Ve.blob=Ve.unionLayoutDiscriminator=Ve.union=Us=Ve.seq=Ve.bits=Zt=Ve.struct=Ve.f64be=Ve.f64=Ve.f32be=Ve.f32=Ve.ns64be=Ve.s48be=Ve.s40be=Ve.s32be=Ve.s24be=Ve.s16be=Uo=Ve.ns64=Ve.s48=Ve.s40=Ve.s32=Ve.s24=void 0;const xB=Re;function av(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ve.checkUint8Array=av;function cn(t){return av(t),xB.Buffer.from(t.buffer,t.byteOffset,t.length)}Ve.uint8ArrayToBuffer=cn;class bn{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Ve.Layout=bn;function MB(t,e){return e.property?t+"["+e.property+"]":t}Ve.nameWithProperty=MB;function Bwt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof bn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Ve.bindConstructorLayout=Bwt;class wo extends bn{isCount(){throw new Error("ExternalLayout is abstract")}}Ve.ExternalLayout=wo;class Sae extends wo{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){av(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}Ve.GreedyCount=Sae;class IB extends wo{constructor(e,r=0,n){if(!(e instanceof bn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ta||this.layout instanceof mc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}Ve.OffsetLayout=IB;class Ta extends bn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntLE(e,n,this.span),this.span}}Ve.UInt=Ta;class mc extends bn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntBE(e,n,this.span),this.span}}Ve.UIntBE=mc;class Wd extends bn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntLE(e,n,this.span),this.span}}Ve.Int=Wd;class cv extends bn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntBE(e,n,this.span),this.span}}Ve.IntBE=cv;const iR=Math.pow(2,32);function ax(t){const e=Math.floor(t/iR),r=t-e*iR;return{hi32:e,lo32:r}}function cx(t,e){return t*iR+e}class Aae extends bn{constructor(e){super(8,e)}decode(e,r=0){const n=cn(e),s=n.readUInt32LE(r),i=n.readUInt32LE(r+4);return cx(i,s)}encode(e,r,n=0){const s=ax(e),i=cn(r);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}Ve.NearUInt64=Aae;class xae extends bn{constructor(e){super(8,e)}decode(e,r=0){const n=cn(e),s=n.readUInt32BE(r),i=n.readUInt32BE(r+4);return cx(s,i)}encode(e,r,n=0){const s=ax(e),i=cn(r);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}Ve.NearUInt64BE=xae;class Mae extends bn{constructor(e){super(8,e)}decode(e,r=0){const n=cn(e),s=n.readUInt32LE(r),i=n.readInt32LE(r+4);return cx(i,s)}encode(e,r,n=0){const s=ax(e),i=cn(r);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}Ve.NearInt64=Mae;class Iae extends bn{constructor(e){super(8,e)}decode(e,r=0){const n=cn(e),s=n.readInt32BE(r),i=n.readUInt32BE(r+4);return cx(s,i)}encode(e,r,n=0){const s=ax(e),i=cn(r);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}Ve.NearInt64BE=Iae;class Rae extends bn{constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatLE(r)}encode(e,r,n=0){return cn(r).writeFloatLE(e,n),4}}Ve.Float=Rae;class Tae extends bn{constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatBE(r)}encode(e,r,n=0){return cn(r).writeFloatBE(e,n),4}}Ve.FloatBE=Tae;class $ae extends bn{constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleLE(r)}encode(e,r,n=0){return cn(r).writeDoubleLE(e,n),8}}Ve.Double=$ae;class Cae extends bn{constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleBE(r)}encode(e,r,n=0){return cn(r).writeDoubleBE(e,n),8}}Ve.DoubleBE=Cae;class Oae extends bn{constructor(e,r,n){if(!(e instanceof bn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof wo&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(r instanceof wo)&&0<e.span&&(s=r*e.span),super(s,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof wo&&(s=s.decode(e,r)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(e,r+n),++i}return n}decode(e,r=0){const n=[];let s=0,i=this.count;for(i instanceof wo&&(i=i.decode(e,r));s<i;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),s+=1;return n}encode(e,r,n=0){const s=this.elementLayout,i=e.reduce((o,c)=>o+s.encode(c,r,n+o),0);return this.count instanceof wo&&this.count.encode(e.length,r,n),i}}Ve.Sequence=Oae;class Bae extends bn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof bn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(e,r);return r+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){av(e);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,r)),r+=s.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const s=n;let i=0,o=0;for(const c of this.fields){let l=c.span;if(o=0<l?l:0,c.property!==void 0){const d=e[c.property];d!==void 0&&(o=c.encode(d,r,n),0>l&&(l=c.getSpan(r,n)))}i=n,n+=l}return i+o-s}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Ve.Structure=Bae;class RB{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}Ve.UnionDiscriminator=RB;class G2 extends RB{constructor(e,r){if(!(e instanceof wo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}Ve.UnionLayoutDiscriminator=G2;class TB extends bn{constructor(e,r,n){let s;if(e instanceof Ta||e instanceof mc)s=new G2(new IB(e));else if(e instanceof wo&&e.isCount())s=new G2(e);else if(e instanceof RB)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof bn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let i=-1;r&&(i=r.span,0<=i&&(e instanceof Ta||e instanceof mc)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Ta||e instanceof mc,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const s=this.discriminator,i=s.decode(e,r),o=this.registry[i];if(o===void 0){const c=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=c.decode(e,r+l)}else n=o.decode(e,r);return n}encode(e,r,n=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],r,n),c+o.encode(e[o.property],r,n+c)}return s.encode(e,r,n)}addVariant(e,r,n){const s=new Pae(this,e,r,n);return this.registry[e]=s,s}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}Ve.Union=TB;class Pae extends bn{constructor(e,r,n,s){if(!(e instanceof TB))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof bn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,r+n)),n+s}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let i=s;if(this.layout&&(this.layout.encode(e[this.property],r,n+s),i+=this.layout.getSpan(r,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Ve.VariantLayout=Pae;function B0(t){return 0>t&&(t+=4294967296),t}class $B extends bn{constructor(e,r,n){if(!(e instanceof Ta||e instanceof mc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let s=0;this._packedSetValue=function(i){return s=B0(i),this},this._packedGetValue=function(){return s}}decode(e,r=0){const n=this.makeDestinationObject(),s=this.word.decode(e,r);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,r,n=0){const s=this.word.decode(r,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new CB(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Nae(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}Ve.BitStructure=$B;class CB{constructor(e,r,n){if(!(e instanceof $B))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,c)=>o+c.bits,0);if(r+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-r),this.wordMask=B0(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return B0(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==B0(e&this.valueMask))throw new TypeError(MB("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=B0(e<<this.start);this.container._packedSetValue(B0(r&~this.wordMask)|n)}}Ve.BitField=CB;let Nae=class extends CB{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ve.Boolean=Nae;let kae=class extends bn{constructor(e,r){if(!(e instanceof wo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof wo||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),cn(e).slice(r,r+n)}encode(e,r,n){let s=this.length;if(this.length instanceof wo&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(MB("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>r.length)throw new RangeError("encoding overruns Uint8Array");const i=cn(e);return cn(r).write(i.toString("hex"),n,s,"hex"),this.length instanceof wo&&this.length.encode(s,r,n),s}};Ve.Blob=kae;class Lae extends bn{constructor(e){super(-1,e)}getSpan(e,r=0){av(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return cn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const s=xB.Buffer.from(e,"utf8"),i=s.length;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");const o=cn(r);return s.copy(o,n),o[n+i]=0,i+1}}Ve.CString=Lae;class Dae extends bn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return av(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return cn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const s=xB.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return s.copy(cn(r),n),i}}Ve.UTF8=Dae;class Uae extends bn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}Ve.Constant=Uae;Ve.greedy=(t,e)=>new Sae(t,e);var ld=Ve.offset=(t,e,r)=>new IB(t,e,r),on=Ve.u8=t=>new Ta(1,t),ya=Ve.u16=t=>new Ta(2,t);Ve.u24=t=>new Ta(3,t);var nr=Ve.u32=t=>new Ta(4,t);Ve.u40=t=>new Ta(5,t);Ve.u48=t=>new Ta(6,t);var os=Ve.nu64=t=>new Aae(t);Ve.u16be=t=>new mc(2,t);Ve.u24be=t=>new mc(3,t);Ve.u32be=t=>new mc(4,t);Ve.u40be=t=>new mc(5,t);Ve.u48be=t=>new mc(6,t);Ve.nu64be=t=>new xae(t);Ve.s8=t=>new Wd(1,t);Ve.s16=t=>new Wd(2,t);Ve.s24=t=>new Wd(3,t);Ve.s32=t=>new Wd(4,t);Ve.s40=t=>new Wd(5,t);Ve.s48=t=>new Wd(6,t);var Uo=Ve.ns64=t=>new Mae(t);Ve.s16be=t=>new cv(2,t);Ve.s24be=t=>new cv(3,t);Ve.s32be=t=>new cv(4,t);Ve.s40be=t=>new cv(5,t);Ve.s48be=t=>new cv(6,t);Ve.ns64be=t=>new Iae(t);Ve.f32=t=>new Rae(t);Ve.f32be=t=>new Tae(t);Ve.f64=t=>new $ae(t);Ve.f64be=t=>new Cae(t);var Zt=Ve.struct=(t,e,r)=>new Bae(t,e,r);Ve.bits=(t,e,r)=>new $B(t,e,r);var Us=Ve.seq=(t,e,r)=>new Oae(t,e,r);Ve.union=(t,e,r)=>new TB(t,e,r);Ve.unionLayoutDiscriminator=(t,e)=>new G2(t,e);var Fn=Ve.blob=(t,e)=>new kae(t,e);Ve.cstr=t=>new Lae(t);Ve.utf8=(t,e)=>new Dae(t,e);Ve.constant=(t,e)=>new Uae(t,e);var L1={};Object.defineProperty(L1,"__esModule",{value:!0});function Pwt(t){{const e=Re.Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var Nwt=L1.toBigIntLE=Pwt;function kwt(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}L1.toBigIntBE=kwt;function Lwt(t,e){{const r=t.toString(16),n=Re.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var Dwt=L1.toBufferLE=Lwt;function Uwt(t,e){{const r=t.toString(16);return Re.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}L1.toBufferBE=Uwt;class Fwt extends TypeError{constructor(e,r){let n;const{message:s,...i}=e,{path:o}=e,c=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(c),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[e,...r()]}}}function jwt(t){return Hl(t)&&typeof t[Symbol.iterator]=="function"}function Hl(t){return typeof t=="object"&&t!=null}function _c(t){return typeof t=="string"?JSON.stringify(t):""+t}function qwt(t){const{done:e,value:r}=t.next();return e?void 0:r}function zwt(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=r,{refinement:c,message:l="Expected a value of type `"+o+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+_c(n)+"`"}=t;return{value:n,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*GH(t,e,r,n){jwt(t)||(t=[t]);for(const s of t){const i=zwt(s,e,r,n);i&&(yield i)}}function*OB(t,e,r={}){const{path:n=[],branch:s=[t],coerce:i=!1,mask:o=!1}=r,c={path:n,branch:s};if(i&&(t=e.coercer(t,c),o&&e.type!=="type"&&Hl(e.schema)&&Hl(t)&&!Array.isArray(t)))for(const d in t)e.schema[d]===void 0&&delete t[d];let l=!0;for(const d of e.validator(t,c))l=!1,yield[d,void 0];for(let[d,v,b]of e.entries(t,c)){const A=OB(v,b,{path:d===void 0?n:[...n,d],branch:d===void 0?s:[...s,v],coerce:i,mask:o});for(const x of A)x[0]?(l=!1,yield[x[0],void 0]):i&&(v=x[1],d===void 0?t=v:t instanceof Map?t.set(d,v):t instanceof Set?t.add(v):Hl(t)&&(t[d]=v))}if(l)for(const d of e.refiner(t,c))l=!1,yield[d,void 0];l&&(yield[void 0,t])}let Kf=class{constructor(e){const{type:r,schema:n,validator:s,refiner:i,coercer:o=l=>l,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=o,s?this.validator=(l,d)=>{const v=s(l,d);return GH(v,d,this,l)}:this.validator=()=>[],i?this.refiner=(l,d)=>{const v=i(l,d);return GH(v,d,this,l)}:this.refiner=()=>[]}assert(e){return Hwt(e,this)}create(e){return Pt(e,this)}is(e){return Fae(e,this)}mask(e){return Vwt(e,this)}validate(e,r={}){return D1(e,this,r)}};function Hwt(t,e){const r=D1(t,e);if(r[0])throw r[0]}function Pt(t,e){const r=D1(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Vwt(t,e){const r=D1(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function Fae(t,e){return!D1(t,e)[0]}function D1(t,e,r={}){const n=OB(t,e,r),s=qwt(n);return s[0]?[new Fwt(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Jd(t,e){return new Kf({type:t,schema:null,validator:e})}function Kwt(){return Jd("any",()=>!0)}function zt(t){return new Kf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+_c(e)}})}function $f(){return Jd("boolean",t=>typeof t=="boolean")}function BB(t){return Jd("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+_c(e))}function Xn(t){const e=_c(t),r=typeof t;return new Kf({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+_c(n)}})}function Gwt(){return Jd("never",()=>!1)}function qt(t){return new Kf({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Fe(){return Jd("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+_c(t))}function dr(t){return new Kf({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function jae(t,e){return new Kf({type:"record",schema:null,*entries(r){if(Hl(r))for(const n in r){const s=r[n];yield[n,n,t],yield[n,s,e]}},validator(r){return Hl(r)||"Expected an object, but received: "+_c(r)}})}function Ot(){return Jd("string",t=>typeof t=="string"||"Expected a string, but received: "+_c(t))}function PB(t){const e=Gwt();return new Kf({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],t[s]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+_c(r)}})}function _t(t){const e=Object.keys(t);return new Kf({type:"type",schema:t,*entries(r){if(Hl(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Hl(r)||"Expected an object, but received: "+_c(r)}})}function Ro(t){const e=t.map(r=>r.type).join(" | ");return new Kf({type:"union",schema:null,validator(r,n){const s=[];for(const i of t){const[...o]=OB(r,i,n),[c]=o;if(c[0])for(const[l]of o)l&&s.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+_c(r),...s]}})}function U1(){return Jd("unknown",()=>!0)}function F1(t,e,r){return new Kf({...t,coercer:(n,s)=>Fae(n,e)?t.coercer(r(n,s),s):t.coercer(n,s)})}var Pw,Wwt=new Uint8Array(16);function qae(){if(!Pw&&(Pw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Pw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pw(Wwt)}const Jwt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fx(t){return typeof t=="string"&&Jwt.test(t)}var ss=[];for(var PM=0;PM<256;++PM)ss.push((PM+256).toString(16).substr(1));function ux(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ss[t[e+0]]+ss[t[e+1]]+ss[t[e+2]]+ss[t[e+3]]+"-"+ss[t[e+4]]+ss[t[e+5]]+"-"+ss[t[e+6]]+ss[t[e+7]]+"-"+ss[t[e+8]]+ss[t[e+9]]+"-"+ss[t[e+10]]+ss[t[e+11]]+ss[t[e+12]]+ss[t[e+13]]+ss[t[e+14]]+ss[t[e+15]]).toLowerCase();if(!fx(r))throw TypeError("Stringified UUID is invalid");return r}var WH,NM,kM=0,LM=0;function Qwt(t,e,r){var n=e&&r||0,s=e||new Array(16);t=t||{};var i=t.node||WH,o=t.clockseq!==void 0?t.clockseq:NM;if(i==null||o==null){var c=t.random||(t.rng||qae)();i==null&&(i=WH=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=NM=(c[6]<<8|c[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:LM+1,v=l-kM+(d-LM)/1e4;if(v<0&&t.clockseq===void 0&&(o=o+1&16383),(v<0||l>kM)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kM=l,LM=d,NM=o,l+=122192928e5;var b=((l&268435455)*1e4+d)%4294967296;s[n++]=b>>>24&255,s[n++]=b>>>16&255,s[n++]=b>>>8&255,s[n++]=b&255;var A=l/4294967296*1e4&268435455;s[n++]=A>>>8&255,s[n++]=A&255,s[n++]=A>>>24&15|16,s[n++]=A>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var x=0;x<6;++x)s[n+x]=i[x];return e||ux(s)}function zae(t){if(!fx(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function Zwt(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Xwt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ywt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Hae(t,e,r){function n(s,i,o,c){if(typeof s=="string"&&(s=Zwt(s)),typeof i=="string"&&(i=zae(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){c=c||0;for(var d=0;d<16;++d)o[c+d]=l[d];return o}return ux(l)}try{n.name=t}catch{}return n.DNS=Xwt,n.URL=Ywt,n}function e_t(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return t_t(r_t(n_t(t),t.length*8))}function t_t(t){for(var e=[],r=t.length*32,n="0123456789abcdef",s=0;s<r;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(o)}return e}function Vae(t){return(t+64>>>9<<4)+14+1}function r_t(t,e){t[e>>5]|=128<<e%32,t[Vae(e)-1]=e;for(var r=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var c=r,l=n,d=s,v=i;r=Rs(r,n,s,i,t[o],7,-680876936),i=Rs(i,r,n,s,t[o+1],12,-389564586),s=Rs(s,i,r,n,t[o+2],17,606105819),n=Rs(n,s,i,r,t[o+3],22,-1044525330),r=Rs(r,n,s,i,t[o+4],7,-176418897),i=Rs(i,r,n,s,t[o+5],12,1200080426),s=Rs(s,i,r,n,t[o+6],17,-1473231341),n=Rs(n,s,i,r,t[o+7],22,-45705983),r=Rs(r,n,s,i,t[o+8],7,1770035416),i=Rs(i,r,n,s,t[o+9],12,-1958414417),s=Rs(s,i,r,n,t[o+10],17,-42063),n=Rs(n,s,i,r,t[o+11],22,-1990404162),r=Rs(r,n,s,i,t[o+12],7,1804603682),i=Rs(i,r,n,s,t[o+13],12,-40341101),s=Rs(s,i,r,n,t[o+14],17,-1502002290),n=Rs(n,s,i,r,t[o+15],22,1236535329),r=Ts(r,n,s,i,t[o+1],5,-165796510),i=Ts(i,r,n,s,t[o+6],9,-1069501632),s=Ts(s,i,r,n,t[o+11],14,643717713),n=Ts(n,s,i,r,t[o],20,-373897302),r=Ts(r,n,s,i,t[o+5],5,-701558691),i=Ts(i,r,n,s,t[o+10],9,38016083),s=Ts(s,i,r,n,t[o+15],14,-660478335),n=Ts(n,s,i,r,t[o+4],20,-405537848),r=Ts(r,n,s,i,t[o+9],5,568446438),i=Ts(i,r,n,s,t[o+14],9,-1019803690),s=Ts(s,i,r,n,t[o+3],14,-187363961),n=Ts(n,s,i,r,t[o+8],20,1163531501),r=Ts(r,n,s,i,t[o+13],5,-1444681467),i=Ts(i,r,n,s,t[o+2],9,-51403784),s=Ts(s,i,r,n,t[o+7],14,1735328473),n=Ts(n,s,i,r,t[o+12],20,-1926607734),r=$s(r,n,s,i,t[o+5],4,-378558),i=$s(i,r,n,s,t[o+8],11,-2022574463),s=$s(s,i,r,n,t[o+11],16,1839030562),n=$s(n,s,i,r,t[o+14],23,-35309556),r=$s(r,n,s,i,t[o+1],4,-1530992060),i=$s(i,r,n,s,t[o+4],11,1272893353),s=$s(s,i,r,n,t[o+7],16,-155497632),n=$s(n,s,i,r,t[o+10],23,-1094730640),r=$s(r,n,s,i,t[o+13],4,681279174),i=$s(i,r,n,s,t[o],11,-358537222),s=$s(s,i,r,n,t[o+3],16,-722521979),n=$s(n,s,i,r,t[o+6],23,76029189),r=$s(r,n,s,i,t[o+9],4,-640364487),i=$s(i,r,n,s,t[o+12],11,-421815835),s=$s(s,i,r,n,t[o+15],16,530742520),n=$s(n,s,i,r,t[o+2],23,-995338651),r=Cs(r,n,s,i,t[o],6,-198630844),i=Cs(i,r,n,s,t[o+7],10,1126891415),s=Cs(s,i,r,n,t[o+14],15,-1416354905),n=Cs(n,s,i,r,t[o+5],21,-57434055),r=Cs(r,n,s,i,t[o+12],6,1700485571),i=Cs(i,r,n,s,t[o+3],10,-1894986606),s=Cs(s,i,r,n,t[o+10],15,-1051523),n=Cs(n,s,i,r,t[o+1],21,-2054922799),r=Cs(r,n,s,i,t[o+8],6,1873313359),i=Cs(i,r,n,s,t[o+15],10,-30611744),s=Cs(s,i,r,n,t[o+6],15,-1560198380),n=Cs(n,s,i,r,t[o+13],21,1309151649),r=Cs(r,n,s,i,t[o+4],6,-145523070),i=Cs(i,r,n,s,t[o+11],10,-1120210379),s=Cs(s,i,r,n,t[o+2],15,718787259),n=Cs(n,s,i,r,t[o+9],21,-343485551),r=Ul(r,c),n=Ul(n,l),s=Ul(s,d),i=Ul(i,v)}return[r,n,s,i]}function n_t(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(Vae(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Ul(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function i_t(t,e){return t<<e|t>>>32-e}function lx(t,e,r,n,s,i){return Ul(i_t(Ul(Ul(e,t),Ul(n,i)),s),r)}function Rs(t,e,r,n,s,i,o){return lx(e&r|~e&n,t,e,s,i,o)}function Ts(t,e,r,n,s,i,o){return lx(e&n|r&~n,t,e,s,i,o)}function $s(t,e,r,n,s,i,o){return lx(e^r^n,t,e,s,i,o)}function Cs(t,e,r,n,s,i,o){return lx(r^(e|~n),t,e,s,i,o)}var s_t=Hae("v3",48,e_t);const o_t=s_t;function a_t(t,e,r){t=t||{};var n=t.random||(t.rng||qae)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=n[s];return e}return ux(n)}function c_t(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function DM(t,e){return t<<e|t>>>32-e}function f_t(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),c=new Array(o),l=0;l<o;++l){for(var d=new Uint32Array(16),v=0;v<16;++v)d[v]=t[l*64+v*4]<<24|t[l*64+v*4+1]<<16|t[l*64+v*4+2]<<8|t[l*64+v*4+3];c[l]=d}c[o-1][14]=(t.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(t.length-1)*8&4294967295;for(var b=0;b<o;++b){for(var A=new Uint32Array(80),x=0;x<16;++x)A[x]=c[b][x];for(var R=16;R<80;++R)A[R]=DM(A[R-3]^A[R-8]^A[R-14]^A[R-16],1);for(var C=r[0],T=r[1],$=r[2],O=r[3],D=r[4],L=0;L<80;++L){var F=Math.floor(L/20),H=DM(C,5)+c_t(F,T,$,O)+D+e[F]+A[L]>>>0;D=O,O=$,$=DM(T,30)>>>0,T=C,C=H}r[0]=r[0]+C>>>0,r[1]=r[1]+T>>>0,r[2]=r[2]+$>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+D>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var u_t=Hae("v5",80,f_t);const l_t=u_t,h_t="00000000-0000-0000-0000-000000000000";function d_t(t){if(!fx(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const p_t=Object.freeze(Object.defineProperty({__proto__:null,NIL:h_t,parse:zae,stringify:ux,v1:Qwt,v3:o_t,v4:a_t,v5:l_t,validate:fx,version:d_t},Symbol.toStringTag,{value:"Module"})),Kae=Vu(p_t),g_t=Kae.v4,v_t=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return g_t()};i.id=o(i,n)}else s===2&&r===null?n.notificationIdNull&&(i.id=null):i.id=r;return i};var y_t=v_t;const m_t=Kae.v4,b_t=y_t,Rm=function(t,e){if(!(this instanceof Rm))return new Rm(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return m_t()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var w_t=Rm;Rm.prototype.request=function(t,e,r,n){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,i=t;else{typeof r=="function"&&(n=r,r=void 0);const d=typeof n=="function";try{i=b_t(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(d)return n(v);throw v}if(!d)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(d){return n(d)}return this.callServer(l,function(d,v){s._parseResponse(d,v,n)}),i};Rm.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(s){return r(s)}if(r.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return r(null,n.filter(s),n.filter(i))}else return r(null,n.error,n.result);r(null,n)};const __t=Mr(w_t);var Gae={},Wae={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Wae);var NB=Wae.exports,UM={exports:{}},FM={exports:{}},JH;function Jae(){return JH||(JH=1,function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(FM)),FM.exports}var QH;function E_t(){return QH||(QH=1,function(t){var e=Jae().default;function r(){t.exports=r=function(){return s},t.exports.__esModule=!0,t.exports.default=t.exports;var n,s={},i=Object.prototype,o=i.hasOwnProperty,c=Object.defineProperty||function(g,f,m){g[f]=m.value},l=typeof Symbol=="function"?Symbol:{},d=l.iterator||"@@iterator",v=l.asyncIterator||"@@asyncIterator",b=l.toStringTag||"@@toStringTag";function A(g,f,m){return Object.defineProperty(g,f,{value:m,enumerable:!0,configurable:!0,writable:!0}),g[f]}try{A({},"")}catch{A=function(m,I,P){return m[I]=P}}function x(g,f,m,I){var P=f&&f.prototype instanceof L?f:L,j=Object.create(P.prototype),k=new w(I||[]);return c(j,"_invoke",{value:u(g,m,k)}),j}function R(g,f,m){try{return{type:"normal",arg:g.call(f,m)}}catch(I){return{type:"throw",arg:I}}}s.wrap=x;var C="suspendedStart",T="suspendedYield",$="executing",O="completed",D={};function L(){}function F(){}function H(){}var V={};A(V,d,function(){return this});var J=Object.getPrototypeOf,Z=J&&J(J(_([])));Z&&Z!==i&&o.call(Z,d)&&(V=Z);var se=H.prototype=L.prototype=Object.create(V);function S(g){["next","throw","return"].forEach(function(f){A(g,f,function(m){return this._invoke(f,m)})})}function a(g,f){function m(P,j,k,z){var B=R(g[P],g,j);if(B.type!=="throw"){var U=B.arg,K=U.value;return K&&e(K)=="object"&&o.call(K,"__await")?f.resolve(K.__await).then(function(Y){m("next",Y,k,z)},function(Y){m("throw",Y,k,z)}):f.resolve(K).then(function(Y){U.value=Y,k(U)},function(Y){return m("throw",Y,k,z)})}z(B.arg)}var I;c(this,"_invoke",{value:function(j,k){function z(){return new f(function(B,U){m(j,k,B,U)})}return I=I?I.then(z,z):z()}})}function u(g,f,m){var I=C;return function(P,j){if(I===$)throw new Error("Generator is already running");if(I===O){if(P==="throw")throw j;return{value:n,done:!0}}for(m.method=P,m.arg=j;;){var k=m.delegate;if(k){var z=h(k,m);if(z){if(z===D)continue;return z}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(I===C)throw I=O,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);I=$;var B=R(g,f,m);if(B.type==="normal"){if(I=m.done?O:T,B.arg===D)continue;return{value:B.arg,done:m.done}}B.type==="throw"&&(I=O,m.method="throw",m.arg=B.arg)}}}function h(g,f){var m=f.method,I=g.iterator[m];if(I===n)return f.delegate=null,m==="throw"&&g.iterator.return&&(f.method="return",f.arg=n,h(g,f),f.method==="throw")||m!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+m+"' method")),D;var P=R(I,g.iterator,f.arg);if(P.type==="throw")return f.method="throw",f.arg=P.arg,f.delegate=null,D;var j=P.arg;return j?j.done?(f[g.resultName]=j.value,f.next=g.nextLoc,f.method!=="return"&&(f.method="next",f.arg=n),f.delegate=null,D):j:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,D)}function p(g){var f={tryLoc:g[0]};1 in g&&(f.catchLoc=g[1]),2 in g&&(f.finallyLoc=g[2],f.afterLoc=g[3]),this.tryEntries.push(f)}function y(g){var f=g.completion||{};f.type="normal",delete f.arg,g.completion=f}function w(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(p,this),this.reset(!0)}function _(g){if(g||g===""){var f=g[d];if(f)return f.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var m=-1,I=function P(){for(;++m<g.length;)if(o.call(g,m))return P.value=g[m],P.done=!1,P;return P.value=n,P.done=!0,P};return I.next=I}}throw new TypeError(e(g)+" is not iterable")}return F.prototype=H,c(se,"constructor",{value:H,configurable:!0}),c(H,"constructor",{value:F,configurable:!0}),F.displayName=A(H,b,"GeneratorFunction"),s.isGeneratorFunction=function(g){var f=typeof g=="function"&&g.constructor;return!!f&&(f===F||(f.displayName||f.name)==="GeneratorFunction")},s.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,H):(g.__proto__=H,A(g,b,"GeneratorFunction")),g.prototype=Object.create(se),g},s.awrap=function(g){return{__await:g}},S(a.prototype),A(a.prototype,v,function(){return this}),s.AsyncIterator=a,s.async=function(g,f,m,I,P){P===void 0&&(P=Promise);var j=new a(x(g,f,m,I),P);return s.isGeneratorFunction(f)?j:j.next().then(function(k){return k.done?k.value:j.next()})},S(se),A(se,b,"Generator"),A(se,d,function(){return this}),A(se,"toString",function(){return"[object Generator]"}),s.keys=function(g){var f=Object(g),m=[];for(var I in f)m.push(I);return m.reverse(),function P(){for(;m.length;){var j=m.pop();if(j in f)return P.value=j,P.done=!1,P}return P.done=!0,P}},s.values=_,w.prototype={constructor:w,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(y),!f)for(var m in this)m.charAt(0)==="t"&&o.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=n)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var m=this;function I(U,K){return k.type="throw",k.arg=f,m.next=U,K&&(m.method="next",m.arg=n),!!K}for(var P=this.tryEntries.length-1;P>=0;--P){var j=this.tryEntries[P],k=j.completion;if(j.tryLoc==="root")return I("end");if(j.tryLoc<=this.prev){var z=o.call(j,"catchLoc"),B=o.call(j,"finallyLoc");if(z&&B){if(this.prev<j.catchLoc)return I(j.catchLoc,!0);if(this.prev<j.finallyLoc)return I(j.finallyLoc)}else if(z){if(this.prev<j.catchLoc)return I(j.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return I(j.finallyLoc)}}}},abrupt:function(f,m){for(var I=this.tryEntries.length-1;I>=0;--I){var P=this.tryEntries[I];if(P.tryLoc<=this.prev&&o.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var j=P;break}}j&&(f==="break"||f==="continue")&&j.tryLoc<=m&&m<=j.finallyLoc&&(j=null);var k=j?j.completion:{};return k.type=f,k.arg=m,j?(this.method="next",this.next=j.finallyLoc,D):this.complete(k)},complete:function(f,m){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&m&&(this.next=m),D},finish:function(f){for(var m=this.tryEntries.length-1;m>=0;--m){var I=this.tryEntries[m];if(I.finallyLoc===f)return this.complete(I.completion,I.afterLoc),y(I),D}},catch:function(f){for(var m=this.tryEntries.length-1;m>=0;--m){var I=this.tryEntries[m];if(I.tryLoc===f){var P=I.completion;if(P.type==="throw"){var j=P.arg;y(I)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(f,m,I){return this.delegate={iterator:_(f),resultName:m,nextLoc:I},this.method==="next"&&(this.arg=n),D}},s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(UM)),UM.exports}var jM,ZH;function S_t(){if(ZH)return jM;ZH=1;var t=E_t()();jM=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return jM}var qM={exports:{}},XH;function A_t(){return XH||(XH=1,function(t){function e(n,s,i,o,c,l,d){try{var v=n[l](d),b=v.value}catch(A){i(A);return}v.done?s(b):Promise.resolve(b).then(o,c)}function r(n){return function(){var s=this,i=arguments;return new Promise(function(o,c){var l=n.apply(s,i);function d(b){e(l,o,c,d,v,"next",b)}function v(b){e(l,o,c,d,v,"throw",b)}d(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(qM)),qM.exports}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}const x_t=Object.freeze(Object.defineProperty({__proto__:null,default:cg},Symbol.toStringTag,{value:"Module"})),M_t=Vu(x_t);function I_t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const R_t=Object.freeze(Object.defineProperty({__proto__:null,default:I_t},Symbol.toStringTag,{value:"Module"})),kB=Vu(R_t);function T_t(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_t(t){var e=T_t(t,"string");return cg(e)=="symbol"?e:String(e)}function YH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$_t(n.key),n)}}function C_t(t,e,r){return e&&YH(t.prototype,e),r&&YH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}const O_t=Object.freeze(Object.defineProperty({__proto__:null,default:C_t},Symbol.toStringTag,{value:"Module"})),LB=Vu(O_t);var zM={exports:{}},HM={exports:{}},eV;function B_t(){return eV||(eV=1,function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(HM)),HM.exports}var tV;function Qae(){return tV||(tV=1,function(t){var e=B_t();function r(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),s&&e(n,s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(zM)),zM.exports}var VM={exports:{}},KM={exports:{}},rV;function P_t(){return rV||(rV=1,function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(KM)),KM.exports}var nV;function Zae(){return nV||(nV=1,function(t){var e=Jae().default,r=P_t();function n(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(s)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(VM)),VM.exports}var GM={exports:{}},iV;function Xae(){return iV||(iV=1,function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(GM)),GM.exports}var WM={exports:{}},sV;function Yae(){return sV||(sV=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,d,v){this.fn=l,this.context=d,this.once=v||!1}function i(l,d,v,b,A){if(typeof v!="function")throw new TypeError("The listener must be a function");var x=new s(v,b||l,A),R=r?r+d:d;return l._events[R]?l._events[R].fn?l._events[R]=[l._events[R],x]:l._events[R].push(x):(l._events[R]=x,l._eventsCount++),l}function o(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],v,b;if(this._eventsCount===0)return d;for(b in v=this._events)e.call(v,b)&&d.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},c.prototype.listeners=function(d){var v=r?r+d:d,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var A=0,x=b.length,R=new Array(x);A<x;A++)R[A]=b[A].fn;return R},c.prototype.listenerCount=function(d){var v=r?r+d:d,b=this._events[v];return b?b.fn?1:b.length:0},c.prototype.emit=function(d,v,b,A,x,R){var C=r?r+d:d;if(!this._events[C])return!1;var T=this._events[C],$=arguments.length,O,D;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),$){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,b),!0;case 4:return T.fn.call(T.context,v,b,A),!0;case 5:return T.fn.call(T.context,v,b,A,x),!0;case 6:return T.fn.call(T.context,v,b,A,x,R),!0}for(D=1,O=new Array($-1);D<$;D++)O[D-1]=arguments[D];T.fn.apply(T.context,O)}else{var L=T.length,F;for(D=0;D<L;D++)switch(T[D].once&&this.removeListener(d,T[D].fn,void 0,!0),$){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,v);break;case 3:T[D].fn.call(T[D].context,v,b);break;case 4:T[D].fn.call(T[D].context,v,b,A);break;default:if(!O)for(F=1,O=new Array($-1);F<$;F++)O[F-1]=arguments[F];T[D].fn.apply(T[D].context,O)}}return!0},c.prototype.on=function(d,v,b){return i(this,d,v,b,!1)},c.prototype.once=function(d,v,b){return i(this,d,v,b,!0)},c.prototype.removeListener=function(d,v,b,A){var x=r?r+d:d;if(!this._events[x])return this;if(!v)return o(this,x),this;var R=this._events[x];if(R.fn)R.fn===v&&(!A||R.once)&&(!b||R.context===b)&&o(this,x);else{for(var C=0,T=[],$=R.length;C<$;C++)(R[C].fn!==v||A&&!R[C].once||b&&R[C].context!==b)&&T.push(R[C]);T.length?this._events[x]=T.length===1?T[0]:T:o(this,x)}return this},c.prototype.removeAllListeners=function(d){var v;return d?(v=r?r+d:d,this._events[v]&&o(this,v)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(WM)),WM.exports}var A0={},oV;function N_t(){if(oV)return A0;oV=1;var t=NB;Object.defineProperty(A0,"__esModule",{value:!0}),A0.DefaultDataPack=void 0,A0.createError=i;var e=t(kB),r=t(LB),n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]),s=function(){function o(){(0,e.default)(this,o)}return(0,r.default)(o,[{key:"encode",value:function(l){return JSON.stringify(l)}},{key:"decode",value:function(l){return JSON.parse(l)}}]),o}();A0.DefaultDataPack=s;function i(o,c){var l={code:o,message:n.get(o)||"Internal Server Error"};return c&&(l.data=c),l}return A0}(function(t){var e=NB;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e(S_t()),n=e(A_t()),s=e(M_t),i=e(kB),o=e(LB),c=e(Qae()),l=e(Zae()),d=e(Xae()),v=Yae(),b=N_t();function A(T){var $=x();return function(){var D=(0,d.default)(T),L;if($){var F=(0,d.default)(this).constructor;L=Reflect.construct(D,arguments,F)}else L=D.apply(this,arguments);return(0,l.default)(this,L)}}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var R=function(T,$){var O={};for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&$.indexOf(D)<0&&(O[D]=T[D]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,D=Object.getOwnPropertySymbols(T);L<D.length;L++)$.indexOf(D[L])<0&&Object.prototype.propertyIsEnumerable.call(T,D[L])&&(O[D[L]]=T[D[L]]);return O},C=function(T){(0,c.default)(O,T);var $=A(O);function O(D){var L,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=arguments.length>3?arguments[3]:void 0,J=arguments.length>4?arguments[4]:void 0;(0,i.default)(this,O);var Z=H.autoconnect,se=Z===void 0?!0:Z,S=H.reconnect,a=S===void 0?!0:S,u=H.reconnect_interval,h=u===void 0?1e3:u,p=H.max_reconnects,y=p===void 0?5:p,w=R(H,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return L=$.call(this),L.webSocketFactory=D,L.queue={},L.rpc_id=0,L.address=F,L.autoconnect=se,L.ready=!1,L.reconnect=a,L.reconnect_timer_id=void 0,L.reconnect_interval=h,L.max_reconnects=y,L.rest_options=w,L.current_reconnects=0,L.generate_request_id=V||function(){return++L.rpc_id},J?L.dataPack=J:L.dataPack=new b.DefaultDataPack,L.autoconnect&&L._connect(L.address,Object.assign({autoconnect:L.autoconnect,reconnect:L.reconnect,reconnect_interval:L.reconnect_interval,max_reconnects:L.max_reconnects},L.rest_options)),L}return(0,o.default)(O,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(L,F,H,V){var J=this;return!V&&(0,s.default)(H)==="object"&&(V=H,H=null),new Promise(function(Z,se){if(!J.ready)return se(new Error("socket not ready"));var S=J.generate_request_id(L,F),a={jsonrpc:"2.0",method:L,params:F||void 0,id:S};J.socket.send(J.dataPack.encode(a),V,function(u){if(u)return se(u);J.queue[S]={promise:[Z,se]},H&&(J.queue[S].timeout=setTimeout(function(){delete J.queue[S],se(new Error("reply timeout"))},H))})})}},{key:"login",value:function(){var D=(0,n.default)(r.default.mark(function F(H){var V;return r.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,this.call("rpc.login",H);case 2:if(V=Z.sent,V){Z.next=5;break}throw new Error("authentication failed");case 5:return Z.abrupt("return",V);case 6:case"end":return Z.stop()}},F,this)}));function L(F){return D.apply(this,arguments)}return L}()},{key:"listMethods",value:function(){var D=(0,n.default)(r.default.mark(function F(){return r.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("__listMethods");case 2:return V.abrupt("return",V.sent);case 3:case"end":return V.stop()}},F,this)}));function L(){return D.apply(this,arguments)}return L}()},{key:"notify",value:function(L,F){var H=this;return new Promise(function(V,J){if(!H.ready)return J(new Error("socket not ready"));var Z={jsonrpc:"2.0",method:L,params:F};H.socket.send(H.dataPack.encode(Z),function(se){if(se)return J(se);V()})})}},{key:"subscribe",value:function(){var D=(0,n.default)(r.default.mark(function F(H){var V;return r.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return typeof H=="string"&&(H=[H]),Z.next=3,this.call("rpc.on",H);case 3:if(V=Z.sent,!(typeof H=="string"&&V[H]!=="ok")){Z.next=6;break}throw new Error("Failed subscribing to an event '"+H+"' with: "+V[H]);case 6:return Z.abrupt("return",V);case 7:case"end":return Z.stop()}},F,this)}));function L(F){return D.apply(this,arguments)}return L}()},{key:"unsubscribe",value:function(){var D=(0,n.default)(r.default.mark(function F(H){var V;return r.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return typeof H=="string"&&(H=[H]),Z.next=3,this.call("rpc.off",H);case 3:if(V=Z.sent,!(typeof H=="string"&&V[H]!=="ok")){Z.next=6;break}throw new Error("Failed unsubscribing from an event with: "+V);case 6:return Z.abrupt("return",V);case 7:case"end":return Z.stop()}},F,this)}));function L(F){return D.apply(this,arguments)}return L}()},{key:"close",value:function(L,F){this.socket.close(L||1e3,F)}},{key:"_connect",value:function(L,F){var H=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(L,F),this.socket.addEventListener("open",function(){H.ready=!0,H.emit("open"),H.current_reconnects=0}),this.socket.addEventListener("message",function(V){var J=V.data;J instanceof ArrayBuffer&&(J=Re.Buffer.from(J).toString());try{J=H.dataPack.decode(J)}catch{return}if(J.notification&&H.listeners(J.notification).length){if(!Object.keys(J.params).length)return H.emit(J.notification);var Z=[J.notification];if(J.params.constructor===Object)Z.push(J.params);else for(var se=0;se<J.params.length;se++)Z.push(J.params[se]);return Promise.resolve().then(function(){H.emit.apply(H,Z)})}if(!H.queue[J.id])return J.method?Promise.resolve().then(function(){H.emit(J.method,J==null?void 0:J.params)}):void 0;"error"in J=="result"in J&&H.queue[J.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),H.queue[J.id].timeout&&clearTimeout(H.queue[J.id].timeout),J.error?H.queue[J.id].promise[1](J.error):H.queue[J.id].promise[0](J.result),delete H.queue[J.id]}),this.socket.addEventListener("error",function(V){return H.emit("error",V)}),this.socket.addEventListener("close",function(V){var J=V.code,Z=V.reason;H.ready&&setTimeout(function(){return H.emit("close",J,Z)},0),H.ready=!1,H.socket=void 0,J!==1e3&&(H.current_reconnects++,H.reconnect&&(H.max_reconnects>H.current_reconnects||H.max_reconnects===0)&&(H.reconnect_timer_id=setTimeout(function(){return H._connect(L,F)},H.reconnect_interval)))})}}]),O}(v.EventEmitter);t.default=C})(Gae);const k_t=Mr(Gae);var ece={};(function(t){var e=NB;Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var r=e(kB),n=e(LB),s=e(Qae()),i=e(Zae()),o=e(Xae()),c=Yae();function l(A){var x=d();return function(){var C=(0,o.default)(A),T;if(x){var $=(0,o.default)(this).constructor;T=Reflect.construct(C,arguments,$)}else T=C.apply(this,arguments);return(0,i.default)(this,T)}}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var v=function(A){(0,s.default)(R,A);var x=l(R);function R(C,T,$){var O;return(0,r.default)(this,R),O=x.call(this),O.socket=new window.WebSocket(C,$),O.socket.onopen=function(){return O.emit("open")},O.socket.onmessage=function(D){return O.emit("message",D.data)},O.socket.onerror=function(D){return O.emit("error",D)},O.socket.onclose=function(D){O.emit("close",D.code,D.reason)},O}return(0,n.default)(R,[{key:"send",value:function(T,$,O){var D=O||$;try{this.socket.send(T),D()}catch(L){D(L)}}},{key:"close",value:function(T,$){this.socket.close(T,$)}},{key:"addEventListener",value:function(T,$,O){this.socket.addEventListener(T,$,O)}}]),R}(c.EventEmitter);function b(A,x){return new v(A,x)}})(ece);const L_t=Mr(ece);ov.utils.randomPrivateKey;const aV=()=>{const t=ov.utils.randomPrivateKey(),e=sR(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},sR=ov.getPublicKey;function cV(t){try{return ov.ExtendedPoint.fromHex(t),!0}catch{return!1}}const tce=(t,e)=>ov.sign(t,e.slice(0,32)),D_t=ov.verify,qi=t=>Re.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Re.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Re.Buffer.from(t);class U_t{constructor(e){Object.assign(this,e)}encode(){return Re.Buffer.from(_ae(x_,this))}static decode(e){return Eae(x_,this,e)}static decodeUnchecked(e){return vae(x_,this,e)}}const x_=new Map;var rce;let nce;const F_t=32,Vl=32;function j_t(t){return t._bn!==void 0}let fV=1;nce=Symbol.toStringTag;class pr extends U_t{constructor(e){if(super({}),this._bn=void 0,j_t(e))this._bn=e._bn;else{if(typeof e=="string"){const r=hs.decode(e);if(r.length!=Vl)throw new Error("Invalid public key input");this._bn=new c8(r)}else this._bn=new c8(e);if(this._bn.byteLength()>Vl)throw new Error("Invalid public key input")}}static unique(){const e=new pr(fV);return fV+=1,new pr(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return hs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Re.Buffer);if(e.length===Vl)return e;const r=Re.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[nce](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const s=Re.Buffer.concat([e.toBuffer(),Re.Buffer.from(r),n.toBuffer()]),i=dm(s);return new pr(i)}static createProgramAddressSync(e,r){let n=Re.Buffer.alloc(0);e.forEach(function(i){if(i.length>F_t)throw new TypeError("Max seed length exceeded");n=Re.Buffer.concat([n,qi(i)])}),n=Re.Buffer.concat([n,r.toBuffer(),Re.Buffer.from("ProgramDerivedAddress")]);const s=dm(n);if(cV(s))throw new Error("Invalid seeds, address must fall off the curve");return new pr(s)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,s;for(;n!=0;){try{const i=e.concat(Re.Buffer.from([n]));s=this.createProgramAddressSync(i,r)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new pr(e);return cV(r.toBytes())}}rce=pr;pr.default=new rce("11111111111111111111111111111111");x_.set(pr,{kind:"struct",fields:[["_bn","u256"]]});new pr("BPFLoader1111111111111111111111111111111111");const hp=1280-40-8,DB=127,W2=64;class ice extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ice.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class sce extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sce.prototype,"name",{value:"TransactionExpiredTimeoutError"});class by extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(by.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class J2{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Fr=(t="publicKey")=>Fn(32,t),q_t=(t="signature")=>Fn(64,t),G0=(t="string")=>{const e=Zt([nr("length"),nr("lengthPadding"),Fn(ld(nr(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,o)=>r(i,o).chars.toString(),s.encode=(i,o,c)=>{const l={chars:Re.Buffer.from(i,"utf8")};return n(l,o,c)},s.alloc=i=>nr().span+nr().span+Re.Buffer.from(i,"utf8").length,s},z_t=(t="authorized")=>Zt([Fr("staker"),Fr("withdrawer")],t),H_t=(t="lockup")=>Zt([Uo("unixTimestamp"),Uo("epoch"),Fr("custodian")],t),V_t=(t="voteInit")=>Zt([Fr("nodePubkey"),Fr("authorizedVoter"),Fr("authorizedWithdrawer"),on("commission")],t),K_t=(t="voteAuthorizeWithSeedArgs")=>Zt([nr("voteAuthorizationType"),Fr("currentAuthorityDerivedKeyOwnerPubkey"),G0("currentAuthorityDerivedKeySeed"),Fr("newAuthorized")],t);function oce(t,e){const r=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*r(s.elementLayout)}else if("fields"in s)return oce({layout:s},e[s.property]);return 0};let n=0;return t.layout.fields.forEach(s=>{n+=r(s)}),n}function Fo(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function jo(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function $n(t,e){if(!t)throw new Error(e||"Assertion failed")}class hx{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,s=o=>{const c=o.toBase58();let l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},i=s(r);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const c of o.keys){const l=s(c.pubkey);l.isSigner||(l.isSigner=c.isSigner),l.isWritable||(l.isWritable=c.isWritable)}}return new hx(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];$n(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{$n(r.length>0,"Expected at least one writable signer key");const[l]=r[0];$n(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...r.map(([l])=>new pr(l)),...n.map(([l])=>new pr(l)),...s.map(([l])=>new pr(l)),...i.map(([l])=>new pr(l))];return[o,c]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,r){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(r(o)){const c=new pr(i),l=e.findIndex(d=>d.equals(c));l>=0&&($n(l<256,"Max lookup table index exceeded"),n.push(l),s.push(c),this.keyMetaMap.delete(i))}return[n,s]}}const ace="Reached end of buffer unexpectedly";function wu(t){if(t.length===0)throw new Error(ace);return t.shift()}function qo(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(ace);return t.splice(...e)}class Cf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new pr(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:hs.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new J2(this.staticAccountKeys)}static compile(e){const r=hx.compile(e.instructions,e.payerKey),[n,s]=r.getMessageComponents(),o=new J2(s).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:hs.encode(c.data)}));return new Cf({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,i=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];jo(r,e);const n=this.instructions.map(b=>{const{accounts:A,programIdIndex:x}=b,R=Array.from(hs.decode(b.data));let C=[];jo(C,A.length);let T=[];return jo(T,R.length),{programIdIndex:x,keyIndicesCount:Re.Buffer.from(C),keyIndices:A,dataLength:Re.Buffer.from(T),data:R}});let s=[];jo(s,n.length);let i=Re.Buffer.alloc(hp);Re.Buffer.from(s).copy(i);let o=s.length;n.forEach(b=>{const x=Zt([on("programIdIndex"),Fn(b.keyIndicesCount.length,"keyIndicesCount"),Us(on("keyIndex"),b.keyIndices.length,"keyIndices"),Fn(b.dataLength.length,"dataLength"),Us(on("userdatum"),b.data.length,"data")]).encode(b,i,o);o+=x}),i=i.slice(0,o);const c=Zt([Fn(1,"numRequiredSignatures"),Fn(1,"numReadonlySignedAccounts"),Fn(1,"numReadonlyUnsignedAccounts"),Fn(r.length,"keyCount"),Us(Fr("key"),e,"keys"),Fr("recentBlockhash")]),l={numRequiredSignatures:Re.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Re.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Re.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Re.Buffer.from(r),keys:this.accountKeys.map(b=>qi(b.toBytes())),recentBlockhash:hs.decode(this.recentBlockhash)};let d=Re.Buffer.alloc(2048);const v=c.encode(l,d);return i.copy(d,v),d.slice(0,v+i.length)}static from(e){let r=[...e];const n=wu(r);if(n!==(n&DB))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=wu(r),i=wu(r),o=Fo(r);let c=[];for(let A=0;A<o;A++){const x=qo(r,0,Vl);c.push(new pr(Re.Buffer.from(x)))}const l=qo(r,0,Vl),d=Fo(r);let v=[];for(let A=0;A<d;A++){const x=wu(r),R=Fo(r),C=qo(r,0,R),T=Fo(r),$=qo(r,0,T),O=hs.encode(Re.Buffer.from($));v.push({programIdIndex:x,accounts:C,data:O})}const b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:hs.encode(Re.Buffer.from(l)),accountKeys:c,instructions:v};return new Cf(b)}}class fg{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new J2(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const s=e-n,i=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=r-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)r.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)r.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=hx.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const v of i){const b=r.extractTableLookup(v);if(b!==void 0){const[A,{writable:x,readonly:R}]=b;n.push(A),s.writable.push(...x),s.readonly.push(...R)}}const[o,c]=r.getMessageComponents(),d=new J2(c,s).compileInstructions(e.instructions);return new fg({header:o,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){const e=Array();jo(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();jo(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();jo(i,this.addressTableLookups.length);const o=Zt([on("prefix"),Zt([on("numRequiredSignatures"),on("numReadonlySignedAccounts"),on("numReadonlyUnsignedAccounts")],"header"),Fn(e.length,"staticAccountKeysLength"),Us(Fr(),this.staticAccountKeys.length,"staticAccountKeys"),Fr("recentBlockhash"),Fn(n.length,"instructionsLength"),Fn(r.length,"serializedInstructions"),Fn(i.length,"addressTableLookupsLength"),Fn(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(hp),l=128,d=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(v=>v.toBytes()),recentBlockhash:hs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,d)}serializeInstructions(){let e=0;const r=new Uint8Array(hp);for(const n of this.compiledInstructions){const s=Array();jo(s,n.accountKeyIndexes.length);const i=Array();jo(i,n.data.length);const o=Zt([on("programIdIndex"),Fn(s.length,"encodedAccountKeyIndexesLength"),Us(on(),n.accountKeyIndexes.length,"accountKeyIndexes"),Fn(i.length,"encodedDataLength"),Fn(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(hp);for(const n of this.addressTableLookups){const s=Array();jo(s,n.writableIndexes.length);const i=Array();jo(i,n.readonlyIndexes.length);const o=Zt([Fr("accountKey"),Fn(s.length,"encodedWritableIndexesLength"),Us(on(),n.writableIndexes.length,"writableIndexes"),Fn(i.length,"encodedReadonlyIndexesLength"),Us(on(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=wu(r),s=n&DB;$n(n!==s,"Expected versioned message but received legacy message");const i=s;$n(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:wu(r),numReadonlySignedAccounts:wu(r),numReadonlyUnsignedAccounts:wu(r)},c=[],l=Fo(r);for(let R=0;R<l;R++)c.push(new pr(qo(r,0,Vl)));const d=hs.encode(qo(r,0,Vl)),v=Fo(r),b=[];for(let R=0;R<v;R++){const C=wu(r),T=Fo(r),$=qo(r,0,T),O=Fo(r),D=new Uint8Array(qo(r,0,O));b.push({programIdIndex:C,accountKeyIndexes:$,data:D})}const A=Fo(r),x=[];for(let R=0;R<A;R++){const C=new pr(qo(r,0,Vl)),T=Fo(r),$=qo(r,0,T),O=Fo(r),D=qo(r,0,O);x.push({accountKey:C,writableIndexes:$,readonlyIndexes:D})}return new fg({header:o,staticAccountKeys:c,recentBlockhash:d,compiledInstructions:b,addressTableLookups:x})}}const cce={deserializeMessageVersion(t){const e=t[0],r=e&DB;return r===e?"legacy":r},deserialize:t=>{const e=cce.deserializeMessageVersion(t);if(e==="legacy")return Cf.from(t);if(e===0)return fg.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ml=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const G_t=Re.Buffer.alloc(W2).fill(0);class ks{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Re.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class _u{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ks(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let C=0;C<r.length;C++)if(r[C].programId===void 0)throw new Error(`Transaction instruction index ${C} has undefined program id`);const s=[],i=[];r.forEach(C=>{C.keys.forEach($=>{i.push({...$})});const T=C.programId.toString();s.includes(T)||s.push(T)}),s.forEach(C=>{i.push({pubkey:new pr(C),isSigner:!1,isWritable:!1})});const o=[];i.forEach(C=>{const T=C.pubkey.toString(),$=o.findIndex(O=>O.pubkey.toString()===T);$>-1?(o[$].isWritable=o[$].isWritable||C.isWritable,o[$].isSigner=o[$].isSigner||C.isSigner):o.push(C)}),o.sort(function(C,T){if(C.isSigner!==T.isSigner)return C.isSigner?-1:1;if(C.isWritable!==T.isWritable)return C.isWritable?-1:1;const $={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return C.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",$)});const c=o.findIndex(C=>C.pubkey.equals(n));if(c>-1){const[C]=o.splice(c,1);C.isSigner=!0,C.isWritable=!0,o.unshift(C)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const C of this.signatures){const T=o.findIndex($=>$.pubkey.equals(C.publicKey));if(T>-1)o[T].isSigner||(o[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${C.publicKey.toString()}`)}let l=0,d=0,v=0;const b=[],A=[];o.forEach(({pubkey:C,isSigner:T,isWritable:$})=>{T?(b.push(C.toString()),l+=1,$||(d+=1)):(A.push(C.toString()),$||(v+=1))});const x=b.concat(A),R=r.map(C=>{const{data:T,programId:$}=C;return{programIdIndex:x.indexOf($.toString()),accounts:C.keys.map(O=>x.indexOf(O.pubkey.toString())),data:hs.encode(T)}});return R.forEach(C=>{$n(C.programIdIndex>=0),C.accounts.forEach(T=>$n(T>=0))}),new Cf({header:{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:v},accountKeys:x,recentBlockhash:e,instructions:R})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,i)=>r[i].equals(s.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const s=n.toString();return r.has(s)?!1:(r.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const o=i.publicKey.toString();r.has(o)||(r.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const o=i.publicKey.toString();r.has(o)||(r.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(s=>{const i=tce(n,s.secretKey);this._addSignature(s.publicKey,qi(i))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){$n(r.length===64);const n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Re.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?r&&(n.missing||(n.missing=[])).push(i):D_t(s,e,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,r);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:r}=this,n=[];jo(n,r.length);const s=n.length+r.length*64+e.length,i=Re.Buffer.alloc(s);return $n(r.length<256),Re.Buffer.from(n).copy(i,0),r.forEach(({signature:o},c)=>{o!==null&&($n(o.length===64,"signature has invalid length"),Re.Buffer.from(o).copy(i,n.length+c*64))}),e.copy(i,n.length+r.length*64),$n(i.length<=hp,`Transaction too large: ${i.length} > ${hp}`),i}get keys(){return $n(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return $n(this.instructions.length===1),this.instructions[0].programId}get data(){return $n(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=Fo(r);let s=[];for(let i=0;i<n;i++){const o=qo(r,0,W2);s.push(hs.encode(Re.Buffer.from(o)))}return _u.populate(Cf.from(r),s)}static populate(e,r=[]){const n=new _u;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((s,i)=>{const o={signature:s==hs.encode(G_t)?null:hs.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const c=e.accountKeys[o];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new ks({keys:i,programId:e.accountKeys[s.programIdIndex],data:hs.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}}class fce{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,d=o-c;$n(d>0,"Message header is invalid");const v=e.staticAccountKeys.length-o-l;$n(v>=0,"Message header is invalid");const b=e.getAccountKeys(r),A=b.get(0);if(A===void 0)throw new Error("Failed to decompile message because no account keys were found");const x=[];for(const R of s){const C=[];for(const $ of R.accountKeyIndexes){const O=b.get($);if(O===void 0)throw new Error(`Failed to find key for account key index ${$}`);const D=$<o;let L;D?L=$<d:$<b.staticAccountKeys.length?L=$-o<v:L=$-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,C.push({pubkey:O,isSigner:$<n.numRequiredSignatures,isWritable:L})}const T=b.get(R.programIdIndex);if(T===void 0)throw new Error(`Failed to find program id for program id index ${R.programIdIndex}`);x.push(new ks({programId:T,data:qi(R.data),keys:C}))}return new fce({payerKey:A,instructions:x,recentBlockhash:i})}compileToLegacyMessage(){return Cf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return fg.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class uce{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)$n(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(W2));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();jo(r,this.signatures.length);const n=Zt([Fn(r.length,"encodedSignaturesLength"),Us(q_t(),this.signatures.length,"signatures"),Fn(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let r=[...e];const n=[],s=Fo(r);for(let o=0;o<s;o++)n.push(new Uint8Array(qo(r,0,W2)));const i=cce.deserialize(new Uint8Array(r));return new uce(i,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=n.findIndex(o=>o.equals(s.publicKey));$n(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=tce(r,s.secretKey)}}addSignature(e,r){$n(r.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));$n(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=r}}const W_t=160,J_t=64,Q_t=W_t/J_t,Z_t=1e3/Q_t;new pr("SysvarC1ock11111111111111111111111111111111");new pr("SysvarEpochSchedu1e111111111111111111111111");new pr("Sysvar1nstructions1111111111111111111111111");const JM=new pr("SysvarRecentB1ockHashes11111111111111111111"),uV=new pr("SysvarRent111111111111111111111111111111111");new pr("SysvarRewards111111111111111111111111111111");new pr("SysvarS1otHashes111111111111111111111111111");new pr("SysvarS1otHistory11111111111111111111111111");new pr("SysvarStakeHistory1111111111111111111111111");function P0(t){return new Promise(e=>setTimeout(e,t))}function Ps(t,e){const r=t.layout.span>=0?t.layout.span:oce(t,e),n=Re.Buffer.alloc(r),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,n),n}function Nw(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const X_t=os("lamportsPerSignature"),lce=Zt([nr("version"),nr("state"),Fr("authorizedPubkey"),Fr("nonce"),Zt([X_t],"feeCalculator")]),lV=lce.span;class UB{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=lce.decode(qi(e),0);return new UB({authorizedPubkey:new pr(r.authorizedPubkey),nonce:new pr(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const Y_t=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},e2t=t=>e=>{const r=Fn(t,e),{encode:n,decode:s}=Y_t(r),i=r;return i.decode=(o,c)=>{const l=s(o,c);return Nwt(Re.Buffer.from(l))},i.encode=(o,c,l)=>{const d=Dwt(o,t);return n(d,c,l)},i},ug=e2t(8),ua=Object.freeze({Create:{index:0,layout:Zt([nr("instruction"),Uo("lamports"),Uo("space"),Fr("programId")])},Assign:{index:1,layout:Zt([nr("instruction"),Fr("programId")])},Transfer:{index:2,layout:Zt([nr("instruction"),ug("lamports")])},CreateWithSeed:{index:3,layout:Zt([nr("instruction"),Fr("base"),G0("seed"),Uo("lamports"),Uo("space"),Fr("programId")])},AdvanceNonceAccount:{index:4,layout:Zt([nr("instruction")])},WithdrawNonceAccount:{index:5,layout:Zt([nr("instruction"),Uo("lamports")])},InitializeNonceAccount:{index:6,layout:Zt([nr("instruction"),Fr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Zt([nr("instruction"),Fr("authorized")])},Allocate:{index:8,layout:Zt([nr("instruction"),Uo("space")])},AllocateWithSeed:{index:9,layout:Zt([nr("instruction"),Fr("base"),G0("seed"),Uo("space"),Fr("programId")])},AssignWithSeed:{index:10,layout:Zt([nr("instruction"),Fr("base"),G0("seed"),Fr("programId")])},TransferWithSeed:{index:11,layout:Zt([nr("instruction"),ug("lamports"),G0("seed"),Fr("programId")])},UpgradeNonceAccount:{index:12,layout:Zt([nr("instruction")])}});class Q2{constructor(){}static createAccount(e){const r=ua.Create,n=Ps(r,{lamports:e.lamports,space:e.space,programId:qi(e.programId.toBuffer())});return new ks({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const s=ua.TransferWithSeed;r=Ps(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:qi(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ua.Transfer;r=Ps(s,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ks({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const s=ua.AssignWithSeed;r=Ps(s,{base:qi(e.basePubkey.toBuffer()),seed:e.seed,programId:qi(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ua.Assign;r=Ps(s,{programId:qi(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=ua.CreateWithSeed,n=Ps(r,{base:qi(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:qi(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ks({keys:s,programId:this.programId,data:n})}static createNonceAccount(e){const r=new _u;"basePubkey"in e&&"seed"in e?r.add(Q2.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:lV,programId:this.programId})):r.add(Q2.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:lV,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=ua.InitializeNonceAccount,n=Ps(r,{authorized:qi(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:JM,isSigner:!1,isWritable:!1},{pubkey:uV,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ks(s)}static nonceAdvance(e){const r=ua.AdvanceNonceAccount,n=Ps(r),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:JM,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ks(s)}static nonceWithdraw(e){const r=ua.WithdrawNonceAccount,n=Ps(r,{lamports:e.lamports});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:JM,isSigner:!1,isWritable:!1},{pubkey:uV,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=ua.AuthorizeNonceAccount,n=Ps(r,{authorized:qi(e.newAuthorizedPubkey.toBuffer())});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const s=ua.AllocateWithSeed;r=Ps(s,{base:qi(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:qi(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ua.Allocate;r=Ps(s,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:n,programId:this.programId,data:r})}}Q2.programId=new pr("11111111111111111111111111111111");new pr("BPFLoader2111111111111111111111111111111111");function t2t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r2t=Object.prototype.toString,n2t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function wy(t,e){var r,n,s,i,o,c,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return wy(t.toJSON(),e);if(l=r2t.call(t),l==="[object Array]"){for(s="[",n=t.length-1,r=0;r<n;r++)s+=wy(t[r],!0)+",";return n>-1&&(s+=wy(t[r],!0)),s+"]"}else if(l==="[object Object]"){for(i=n2t(t).sort(),n=i.length,s="",r=0;r<n;)o=i[r],c=wy(t[o],!1),c!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+c),r++;return"{"+s+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var i2t=function(t){var e=wy(t,!1);if(e!==void 0)return""+e},hV=t2t(i2t);const oy=32;function QM(t){let e=0;for(;t>1;)t/=2,e++;return e}function s2t(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class o2t{constructor(e,r,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=QM(s2t(e+oy+1))-QM(oy)-1,n=this.getSlotsInEpoch(r),s=e-(n-oy);return[r,s]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=r%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*oy:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+QM(oy)):this.slotsPerEpoch}}class dV extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}class Yt extends Error{constructor({code:e,message:r,data:n},s){super(s!=null?`${s}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var a2t=globalThis.fetch;class c2t extends k_t{constructor(e,r,n){const s=i=>{const o=L_t(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function f2t(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const pV=56;class gV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=f2t(u2t,e),n=e.length-pV;$n(n>=0,"lookup table is invalid"),$n(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=Zt([Us(Fr(),s,"addresses")]).decode(e.slice(pV));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new pr(r.authority[0]):void 0,addresses:i.map(o=>new pr(o))}}}const u2t={index:1,layout:Zt([nr("typeIndex"),ug("deactivationSlot"),os("lastExtendedSlot"),on("lastExtendedStartIndex"),on(),Us(Fr(),ld(on(),-1),"authority")])},l2t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function h2t(t){const e=t.match(l2t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",c=s==null?null:parseInt(s.slice(1),10),l=c==null?"":`:${c+1}`;return`${o}//${n}${l}${i}`}const Ei=F1(BB(pr),Ot(),t=>new pr(t)),hce=PB([Ot(),Xn("base64")]),FB=F1(BB(Re.Buffer),hce,t=>Re.Buffer.from(t[0],"base64")),d2t=30*1e3;function p2t(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Vn(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...s}=t;e=n,r=s}return{commitment:e,config:r}}function dce(t){return Ro([_t({jsonrpc:Xn("2.0"),id:Ot(),result:t}),_t({jsonrpc:Xn("2.0"),id:Ot(),error:_t({code:U1(),message:Ot(),data:dr(Kwt())})})])}const g2t=dce(U1());function Or(t){return F1(dce(t),g2t,e=>"error"in e?e:{...e,result:Pt(e.result,t)})}function ci(t){return Or(_t({context:_t({slot:Fe()}),value:t}))}function dx(t){return _t({context:_t({slot:Fe()}),value:t})}function ZM(t,e){return t===0?new fg({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new pr(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:hs.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Cf(e)}const v2t=_t({foundation:Fe(),foundationTerm:Fe(),initial:Fe(),taper:Fe(),terminal:Fe()}),y2t=Or(zt(qt(_t({epoch:Fe(),effectiveSlot:Fe(),amount:Fe(),postBalance:Fe(),commission:dr(qt(Fe()))})))),m2t=zt(_t({slot:Fe(),prioritizationFee:Fe()})),b2t=_t({total:Fe(),validator:Fe(),foundation:Fe(),epoch:Fe()}),w2t=_t({epoch:Fe(),slotIndex:Fe(),slotsInEpoch:Fe(),absoluteSlot:Fe(),blockHeight:dr(Fe()),transactionCount:dr(Fe())}),_2t=_t({slotsPerEpoch:Fe(),leaderScheduleSlotOffset:Fe(),warmup:$f(),firstNormalEpoch:Fe(),firstNormalSlot:Fe()}),E2t=jae(Ot(),zt(Fe())),Qd=qt(Ro([_t({}),Ot()])),S2t=_t({err:Qd}),A2t=Xn("receivedSignature"),x2t=_t({"solana-core":Ot(),"feature-set":dr(Fe())}),vV=ci(_t({err:qt(Ro([_t({}),Ot()])),logs:qt(zt(Ot())),accounts:dr(qt(zt(qt(_t({executable:$f(),owner:Ot(),lamports:Fe(),data:zt(Ot()),rentEpoch:dr(Fe())}))))),unitsConsumed:dr(Fe()),returnData:dr(qt(_t({programId:Ot(),data:PB([Ot(),Xn("base64")])})))})),M2t=ci(_t({byIdentity:jae(Ot(),zt(Fe())),range:_t({firstSlot:Fe(),lastSlot:Fe()})}));function I2t(t,e,r,n,s,i){const o=r||a2t;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=async(v,b)=>{const A=await new Promise((x,R)=>{try{n(v,b,(C,T)=>x([C,T]))}catch(C){R(C)}});return await o(...A)}),new __t(async(v,b)=>{const A={method:"POST",body:v,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},REt)};try{let x=5,R,C=500;for(;l?R=await l(t,A):R=await o(t,A),!(R.status!==429||s===!0||(x-=1,x===0));)console.error(`Server responded with ${R.status} ${R.statusText}.  Retrying after ${C}ms delay...`),await P0(C),C*=2;const T=await R.text();R.ok?b(null,T):b(new Error(`${R.status} ${R.statusText}: ${T}`))}catch(x){x instanceof Error&&b(x)}},{})}function R2t(t){return(e,r)=>new Promise((n,s)=>{t.request(e,r,(i,o)=>{if(i){s(i);return}n(o)})})}function T2t(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){n(i);return}r(o)})})}const $2t=Or(v2t),C2t=Or(b2t),O2t=Or(m2t),B2t=Or(w2t),P2t=Or(_2t),N2t=Or(E2t),k2t=Or(Fe()),L2t=ci(_t({total:Fe(),circulating:Fe(),nonCirculating:Fe(),nonCirculatingAccounts:zt(Ei)})),oR=_t({amount:Ot(),uiAmount:qt(Fe()),decimals:Fe(),uiAmountString:dr(Ot())}),D2t=ci(zt(_t({address:Ei,amount:Ot(),uiAmount:qt(Fe()),decimals:Fe(),uiAmountString:dr(Ot())}))),U2t=ci(zt(_t({pubkey:Ei,account:_t({executable:$f(),owner:Ei,lamports:Fe(),data:FB,rentEpoch:Fe()})}))),aR=_t({program:Ot(),parsed:U1(),space:Fe()}),F2t=ci(zt(_t({pubkey:Ei,account:_t({executable:$f(),owner:Ei,lamports:Fe(),data:aR,rentEpoch:Fe()})}))),j2t=ci(zt(_t({lamports:Fe(),address:Ei}))),Tm=_t({executable:$f(),owner:Ei,lamports:Fe(),data:FB,rentEpoch:Fe()}),q2t=_t({pubkey:Ei,account:Tm}),z2t=F1(Ro([BB(Re.Buffer),aR]),Ro([hce,aR]),t=>Array.isArray(t)?Pt(t,FB):t),cR=_t({executable:$f(),owner:Ei,lamports:Fe(),data:z2t,rentEpoch:Fe()}),H2t=_t({pubkey:Ei,account:cR}),V2t=_t({state:Ro([Xn("active"),Xn("inactive"),Xn("activating"),Xn("deactivating")]),active:Fe(),inactive:Fe()}),K2t=Or(zt(_t({signature:Ot(),slot:Fe(),err:Qd,memo:qt(Ot()),blockTime:dr(qt(Fe()))}))),G2t=Or(zt(_t({signature:Ot(),slot:Fe(),err:Qd,memo:qt(Ot()),blockTime:dr(qt(Fe()))}))),W2t=_t({subscription:Fe(),result:dx(Tm)}),J2t=_t({pubkey:Ei,account:Tm}),Q2t=_t({subscription:Fe(),result:dx(J2t)}),Z2t=_t({parent:Fe(),slot:Fe(),root:Fe()}),X2t=_t({subscription:Fe(),result:Z2t}),Y2t=Ro([_t({type:Ro([Xn("firstShredReceived"),Xn("completed"),Xn("optimisticConfirmation"),Xn("root")]),slot:Fe(),timestamp:Fe()}),_t({type:Xn("createdBank"),parent:Fe(),slot:Fe(),timestamp:Fe()}),_t({type:Xn("frozen"),slot:Fe(),timestamp:Fe(),stats:_t({numTransactionEntries:Fe(),numSuccessfulTransactions:Fe(),numFailedTransactions:Fe(),maxTransactionsPerEntry:Fe()})}),_t({type:Xn("dead"),slot:Fe(),timestamp:Fe(),err:Ot()})]),eEt=_t({subscription:Fe(),result:Y2t}),tEt=_t({subscription:Fe(),result:dx(Ro([S2t,A2t]))}),rEt=_t({subscription:Fe(),result:Fe()}),nEt=_t({pubkey:Ot(),gossip:qt(Ot()),tpu:qt(Ot()),rpc:qt(Ot()),version:qt(Ot())}),yV=_t({votePubkey:Ot(),nodePubkey:Ot(),activatedStake:Fe(),epochVoteAccount:$f(),epochCredits:zt(PB([Fe(),Fe(),Fe()])),commission:Fe(),lastVote:Fe(),rootSlot:qt(Fe())}),iEt=Or(_t({current:zt(yV),delinquent:zt(yV)})),sEt=Ro([Xn("processed"),Xn("confirmed"),Xn("finalized")]),oEt=_t({slot:Fe(),confirmations:qt(Fe()),err:Qd,confirmationStatus:dr(sEt)}),aEt=ci(zt(qt(oEt))),cEt=Or(Fe()),pce=_t({accountKey:Ei,writableIndexes:zt(Fe()),readonlyIndexes:zt(Fe())}),jB=_t({signatures:zt(Ot()),message:_t({accountKeys:zt(Ot()),header:_t({numRequiredSignatures:Fe(),numReadonlySignedAccounts:Fe(),numReadonlyUnsignedAccounts:Fe()}),instructions:zt(_t({accounts:zt(Fe()),data:Ot(),programIdIndex:Fe()})),recentBlockhash:Ot(),addressTableLookups:dr(zt(pce))})}),gce=_t({pubkey:Ei,signer:$f(),writable:$f(),source:dr(Ro([Xn("transaction"),Xn("lookupTable")]))}),vce=_t({accountKeys:zt(gce),signatures:zt(Ot())}),yce=_t({parsed:U1(),program:Ot(),programId:Ei}),mce=_t({accounts:zt(Ei),data:Ot(),programId:Ei}),fEt=Ro([mce,yce]),uEt=Ro([_t({parsed:U1(),program:Ot(),programId:Ot()}),_t({accounts:zt(Ot()),data:Ot(),programId:Ot()})]),bce=F1(fEt,uEt,t=>"accounts"in t?Pt(t,mce):Pt(t,yce)),wce=_t({signatures:zt(Ot()),message:_t({accountKeys:zt(gce),instructions:zt(bce),recentBlockhash:Ot(),addressTableLookups:dr(qt(zt(pce)))})}),Z2=_t({accountIndex:Fe(),mint:Ot(),owner:dr(Ot()),uiTokenAmount:oR}),_ce=_t({writable:zt(Ei),readonly:zt(Ei)}),px=_t({err:Qd,fee:Fe(),innerInstructions:dr(qt(zt(_t({index:Fe(),instructions:zt(_t({accounts:zt(Fe()),data:Ot(),programIdIndex:Fe()}))})))),preBalances:zt(Fe()),postBalances:zt(Fe()),logMessages:dr(qt(zt(Ot()))),preTokenBalances:dr(qt(zt(Z2))),postTokenBalances:dr(qt(zt(Z2))),loadedAddresses:dr(_ce),computeUnitsConsumed:dr(Fe())}),qB=_t({err:Qd,fee:Fe(),innerInstructions:dr(qt(zt(_t({index:Fe(),instructions:zt(bce)})))),preBalances:zt(Fe()),postBalances:zt(Fe()),logMessages:dr(qt(zt(Ot()))),preTokenBalances:dr(qt(zt(Z2))),postTokenBalances:dr(qt(zt(Z2))),loadedAddresses:dr(_ce),computeUnitsConsumed:dr(Fe())}),fv=Ro([Xn(0),Xn("legacy")]),Zd=_t({pubkey:Ot(),lamports:Fe(),postBalance:qt(Fe()),rewardType:qt(Ot()),commission:dr(qt(Fe()))}),lEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),transactions:zt(_t({transaction:jB,meta:qt(px),version:dr(fv)})),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),hEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),dEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),transactions:zt(_t({transaction:vce,meta:qt(px),version:dr(fv)})),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),pEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),transactions:zt(_t({transaction:wce,meta:qt(qB),version:dr(fv)})),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),gEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),transactions:zt(_t({transaction:vce,meta:qt(qB),version:dr(fv)})),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),vEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),rewards:dr(zt(Zd)),blockTime:qt(Fe()),blockHeight:qt(Fe())}))),yEt=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),transactions:zt(_t({transaction:jB,meta:qt(px)})),rewards:dr(zt(Zd)),blockTime:qt(Fe())}))),mV=Or(qt(_t({blockhash:Ot(),previousBlockhash:Ot(),parentSlot:Fe(),signatures:zt(Ot()),blockTime:qt(Fe())}))),XM=Or(qt(_t({slot:Fe(),meta:qt(px),blockTime:dr(qt(Fe())),transaction:jB,version:dr(fv)}))),kw=Or(qt(_t({slot:Fe(),transaction:wce,meta:qt(qB),blockTime:dr(qt(Fe())),version:dr(fv)}))),mEt=ci(_t({blockhash:Ot(),feeCalculator:_t({lamportsPerSignature:Fe()})})),bEt=ci(_t({blockhash:Ot(),lastValidBlockHeight:Fe()})),wEt=ci($f()),_Et=_t({slot:Fe(),numTransactions:Fe(),numSlots:Fe(),samplePeriodSecs:Fe()}),EEt=Or(zt(_Et)),SEt=ci(qt(_t({feeCalculator:_t({lamportsPerSignature:Fe()})}))),AEt=Or(Ot()),xEt=Or(Ot()),MEt=_t({err:Qd,logs:zt(Ot()),signature:Ot()}),IEt=_t({result:dx(MEt),subscription:Fe()}),REt={"solana-client":"js/0.0.0-development"};class R3t{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async v=>{const{commitment:b,config:A}=Vn(v),x=this._buildArgs([],b,void 0,A),R=hV(x);return d[R]=d[R]??(async()=>{try{const C=await this._rpcRequest("getBlockHeight",x),T=Pt(C,Or(Fe()));if("error"in T)throw new Yt(T.error,"failed to get block height information");return T.result}finally{delete d[R]}})(),await d[R]}})();let n,s,i,o,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,s=r.httpHeaders,i=r.fetch,o=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=p2t(e),this._rpcWsEndpoint=n||h2t(e),this._rpcClient=I2t(e,s,i,o,c,l),this._rpcRequest=R2t(this._rpcClient),this._rpcBatchRequest=T2t(this._rpcClient),this._rpcWebSocket=new c2t(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgs([e.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),c=Pt(o,ci(Fe()));if("error"in c)throw new Yt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Pt(r,Or(qt(Fe())));if("error"in n)throw new Yt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Pt(e,Or(Fe()));if("error"in r)throw new Yt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Pt(e,k2t);if("error"in r)throw new Yt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),s=Pt(n,L2t);if("error"in s)throw new Yt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenSupply",n),i=Pt(s,ci(oR));if("error"in i)throw new Yt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenAccountBalance",n),i=Pt(s,ci(oR));if("error"in i)throw new Yt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,r,n){const{commitment:s,config:i}=Vn(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const c=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",c),d=Pt(l,U2t);if("error"in d)throw new Yt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),c=Pt(o,F2t);if("error"in c)throw new Yt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],s=await this._rpcRequest("getLargestAccounts",n),i=Pt(s,j2t);if("error"in i)throw new Yt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenLargestAccounts",n),i=Pt(s,D2t);if("error"in i)throw new Yt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgs([e.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),c=Pt(o,ci(qt(Tm)));if("error"in c)throw new Yt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),c=Pt(o,ci(qt(cR)));if("error"in c)throw new Yt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:s}=Vn(r),i=e.map(d=>d.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),c=await this._rpcRequest("getMultipleAccounts",o),l=Pt(c,ci(zt(qt(cR))));if("error"in l)throw new Yt(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:s}=Vn(r),i=e.map(d=>d.toBase58()),o=this._buildArgs([i],n,"base64",s),c=await this._rpcRequest("getMultipleAccounts",o),l=Pt(c,ci(zt(qt(Tm))));if("error"in l)throw new Yt(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:s,config:i}=Vn(r),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getStakeActivation",o),l=Pt(c,Or(V2t));if("error"in l)throw new Yt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){const{commitment:n,config:s}=Vn(r),{encoding:i,...o}=s||{},c=this._buildArgs([e.toBase58()],n,i||"base64",o),l=await this._rpcRequest("getProgramAccounts",c),d=zt(q2t),v=o.withContext===!0?Pt(l,ci(d)):Pt(l,Or(d));if("error"in v)throw new Yt(v.error,`failed to get accounts owned by program ${e.toBase58()}`);return v.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),c=Pt(o,Or(zt(H2t)));if("error"in c)throw new Yt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){var i;let n;if(typeof e=="string")n=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let s;try{s=hs.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return $n(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,s,i=!1;const o=new Promise((l,d)=>{try{n=this.onSignature(r,(b,A)=>{n=void 0;const x={context:A,value:b};l({__type:ml.PROCESSED,response:x})},e);const v=new Promise(b=>{n==null?b():s=this._onSubscriptionStateChange(n,A=>{A==="subscribed"&&b()})});(async()=>{if(await v,i)return;const b=await this.getSignatureStatus(r);if(i||b==null)return;const{context:A,value:x}=b;if(x!=null)if(x!=null&&x.err)d(x.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(x.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(x.confirmationStatus==="processed"||x.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:ml.PROCESSED,response:{context:A,value:x}})}})()}catch(v){d(v)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(b=>{const A=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let x=await A();if(!i){for(;x<=n;)if(await P0(1e3),i||(x=await A(),i))return;b({__type:ml.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),d=this.getCancellationPromise(r);let v;try{const b=await Promise.race([d,l,o]);if(b.__type===ml.PROCESSED)v=b.response;else throw new ice(s)}finally{i=!0,c()}return v}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let c=!1;const l=new Promise(x=>{let R=i,C=null;const T=async()=>{try{const{context:$,value:O}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:n});return C=$.slot,O==null?void 0:O.nonce}catch{return R}};(async()=>{if(R=await T(),!c)for(;;){if(i!==R){x({__type:ml.NONCE_INVALID,slotInWhichNonceDidAdvance:C});return}if(await P0(2e3),c||(R=await T(),c))return}})()}),{abortConfirmation:d,confirmationPromise:v}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),b=this.getCancellationPromise(r);let A;try{const x=await Promise.race([b,v,l]);if(x.__type===ml.PROCESSED)A=x.response;else{let R;for(;;){const C=await this.getSignatureStatus(o);if(C==null)break;if(C.context.slot<(x.slotInWhichNonceDidAdvance??n)){await P0(400);continue}R=C;break}if(R!=null&&R.value){const C=e||"finalized",{confirmationStatus:T}=R.value;switch(C){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new by(o);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new by(o);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new by(o);break;default:($=>{})(C)}A={context:R.context,value:{err:R.value.err}}}else throw new by(o)}}finally{c=!0,d()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const s=new Promise(l=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:ml.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let c;try{const l=await Promise.race([o,s]);if(l.__type===ml.PROCESSED)c=l.response;else throw new sce(r,l.timeoutMs/1e3)}finally{clearTimeout(n),i()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Pt(e,Or(zt(nEt)));if("error"in r)throw new Yt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),s=Pt(n,iEt);if("error"in s)throw new Yt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlot",s),o=Pt(i,Or(Fe()));if("error"in o)throw new Yt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=Pt(i,Or(Ot()));if("error"in o)throw new Yt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],s=await this._rpcRequest("getSlotLeaders",n),i=Pt(s,Or(zt(Ei)));if("error"in i)throw new Yt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,r){const{context:n,value:s}=await this.getSignatureStatuses([e],r);$n(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const s=await this._rpcRequest("getSignatureStatuses",n),i=Pt(s,aEt);if("error"in i)throw new Yt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=Pt(i,Or(Fe()));if("error"in o)throw new Yt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),s=Pt(n,$2t);if("error"in s)throw new Yt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,r,n){const{commitment:s,config:i}=Vn(n),o=this._buildArgs([e.map(d=>d.toBase58())],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getInflationReward",o),l=Pt(c,y2t);if("error"in l)throw new Yt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Pt(e,C2t);if("error"in r)throw new Yt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=Pt(i,B2t);if("error"in o)throw new Yt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Pt(e,P2t);if("error"in r)throw new Yt(r.error,"failed to get epoch schedule");const n=r.result;return new o2t(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Pt(e,N2t);if("error"in r)throw new Yt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=Pt(s,cEt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),s=Pt(n,mEt);if("error"in s)throw new Yt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Pt(r,EEt);if("error"in n)throw new Yt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=Pt(s,SEt);if("error"in i)throw new Yt(i.error,"failed to get fee calculator");const{context:o,value:c}=i.result;return{context:o,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){const n=qi(e.serialize()).toString("base64"),s=this._buildArgs([n],r),i=await this._rpcRequest("getFeeForMessage",s),o=Pt(i,ci(qt(Fe())));if("error"in o)throw new Yt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(c=>c.toBase58()),n=r!=null&&r.length?[r]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=Pt(s,O2t);if("error"in i)throw new Yt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=Pt(i,bEt);if("error"in o)throw new Yt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgs([e],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),c=Pt(o,wEt);if("error"in c)throw new Yt(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Pt(e,Or(x2t));if("error"in r)throw new Yt(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Pt(e,Or(Ot()));if("error"in r)throw new Yt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=Pt(o,dEt);if("error"in c)throw c.error;return c.result}case"none":{const c=Pt(o,hEt);if("error"in c)throw c.error;return c.result}default:{const c=Pt(o,lEt);if("error"in c)throw c.error;const{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:d,meta:v,version:b})=>({meta:v,transaction:{...d,message:ZM(b,d.message)},version:b}))}:null}}}catch(c){throw new Yt(c,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=Pt(o,gEt);if("error"in c)throw c.error;return c.result}case"none":{const c=Pt(o,vEt);if("error"in c)throw c.error;return c.result}default:{const c=Pt(o,pEt);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Yt(c,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:c,...l}=e;n=c,r=l}const s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getBlockProduction",s),o=Pt(i,M2t);if("error"in o)throw new Yt(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getTransaction",i),c=Pt(o,XM);if("error"in c)throw new Yt(c.error,"failed to get transaction");const l=c.result;return l&&{...l,transaction:{...l.transaction,message:ZM(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:s}=Vn(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),c=Pt(o,kw);if("error"in c)throw new Yt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){const{commitment:n,config:s}=Vn(r),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Pt(l,kw);if("error"in d)throw new Yt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){const{commitment:n,config:s}=Vn(r),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Pt(l,XM);if("error"in d)throw new Yt(d.error,"failed to get transactions");const v=d.result;return v&&{...v,transaction:{...v.transaction,message:ZM(v.version,v.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),s=await this._rpcRequest("getConfirmedBlock",n),i=Pt(s,yEt);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const c={...o,transactions:o.transactions.map(({transaction:l,meta:d})=>{const v=new Cf(l.message);return{meta:d,transaction:{...l,message:v}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:d})=>({meta:d,transaction:_u.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){const s=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),i=await this._rpcRequest("getBlocks",s),o=Pt(i,Or(zt(Fe())));if("error"in o)throw new Yt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=Pt(s,mV);if("error"in i)throw new Yt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",n),i=Pt(s,mV);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),s=await this._rpcRequest("getConfirmedTransaction",n),i=Pt(s,XM);if("error"in i)throw new Yt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const c=new Cf(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:_u.populate(c,l)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",n),i=Pt(s,kw);if("error"in i)throw new Yt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const c=Pt(o,kw);if("error"in c)throw new Yt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(r--,!(r<=0||r<i));)try{const l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=Pt(i,K2t);if("error"in o)throw new Yt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getSignaturesForAddress",s),o=Pt(i,G2t);if("error"in o)throw new Yt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:s}=await this.getAccountInfoAndContext(e,r);let i=null;return s!==null&&(i=new gV({key:e,state:gV.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(e,r){const{context:n,value:s}=await this.getAccountInfoAndContext(e,r);let i=null;return s!==null&&(i=UB.fromAccountData(s.data)),{context:n,value:i}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),s=Pt(n,AEt);if("error"in s)throw new Yt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await P0(100);const n=Date.now()-this._blockhashInfo.lastFetch>=d2t;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await P0(Z_t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Vn(e),s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=Pt(i,ci(Fe()));if("error"in o)throw new Yt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const C=e.serialize(),T=Re.Buffer.from(C).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const $=r||{};$.encoding="base64","commitment"in $||($.commitment=this.commitment);const O=[T,$],D=await this._rpcRequest("simulateTransaction",O),L=Pt(D,vV);if("error"in L)throw new Error("failed to simulate transaction: "+L.error.message);return L.result}let s;if(e instanceof _u){let R=e;s=new _u,s.feePayer=R.feePayer,s.instructions=e.instructions,s.nonceInfo=R.nonceInfo,s.signatures=R.signatures}else s=_u.populate(e),s._message=s._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(s.nonceInfo&&i)s.sign(...i);else{let R=this._disableBlockhashCaching;for(;;){const C=await this._blockhashWithExpiryBlockHeight(R);if(s.lastValidBlockHeight=C.lastValidBlockHeight,s.recentBlockhash=C.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const T=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else R=!0}}const o=s._compile(),c=o.serialize(),d=s._serialize(c).toString("base64"),v={encoding:"base64",commitment:this.commitment};if(n){const R=(Array.isArray(n)?n:o.nonProgramIds()).map(C=>C.toBase58());v.accounts={encoding:"base64",addresses:R}}i&&(v.sigVerify=!0);const b=[d,v],A=await this._rpcRequest("simulateTransaction",b),x=Pt(A,vV);if("error"in x){let R;if("data"in x.error&&(R=x.error.data.logs,R&&Array.isArray(R))){const C=`
    `,T=C+R.join(C);console.error(x.error.message,T)}throw new dV("failed to simulate transaction: "+x.error.message,R)}return x.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,r){const n=qi(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},s=r&&r.skipPreflight,i=s===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[e,n],c=await this._rpcRequest("sendTransaction",o),l=Pt(c,xEt);if("error"in l){let d;throw"data"in l.error&&(d=l.error.data.logs),new dV("failed to send transaction: "+l.error.message,d)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var s;const n=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var i;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[n]||(i[n]=new Set);return s.add(r),()=>{s.delete(r),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const c=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=s.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${o} error for argument`,i,c.message),!r())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(c){if(c instanceof Error&&console.error(`${o} error:`,c.message),!r())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(s=>{try{s(...r)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Pt(e,W2t);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,s=hV([e.method,r],!0),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];$n(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Pt(e,Q2t);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,s){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Pt(e,IEt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Pt(e,X2t);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Pt(e,eEt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,s){const i=r||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,s){const i=r||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,s)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Pt(e,tEt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const s=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,c)=>{if(o.type==="status"){r(o.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,r,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),c=this._makeSubscription({callback:(l,d)=>{r(l,d);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Pt(e,rEt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class M_{constructor(e){this._keypair=void 0,this._keypair=e??aV()}static generate(){return new M_(aV())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const s=e.slice(0,32),i=sR(s);for(let o=0;o<32;o++)if(n[o]!==i[o])throw new Error("provided secretKey is invalid")}return new M_({publicKey:n,secretKey:e})}static fromSeed(e){const r=sR(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new M_({publicKey:r,secretKey:n})}get publicKey(){return new pr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:Zt([nr("instruction"),ug("recentSlot"),on("bumpSeed")])},FreezeLookupTable:{index:1,layout:Zt([nr("instruction")])},ExtendLookupTable:{index:2,layout:Zt([nr("instruction"),ug(),Us(Fr(),ld(nr(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Zt([nr("instruction")])},CloseLookupTable:{index:4,layout:Zt([nr("instruction")])}});new pr("AddressLookupTab1e1111111111111111111111111");class T3t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=on("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Eu))if(o.index==n){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=Nw(Eu.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=Nw(Eu.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=Nw(Eu.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=Nw(Eu.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(Ece.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Eu=Object.freeze({RequestUnits:{index:0,layout:Zt([on("instruction"),nr("units"),nr("additionalFee")])},RequestHeapFrame:{index:1,layout:Zt([on("instruction"),nr("bytes")])},SetComputeUnitLimit:{index:2,layout:Zt([on("instruction"),nr("units")])},SetComputeUnitPrice:{index:3,layout:Zt([on("instruction"),ug("microLamports")])}});class Ece{constructor(){}static requestUnits(e){const r=Eu.RequestUnits,n=Ps(r,e);return new ks({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=Eu.RequestHeapFrame,n=Ps(r,e);return new ks({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=Eu.SetComputeUnitLimit,n=Ps(r,e);return new ks({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=Eu.SetComputeUnitPrice,n=Ps(r,{microLamports:BigInt(e.microLamports)});return new ks({keys:[],programId:this.programId,data:n})}}Ece.programId=new pr("ComputeBudget111111111111111111111111111111");Zt([on("numSignatures"),on("padding"),ya("signatureOffset"),ya("signatureInstructionIndex"),ya("publicKeyOffset"),ya("publicKeyInstructionIndex"),ya("messageDataOffset"),ya("messageDataSize"),ya("messageInstructionIndex")]);new pr("Ed25519SigVerify111111111111111111111111111");Ls.utils.isValidPrivateKey;Ls.getPublicKey;Zt([on("numSignatures"),ya("signatureOffset"),on("signatureInstructionIndex"),ya("ethAddressOffset"),on("ethAddressInstructionIndex"),ya("messageDataOffset"),ya("messageDataSize"),on("messageInstructionIndex"),Fn(20,"ethAddress"),Fn(64,"signature"),on("recoveryId")]);new pr("KeccakSecp256k11111111111111111111111111111");var Sce;new pr("StakeConfig11111111111111111111111111111111");class Ace{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}Sce=Ace;Ace.default=new Sce(0,0,pr.default);Object.freeze({Initialize:{index:0,layout:Zt([nr("instruction"),z_t(),H_t()])},Authorize:{index:1,layout:Zt([nr("instruction"),Fr("newAuthorized"),nr("stakeAuthorizationType")])},Delegate:{index:2,layout:Zt([nr("instruction")])},Split:{index:3,layout:Zt([nr("instruction"),Uo("lamports")])},Withdraw:{index:4,layout:Zt([nr("instruction"),Uo("lamports")])},Deactivate:{index:5,layout:Zt([nr("instruction")])},Merge:{index:7,layout:Zt([nr("instruction")])},AuthorizeWithSeed:{index:8,layout:Zt([nr("instruction"),Fr("newAuthorized"),nr("stakeAuthorizationType"),G0("authoritySeed"),Fr("authorityOwner")])}});new pr("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Zt([nr("instruction"),V_t()])},Authorize:{index:1,layout:Zt([nr("instruction"),Fr("newAuthorized"),nr("voteAuthorizationType")])},Withdraw:{index:3,layout:Zt([nr("instruction"),Uo("lamports")])},UpdateValidatorIdentity:{index:4,layout:Zt([nr("instruction")])},AuthorizeWithSeed:{index:10,layout:Zt([nr("instruction"),K_t()])}});new pr("Vote111111111111111111111111111111111111111");new pr("Va1idator1nfo111111111111111111111111111111");_t({name:Ot(),website:dr(Ot()),details:dr(Ot()),keybaseUsername:dr(Ot())});new pr("Vote111111111111111111111111111111111111111");Zt([Fr("nodePubkey"),Fr("authorizedWithdrawer"),on("commission"),os(),Us(Zt([os("slot"),nr("confirmationCount")]),ld(nr(),-8),"votes"),on("rootSlotValid"),os("rootSlot"),os(),Us(Zt([os("epoch"),Fr("authorizedVoter")]),ld(nr(),-8),"authorizedVoters"),Zt([Us(Zt([Fr("authorizedPubkey"),os("epochOfLastAuthorizedSwitch"),os("targetEpoch")]),32,"buf"),os("idx"),on("isEmpty")],"priorVoters"),os(),Us(Zt([os("epoch"),os("credits"),os("prevCredits")]),ld(nr(),-8),"epochCredits"),Zt([os("slot"),os("timestamp")],"lastTimestamp")]);const $3t=!1,C3t=!1,O3t="https://control.pontem.network",B3t="pontem-wallet",P3t="2.6.18",N3t=["1","2","3","4","5","6","7","8","9","0"],k3t=[".",","],L3t=["Backspace","Delete","ArrowLeft","ArrowRight"],D3t=9,U3t=5,F3t=100,j3t="608c1ab5-08be-44f6-87bf-3868bd0b8f2a",q3t="https://testnet.noon-ts.pontem.network",z3t="https://render.noon-ts.pontem.network",H3t="https://cloudflare-ipfs.com/ipfs/",V3t="https://pontem.network/posts/pontem-wallet-ledger-instruction",K3t="84f909fb-cdb3-40bb-8d75-d35d1a8de735",G3t="2ac1a296c692de531bc5c3da6fec24ef",W3t="https://pontem.network/why",J3t="https://storage.googleapis.com",Q3t=/(https:[/][/])|(http:[/][/])/i,Z3t=/^0x[a-fA-F0-9]{40}$/g;function ic(t,e){return({code:r,message:n,details:s}={})=>({code:r??bV[t]??bV.InternalError,message:n??e??`${t}Error`,details:s})}const bV={InternalError:1001,RejectedByUser:1002,TransactionSubmit:4001,TransactionSign:4002,TransactionGenerate:4003,TransactionSimulate:4004,LedgerNotConnected:5001,LedgerRejected:5002,InvalidLedgerConnected:5003,UnsupportedTypedMessageVersion:5004,LedgerBlindSign:-10},X3t={InternalError:ic("InternalError","Internal Error"),RejectedByUser:ic("RejectedByUser","Rejected by User"),TransactionSubmit:ic("TransactionSubmit"),TransactionSign:ic("TransactionSign"),TransactionGenerate:ic("TransactionGenerate"),TransactionSimulate:ic("TransactionSimulate"),LedgerNotConnected:ic("LedgerNotConnected","Ledger device is not connected"),LedgerRejected:ic("LedgerRejected","Transaction has been denied by the ledger device"),LedgerBlindSign:ic("LedgerBlindSign","Try enabling blind signature on your device"),InvalidLedgerConnected:ic("InvalidLedgerConnected","Invalid ledger device connected"),UnsupportedTypedMessageVersion:ic("UnsupportedTypedMessageVersion","Ledger: Only version 4 of typed data signing is supported")};var TEt=(t=>(t.NO_SORT="Recently Added",t.TOP_FAVORITES="Favorites",t.TOP_LOOSERS="Top Losers",t.TOP_GAINERS="Top Gainers",t))(TEt||{});const Y3t=[{label:"Recently Added"},{label:"Favorites"},{label:"Top Gainers"},{label:"Top Losers"}];export{Cn as $,fSt as A,_5e as B,rSt as C,dk as D,jSt as E,QSt as F,XSt as G,TJ as H,GG as I,t8e as J,QEt as K,aSt as L,M_e as M,eT as N,x_e as O,l9 as P,DJ as Q,V_ as R,bSt as S,I_e as T,A_e as U,LSt as V,Ht as W,jJ as X,BSt as Y,A5e as Z,nd as _,R_e as a,dL as a$,Ba as a0,eS as a1,Sa as a2,K_ as a3,Wl as a4,PSt as a5,zJ as a6,iS as a7,R5e as a8,T5e as a9,HSt as aA,e8e as aB,J8e as aC,zSt as aD,Pi as aE,eAt as aF,YSt as aG,nAt as aH,NSt as aI,kSt as aJ,nS as aK,art as aL,iAt as aM,sAt as aN,_rt as aO,frt as aP,Vtt as aQ,oAt as aR,tt as aS,Br as aT,Dj as aU,kj as aV,hL as aW,SU as aX,AU as aY,tU as aZ,lL as a_,$5e as aa,C5e as ab,O5e as ac,B5e as ad,P5e as ae,N5e as af,HJ as ag,aAt as ah,ch as ai,Ko as aj,If as ak,rAt as al,tAt as am,_9 as an,ZSt as ao,VSt as ap,vn as aq,Ia as ar,FSt as as,w5e as at,CT as au,Gl as av,ds as aw,jtt as ax,DSt as ay,USt as az,WEt as b,MSt as b$,OU as b0,gL as b1,UU as b2,$j as b3,Cj as b4,YU as b5,GU as b6,Mj as b7,Ej as b8,KU as b9,Ute as bA,cxt as bB,fxt as bC,Xxt as bD,Lr as bE,Ep as bF,Qt as bG,j_e as bH,ASt as bI,ZAt as bJ,axt as bK,Qxt as bL,Yne as bM,f_ as bN,d_ as bO,fd as bP,QAt as bQ,_f as bR,us as bS,Jt as bT,Xrt as bU,Bs as bV,Id as bW,Zg as bX,Xg as bY,bl as bZ,XAt as b_,XU as ba,mj as bb,Pj as bc,Sj as bd,Mk as be,q9 as bf,b9 as bg,Ak as bh,vj as bi,JU as bj,Rj as bk,dj as bl,Ek as bm,xk as bn,pj as bo,Ik as bp,Lj as bq,DU as br,lxt as bs,bs as bt,hxt as bu,uxt as bv,dxt as bw,yCe as bx,ECe as by,Uu as bz,QG as c,UA as c$,ISt as c0,st as c1,SSt as c2,a_e as c3,HEt as c4,OEt as c5,e3t as c6,Yxt as c7,n_e as c8,r_e as c9,IAt as cA,v8 as cB,hlt as cC,qf as cD,SBe as cE,Ui as cF,oX as cG,cBe as cH,Ey as cI,$At as cJ,TAt as cK,Au as cL,CAt as cM,bZ as cN,KG as cO,Zy as cP,Qe as cQ,ez as cR,Ql as cS,yy as cT,aM as cU,eh as cV,Dn as cW,SO as cX,LA as cY,fM as cZ,jht as c_,BAt as ca,HG as cb,BEt as cc,jEt as cd,JAt as ce,FEt as cf,PEt as cg,u_e as ch,c_e as ci,l_e as cj,h_e as ck,VG as cl,b_e as cm,w_e as cn,qEt as co,NEt as cp,zEt as cq,kEt as cr,LEt as cs,DEt as ct,i_e as cu,s_e as cv,UEt as cw,o_e as cx,MAt as cy,RAt as cz,S_e as d,sn as d$,rdt as d0,idt as d1,TO as d2,gh as d3,Yie as d4,DA as d5,Xie as d6,A1 as d7,vO as d8,ese as d9,yn as dA,Oy as dB,sp as dC,LI as dD,wa as dE,ym as dF,AO as dG,b_ as dH,s3t as dI,qht as dJ,Uht as dK,Wie as dL,o3t as dM,Rd as dN,kA as dO,Oht as dP,adt as dQ,rg as dR,It as dS,x1 as dT,t3t as dU,a0t as dV,l3t as dW,Ol as dX,Ldt as dY,u3t as dZ,yse as d_,_O as da,r3t as db,kht as dc,bO as dd,yO as de,_ht as df,kI as dg,wht as dh,wO as di,S1 as dj,OI as dk,Kie as dl,mO as dm,CI as dn,m_ as dp,i3t as dq,n3t as dr,mht as ds,E1 as dt,li as du,Eht as dv,Td as dw,Nht as dx,Io as dy,ui as dz,eSt as e,Kn as e$,JI as e0,Odt as e1,kdt as e2,Bdt as e3,mse as e4,nse as e5,aBe as e6,sBe as e7,oBe as e8,UI as e9,KW as eA,OS as eB,ET as eC,Ic as eD,r1 as eE,BS as eF,mDe as eG,Tnt as eH,cnt as eI,g3t as eJ,gVe as eK,HW as eL,Vpt as eM,ms as eN,ppt as eO,Lpt as eP,VE as eQ,Fpt as eR,c3t as eS,b$ as eT,PS as eU,cke as eV,OAt as eW,SAt as eX,AAt as eY,xAt as eZ,FQ as e_,$dt as ea,az as eb,Bp as ec,A0t as ed,m0t as ee,Mdt as ef,iBe as eg,Ndt as eh,a3t as ei,ise as ej,Pdt as ek,FI as el,DI as em,jO as en,js as eo,tpt as ep,W0t as eq,Y0t as er,Cu as es,Gn as et,Z0t as eu,h3t as ev,Hz as ew,X0t as ex,d3t as ey,$c as ez,tSt as f,on as f$,dE as f0,km as f1,lg as f2,t_e as f3,b3t as f4,Wlt as f5,SS as f6,eW as f7,w3t as f8,Vat as f9,rbt as fA,Aa as fB,Vbt as fC,af as fD,Nl as fE,mu as fF,an as fG,Mu as fH,cf as fI,qH as fJ,S3t as fK,Gbt as fL,Vi as fM,Wbt as fN,E3t as fO,Kbt as fP,bA as fQ,BZe as fR,yo as fS,A3t as fT,nxt as fU,rxt as fV,tW as fW,pr as fX,Fn as fY,Nwt as fZ,Dwt as f_,sc as fa,wSt as fb,Yrt as fc,dc as fd,txt as fe,Jpt as ff,jl as fg,q_e as fh,kR as fi,qm as fj,rT as fk,jd as fl,_g as fm,BNe as fn,iE as fo,prt as fp,MC as fq,KAt as fr,KSt as fs,xSt as ft,YAt as fu,VAt as fv,JSt as fw,ext as fx,Zrt as fy,L5 as fz,YEt as g,z3t as g$,ov as g0,os as g1,Zt as g2,nr as g3,Uo as g4,Us as g5,ld as g6,ya as g7,Ls as g8,hs as g9,Os as gA,W3t as gB,$3t as gC,qSt as gD,Ri as gE,Eo as gF,lr as gG,_3t as gH,$_t as gI,C_t as gJ,I_t as gK,cg as gL,G0t as gM,K0t as gN,X_ as gO,aCe as gP,N3t as gQ,L3t as gR,k3t as gS,Lp as gT,G3t as gU,C3t as gV,du as gW,WSt as gX,U3t as gY,F3t as gZ,PAt as g_,c8 as ga,dm as gb,_ae as gc,Eae as gd,vae as ge,ks as gf,Q2 as gg,uce as gh,_u as gi,ixt as gj,c_ as gk,Ece as gl,fce as gm,gV as gn,T3t as go,tK as gp,une as gq,oxt as gr,M_ as gs,rW as gt,sxt as gu,VEt as gv,R3t as gw,mn as gx,VQ as gy,la as gz,ZEt as h,Ry as h$,q3t as h0,H3t as h1,K9 as h2,kUe as h3,h2 as h4,O3t as h5,j3t as h6,K3t as h7,B3t as h8,P3t as h9,q0 as hA,qd as hB,CS as hC,k9e as hD,nW as hE,Q3t as hF,X3t as hG,FJ as hH,s1 as hI,bV as hJ,yi as hK,Wpt as hL,hie as hM,tO as hN,mo as hO,YR as hP,lAt as hQ,hAt as hR,vQe as hS,om as hT,Lte as hU,zg as hV,V3t as hW,D3t as hX,_St as hY,y8 as hZ,J3t as h_,mnt as ha,y3t as hb,Ld as hc,Df as hd,m3t as he,NAt as hf,OSt as hg,CSt as hh,v3t as hi,VLe as hj,sst as hk,Lf as hl,Tpt as hm,k$ as hn,bGe as ho,uGe as hp,kAt as hq,ST as hr,Bpt as hs,I9e as ht,c9e as hu,Wm as hv,p3t as hw,Ig as hx,kg as hy,cUe as hz,nSt as i,Hi as i$,Lit as i0,RSt as i1,TSt as i2,$St as i3,Z3t as i4,ESt as i5,TEt as i6,Y3t as i7,Oat as i8,Qp as i9,Pa as iA,bAt as iB,FOe as iC,vAt as iD,gAt as iE,UOe as iF,a$ as iG,_Oe as iH,at as iI,EOe as iJ,wOe as iK,Qh as iL,gOe as iM,aZ as iN,pAt as iO,Z8 as iP,wAt as iQ,EL as iR,_At as iS,_L as iT,EAt as iU,JOe as iV,yAt as iW,mAt as iX,dAt as iY,dOe as iZ,oZ as i_,w2 as ia,eC as ib,Jp as ic,llt as id,Qlt as ie,St as ig,Qw as ih,o$ as ii,yOe as ij,uZ as ik,pZ as il,DOe as im,uOe as io,VOe as ip,X8 as iq,lOe as ir,U0 as is,c$ as it,mL as iu,WOe as iv,ZOe as iw,QOe as ix,XOe as iy,YOe as iz,KEt as j,gSt as k,ySt as l,GEt as m,vSt as n,mSt as o,cSt as p,oSt as q,JEt as r,uSt as s,lSt as t,hSt as u,dSt as v,iSt as w,sSt as x,pSt as y,XEt as z};
