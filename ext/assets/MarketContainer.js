import{j as e,c as d,C as M,u as w,a as F,b as x,d as T,p as P,B as W,e as A,I as b,S as B,M as H,f as h,g as O,h as E,L as R,H as $,F as V,i as K,k as z}from"./index.html.js";import{i6 as u,hb as U,eo as p,i7 as q}from"./index2.js";import"./index.js";function D(a,s){return r=>{let o=r.market.marketInfos;const i=r.market.favorites||[];if(a){const n=a.toLowerCase();o=o.filter(c=>{var f,j,C,k,v,g;const m=(j=(f=c.coinType)==null?void 0:f.toLowerCase())==null?void 0:j.includes(n),_=(k=(C=c.name)==null?void 0:C.toLowerCase())==null?void 0:k.includes(n),S=(g=(v=c.symbol)==null?void 0:v.toLowerCase())==null?void 0:g.includes(n);return m||_||S})}if(s!==u.NO_SORT){const n=s===u.TOP_LOOSERS?"asc":"desc";o=U(o,c=>{if(s===u.TOP_FAVORITES)return i.includes(c.coinType);{const m=n==="asc"?1/0:-1/0;return c.change24HPrice?c.change24HPrice:m}},n)}return o}}const G="_chipsWrapper_1ad27_12",J="_chip_1ad27_12",N={chipsWrapper:G,chip:J},Q=({onClick:a,className:s=""})=>{const[r,o]=p.useState("Favorites"),i=n=>{o(n),a(n)};return e.jsx("div",{className:d(N.chipsWrapper,s),children:q.map(n=>e.jsx(M,{label:n.label,onClick:()=>i(n.label),className:N.chip,"data-tid":`select-chip-${n.label.toLocaleLowerCase().replace(/ /g,"-")}`,sx:{color:r===n.label?"var(--white)":"var(--brand-secondary)",backgroundColor:r===n.label?"#4A495E":"#1C1C33",fontSize:"15px",lineHeight:"16px"}},n.label))})},X=p.memo(Q),Y=({isFilled:a=!0})=>{const s=p.useId();return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[e.jsx("mask",{id:s,fill:"#fff",children:e.jsx("path",{d:"M11.294 14.534a1.154 1.154 0 001.562-.495 1.18 1.18 0 00.114-.743l-.625-3.606 2.63-2.538c.462-.445.48-1.183.038-1.649a1.155 1.155 0 00-.677-.35l-3.65-.526-1.649-3.312a1.154 1.154 0 00-2.075 0L5.314 4.627l-3.65.526a1.17 1.17 0 00-.638 2L3.654 9.69l-.624 3.606c-.112.635.308 1.24.938 1.353.252.045.511.005.738-.115L8 12.82l3.294 1.714z"})}),a&&e.jsx("path",{fill:"#9594AA",d:"M11.294 14.534a1.154 1.154 0 001.562-.495 1.18 1.18 0 00.114-.743l-.625-3.606 2.63-2.538c.462-.445.48-1.183.038-1.649a1.155 1.155 0 00-.677-.35l-3.65-.526-1.649-3.312a1.154 1.154 0 00-2.075 0L5.314 4.627l-3.65.526a1.17 1.17 0 00-.638 2L3.654 9.69l-.624 3.606c-.112.635.308 1.24.938 1.353.252.045.511.005.738-.115L8 12.82l3.294 1.714z"}),e.jsx("path",{fill:"#9594AA",d:"M11.294 14.534l.692-1.331a1.5 1.5 0 01-.692 2.83v-1.5zm0 0l-.699 1.327a1.5 1.5 0 01.699-2.827v1.5zm1.562-.495l-1.332-.69 1.332.69zm.114-.743l-1.478.26v-.004l1.477-.256zm-.625-3.606l-1.478.256a1.5 1.5 0 01.436-1.335l1.042 1.079zm3.668-1.456a1.5 1.5 0 01-2.078-2.164l2.078 2.164zm-1-2.731l-1.09 1.031 1.09-1.031zm-.677-.35l-.21 1.485h-.004l.214-1.485zm-3.65-.526l-.214 1.485a1.5 1.5 0 01-1.13-.817l1.343-.668zM10.382.653A1.5 1.5 0 017.69 1.978L10.383.653zM7.486.788l.67 1.342-.67-1.342zm-.524.527l1.346.663-.003.006-1.343-.669zM5.314 4.627l1.343.668a1.5 1.5 0 01-1.129.817l-.214-1.485zm-3.86-.96a1.5 1.5 0 11.42 2.971l-.42-2.97zm.21 1.486l.213 1.485h-.004l-.21-1.485zM.678 6.47l-1.486.207L.678 6.47zm.347.682l1.04-1.082.002.003-1.042 1.079zm2.63 2.538l1.041-1.08a1.5 1.5 0 01.437 1.336L3.655 9.69zm-2.102 3.346a1.5 1.5 0 012.954.52l-2.954-.52zm1.477.26l1.478.256v.005l-1.478-.26zm.938 1.353l-.264 1.476.264-1.476zm.738-.115l-.698-1.327.005-.003.693 1.33zM8 12.82l-.693-1.33a1.5 1.5 0 011.385 0L8 12.82zm3.294 3.214v-3 3zm.698-2.828a.346.346 0 00-.468.143l2.664 1.38a2.654 2.654 0 01-3.593 1.132l1.397-2.655zm-.468.143a.326.326 0 00-.032.207l2.955-.52a2.674 2.674 0 01-.26 1.694l-2.663-1.38zm-.032.203l-.625-3.606 2.956-.512.624 3.606-2.955.512zm-.189-4.941l2.63-2.538 2.083 2.158-2.63 2.538-2.083-2.158zm2.632-2.54a.328.328 0 00-.011.463l2.178-2.062a2.672 2.672 0 01-.089 3.762L13.935 6.07zm-.011.463a.345.345 0 00.202.104l.42-2.97a2.655 2.655 0 011.556.804l-2.178 2.062zm.198.104l-3.65-.526.427-2.97 3.65.526-.427 2.97zm-4.78-1.343L7.694 1.984 10.38.647l1.648 3.312-2.686 1.336zm-1.65-3.317c.08.163.287.24.464.152L6.816-.554A2.654 2.654 0 0110.383.653L7.691 1.978zm.464.152a.338.338 0 00.152-.152L5.616.653a2.662 2.662 0 011.2-1.207l1.34 2.684zm.15-.146l-1.65 3.311L3.971 3.96 5.62.647l2.686 1.337zM5.527 6.112l-3.65.526-.428-2.97 3.65-.526.428 2.97zm-3.655.526a.335.335 0 00.29-.375l-2.971.414a2.665 2.665 0 012.262-3.01l.42 2.971zm.29-.375a.33.33 0 00-.099-.193L-.014 8.234a2.67 2.67 0 01-.794-1.557l2.971-.414zm-.096-.19l2.63 2.538-2.084 2.158-2.63-2.538 2.084-2.158zm3.066 3.873l-.625 3.606-2.956-.511.624-3.607 2.957.512zm-.626 3.61a.334.334 0 00-.275-.384l-.528 2.953a2.666 2.666 0 01-2.151-3.089l2.954.52zm-.275-.384a.35.35 0 00-.224.035l1.396 2.655a2.65 2.65 0 01-1.7.263l.528-2.953zm-.219.032l3.294-1.715 1.385 2.661-3.294 1.715-1.385-2.661zm4.68-1.715l3.293 1.714-1.385 2.661-3.294-1.714 1.385-2.66z",mask:`url(#${s})`})]})};function Z(a){return s=>(s.market.favorites||[]).includes(a)}const ee="_skeletonContainer_1b842_12",ae="_container_1b842_21",ne="_tokenIcon_1b842_36",te="_tokenInfo_1b842_45",se="_dataContainer_1b842_51",oe="_balanceContainerEnd_1b842_60",re="_balance_1b842_60",ce="_fiat_1b842_72",ie="_infoContainer_1b842_80",le="_infoBlock_1b842_87",me="_tokenName_1b842_97",pe="_currencyRateChange_1b842_101",de="_negative_1b842_109",he="_tokenSymbol_1b842_113",_e="_coinPrice_1b842_117",ue="_iconButton_1b842_124",xe="_chevronIcon_1b842_124",t={skeletonContainer:ee,container:ae,tokenIcon:ne,tokenInfo:te,dataContainer:se,balanceContainerEnd:oe,balance:re,fiat:ce,infoContainer:ie,infoBlock:le,tokenName:me,currencyRateChange:pe,negative:de,tokenSymbol:he,coinPrice:_e,iconButton:ue,chevronIcon:xe},y=p.memo(({token:a,showStarIcon:s})=>{const r=w(),{action:o}=F("market.toggleFavorite"),i=x(Z(a.coinType)),n=T.format(a.price),c=a.change24HPrice&&a.change24HPrice<0,m=P.format((a.change24HPrice||0)/100),_=()=>{r(`${H}/coin/${a.coinType}`)};return e.jsxs("li",{className:t.container,children:[e.jsxs(W,{className:t.tokenInfo,onClick:_,"data-tid":"market-select-coin","data-tparam":a.coinType,children:[e.jsx("div",{className:t.tokenIcon,children:e.jsx(A,{url:a.logoUrl})}),e.jsxs("div",{className:t.infoContainer,children:[e.jsxs("div",{className:t.infoBlock,children:[e.jsx("span",{className:d("p-normal__medium",t.tokenName),children:a.symbol}),e.jsx("span",{className:d("p-smaller__medium",t.tokenSymbol),children:a.name})]}),e.jsxs("div",{className:t.infoBlock,children:[e.jsx("span",{className:d("p-smaller__medium",t.coinPrice),children:n}),a.change24HPrice&&e.jsx("span",{className:d("p-normal__medium",t.currencyRateChange,{[t.negative]:c}),children:m})]})]})]}),s?e.jsx(b,{onClick:()=>o(a.coinType),"data-tid":"market-select-toggle-favorite-coin","data-tparam":a.coinType,children:e.jsx(Y,{isFilled:i})}):e.jsx(b,{className:t.iconButton,onClick:_,"data-tid":"market-select-coin","data-tparam":a.coinType,children:e.jsx(B,{className:t.chevronIcon})})]})});y.displayName="MarketListItem";const L=p.memo(()=>e.jsxs("li",{className:t.skeletonContainer,children:[e.jsx("div",{className:t.tokenIcon,children:e.jsx(h,{variant:"circular",width:32,height:32})}),e.jsxs("div",{className:t.dataContainer,children:[e.jsx("span",{className:t.balance,children:e.jsx(h,{width:"80px",height:"16px"})}),e.jsx("span",{className:t.fiat,children:e.jsx(h,{width:"60px",height:"14px"})})]}),e.jsxs("div",{className:d(t.balanceContainer,t.balanceContainerEnd),children:[e.jsx("span",{className:t.balance,children:e.jsx(h,{width:"80px",height:"14px"})}),e.jsx("span",{className:t.fiat,children:e.jsx(h,{width:"60px",height:"12px"})})]})]}));L.displayName="MarketListItemSkeleton";const fe="_chipsContainer_jrfmx_12",je="_header_jrfmx_16",Ce="_title_jrfmx_26",ke="_skeletonWrapper_jrfmx_35",ve="_titleContainer_jrfmx_40",ge="_subtitle_jrfmx_47",be="_notFoundWrapper_jrfmx_58",ze="_appHeader_jrfmx_88",Ne="_screenContainerPopup_jrfmx_92",ye="_listWrapper_jrfmx_96",Le="_searchInput_jrfmx_100",Ie="_search_jrfmx_100",l={chipsContainer:fe,header:je,title:Ce,skeletonWrapper:ke,titleContainer:ve,subtitle:ge,notFoundWrapper:be,appHeader:ze,screenContainerPopup:Ne,listWrapper:ye,searchInput:Le,search:Ie},I=p.memo(({showCoinsList:a,filteredList:s})=>{const r=p.useMemo(()=>[...Array(12)],[]);return a?e.jsx("ul",{className:l.listWrapper,children:a&&s&&s.map(o=>e.jsx(y,{token:o,showStarIcon:!0},o.coinType))}):e.jsx("ul",{className:l.listWrapper,children:r.map((o,i)=>e.jsx(L,{},i))})});I.displayName="MarketListSection";const Fe=()=>{var m;const[a,s]=p.useState("Favorites"),{t:r}=O(),o=E({initialValues:{search:""},validateOnBlur:!0,validateOnChange:!0,validateOnMount:!1,onSubmit:()=>{}}),i=x("market.isReady"),n=x(D((m=o.values)==null?void 0:m.search,a)),c=i&&(n==null?void 0:n.length)===0;return e.jsxs(R,{noPopupNavigation:!0,children:[e.jsx($,{title:r("Markets Overview"),navigateCloseLink:!0}),e.jsxs("div",{className:l.main,children:[e.jsx(V,{formik:o,className:l.searchInput,children:e.jsx(K,{autoFocus:!0,type:"search",name:"search",placeholder:r("Token name or address"),startIcon:e.jsx(z,{className:l.searchIcon}),autoComplete:"off",className:l.search,formik:o})}),e.jsx(X,{className:l.chipsContainer,onClick:s}),e.jsx(I,{showCoinsList:!!i,filteredList:n}),c&&e.jsxs("div",{className:l.notFoundWrapper,children:[e.jsx(z,{fontSize:"large",color:"#9594AA"}),e.jsx("h4",{className:l.title,children:r("Token Not Found")}),e.jsx("p",{className:l.subtitle,children:r("Try to change the parameters to find what you are looking for")})]})]})]})};export{Fe as MarketContainer,Fe as default};
