import{p as x,e as $r,a as St,i as Ne,c as q,u as Oe,d as ln,r as cn,f as ge,g as un,l as fn,h as _t,_ as Ir}from"./index.js";var Tr={},Fe={},de={},wt={exports:{}},bt={exports:{}};!x.version||x.version.indexOf("v0.")===0||x.version.indexOf("v1.")===0&&x.version.indexOf("v1.8.")!==0?bt.exports=hn:bt.exports=x.nextTick;function hn(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,a,h;switch(o){case 0:case 1:return x.nextTick(e);case 2:return x.nextTick(function(){e.call(null,t)});case 3:return x.nextTick(function(){e.call(null,t,r)});case 4:return x.nextTick(function(){e.call(null,t,r,n)});default:for(a=new Array(o-1),h=0;h<a.length;)a[h++]=arguments[h];return x.nextTick(function(){e.apply(null,a)})}}var ke=bt.exports,dn={}.toString,gn=Array.isArray||function(e){return dn.call(e)=="[object Array]"},Nr=$r.EventEmitter,yt={exports:{}};(function(e,t){var r=St,n=r.Buffer;function o(h,m){for(var f in h)m[f]=h[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a);function a(h,m,f){return n(h,m,f)}o(n,a),a.from=function(h,m,f){if(typeof h=="number")throw new TypeError("Argument must not be a number");return n(h,m,f)},a.alloc=function(h,m,f){if(typeof h!="number")throw new TypeError("Argument must be a number");var u=n(h);return m!==void 0?typeof f=="string"?u.fill(m,f):u.fill(m):u.fill(0),u},a.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return n(h)},a.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(h)}})(yt,yt.exports);var We=yt.exports,at,Ft;function pn(){if(Ft)return at;Ft=1;function e(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var t=We.Buffer;function r(n,o,a){n.copy(o,a)}return at=function(){function n(){e(this,n),this.head=null,this.tail=null,this.length=0}return n.prototype.push=function(a){var h={data:a,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length},n.prototype.unshift=function(a){var h={data:a,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length},n.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(a){if(this.length===0)return"";for(var h=this.head,m=""+h.data;h=h.next;)m+=a+h.data;return m},n.prototype.concat=function(a){if(this.length===0)return t.alloc(0);if(this.length===1)return this.head.data;for(var h=t.allocUnsafe(a>>>0),m=this.head,f=0;m;)r(m.data,h,f),f+=m.data.length,m=m.next;return h},n}(),at}var kt=ke;function mn(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;if(n||o){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&kt(Wt,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?(kt(Wt,r,a),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(a)})}function En(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Wt(e,t){e.emit("error",t)}var Or={destroy:mn,undestroy:En},ot,Ut;function Ar(){if(Ut)return ot;Ut=1;var e=ke;ot=C;function t(l){var c=this;this.next=null,this.entry=null,this.finish=function(){N(c,l)}}var r=!x.browser&&["v0.10","v0.9."].indexOf(x.version.slice(0,5))>-1?setImmediate:e,n;C.WritableState=_;var o=Oe;o.inherits=Ne;var a={deprecate:ln},h=Nr,m=We.Buffer,f=q.Uint8Array||function(){};function u(l){return m.from(l)}function S(l){return m.isBuffer(l)||l instanceof f}var d=Or;o.inherits(C,h);function P(){}function _(l,c){n=n||Se(),l=l||{},this.objectMode=!!l.objectMode,c instanceof n&&(this.objectMode=this.objectMode||!!l.writableObjectMode);var g=l.highWaterMark,y=this.objectMode?16:16*1024;this.highWaterMark=g||g===0?g:y,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=l.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=l.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(O){ee(c,O)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}_.prototype.getBuffer=function(){for(var c=this.bufferedRequest,g=[];c;)g.push(c),c=c.next;return g},function(){try{Object.defineProperty(_.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(l){return I.call(this,l)?!0:l&&l._writableState instanceof _}})):I=function(l){return l instanceof this};function C(l){if(n=n||Se(),!I.call(C,this)&&!(this instanceof n))return new C(l);this._writableState=new _(l,this),this.writable=!0,l&&(typeof l.write=="function"&&(this._write=l.write),typeof l.writev=="function"&&(this._writev=l.writev),typeof l.destroy=="function"&&(this._destroy=l.destroy),typeof l.final=="function"&&(this._final=l.final)),h.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function G(l,c){var g=new Error("write after end");l.emit("error",g),e(c,g)}function p(l,c,g,y){var $=!0,O=!1;return g===null?O=new TypeError("May not write null values to stream"):typeof g!="string"&&g!==void 0&&!c.objectMode&&(O=new TypeError("Invalid non-string/buffer chunk")),O&&(l.emit("error",O),e(y,O),$=!1),$}C.prototype.write=function(l,c,g){var y=this._writableState,$=!1,O=S(l)&&!y.objectMode;return O&&!m.isBuffer(l)&&(l=u(l)),typeof c=="function"&&(g=c,c=null),O?c="buffer":c||(c=y.defaultEncoding),typeof g!="function"&&(g=P),y.ended?G(this,g):(O||p(this,y,l,g))&&(y.pendingcb++,$=L(this,y,O,l,c,g)),$},C.prototype.cork=function(){var l=this._writableState;l.corked++},C.prototype.uncork=function(){var l=this._writableState;l.corked&&(l.corked--,!l.writing&&!l.corked&&!l.finished&&!l.bufferProcessing&&l.bufferedRequest&&H(this,l))},C.prototype.setDefaultEncoding=function(c){if(typeof c=="string"&&(c=c.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((c+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+c);return this._writableState.defaultEncoding=c,this};function E(l,c,g){return!l.objectMode&&l.decodeStrings!==!1&&typeof c=="string"&&(c=m.from(c,g)),c}function L(l,c,g,y,$,O){if(!g){var W=E(c,y,$);y!==W&&(g=!0,$="buffer",y=W)}var V=c.objectMode?1:y.length;c.length+=V;var Q=c.length<c.highWaterMark;if(Q||(c.needDrain=!0),c.writing||c.corked){var he=c.lastBufferedRequest;c.lastBufferedRequest={chunk:y,encoding:$,isBuf:g,callback:O,next:null},he?he.next=c.lastBufferedRequest:c.bufferedRequest=c.lastBufferedRequest,c.bufferedRequestCount+=1}else F(l,c,!1,V,y,$,O);return Q}function F(l,c,g,y,$,O,W){c.writelen=y,c.writecb=W,c.writing=!0,c.sync=!0,g?l._writev($,c.onwrite):l._write($,O,c.onwrite),c.sync=!1}function T(l,c,g,y,$){--c.pendingcb,g?(e($,y),e(b,l,c),l._writableState.errorEmitted=!0,l.emit("error",y)):($(y),l._writableState.errorEmitted=!0,l.emit("error",y),b(l,c))}function k(l){l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0}function ee(l,c){var g=l._writableState,y=g.sync,$=g.writecb;if(k(g),c)T(l,g,y,c,$);else{var O=K(g);!O&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&H(l,g),y?r(te,l,g,O,$):te(l,g,O,$)}}function te(l,c,g,y){g||D(l,c),c.pendingcb--,y(),b(l,c)}function D(l,c){c.length===0&&c.needDrain&&(c.needDrain=!1,l.emit("drain"))}function H(l,c){c.bufferProcessing=!0;var g=c.bufferedRequest;if(l._writev&&g&&g.next){var y=c.bufferedRequestCount,$=new Array(y),O=c.corkedRequestsFree;O.entry=g;for(var W=0,V=!0;g;)$[W]=g,g.isBuf||(V=!1),g=g.next,W+=1;$.allBuffers=V,F(l,c,!0,c.length,$,"",O.finish),c.pendingcb++,c.lastBufferedRequest=null,O.next?(c.corkedRequestsFree=O.next,O.next=null):c.corkedRequestsFree=new t(c)}else{for(;g;){var Q=g.chunk,he=g.encoding,i=g.callback,s=c.objectMode?1:Q.length;if(F(l,c,!1,s,Q,he,i),g=g.next,c.writing)break}g===null&&(c.lastBufferedRequest=null)}c.bufferedRequestCount=0,c.bufferedRequest=g,c.bufferProcessing=!1}C.prototype._write=function(l,c,g){g(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(l,c,g){var y=this._writableState;typeof l=="function"?(g=l,l=null,c=null):typeof c=="function"&&(g=c,c=null),l!=null&&this.write(l,c),y.corked&&(y.corked=1,this.uncork()),!y.ending&&!y.finished&&A(this,y,g)};function K(l){return l.ending&&l.length===0&&l.bufferedRequest===null&&!l.finished&&!l.writing}function se(l,c){l._final(function(g){c.pendingcb--,g&&l.emit("error",g),c.prefinished=!0,l.emit("prefinish"),b(l,c)})}function R(l,c){!c.prefinished&&!c.finalCalled&&(typeof l._final=="function"?(c.pendingcb++,c.finalCalled=!0,e(se,l,c)):(c.prefinished=!0,l.emit("prefinish")))}function b(l,c){var g=K(c);return g&&(R(l,c),c.pendingcb===0&&(c.finished=!0,l.emit("finish"))),g}function A(l,c,g){c.ending=!0,b(l,c),g&&(c.finished?e(g):l.once("finish",g)),c.ended=!0,l.writable=!1}function N(l,c,g){var y=l.entry;for(l.entry=null;y;){var $=y.callback;c.pendingcb--,$(g),y=y.next}c.corkedRequestsFree?c.corkedRequestsFree.next=l:c.corkedRequestsFree=l}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(l){this._writableState&&(this._writableState.destroyed=l)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(l,c){this.end(),c(l)},ot}var lt,Ht;function Se(){if(Ht)return lt;Ht=1;var e=ke,t=Object.keys||function(d){var P=[];for(var _ in d)P.push(_);return P};lt=f;var r=Oe;r.inherits=Ne;var n=Pr(),o=Ar();r.inherits(f,n);for(var a=t(o.prototype),h=0;h<a.length;h++){var m=a[h];f.prototype[m]||(f.prototype[m]=o.prototype[m])}function f(d){if(!(this instanceof f))return new f(d);n.call(this,d),o.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||e(S,this)}function S(d){d.end()}return Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),f.prototype._destroy=function(d,P){this.push(null),this.end(),e(P,d)},lt}var ct={},Gt;function qt(){if(Gt)return ct;Gt=1;var e=We.Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var E;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(E)return;p=(""+p).toLowerCase(),E=!0}}function n(p){var E=r(p);if(typeof E!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return E||p}ct.StringDecoder=o;function o(p){this.encoding=n(p);var E;switch(this.encoding){case"utf16le":this.text=d,this.end=P,E=4;break;case"utf8":this.fillLast=f,E=4;break;case"base64":this.text=_,this.end=I,E=3;break;default:this.write=C,this.end=G;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}o.prototype.write=function(p){if(p.length===0)return"";var E,L;if(this.lastNeed){if(E=this.fillLast(p),E===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<p.length?E?E+this.text(p,L):this.text(p,L):E||""},o.prototype.end=S,o.prototype.text=u,o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function a(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:-1}function h(p,E,L){var F=E.length-1;if(F<L)return 0;var T=a(E[F]);return T>=0?(T>0&&(p.lastNeed=T-1),T):--F<L?0:(T=a(E[F]),T>=0?(T>0&&(p.lastNeed=T-2),T):--F<L?0:(T=a(E[F]),T>=0?(T>0&&(T===2?T=0:p.lastNeed=T-3),T):0))}function m(p,E,L){if((E[0]&192)!==128)return p.lastNeed=0,"�".repeat(L);if(p.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return p.lastNeed=1,"�".repeat(L+1);if(p.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return p.lastNeed=2,"�".repeat(L+2)}}function f(p){var E=this.lastTotal-this.lastNeed,L=m(this,p,E);if(L!==void 0)return L;if(this.lastNeed<=p.length)return p.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,E,0,p.length),this.lastNeed-=p.length}function u(p,E){var L=h(this,p,E);if(!this.lastNeed)return p.toString("utf8",E);this.lastTotal=L;var F=p.length-(L-this.lastNeed);return p.copy(this.lastChar,0,F),p.toString("utf8",E,F)}function S(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+"�".repeat(this.lastTotal-this.lastNeed):E}function d(p,E){if((p.length-E)%2===0){var L=p.toString("utf16le",E);if(L){var F=L.charCodeAt(L.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",E,p.length-1)}function P(p){var E=p&&p.length?this.write(p):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,L)}return E}function _(p,E){var L=(p.length-E)%3;return L===0?p.toString("base64",E):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",E,p.length-L))}function I(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function C(p){return p.toString(this.encoding)}function G(p){return p&&p.length?this.write(p):""}return ct}var ut,Xt;function Pr(){if(Xt)return ut;Xt=1;var e=ke;ut=E;var t=gn,r;E.ReadableState=p,$r.EventEmitter;var n=function(i,s){return i.listeners(s).length},o=Nr,a=We.Buffer,h=q.Uint8Array||function(){};function m(i){return a.from(i)}function f(i){return a.isBuffer(i)||i instanceof h}var u=Oe;u.inherits=Ne;var S=cn,d=void 0;S&&S.debuglog?d=S.debuglog("stream"):d=function(){};var P=pn(),_=Or,I;u.inherits(E,o);var C=["error","close","destroy","pause","resume"];function G(i,s,w){if(typeof i.prependListener=="function")return i.prependListener(s,w);!i._events||!i._events[s]?i.on(s,w):t(i._events[s])?i._events[s].unshift(w):i._events[s]=[w,i._events[s]]}function p(i,s){r=r||Se(),i=i||{},this.objectMode=!!i.objectMode,s instanceof r&&(this.objectMode=this.objectMode||!!i.readableObjectMode);var w=i.highWaterMark,v=this.objectMode?16:16*1024;this.highWaterMark=w||w===0?w:v,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new P,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(I||(I=qt().StringDecoder),this.decoder=new I(i.encoding),this.encoding=i.encoding)}function E(i){if(r=r||Se(),!(this instanceof E))return new E(i);this._readableState=new p(i,this),this.readable=!0,i&&(typeof i.read=="function"&&(this._read=i.read),typeof i.destroy=="function"&&(this._destroy=i.destroy)),o.call(this)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(i){this._readableState&&(this._readableState.destroyed=i)}}),E.prototype.destroy=_.destroy,E.prototype._undestroy=_.undestroy,E.prototype._destroy=function(i,s){this.push(null),s(i)},E.prototype.push=function(i,s){var w=this._readableState,v;return w.objectMode?v=!0:typeof i=="string"&&(s=s||w.defaultEncoding,s!==w.encoding&&(i=a.from(i,s),s=""),v=!0),L(this,i,s,!1,v)},E.prototype.unshift=function(i){return L(this,i,null,!0,!1)};function L(i,s,w,v,J){var M=i._readableState;if(s===null)M.reading=!1,H(i,M);else{var j;J||(j=T(M,s)),j?i.emit("error",j):M.objectMode||s&&s.length>0?(typeof s!="string"&&!M.objectMode&&Object.getPrototypeOf(s)!==a.prototype&&(s=m(s)),v?M.endEmitted?i.emit("error",new Error("stream.unshift() after end event")):F(i,M,s,!0):M.ended?i.emit("error",new Error("stream.push() after EOF")):(M.reading=!1,M.decoder&&!w?(s=M.decoder.write(s),M.objectMode||s.length!==0?F(i,M,s,!1):R(i,M)):F(i,M,s,!1))):v||(M.reading=!1)}return k(M)}function F(i,s,w,v){s.flowing&&s.length===0&&!s.sync?(i.emit("data",w),i.read(0)):(s.length+=s.objectMode?1:w.length,v?s.buffer.unshift(w):s.buffer.push(w),s.needReadable&&K(i)),R(i,s)}function T(i,s){var w;return!f(s)&&typeof s!="string"&&s!==void 0&&!i.objectMode&&(w=new TypeError("Invalid non-string/buffer chunk")),w}function k(i){return!i.ended&&(i.needReadable||i.length<i.highWaterMark||i.length===0)}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(i){return I||(I=qt().StringDecoder),this._readableState.decoder=new I(i),this._readableState.encoding=i,this};var ee=8388608;function te(i){return i>=ee?i=ee:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}function D(i,s){return i<=0||s.length===0&&s.ended?0:s.objectMode?1:i!==i?s.flowing&&s.length?s.buffer.head.data.length:s.length:(i>s.highWaterMark&&(s.highWaterMark=te(i)),i<=s.length?i:s.ended?s.length:(s.needReadable=!0,0))}E.prototype.read=function(i){d("read",i),i=parseInt(i,10);var s=this._readableState,w=i;if(i!==0&&(s.emittedReadable=!1),i===0&&s.needReadable&&(s.length>=s.highWaterMark||s.ended))return d("read: emitReadable",s.length,s.ended),s.length===0&&s.ended?V(this):K(this),null;if(i=D(i,s),i===0&&s.ended)return s.length===0&&V(this),null;var v=s.needReadable;d("need readable",v),(s.length===0||s.length-i<s.highWaterMark)&&(v=!0,d("length less than watermark",v)),s.ended||s.reading?(v=!1,d("reading or ended",v)):v&&(d("do read"),s.reading=!0,s.sync=!0,s.length===0&&(s.needReadable=!0),this._read(s.highWaterMark),s.sync=!1,s.reading||(i=D(w,s)));var J;return i>0?J=y(i,s):J=null,J===null?(s.needReadable=!0,i=0):s.length-=i,s.length===0&&(s.ended||(s.needReadable=!0),w!==i&&s.ended&&V(this)),J!==null&&this.emit("data",J),J};function H(i,s){if(!s.ended){if(s.decoder){var w=s.decoder.end();w&&w.length&&(s.buffer.push(w),s.length+=s.objectMode?1:w.length)}s.ended=!0,K(i)}}function K(i){var s=i._readableState;s.needReadable=!1,s.emittedReadable||(d("emitReadable",s.flowing),s.emittedReadable=!0,s.sync?e(se,i):se(i))}function se(i){d("emit readable"),i.emit("readable"),g(i)}function R(i,s){s.readingMore||(s.readingMore=!0,e(b,i,s))}function b(i,s){for(var w=s.length;!s.reading&&!s.flowing&&!s.ended&&s.length<s.highWaterMark&&(d("maybeReadMore read 0"),i.read(0),w!==s.length);)w=s.length;s.readingMore=!1}E.prototype._read=function(i){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(i,s){var w=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=i;break;case 1:v.pipes=[v.pipes,i];break;default:v.pipes.push(i);break}v.pipesCount+=1,d("pipe count=%d opts=%j",v.pipesCount,s);var J=(!s||s.end!==!1)&&i!==x.stdout&&i!==x.stderr,M=J?Me:Re;v.endEmitted?e(M):w.once("end",M),i.on("unpipe",j);function j(pe,_e){d("onunpipe"),pe===w&&_e&&_e.hasUnpiped===!1&&(_e.hasUnpiped=!0,on())}function Me(){d("onend"),i.end()}var tt=A(w);i.on("drain",tt);var Dt=!1;function on(){d("cleanup"),i.removeListener("close",it),i.removeListener("finish",st),i.removeListener("drain",tt),i.removeListener("error",nt),i.removeListener("unpipe",j),w.removeListener("end",Me),w.removeListener("end",Re),w.removeListener("data",Jt),Dt=!0,v.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&tt()}var rt=!1;w.on("data",Jt);function Jt(pe){d("ondata"),rt=!1;var _e=i.write(pe);_e===!1&&!rt&&((v.pipesCount===1&&v.pipes===i||v.pipesCount>1&&he(v.pipes,i)!==-1)&&!Dt&&(d("false write response, pause",w._readableState.awaitDrain),w._readableState.awaitDrain++,rt=!0),w.pause())}function nt(pe){d("onerror",pe),Re(),i.removeListener("error",nt),n(i,"error")===0&&i.emit("error",pe)}G(i,"error",nt);function it(){i.removeListener("finish",st),Re()}i.once("close",it);function st(){d("onfinish"),i.removeListener("close",it),Re()}i.once("finish",st);function Re(){d("unpipe"),w.unpipe(i)}return i.emit("pipe",w),v.flowing||(d("pipe resume"),w.resume()),i};function A(i){return function(){var s=i._readableState;d("pipeOnDrain",s.awaitDrain),s.awaitDrain&&s.awaitDrain--,s.awaitDrain===0&&n(i,"data")&&(s.flowing=!0,g(i))}}E.prototype.unpipe=function(i){var s=this._readableState,w={hasUnpiped:!1};if(s.pipesCount===0)return this;if(s.pipesCount===1)return i&&i!==s.pipes?this:(i||(i=s.pipes),s.pipes=null,s.pipesCount=0,s.flowing=!1,i&&i.emit("unpipe",this,w),this);if(!i){var v=s.pipes,J=s.pipesCount;s.pipes=null,s.pipesCount=0,s.flowing=!1;for(var M=0;M<J;M++)v[M].emit("unpipe",this,w);return this}var j=he(s.pipes,i);return j===-1?this:(s.pipes.splice(j,1),s.pipesCount-=1,s.pipesCount===1&&(s.pipes=s.pipes[0]),i.emit("unpipe",this,w),this)},E.prototype.on=function(i,s){var w=o.prototype.on.call(this,i,s);if(i==="data")this._readableState.flowing!==!1&&this.resume();else if(i==="readable"){var v=this._readableState;!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.emittedReadable=!1,v.reading?v.length&&K(this):e(N,this))}return w},E.prototype.addListener=E.prototype.on;function N(i){d("readable nexttick read 0"),i.read(0)}E.prototype.resume=function(){var i=this._readableState;return i.flowing||(d("resume"),i.flowing=!0,l(this,i)),this};function l(i,s){s.resumeScheduled||(s.resumeScheduled=!0,e(c,i,s))}function c(i,s){s.reading||(d("resume read 0"),i.read(0)),s.resumeScheduled=!1,s.awaitDrain=0,i.emit("resume"),g(i),s.flowing&&!s.reading&&i.read(0)}E.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function g(i){var s=i._readableState;for(d("flow",s.flowing);s.flowing&&i.read()!==null;);}E.prototype.wrap=function(i){var s=this._readableState,w=!1,v=this;i.on("end",function(){if(d("wrapped end"),s.decoder&&!s.ended){var j=s.decoder.end();j&&j.length&&v.push(j)}v.push(null)}),i.on("data",function(j){if(d("wrapped data"),s.decoder&&(j=s.decoder.write(j)),!(s.objectMode&&j==null)&&!(!s.objectMode&&(!j||!j.length))){var Me=v.push(j);Me||(w=!0,i.pause())}});for(var J in i)this[J]===void 0&&typeof i[J]=="function"&&(this[J]=function(j){return function(){return i[j].apply(i,arguments)}}(J));for(var M=0;M<C.length;M++)i.on(C[M],v.emit.bind(v,C[M]));return v._read=function(j){d("wrapped _read",j),w&&(w=!1,i.resume())},v},E._fromList=y;function y(i,s){if(s.length===0)return null;var w;return s.objectMode?w=s.buffer.shift():!i||i>=s.length?(s.decoder?w=s.buffer.join(""):s.buffer.length===1?w=s.buffer.head.data:w=s.buffer.concat(s.length),s.buffer.clear()):w=$(i,s.buffer,s.decoder),w}function $(i,s,w){var v;return i<s.head.data.length?(v=s.head.data.slice(0,i),s.head.data=s.head.data.slice(i)):i===s.head.data.length?v=s.shift():v=w?O(i,s):W(i,s),v}function O(i,s){var w=s.head,v=1,J=w.data;for(i-=J.length;w=w.next;){var M=w.data,j=i>M.length?M.length:i;if(j===M.length?J+=M:J+=M.slice(0,i),i-=j,i===0){j===M.length?(++v,w.next?s.head=w.next:s.head=s.tail=null):(s.head=w,w.data=M.slice(j));break}++v}return s.length-=v,J}function W(i,s){var w=a.allocUnsafe(i),v=s.head,J=1;for(v.data.copy(w),i-=v.data.length;v=v.next;){var M=v.data,j=i>M.length?M.length:i;if(M.copy(w,w.length-i,0,j),i-=j,i===0){j===M.length?(++J,v.next?s.head=v.next:s.head=s.tail=null):(s.head=v,v.data=M.slice(j));break}++J}return s.length-=J,w}function V(i){var s=i._readableState;if(s.length>0)throw new Error('"endReadable()" called on non-empty stream');s.endEmitted||(s.ended=!0,e(Q,s,i))}function Q(i,s){!i.endEmitted&&i.length===0&&(i.endEmitted=!0,s.readable=!1,s.emit("end"))}function he(i,s){for(var w=0,v=i.length;w<v;w++)if(i[w]===s)return w;return-1}return ut}var Lr=ue,Ue=Se(),Mr=Oe;Mr.inherits=Ne;Mr.inherits(ue,Ue);function Sn(e){this.afterTransform=function(t,r){return wn(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function wn(e,t,r){var n=e._transformState;n.transforming=!1;var o=n.writecb;if(!o)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),o(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function ue(e){if(!(this instanceof ue))return new ue(e);Ue.call(this,e),this._transformState=new Sn(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){xt(t,r,n)}):xt(t)})}ue.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ue.prototype.push.call(this,e,t)};ue.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};ue.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};ue.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};ue.prototype._destroy=function(e,t){var r=this;Ue.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function xt(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,o=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(o.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var bn=Ie,Cr=Lr,jr=Oe;jr.inherits=Ne;jr.inherits(Ie,Cr);function Ie(e){if(!(this instanceof Ie))return new Ie(e);Cr.call(this,e)}Ie.prototype._transform=function(e,t,r){r(null,e)};(function(e,t){t=e.exports=Pr(),t.Stream=t,t.Readable=t,t.Writable=Ar(),t.Duplex=Se(),t.Transform=Lr,t.PassThrough=bn})(wt,wt.exports);var yn=wt.exports;Object.defineProperty(de,"__esModule",{value:!0});de.BasePostMessageStream=void 0;const vn=yn,ft=()=>{},zt="SYN",ht="ACK";class Rn extends vn.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write(zt,null,ft),this.cork()}_onData(t){if(this._init)try{this.push(t)}catch(r){this.emit("error",r)}else t===zt?(this._haveSyn=!0,this._write(ht,null,ft)):t===ht&&(this._init=!0,this._haveSyn||this._write(ht,null,ft),this.uncork())}_read(){}_write(t,r,n){this._postMessage(t),n()}}de.BasePostMessageStream=Rn;var fe={},Br={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.assertExhaustive=X.assertStruct=X.assert=X.AssertionError=void 0;const _n=ge;function $n(e){return typeof e=="object"&&e!==null&&"message"in e}function In(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function Tn(e){const t=$n(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Vr(e,t){return In(e)?new e({message:t}):e({message:t})}class $t extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}X.AssertionError=$t;function Nn(e,t="Assertion failed.",r=$t){if(!e)throw t instanceof Error?t:Vr(r,t)}X.assert=Nn;function On(e,t,r="Assertion failed",n=$t){try{(0,_n.assert)(e,t)}catch(o){throw Vr(n,`${r}: ${Tn(o)}.`)}}X.assertStruct=On;function An(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}X.assertExhaustive=An;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.base64=void 0;const Pn=ge,Ln=X,Mn=(e,t={})=>{var r,n;const o=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,a=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let h;a==="base64"?h=String.raw`[A-Za-z0-9+\/]`:((0,Ln.assert)(a==="base64url"),h=String.raw`[-_A-Za-z0-9]`);let m;return o?m=new RegExp(`^(?:${h}{4})*(?:${h}{3}=|${h}{2}==)?$`,"u"):m=new RegExp(`^(?:${h}{4})*(?:${h}{2,3}|${h}{3}=|${h}{2}==)?$`,"u"),(0,Pn.pattern)(e,m)};Ae.base64=Mn;var B={},Pe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=ge,r=X;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,t.is)(u,e.HexStruct)}e.isHexString=n;function o(u){return(0,t.is)(u,e.StrictHexStruct)}e.isStrictHexString=o;function a(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}e.assertIsHexString=a;function h(u){(0,r.assert)(o(u),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=h;function m(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}e.add0x=m;function f(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}e.remove0x=f})(Pe);Object.defineProperty(B,"__esModule",{value:!0});B.createDataView=B.concatBytes=B.valueToBytes=B.stringToBytes=B.numberToBytes=B.signedBigIntToBytes=B.bigIntToBytes=B.hexToBytes=B.bytesToString=B.bytesToNumber=B.bytesToSignedBigInt=B.bytesToBigInt=B.bytesToHex=B.assertIsBytes=B.isBytes=void 0;const Z=X,vt=Pe,Yt=48,Kt=58,Qt=87;function Cn(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const jn=Cn();function It(e){return e instanceof Uint8Array}B.isBytes=It;function ye(e){(0,Z.assert)(It(e),"Value must be a Uint8Array.")}B.assertIsBytes=ye;function Dr(e){if(ye(e),e.length===0)return"0x";const t=jn(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,vt.add0x)(r.join(""))}B.bytesToHex=Dr;function Jr(e){ye(e);const t=Dr(e);return BigInt(t)}B.bytesToBigInt=Jr;function Bn(e){ye(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}B.bytesToSignedBigInt=Bn;function Vn(e){ye(e);const t=Jr(e);return(0,Z.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}B.bytesToNumber=Vn;function Dn(e){return ye(e),new TextDecoder().decode(e)}B.bytesToString=Dn;function He(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,vt.assertIsHexString)(e);const r=(0,vt.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,o=new Uint8Array(n.length/2);for(let a=0;a<o.length;a++){const h=n.charCodeAt(a*2),m=n.charCodeAt(a*2+1),f=h-(h<Kt?Yt:Qt),u=m-(m<Kt?Yt:Qt);o[a]=f*16+u}return o}B.hexToBytes=He;function Fr(e){(0,Z.assert)(typeof e=="bigint","Value must be a bigint."),(0,Z.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return He(t)}B.bigIntToBytes=Fr;function Jn(e,t){(0,Z.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function Fn(e,t){(0,Z.assert)(typeof e=="bigint","Value must be a bigint."),(0,Z.assert)(typeof t=="number","Byte length must be a number."),(0,Z.assert)(t>0,"Byte length must be greater than 0."),(0,Z.assert)(Jn(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let o=0;o<n.length;o++)n[o]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}B.signedBigIntToBytes=Fn;function kr(e){(0,Z.assert)(typeof e=="number","Value must be a number."),(0,Z.assert)(e>=0,"Value must be a non-negative number."),(0,Z.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return He(t)}B.numberToBytes=kr;function Wr(e){return(0,Z.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}B.stringToBytes=Wr;function Ur(e){if(typeof e=="bigint")return Fr(e);if(typeof e=="number")return kr(e);if(typeof e=="string")return e.startsWith("0x")?He(e):Wr(e);if(It(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}B.valueToBytes=Ur;function kn(e){const t=new Array(e.length);let r=0;for(let o=0;o<e.length;o++){const a=Ur(e[o]);t[o]=a,r+=a.length}const n=new Uint8Array(r);for(let o=0,a=0;o<t.length;o++)n.set(t[o],a),a+=t[o].length;return n}B.concatBytes=kn;function Wn(e){if(typeof St.Buffer<"u"&&e instanceof St.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}B.createDataView=Wn;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.ChecksumStruct=void 0;const Zt=ge,Un=Ae;Ge.ChecksumStruct=(0,Zt.size)((0,Un.base64)((0,Zt.string)(),{paddingRequired:!0}),44,44);var le={};Object.defineProperty(le,"__esModule",{value:!0});le.createHex=le.createBytes=le.createBigInt=le.createNumber=void 0;const U=ge,Hn=X,Hr=B,qe=Pe,Gr=(0,U.union)([(0,U.number)(),(0,U.bigint)(),(0,U.string)(),qe.StrictHexStruct]),Gn=(0,U.coerce)((0,U.number)(),Gr,Number),qn=(0,U.coerce)((0,U.bigint)(),Gr,BigInt);(0,U.union)([qe.StrictHexStruct,(0,U.instance)(Uint8Array)]);const Xn=(0,U.coerce)((0,U.instance)(Uint8Array),(0,U.union)([qe.StrictHexStruct]),Hr.hexToBytes),xn=(0,U.coerce)(qe.StrictHexStruct,(0,U.instance)(Uint8Array),Hr.bytesToHex);function zn(e){try{const t=(0,U.create)(e,Gn);return(0,Hn.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof U.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}le.createNumber=zn;function Yn(e){try{return(0,U.create)(e,qn)}catch(t){throw t instanceof U.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}le.createBigInt=Yn;function Kn(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,U.create)(e,Xn)}catch(t){throw t instanceof U.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}le.createBytes=Kn;function Qn(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,U.create)(e,xn)}catch(t){throw t instanceof U.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}le.createHex=Qn;var we={},qr=q&&q.__classPrivateFieldSet||function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},z=q&&q.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},re,ae;Object.defineProperty(we,"__esModule",{value:!0});we.FrozenSet=we.FrozenMap=void 0;class Tt{constructor(t){re.set(this,void 0),qr(this,re,new Map(t),"f"),Object.freeze(this)}get size(){return z(this,re,"f").size}[(re=new WeakMap,Symbol.iterator)](){return z(this,re,"f")[Symbol.iterator]()}entries(){return z(this,re,"f").entries()}forEach(t,r){return z(this,re,"f").forEach((n,o,a)=>t.call(r,n,o,this))}get(t){return z(this,re,"f").get(t)}has(t){return z(this,re,"f").has(t)}keys(){return z(this,re,"f").keys()}values(){return z(this,re,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}we.FrozenMap=Tt;class Nt{constructor(t){ae.set(this,void 0),qr(this,ae,new Set(t),"f"),Object.freeze(this)}get size(){return z(this,ae,"f").size}[(ae=new WeakMap,Symbol.iterator)](){return z(this,ae,"f")[Symbol.iterator]()}entries(){return z(this,ae,"f").entries()}forEach(t,r){return z(this,ae,"f").forEach((n,o,a)=>t.call(r,n,o,this))}has(t){return z(this,ae,"f").has(t)}keys(){return z(this,ae,"f").keys()}values(){return z(this,ae,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}we.FrozenSet=Nt;Object.freeze(Tt);Object.freeze(Tt.prototype);Object.freeze(Nt);Object.freeze(Nt.prototype);var Xr={},Ot={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(u){return Array.isArray(u)&&u.length>0}e.isNonEmptyArray=t;function r(u){return u==null}e.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}e.isObject=n;const o=(u,S)=>Object.hasOwnProperty.call(u,S);e.hasProperty=o,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function a(u){if(typeof u!="object"||u===null)return!1;try{let S=u;for(;Object.getPrototypeOf(S)!==null;)S=Object.getPrototypeOf(S);return Object.getPrototypeOf(u)===S}catch{return!1}}e.isPlainObject=a;function h(u){return u.charCodeAt(0)<=127}e.isASCII=h;function m(u){var S;return u.split("").reduce((P,_)=>h(_)?P+1:P+2,0)+((S=u.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&S!==void 0?S:[]).length}e.calculateStringSize=m;function f(u){return u.toString().length}e.calculateNumberSize=f})(Ot);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateJsonAndGetSize=e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.isValidJson=e.JsonStruct=void 0;const t=ge,r=X,n=Ot;e.JsonStruct=(0,t.define)("Json",T=>{const[k]=F(T,!0);return k?!0:"Expected a valid JSON-serializable value"});function o(T){return(0,t.is)(T,e.JsonStruct)}e.isValidJson=o,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function a(T){return(0,t.is)(T,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=a;function h(T,k){(0,r.assertStruct)(T,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",k)}e.assertIsJsonRpcNotification=h;function m(T){return(0,t.is)(T,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=m;function f(T,k){(0,r.assertStruct)(T,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",k)}e.assertIsJsonRpcRequest=f,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function u(T){return(0,t.is)(T,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=u;function S(T,k){(0,r.assertStruct)(T,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",k)}e.assertIsPendingJsonRpcResponse=S;function d(T){return(0,t.is)(T,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=d;function P(T,k){(0,r.assertStruct)(T,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",k)}e.assertIsJsonRpcResponse=P;function _(T){return(0,t.is)(T,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=_;function I(T,k){(0,r.assertStruct)(T,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",k)}e.assertIsJsonRpcSuccess=I;function C(T){return(0,t.is)(T,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=C;function G(T,k){(0,r.assertStruct)(T,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",k)}e.assertIsJsonRpcFailure=G;function p(T){return(0,t.is)(T,e.JsonRpcErrorStruct)}e.isJsonRpcError=p;function E(T,k){(0,r.assertStruct)(T,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",k)}e.assertIsJsonRpcError=E;function L(T){const{permitEmptyString:k,permitFractions:ee,permitNull:te}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},T);return H=>!!(typeof H=="number"&&(ee||Number.isInteger(H))||typeof H=="string"&&(k||H.length>0)||te&&H===null)}e.getJsonRpcIdValidator=L;function F(T,k=!1){const ee=new Set;function te(D,H){if(D===void 0)return[!1,0];if(D===null)return[!0,H?0:n.JsonSize.Null];const K=typeof D;try{if(K==="function")return[!1,0];if(K==="string"||D instanceof String)return[!0,H?0:(0,n.calculateStringSize)(D)+n.JsonSize.Quote*2];if(K==="boolean"||D instanceof Boolean)return H?[!0,0]:[!0,D==!0?n.JsonSize.True:n.JsonSize.False];if(K==="number"||D instanceof Number)return H?[!0,0]:[!0,(0,n.calculateNumberSize)(D)];if(D instanceof Date)return H?[!0,0]:[!0,isNaN(D.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(D)&&!Array.isArray(D))return[!1,0];if(ee.has(D))return[!1,0];ee.add(D);try{return[!0,Object.entries(D).reduce((se,[R,b],A,N)=>{let[l,c]=te(b,H);if(!l)throw new Error("JSON validation did not pass. Validation process stopped.");if(ee.delete(D),H)return 0;const g=Array.isArray(D)?0:R.length+n.JsonSize.Comma+n.JsonSize.Colon*2,y=A<N.length-1?n.JsonSize.Comma:0;return se+g+c+y},H?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return te(T,k)}e.validateJsonAndGetSize=F})(Xr);var be={},Zn=q&&q.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(be,"__esModule",{value:!0});be.createModuleLogger=be.createProjectLogger=void 0;const ei=Zn(un),ti=(0,ei.default)("metamask");function ri(e){return ti.extend(e)}be.createProjectLogger=ri;function ni(e,t){return e.extend(t)}be.createModuleLogger=ni;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.hexToBigInt=ce.hexToNumber=ce.bigIntToHex=ce.numberToHex=void 0;const Ee=X,Te=Pe,ii=e=>((0,Ee.assert)(typeof e=="number","Value must be a number."),(0,Ee.assert)(e>=0,"Value must be a non-negative number."),(0,Ee.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Te.add0x)(e.toString(16)));ce.numberToHex=ii;const si=e=>((0,Ee.assert)(typeof e=="bigint","Value must be a bigint."),(0,Ee.assert)(e>=0,"Value must be a non-negative bigint."),(0,Te.add0x)(e.toString(16)));ce.bigIntToHex=si;const ai=e=>{(0,Te.assertIsHexString)(e);const t=parseInt(e,16);return(0,Ee.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};ce.hexToNumber=ai;const oi=e=>((0,Te.assertIsHexString)(e),BigInt((0,Te.add0x)(e)));ce.hexToBigInt=oi;var xr={};Object.defineProperty(xr,"__esModule",{value:!0});var zr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(a){a[a.Millisecond=1]="Millisecond",a[a.Second=1e3]="Second",a[a.Minute=6e4]="Minute",a[a.Hour=36e5]="Hour",a[a.Day=864e5]="Day",a[a.Week=6048e5]="Week",a[a.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=a=>Number.isInteger(a)&&a>=0,r=(a,h)=>{if(!t(a))throw new Error(`"${h}" must be a non-negative integer. Received: "${a}".`)};function n(a,h){return r(a,"count"),a*h}e.inMilliseconds=n;function o(a){return r(a,"timestamp"),Date.now()-a}e.timeSince=o})(zr);var Yr={},Rt={exports:{}};const li="2.0.0",Kr=256,ci=Number.MAX_SAFE_INTEGER||9007199254740991,ui=16,fi=Kr-6,hi=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Xe={MAX_LENGTH:Kr,MAX_SAFE_COMPONENT_LENGTH:ui,MAX_SAFE_BUILD_LENGTH:fi,MAX_SAFE_INTEGER:ci,RELEASE_TYPES:hi,SEMVER_SPEC_VERSION:li,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const di=typeof x=="object"&&x.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var xe=di;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=Xe,a=xe;t=e.exports={};const h=t.re=[],m=t.safeRe=[],f=t.src=[],u=t.t={};let S=0;const d="[a-zA-Z0-9-]",P=[["\\s",1],["\\d",o],[d,n]],_=C=>{for(const[G,p]of P)C=C.split(`${G}*`).join(`${G}{0,${p}}`).split(`${G}+`).join(`${G}{1,${p}}`);return C},I=(C,G,p)=>{const E=_(G),L=S++;a(C,L,G),u[C]=L,f[L]=G,h[L]=new RegExp(G,p?"g":void 0),m[L]=new RegExp(E,p?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*"),I("NUMERICIDENTIFIERLOOSE","\\d+"),I("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),I("MAINVERSION",`(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})`),I("MAINVERSIONLOOSE",`(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})`),I("PRERELEASEIDENTIFIER",`(?:${f[u.NUMERICIDENTIFIER]}|${f[u.NONNUMERICIDENTIFIER]})`),I("PRERELEASEIDENTIFIERLOOSE",`(?:${f[u.NUMERICIDENTIFIERLOOSE]}|${f[u.NONNUMERICIDENTIFIER]})`),I("PRERELEASE",`(?:-(${f[u.PRERELEASEIDENTIFIER]}(?:\\.${f[u.PRERELEASEIDENTIFIER]})*))`),I("PRERELEASELOOSE",`(?:-?(${f[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[u.PRERELEASEIDENTIFIERLOOSE]})*))`),I("BUILDIDENTIFIER",`${d}+`),I("BUILD",`(?:\\+(${f[u.BUILDIDENTIFIER]}(?:\\.${f[u.BUILDIDENTIFIER]})*))`),I("FULLPLAIN",`v?${f[u.MAINVERSION]}${f[u.PRERELEASE]}?${f[u.BUILD]}?`),I("FULL",`^${f[u.FULLPLAIN]}$`),I("LOOSEPLAIN",`[v=\\s]*${f[u.MAINVERSIONLOOSE]}${f[u.PRERELEASELOOSE]}?${f[u.BUILD]}?`),I("LOOSE",`^${f[u.LOOSEPLAIN]}$`),I("GTLT","((?:<|>)?=?)"),I("XRANGEIDENTIFIERLOOSE",`${f[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),I("XRANGEIDENTIFIER",`${f[u.NUMERICIDENTIFIER]}|x|X|\\*`),I("XRANGEPLAIN",`[v=\\s]*(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:${f[u.PRERELEASE]})?${f[u.BUILD]}?)?)?`),I("XRANGEPLAINLOOSE",`[v=\\s]*(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:${f[u.PRERELEASELOOSE]})?${f[u.BUILD]}?)?)?`),I("XRANGE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAIN]}$`),I("XRANGELOOSE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAINLOOSE]}$`),I("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),I("COERCERTL",f[u.COERCE],!0),I("LONETILDE","(?:~>?)"),I("TILDETRIM",`(\\s*)${f[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",I("TILDE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAIN]}$`),I("TILDELOOSE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAINLOOSE]}$`),I("LONECARET","(?:\\^)"),I("CARETTRIM",`(\\s*)${f[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",I("CARET",`^${f[u.LONECARET]}${f[u.XRANGEPLAIN]}$`),I("CARETLOOSE",`^${f[u.LONECARET]}${f[u.XRANGEPLAINLOOSE]}$`),I("COMPARATORLOOSE",`^${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]})$|^$`),I("COMPARATOR",`^${f[u.GTLT]}\\s*(${f[u.FULLPLAIN]})$|^$`),I("COMPARATORTRIM",`(\\s*)${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]}|${f[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",I("HYPHENRANGE",`^\\s*(${f[u.XRANGEPLAIN]})\\s+-\\s+(${f[u.XRANGEPLAIN]})\\s*$`),I("HYPHENRANGELOOSE",`^\\s*(${f[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[u.XRANGEPLAINLOOSE]})\\s*$`),I("STAR","(<|>)?=?\\s*\\*"),I("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),I("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Rt,Rt.exports);var Le=Rt.exports;const gi=Object.freeze({loose:!0}),pi=Object.freeze({}),mi=e=>e?typeof e!="object"?gi:e:pi;var At=mi;const er=/^[0-9]+$/,Qr=(e,t)=>{const r=er.test(e),n=er.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Ei=(e,t)=>Qr(t,e);var Zr={compareIdentifiers:Qr,rcompareIdentifiers:Ei};const Ce=xe,{MAX_LENGTH:tr,MAX_SAFE_INTEGER:je}=Xe,{safeRe:rr,t:nr}=Le,Si=At,{compareIdentifiers:me}=Zr;let wi=class oe{constructor(t,r){if(r=Si(r),t instanceof oe){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>tr)throw new TypeError(`version is longer than ${tr} characters`);Ce("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?rr[nr.LOOSE]:rr[nr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>je||this.major<0)throw new TypeError("Invalid major version");if(this.minor>je||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>je||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const a=+o;if(a>=0&&a<je)return a}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ce("SemVer.compare",this.version,this.options,t),!(t instanceof oe)){if(typeof t=="string"&&t===this.version)return 0;t=new oe(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof oe||(t=new oe(t,this.options)),me(this.major,t.major)||me(this.minor,t.minor)||me(this.patch,t.patch)}comparePre(t){if(t instanceof oe||(t=new oe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],o=t.prerelease[r];if(Ce("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return me(n,o)}while(++r)}compareBuild(t){t instanceof oe||(t=new oe(t,this.options));let r=0;do{const n=this.build[r],o=t.build[r];if(Ce("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return me(n,o)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let a=[r,o];n===!1&&(a=[r]),me(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Y=wi;const ir=Y,bi=(e,t,r=!1)=>{if(e instanceof ir)return e;try{return new ir(e,t)}catch(n){if(!r)return null;throw n}};var ve=bi;const yi=ve,vi=(e,t)=>{const r=yi(e,t);return r?r.version:null};var Ri=vi;const _i=ve,$i=(e,t)=>{const r=_i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Ii=$i;const sr=Y,Ti=(e,t,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new sr(e instanceof sr?e.version:e,r).inc(t,n,o).version}catch{return null}};var Ni=Ti;const ar=ve,Oi=(e,t)=>{const r=ar(e,null,!0),n=ar(t,null,!0),o=r.compare(n);if(o===0)return null;const a=o>0,h=a?r:n,m=a?n:r,f=!!h.prerelease.length;if(!!m.prerelease.length&&!f)return!m.patch&&!m.minor?"major":h.patch?"patch":h.minor?"minor":"major";const S=f?"pre":"";return r.major!==n.major?S+"major":r.minor!==n.minor?S+"minor":r.patch!==n.patch?S+"patch":"prerelease"};var Ai=Oi;const Pi=Y,Li=(e,t)=>new Pi(e,t).major;var Mi=Li;const Ci=Y,ji=(e,t)=>new Ci(e,t).minor;var Bi=ji;const Vi=Y,Di=(e,t)=>new Vi(e,t).patch;var Ji=Di;const Fi=ve,ki=(e,t)=>{const r=Fi(e,t);return r&&r.prerelease.length?r.prerelease:null};var Wi=ki;const or=Y,Ui=(e,t,r)=>new or(e,r).compare(new or(t,r));var ne=Ui;const Hi=ne,Gi=(e,t,r)=>Hi(t,e,r);var qi=Gi;const Xi=ne,xi=(e,t)=>Xi(e,t,!0);var zi=xi;const lr=Y,Yi=(e,t,r)=>{const n=new lr(e,r),o=new lr(t,r);return n.compare(o)||n.compareBuild(o)};var Pt=Yi;const Ki=Pt,Qi=(e,t)=>e.sort((r,n)=>Ki(r,n,t));var Zi=Qi;const es=Pt,ts=(e,t)=>e.sort((r,n)=>es(n,r,t));var rs=ts;const ns=ne,is=(e,t,r)=>ns(e,t,r)>0;var ze=is;const ss=ne,as=(e,t,r)=>ss(e,t,r)<0;var Lt=as;const os=ne,ls=(e,t,r)=>os(e,t,r)===0;var en=ls;const cs=ne,us=(e,t,r)=>cs(e,t,r)!==0;var tn=us;const fs=ne,hs=(e,t,r)=>fs(e,t,r)>=0;var Mt=hs;const ds=ne,gs=(e,t,r)=>ds(e,t,r)<=0;var Ct=gs;const ps=en,ms=tn,Es=ze,Ss=Mt,ws=Lt,bs=Ct,ys=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return ps(e,r,n);case"!=":return ms(e,r,n);case">":return Es(e,r,n);case">=":return Ss(e,r,n);case"<":return ws(e,r,n);case"<=":return bs(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var rn=ys;const vs=Y,Rs=ve,{safeRe:Be,t:Ve}=Le,_s=(e,t)=>{if(e instanceof vs)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Be[Ve.COERCE]);else{let n;for(;(n=Be[Ve.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Be[Ve.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Be[Ve.COERCERTL].lastIndex=-1}return r===null?null:Rs(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var $s=_s,dt,cr;function ie(){if(cr)return dt;cr=1;class e{constructor(b,A){if(A=n(A),b instanceof e)return b.loose===!!A.loose&&b.includePrerelease===!!A.includePrerelease?b:new e(b.raw,A);if(b instanceof o)return this.raw=b.value,this.set=[[b]],this.format(),this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=b.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(l=>!I(l[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const l of this.set)if(l.length===1&&C(l[0])){this.set=[l];break}}}this.format()}format(){return this.range=this.set.map(b=>b.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(b){const N=((this.options.includePrerelease&&P)|(this.options.loose&&_))+":"+b,l=r.get(N);if(l)return l;const c=this.options.loose,g=c?m[f.HYPHENRANGELOOSE]:m[f.HYPHENRANGE];b=b.replace(g,K(this.options.includePrerelease)),a("hyphen replace",b),b=b.replace(m[f.COMPARATORTRIM],u),a("comparator trim",b),b=b.replace(m[f.TILDETRIM],S),a("tilde trim",b),b=b.replace(m[f.CARETTRIM],d),a("caret trim",b);let y=b.split(" ").map(V=>p(V,this.options)).join(" ").split(/\s+/).map(V=>H(V,this.options));c&&(y=y.filter(V=>(a("loose invalid filter",V,this.options),!!V.match(m[f.COMPARATORLOOSE])))),a("range list",y);const $=new Map,O=y.map(V=>new o(V,this.options));for(const V of O){if(I(V))return[V];$.set(V.value,V)}$.size>1&&$.has("")&&$.delete("");const W=[...$.values()];return r.set(N,W),W}intersects(b,A){if(!(b instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>G(N,A)&&b.set.some(l=>G(l,A)&&N.every(c=>l.every(g=>c.intersects(g,A)))))}test(b){if(!b)return!1;if(typeof b=="string")try{b=new h(b,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(se(this.set[A],b,this.options))return!0;return!1}}dt=e;const t=fn,r=new t({max:1e3}),n=At,o=Ye(),a=xe,h=Y,{safeRe:m,t:f,comparatorTrimReplace:u,tildeTrimReplace:S,caretTrimReplace:d}=Le,{FLAG_INCLUDE_PRERELEASE:P,FLAG_LOOSE:_}=Xe,I=R=>R.value==="<0.0.0-0",C=R=>R.value==="",G=(R,b)=>{let A=!0;const N=R.slice();let l=N.pop();for(;A&&N.length;)A=N.every(c=>l.intersects(c,b)),l=N.pop();return A},p=(R,b)=>(a("comp",R,b),R=T(R,b),a("caret",R),R=L(R,b),a("tildes",R),R=ee(R,b),a("xrange",R),R=D(R,b),a("stars",R),R),E=R=>!R||R.toLowerCase()==="x"||R==="*",L=(R,b)=>R.trim().split(/\s+/).map(A=>F(A,b)).join(" "),F=(R,b)=>{const A=b.loose?m[f.TILDELOOSE]:m[f.TILDE];return R.replace(A,(N,l,c,g,y)=>{a("tilde",R,N,l,c,g,y);let $;return E(l)?$="":E(c)?$=`>=${l}.0.0 <${+l+1}.0.0-0`:E(g)?$=`>=${l}.${c}.0 <${l}.${+c+1}.0-0`:y?(a("replaceTilde pr",y),$=`>=${l}.${c}.${g}-${y} <${l}.${+c+1}.0-0`):$=`>=${l}.${c}.${g} <${l}.${+c+1}.0-0`,a("tilde return",$),$})},T=(R,b)=>R.trim().split(/\s+/).map(A=>k(A,b)).join(" "),k=(R,b)=>{a("caret",R,b);const A=b.loose?m[f.CARETLOOSE]:m[f.CARET],N=b.includePrerelease?"-0":"";return R.replace(A,(l,c,g,y,$)=>{a("caret",R,l,c,g,y,$);let O;return E(c)?O="":E(g)?O=`>=${c}.0.0${N} <${+c+1}.0.0-0`:E(y)?c==="0"?O=`>=${c}.${g}.0${N} <${c}.${+g+1}.0-0`:O=`>=${c}.${g}.0${N} <${+c+1}.0.0-0`:$?(a("replaceCaret pr",$),c==="0"?g==="0"?O=`>=${c}.${g}.${y}-${$} <${c}.${g}.${+y+1}-0`:O=`>=${c}.${g}.${y}-${$} <${c}.${+g+1}.0-0`:O=`>=${c}.${g}.${y}-${$} <${+c+1}.0.0-0`):(a("no pr"),c==="0"?g==="0"?O=`>=${c}.${g}.${y}${N} <${c}.${g}.${+y+1}-0`:O=`>=${c}.${g}.${y}${N} <${c}.${+g+1}.0-0`:O=`>=${c}.${g}.${y} <${+c+1}.0.0-0`),a("caret return",O),O})},ee=(R,b)=>(a("replaceXRanges",R,b),R.split(/\s+/).map(A=>te(A,b)).join(" ")),te=(R,b)=>{R=R.trim();const A=b.loose?m[f.XRANGELOOSE]:m[f.XRANGE];return R.replace(A,(N,l,c,g,y,$)=>{a("xRange",R,N,l,c,g,y,$);const O=E(c),W=O||E(g),V=W||E(y),Q=V;return l==="="&&Q&&(l=""),$=b.includePrerelease?"-0":"",O?l===">"||l==="<"?N="<0.0.0-0":N="*":l&&Q?(W&&(g=0),y=0,l===">"?(l=">=",W?(c=+c+1,g=0,y=0):(g=+g+1,y=0)):l==="<="&&(l="<",W?c=+c+1:g=+g+1),l==="<"&&($="-0"),N=`${l+c}.${g}.${y}${$}`):W?N=`>=${c}.0.0${$} <${+c+1}.0.0-0`:V&&(N=`>=${c}.${g}.0${$} <${c}.${+g+1}.0-0`),a("xRange return",N),N})},D=(R,b)=>(a("replaceStars",R,b),R.trim().replace(m[f.STAR],"")),H=(R,b)=>(a("replaceGTE0",R,b),R.trim().replace(m[b.includePrerelease?f.GTE0PRE:f.GTE0],"")),K=R=>(b,A,N,l,c,g,y,$,O,W,V,Q,he)=>(E(N)?A="":E(l)?A=`>=${N}.0.0${R?"-0":""}`:E(c)?A=`>=${N}.${l}.0${R?"-0":""}`:g?A=`>=${A}`:A=`>=${A}${R?"-0":""}`,E(O)?$="":E(W)?$=`<${+O+1}.0.0-0`:E(V)?$=`<${O}.${+W+1}.0-0`:Q?$=`<=${O}.${W}.${V}-${Q}`:R?$=`<${O}.${W}.${+V+1}-0`:$=`<=${$}`,`${A} ${$}`.trim()),se=(R,b,A)=>{for(let N=0;N<R.length;N++)if(!R[N].test(b))return!1;if(b.prerelease.length&&!A.includePrerelease){for(let N=0;N<R.length;N++)if(a(R[N].semver),R[N].semver!==o.ANY&&R[N].semver.prerelease.length>0){const l=R[N].semver;if(l.major===b.major&&l.minor===b.minor&&l.patch===b.patch)return!0}return!1}return!0};return dt}var gt,ur;function Ye(){if(ur)return gt;ur=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(S,d){if(d=r(d),S instanceof t){if(S.loose===!!d.loose)return S;S=S.value}S=S.trim().split(/\s+/).join(" "),h("comparator",S,d),this.options=d,this.loose=!!d.loose,this.parse(S),this.semver===e?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(S){const d=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],P=S.match(d);if(!P)throw new TypeError(`Invalid comparator: ${S}`);this.operator=P[1]!==void 0?P[1]:"",this.operator==="="&&(this.operator=""),P[2]?this.semver=new m(P[2],this.options.loose):this.semver=e}toString(){return this.value}test(S){if(h("Comparator.test",S,this.options.loose),this.semver===e||S===e)return!0;if(typeof S=="string")try{S=new m(S,this.options)}catch{return!1}return a(S,this.operator,this.semver,this.options)}intersects(S,d){if(!(S instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(S.value,d).test(this.value):S.operator===""?S.value===""?!0:new f(this.value,d).test(S.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||S.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||S.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&S.operator.startsWith(">")||this.operator.startsWith("<")&&S.operator.startsWith("<")||this.semver.version===S.semver.version&&this.operator.includes("=")&&S.operator.includes("=")||a(this.semver,"<",S.semver,d)&&this.operator.startsWith(">")&&S.operator.startsWith("<")||a(this.semver,">",S.semver,d)&&this.operator.startsWith("<")&&S.operator.startsWith(">")))}}gt=t;const r=At,{safeRe:n,t:o}=Le,a=rn,h=xe,m=Y,f=ie();return gt}const Is=ie(),Ts=(e,t,r)=>{try{t=new Is(t,r)}catch{return!1}return t.test(e)};var Ke=Ts;const Ns=ie(),Os=(e,t)=>new Ns(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var As=Os;const Ps=Y,Ls=ie(),Ms=(e,t,r)=>{let n=null,o=null,a=null;try{a=new Ls(t,r)}catch{return null}return e.forEach(h=>{a.test(h)&&(!n||o.compare(h)===-1)&&(n=h,o=new Ps(n,r))}),n};var Cs=Ms;const js=Y,Bs=ie(),Vs=(e,t,r)=>{let n=null,o=null,a=null;try{a=new Bs(t,r)}catch{return null}return e.forEach(h=>{a.test(h)&&(!n||o.compare(h)===1)&&(n=h,o=new js(n,r))}),n};var Ds=Vs;const pt=Y,Js=ie(),fr=ze,Fs=(e,t)=>{e=new Js(e,t);let r=new pt("0.0.0");if(e.test(r)||(r=new pt("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const o=e.set[n];let a=null;o.forEach(h=>{const m=new pt(h.semver.version);switch(h.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!a||fr(m,a))&&(a=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),a&&(!r||fr(r,a))&&(r=a)}return r&&e.test(r)?r:null};var ks=Fs;const Ws=ie(),Us=(e,t)=>{try{return new Ws(e,t).range||"*"}catch{return null}};var Hs=Us;const Gs=Y,nn=Ye(),{ANY:qs}=nn,Xs=ie(),xs=Ke,hr=ze,dr=Lt,zs=Ct,Ys=Mt,Ks=(e,t,r,n)=>{e=new Gs(e,n),t=new Xs(t,n);let o,a,h,m,f;switch(r){case">":o=hr,a=zs,h=dr,m=">",f=">=";break;case"<":o=dr,a=Ys,h=hr,m="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xs(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const S=t.set[u];let d=null,P=null;if(S.forEach(_=>{_.semver===qs&&(_=new nn(">=0.0.0")),d=d||_,P=P||_,o(_.semver,d.semver,n)?d=_:h(_.semver,P.semver,n)&&(P=_)}),d.operator===m||d.operator===f||(!P.operator||P.operator===m)&&a(e,P.semver))return!1;if(P.operator===f&&h(e,P.semver))return!1}return!0};var jt=Ks;const Qs=jt,Zs=(e,t,r)=>Qs(e,t,">",r);var ea=Zs;const ta=jt,ra=(e,t,r)=>ta(e,t,"<",r);var na=ra;const gr=ie(),ia=(e,t,r)=>(e=new gr(e,r),t=new gr(t,r),e.intersects(t,r));var sa=ia;const aa=Ke,oa=ne;var la=(e,t,r)=>{const n=[];let o=null,a=null;const h=e.sort((S,d)=>oa(S,d,r));for(const S of h)aa(S,t,r)?(a=S,o||(o=S)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);const m=[];for(const[S,d]of n)S===d?m.push(S):!d&&S===h[0]?m.push("*"):d?S===h[0]?m.push(`<=${d}`):m.push(`${S} - ${d}`):m.push(`>=${S}`);const f=m.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return f.length<u.length?f:t};const pr=ie(),Bt=Ye(),{ANY:mt}=Bt,$e=Ke,Vt=ne,ca=(e,t,r={})=>{if(e===t)return!0;e=new pr(e,r),t=new pr(t,r);let n=!1;e:for(const o of e.set){for(const a of t.set){const h=fa(o,a,r);if(n=n||h!==null,h)continue e}if(n)return!1}return!0},ua=[new Bt(">=0.0.0-0")],mr=[new Bt(">=0.0.0")],fa=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===mt){if(t.length===1&&t[0].semver===mt)return!0;r.includePrerelease?e=ua:e=mr}if(t.length===1&&t[0].semver===mt){if(r.includePrerelease)return!0;t=mr}const n=new Set;let o,a;for(const _ of e)_.operator===">"||_.operator===">="?o=Er(o,_,r):_.operator==="<"||_.operator==="<="?a=Sr(a,_,r):n.add(_.semver);if(n.size>1)return null;let h;if(o&&a){if(h=Vt(o.semver,a.semver,r),h>0)return null;if(h===0&&(o.operator!==">="||a.operator!=="<="))return null}for(const _ of n){if(o&&!$e(_,String(o),r)||a&&!$e(_,String(a),r))return null;for(const I of t)if(!$e(_,String(I),r))return!1;return!0}let m,f,u,S,d=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,P=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const _ of t){if(S=S||_.operator===">"||_.operator===">=",u=u||_.operator==="<"||_.operator==="<=",o){if(P&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===P.major&&_.semver.minor===P.minor&&_.semver.patch===P.patch&&(P=!1),_.operator===">"||_.operator===">="){if(m=Er(o,_,r),m===_&&m!==o)return!1}else if(o.operator===">="&&!$e(o.semver,String(_),r))return!1}if(a){if(d&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===d.major&&_.semver.minor===d.minor&&_.semver.patch===d.patch&&(d=!1),_.operator==="<"||_.operator==="<="){if(f=Sr(a,_,r),f===_&&f!==a)return!1}else if(a.operator==="<="&&!$e(a.semver,String(_),r))return!1}if(!_.operator&&(a||o)&&h!==0)return!1}return!(o&&u&&!a&&h!==0||a&&S&&!o&&h!==0||P||d)},Er=(e,t,r)=>{if(!e)return t;const n=Vt(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Sr=(e,t,r)=>{if(!e)return t;const n=Vt(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ha=ca;const Et=Le,wr=Xe,da=Y,br=Zr,ga=ve,pa=Ri,ma=Ii,Ea=Ni,Sa=Ai,wa=Mi,ba=Bi,ya=Ji,va=Wi,Ra=ne,_a=qi,$a=zi,Ia=Pt,Ta=Zi,Na=rs,Oa=ze,Aa=Lt,Pa=en,La=tn,Ma=Mt,Ca=Ct,ja=rn,Ba=$s,Va=Ye(),Da=ie(),Ja=Ke,Fa=As,ka=Cs,Wa=Ds,Ua=ks,Ha=Hs,Ga=jt,qa=ea,Xa=na,xa=sa,za=la,Ya=ha;var Ka={parse:ga,valid:pa,clean:ma,inc:Ea,diff:Sa,major:wa,minor:ba,patch:ya,prerelease:va,compare:Ra,rcompare:_a,compareLoose:$a,compareBuild:Ia,sort:Ta,rsort:Na,gt:Oa,lt:Aa,eq:Pa,neq:La,gte:Ma,lte:Ca,cmp:ja,coerce:Ba,Comparator:Va,Range:Da,satisfies:Ja,toComparators:Fa,maxSatisfying:ka,minSatisfying:Wa,minVersion:Ua,validRange:Ha,outside:Ga,gtr:qa,ltr:Xa,intersects:xa,simplifyRange:za,subset:Ya,SemVer:da,re:Et.re,src:Et.src,tokens:Et.t,SEMVER_SPEC_VERSION:wr.SEMVER_SPEC_VERSION,RELEASE_TYPES:wr.RELEASE_TYPES,compareIdentifiers:br.compareIdentifiers,rcompareIdentifiers:br.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Ka,r=ge,n=X;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",d=>(0,t.valid)(d)===null?`Expected SemVer version, got "${d}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",d=>(0,t.validRange)(d)===null?`Expected SemVer range, got "${d}"`:!0);function o(d){return(0,r.is)(d,e.VersionStruct)}e.isValidSemVerVersion=o;function a(d){return(0,r.is)(d,e.VersionRangeStruct)}e.isValidSemVerRange=a;function h(d){(0,n.assertStruct)(d,e.VersionStruct)}e.assertIsSemVerVersion=h;function m(d){(0,n.assertStruct)(d,e.VersionRangeStruct)}e.assertIsSemVerRange=m;function f(d,P){return(0,t.gt)(d,P)}e.gtVersion=f;function u(d,P){return(0,t.gtr)(d,P)}e.gtRange=u;function S(d,P){return(0,t.satisfies)(d,P,{includePrerelease:!0})}e.satisfiesVersionRange=S})(Yr);(function(e){var t=q&&q.__createBinding||(Object.create?function(n,o,a,h){h===void 0&&(h=a);var m=Object.getOwnPropertyDescriptor(o,a);(!m||("get"in m?!o.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,h,m)}:function(n,o,a,h){h===void 0&&(h=a),n[h]=o[a]}),r=q&&q.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(X,e),r(Ae,e),r(B,e),r(Ge,e),r(le,e),r(we,e),r(Pe,e),r(Xr,e),r(be,e),r(Ot,e),r(ce,e),r(xr,e),r(zr,e),r(Yr,e)})(Br);Object.defineProperty(fe,"__esModule",{value:!0});fe.isValidStreamMessage=fe.DEDICATED_WORKER_NAME=void 0;const Qa=Br;fe.DEDICATED_WORKER_NAME="dedicatedWorker";function Za(e){return(0,Qa.isObject)(e)&&!!e.data&&(typeof e.data=="number"||typeof e.data=="object"||typeof e.data=="string")}fe.isValidStreamMessage=Za;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.WindowPostMessageStream=void 0;const eo=de,to=fe;class ro extends eo.BasePostMessageStream{constructor({name:t,target:r,targetOrigin:n=location.origin,targetWindow:o=window}){if(super(),typeof window>"u"||typeof window.postMessage!="function")throw new Error("window.postMessage is not a function. This class should only be instantiated in a Window.");this._name=t,this._target=r,this._targetOrigin=n,this._targetWindow=o,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(t){this._targetWindow.postMessage({target:this._target,data:t},this._targetOrigin)}_onMessage(t){const r=t.data;this._targetOrigin!=="*"&&t.origin!==this._targetOrigin||t.source!==this._targetWindow||!(0,to.isValidStreamMessage)(r)||r.target!==this._name||this._onData(r.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}Fe.WindowPostMessageStream=ro;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.WebWorkerPostMessageStream=void 0;const no=de,yr=fe;class io extends no.BasePostMessageStream{constructor(){if(typeof self>"u"||typeof WorkerGlobalScope>"u"||!(self instanceof WorkerGlobalScope))throw new Error("WorkerGlobalScope not found. This class should only be instantiated in a WebWorker.");super(),this._name=yr.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(t){self.postMessage({data:t})}_onMessage(t){const r=t.data;!(0,yr.isValidStreamMessage)(r)||r.target!==this._name||this._onData(r.data)}_destroy(){}}Qe.WebWorkerPostMessageStream=io;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.WebWorkerParentPostMessageStream=void 0;const so=de,vr=fe;class ao extends so.BasePostMessageStream{constructor({worker:t}){super(),this._target=vr.DEDICATED_WORKER_NAME,this._worker=t,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(t){this._worker.postMessage({target:this._target,data:t})}_onMessage(t){const r=t.data;(0,vr.isValidStreamMessage)(r)&&this._onData(r.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}Ze.WebWorkerParentPostMessageStream=ao;var et={},Rr=q&&q.__classPrivateFieldSet||function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},_r=q&&q.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},De,Je;Object.defineProperty(et,"__esModule",{value:!0});et.BrowserRuntimePostMessageStream=void 0;const oo=de,lo=fe;class co extends oo.BasePostMessageStream{constructor({name:t,target:r}){super(),De.set(this,void 0),Je.set(this,void 0),Rr(this,De,t,"f"),Rr(this,Je,r,"f"),this._onMessage=this._onMessage.bind(this),this._getRuntime().onMessage.addListener(this._onMessage),this._handshake()}_postMessage(t){this._getRuntime().sendMessage({target:_r(this,Je,"f"),data:t})}_onMessage(t){!(0,lo.isValidStreamMessage)(t)||t.target!==_r(this,De,"f")||this._onData(t.data)}_getRuntime(){var t,r;if("chrome"in globalThis&&typeof((t=chrome==null?void 0:chrome.runtime)===null||t===void 0?void 0:t.sendMessage)=="function")return chrome.runtime;if("browser"in globalThis&&typeof((r=browser==null?void 0:browser.runtime)===null||r===void 0?void 0:r.sendMessage)=="function")return browser.runtime;throw new Error("browser.runtime.sendMessage is not a function. This class should only be instantiated in a web extension.")}_destroy(){this._getRuntime().onMessage.removeListener(this._onMessage)}}et.BrowserRuntimePostMessageStream=co;De=new WeakMap,Je=new WeakMap;(function(e){var t=q&&q.__createBinding||(Object.create?function(n,o,a,h){h===void 0&&(h=a),Object.defineProperty(n,h,{enumerable:!0,get:function(){return o[a]}})}:function(n,o,a,h){h===void 0&&(h=a),n[h]=o[a]}),r=q&&q.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fe,e),r(Qe,e),r(Ze,e),r(et,e),r(de,e)})(Tr);const sn={name:"pontem-content"},uo={name:"pontem-external:content",target:"pontem-external:inpage"};function fo(e){(()=>Eo()&&mo()&&So()&&wo())()&&(e(),po())}function ho(){return!!window.chrome}async function go(){return new Promise(e=>{ho&&document.prerendering?document.addEventListener("prerenderingchange",e):e()})}async function po(){await go(),bo(),await yo()}function mo(){const{doctype:e}=window.document;return e?e.name==="html":!0}function Eo(){return!window.location.origin.includes("google.com")}function So(){const e=[/\.xml$/,/\.pdf$/],t=window.location.pathname;for(let r=0;r<e.length;r+=1)if(e[r].test(t))return!1;return!0}function wo(){const e=document.documentElement.nodeName;return e?e.toLowerCase()==="html":!0}function bo(){const e=new Tr.WindowPostMessageStream(uo),t=_t.runtime.connect(sn),r=new Ir(t);r.on("close",()=>an(e,r)),r.pipe(e),e.pipe(r)}function an(e,t){t.unpipe(e),t.destroy(),e.cork(),e.unpipe(t),setTimeout(()=>{try{const r=_t.runtime.connect(sn),n=new Ir(r);n.on("close",()=>an(e,n)),n.pipe(e),e.pipe(n),e.uncork()}catch{}},1e3)}function yo(){return["interactive","complete"].includes(document.readyState)?Promise.resolve():new Promise(e=>window.addEventListener("DOMContentLoaded",e,{once:!0}))}function vo(){try{const e=document.head||document.documentElement,t=document.createElement("script");t.setAttribute("src",_t.runtime.getURL("assets/inpage.js")),t.setAttribute("async","false"),t.defer=!0,e.insertBefore(t,e.children[0]),e.removeChild(t)}catch(e){console.error("Pontem inject error",e)}}fo(vo);
